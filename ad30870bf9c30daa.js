;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="46ecc8c8-948c-f90c-c0e8-4c7a95717729")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,667587,e=>{"use strict";var t=e.i(639372),r=e.i(265172),i=e.i(741124),n=e.i(758219),a=e.i(253646);let o=(0,t.atom)(""),s=(0,r.atomWithStorage)("portfolioSelectedList-sol",[],(0,n.safeSSRNoSyncStorage)(),{getOnInit:!0}),u=(0,r.atomWithStorage)("portfolioSelectedList-bnb",[],(0,n.safeSSRNoSyncStorage)(),{getOnInit:!0}),l=(0,t.atom)(e=>{let t=e(i.currentChainAtom);return e("sol"===t?s:u)},(e,t,r)=>{let n=e(i.currentChainAtom),a=e("sol"===n?s:u);t("sol"===n?s:u,"function"==typeof r?r(a):r)}),c=(0,t.atom)(e=>new Set(e(l))),d=(0,t.atom)(e=>{let t=e(o);return t&&((0,a.isValidSolanaAddress)(t)||(0,a.isValidEvmAddress)(t))?(0,a.isValidSolanaAddress)(t)?"sol":"bnb":e(i.currentChainAtom)});e.s(["portfolioChainAtom",0,d,"portfolioSearchAddressAtom",0,o,"portfolioSelectedListAsSetAtom",0,c,"portfolioSelectedListAtom",0,l,"portfolioSelectedListBnbAtom",0,u,"portfolioSelectedListSolAtom",0,s])},320502,(e,t,r)=>{var i="u">typeof globalThis&&globalThis||"u">typeof self&&self||e.g,n=function(){function e(){this.fetch=!1,this.DOMException=i.DOMException}return e.prototype=i,new e}();(function(t){var r=void 0!==n&&n||"u">typeof self&&self||e.g||{},i={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};if(i.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function c(e){this.map={},e instanceof c?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function d(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}}function f(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function p(e){var t=new FileReader,r=f(t);return t.readAsArrayBuffer(e),r}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){if(this.bodyUsed=this.bodyUsed,this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(i.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var t;i.arrayBuffer&&i.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=h(e):this._bodyText=e=Object.prototype.toString.call(e)}else this._noBody=!0,this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=d(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(i.blob)return this.blob().then(p);throw Error("could not read as ArrayBuffer")},this.text=function(){var e,t,r,i,n,a=d(this);if(a)return a;if(this._bodyBlob)return e=this._bodyBlob,r=f(t=new FileReader),n=(i=/charset=([A-Za-z0-9_-]+)/.exec(e.type))?i[1]:"utf-8",t.readAsText(e,n),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),i=0;i<t.length;i++)r[i]=String.fromCharCode(t[i]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},i.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(e,t){e=s(e),t=u(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},c.prototype.delete=function(e){delete this.map[s(e)]},c.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},c.prototype.set=function(e,t){this.map[s(e)]=u(t)},c.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},c.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),l(e)},c.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),l(e)},c.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),l(e)},i.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var b=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function g(e,t){if(!(this instanceof g))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var i,n,a=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,a||null==e._bodyInit||(a=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new c(t.headers)),this.method=(n=(i=t.method||this.method||"GET").toUpperCase(),b.indexOf(n)>-1?n:i),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return new AbortController().signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&a)throw TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(a),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function y(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),i=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(n))}}),t}function x(e,t){if(!(this instanceof x))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},m.call(g.prototype),m.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},x.error=function(){var e=new x(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var A=[301,302,303,307,308];x.redirect=function(e,t){if(-1===A.indexOf(t))throw RangeError("Invalid status code");return new x(null,{status:t,headers:{location:e}})},t.DOMException=r.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function w(e,n){return new Promise(function(a,o){var l=new g(e,n);if(l.signal&&l.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var d=new XMLHttpRequest;function f(){d.abort()}if(d.onload=function(){var e,t,r={statusText:d.statusText,headers:(e=d.getAllResponseHeaders()||"",t=new c,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),i=r.shift().trim();if(i){var n=r.join(":").trim();try{t.append(i,n)}catch(e){console.warn("Response "+e.message)}}}),t)};0===l.url.indexOf("file://")&&(d.status<200||d.status>599)?r.status=200:r.status=d.status,r.url="responseURL"in d?d.responseURL:r.headers.get("X-Request-URL");var i="response"in d?d.response:d.responseText;setTimeout(function(){a(new x(i,r))},0)},d.onerror=function(){setTimeout(function(){o(TypeError("Network request failed"))},0)},d.ontimeout=function(){setTimeout(function(){o(TypeError("Network request timed out"))},0)},d.onabort=function(){setTimeout(function(){o(new t.DOMException("Aborted","AbortError"))},0)},d.open(l.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(l.url),!0),"include"===l.credentials?d.withCredentials=!0:"omit"===l.credentials&&(d.withCredentials=!1),"responseType"in d&&(i.blob?d.responseType="blob":i.arrayBuffer&&(d.responseType="arraybuffer")),n&&"object"==typeof n.headers&&!(n.headers instanceof c||r.Headers&&n.headers instanceof r.Headers)){var p=[];Object.getOwnPropertyNames(n.headers).forEach(function(e){p.push(s(e)),d.setRequestHeader(e,u(n.headers[e]))}),l.headers.forEach(function(e,t){-1===p.indexOf(t)&&d.setRequestHeader(t,e)})}else l.headers.forEach(function(e,t){d.setRequestHeader(t,e)});l.signal&&(l.signal.addEventListener("abort",f),d.onreadystatechange=function(){4===d.readyState&&l.signal.removeEventListener("abort",f)}),d.send(void 0===l._bodyInit?null:l._bodyInit)})}w.polyfill=!0,r.fetch||(r.fetch=w,r.Headers=c,r.Request=g,r.Response=x),t.Headers=c,t.Request=g,t.Response=x,t.fetch=w,Object.defineProperty(t,"__esModule",{value:!0})})({}),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var a=i.fetch?i:n;(r=a.fetch).default=a.fetch,r.fetch=a.fetch,r.Headers=a.Headers,r.Request=a.Request,r.Response=a.Response,t.exports=r},95187,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={callServer:function(){return a.callServer},createServerReference:function(){return s.createServerReference},findSourceMapURL:function(){return o.findSourceMapURL}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let a=e.r(132120),o=e.r(92245),s=e.r(235326)},258291,285942,850430,29036,94007,874107,e=>{"use strict";var t,r,i=e.i(247167),n=e.i(867325);e.i(981902);let a="u">typeof window&&void 0!==window.document&&"u">typeof crypto&&void 0!==crypto.subtle,o=void 0!==i.default&&null!=i.default.versions&&null!=i.default.versions.node,s=async t=>a?(await e.A(664017).then(e=>e.signWithApiKey))(t):o?(await e.A(830932).then(e=>e.signWithApiKey))(t):(await e.A(311485).then(e=>e.signWithApiKey))(t);class u{constructor(e){this.apiPublicKey=e.apiPublicKey,this.apiPrivateKey=e.apiPrivateKey}async stamp(e){let t=await s({publicKey:this.apiPublicKey,privateKey:this.apiPrivateKey,content:e}),r={publicKey:this.apiPublicKey,scheme:"SIGNATURE_SCHEME_TK_API_P256",signature:t};return{stampHeaderName:"X-Stamp",stampHeaderValue:(0,n.stringToBase64urlString)(JSON.stringify(r))}}}var l=e.i(320502);let c=l.fetch;function d(){return{apiPublicKey:f(null,"apiPublicKey"),apiPrivateKey:f(null,"apiPrivateKey"),baseUrl:f(null,"baseUrl")}}function f(e,t){if("string"!=typeof e||!e)throw Error(`"${t}" must be a non-empty string`);return e}var p=e.i(467034);function h(e){let t=new Uint8Array(e),r="";for(let e of t)r+=String.fromCharCode(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}let m="copy",b="convert";function g(e,t){return{required:!0,schema:e,derive:t}}function y(e){return{required:!0,schema:e}}function x(e){return{required:!1,schema:e}}let A={appid:x(m),appidExclude:x(m),credProps:x(m)};y(m),y(m),y(b),x(m),y({clientDataJSON:y(b),attestationObject:y(b),transports:g(m,e=>e.getTransports?.()||[])}),g(A,e=>e.getClientExtensionResults());let w={type:y(m),id:y(m),rawId:y(b),authenticatorAttachment:x(m),response:y({clientDataJSON:y(b),authenticatorData:y(b),signature:y(b),userHandle:y(b)}),clientExtensionResults:g(A,e=>e.getClientExtensionResults())};async function v(e){let t=await navigator.credentials.get(e);return t.toJSON=()=>(function e(t,r,i){if(r===m)return i;if(r===b)return t(i);if(r instanceof Array)return i.map(i=>e(t,r[0],i));if(r instanceof Object){let n={};for(let[a,o]of Object.entries(r)){if(o.derive){let e=o.derive(i);void 0!==e&&(i[a]=e)}if(!(a in i)){if(o.required)throw Error(`Missing key: ${a}`);continue}if(null==i[a]){n[a]=null;continue}n[a]=e(t,o.schema,i[a])}return n}})(h,w,t),t}let S={publicKey:{timeout:3e5,userVerification:"preferred"}};async function T(e,t=S){let r=await E(e);return{...t,publicKey:{...S.publicKey,...t.publicKey,challenge:r}}}async function E(e){let t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t),i=p.Buffer.from(r).toString("hex");return new Uint8Array(p.Buffer.from(i,"utf8"))}async function k(e,t){if(!window.PublicKeyCredential)throw Error("webauthn is not supported by this browser");let r=await T(e,t),i=(await v(r)).toJSON();return JSON.stringify({authenticatorData:i.response.authenticatorData,clientDataJson:i.response.clientDataJSON,credentialId:i.id,signature:i.response.signature})}let P={},_={redirect:"follow"};async function I(e){let{uri:t,query:r={},substitution:i={},body:n={}}=e,a=R({uri:t,query:r,substitution:i}),o=JSON.stringify(n),s=await k(o,e.options);return{url:a.toString(),body:o,stamp:s}}async function N(e){let{uri:t,method:r,headers:i={},query:n={},substitution:a={},body:o={}}=e,s=R({uri:t,query:n,substitution:a}),{sealedBody:u,xStamp:l}=await O({body:o}),d=await c(s.toString(),{..._,method:r,headers:{...P,...i,"X-Stamp":l},body:u});if(!d.ok){let e;try{e=await d.json()}catch(e){throw Error(`${d.status} ${d.statusText}`)}throw new D(e)}return await d.json()}function R(e){let{uri:t,query:r,substitution:i}=e,n=function(){try{let{baseUrl:e}=d();return e}catch(t){let{baseUrl:e}={baseUrl:f(null,"baseUrl")};return e}}(),a=new URL(function(e,t){let r=e;for(let i of Object.keys(t)){let n=r.replaceAll(`{${i}}`,t[i]);B(n!==r,`Substitution error: cannot find "${i}" in URI "${e}". \`substitutionMap\`: ${JSON.stringify(t)}`),r=n}return B(!/\{.*\}/.test(r),`Substitution error: found unsubstituted components in "${r}"`),r}(t,i),n);for(let e in r){let t=r[e];if(Array.isArray(t))for(let r of t)a.searchParams.append(e,r);else a.searchParams.append(e,t??"")}return a}function B(e,t){if(!e)throw Error(t)}function C(e){return JSON.stringify(e)}async function O(e){let{body:t}=e,{apiPublicKey:r,apiPrivateKey:i}=e;r||(r=d().apiPublicKey),i||(i=d().apiPrivateKey);let n=C(t),a=await s({content:n,privateKey:i,publicKey:r});return{sealedBody:n,xStamp:(function(e){let t;if(0==arguments.length)throw TypeError("1 argument required, but only 0 present.");for(t=0,e=`${e}`;t<e.length;t++)if(e.charCodeAt(t)>255)throw Error(`InvalidCharacterError: found code point greater than 255:${e.charCodeAt(t)} at position ${t}`);let r="";for(t=0;t<e.length;t+=3){let i=[void 0,void 0,void 0,void 0];i[0]=e.charCodeAt(t)>>2,i[1]=(3&e.charCodeAt(t))<<4,e.length>t+1&&(i[1]|=e.charCodeAt(t+1)>>4,i[2]=(15&e.charCodeAt(t+1))<<2),e.length>t+2&&(i[2]|=e.charCodeAt(t+2)>>6,i[3]=63&e.charCodeAt(t+2));for(let e=0;e<i.length;e++)void 0===i[e]?r+="=":r+=function(e){if(e>=0&&e<64)return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e]}(i[e])}return r})(C({publicKey:r,scheme:"SIGNATURE_SCHEME_TK_API_P256",signature:a})).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}}class D extends Error{constructor(e){let t=`Turnkey error ${e.code}: ${e.message}`;null!=e.details&&(t+=` (Details: ${JSON.stringify(e.details)})`),super(t),this.name="TurnkeyRequestError",this.details=e.details??null,this.code=e.code}}e.s(["TurnkeyRequestError",()=>D,"request",()=>N,"signedRequest",()=>I],285942);let M=e=>N({uri:"/public/v1/query/get_activity",method:"POST",body:e.body}),U=(e,t)=>I({uri:"/public/v1/query/get_activity",body:e.body,options:t}),F=e=>N({uri:"/public/v1/query/get_api_key",method:"POST",body:e.body}),L=(e,t)=>I({uri:"/public/v1/query/get_api_key",body:e.body,options:t}),q=e=>N({uri:"/public/v1/query/get_api_keys",method:"POST",body:e.body}),K=(e,t)=>I({uri:"/public/v1/query/get_api_keys",body:e.body,options:t}),W=e=>N({uri:"/public/v1/query/get_attestation",method:"POST",body:e.body}),V=(e,t)=>I({uri:"/public/v1/query/get_attestation",body:e.body,options:t}),G=e=>N({uri:"/public/v1/query/get_authenticator",method:"POST",body:e.body}),z=(e,t)=>I({uri:"/public/v1/query/get_authenticator",body:e.body,options:t}),j=e=>N({uri:"/public/v1/query/get_authenticators",method:"POST",body:e.body}),H=(e,t)=>I({uri:"/public/v1/query/get_authenticators",body:e.body,options:t}),X=e=>N({uri:"/public/v1/query/get_oauth_providers",method:"POST",body:e.body}),Q=(e,t)=>I({uri:"/public/v1/query/get_oauth_providers",body:e.body,options:t}),J=e=>N({uri:"/public/v1/query/get_organization",method:"POST",body:e.body}),Y=(e,t)=>I({uri:"/public/v1/query/get_organization",body:e.body,options:t}),Z=e=>N({uri:"/public/v1/query/get_organization_configs",method:"POST",body:e.body}),$=(e,t)=>I({uri:"/public/v1/query/get_organization_configs",body:e.body,options:t}),ee=e=>N({uri:"/public/v1/query/get_policy",method:"POST",body:e.body}),et=(e,t)=>I({uri:"/public/v1/query/get_policy",body:e.body,options:t}),er=e=>N({uri:"/public/v1/query/get_private_key",method:"POST",body:e.body}),ei=(e,t)=>I({uri:"/public/v1/query/get_private_key",body:e.body,options:t}),en=e=>N({uri:"/public/v1/query/get_user",method:"POST",body:e.body}),ea=(e,t)=>I({uri:"/public/v1/query/get_user",body:e.body,options:t}),eo=e=>N({uri:"/public/v1/query/get_wallet",method:"POST",body:e.body}),es=(e,t)=>I({uri:"/public/v1/query/get_wallet",body:e.body,options:t}),eu=e=>N({uri:"/public/v1/query/list_activities",method:"POST",body:e.body}),el=(e,t)=>I({uri:"/public/v1/query/list_activities",body:e.body,options:t}),ec=e=>N({uri:"/public/v1/query/list_policies",method:"POST",body:e.body}),ed=(e,t)=>I({uri:"/public/v1/query/list_policies",body:e.body,options:t}),ef=e=>N({uri:"/public/v1/query/list_private_key_tags",method:"POST",body:e.body}),ep=(e,t)=>I({uri:"/public/v1/query/list_private_key_tags",body:e.body,options:t}),eh=e=>N({uri:"/public/v1/query/list_private_keys",method:"POST",body:e.body}),em=(e,t)=>I({uri:"/public/v1/query/list_private_keys",body:e.body,options:t}),eb=e=>N({uri:"/public/v1/query/list_suborgs",method:"POST",body:e.body}),eg=(e,t)=>I({uri:"/public/v1/query/list_suborgs",body:e.body,options:t}),ey=e=>N({uri:"/public/v1/query/list_user_tags",method:"POST",body:e.body}),ex=(e,t)=>I({uri:"/public/v1/query/list_user_tags",body:e.body,options:t}),eA=e=>N({uri:"/public/v1/query/list_users",method:"POST",body:e.body}),ew=(e,t)=>I({uri:"/public/v1/query/list_users",body:e.body,options:t}),ev=e=>N({uri:"/public/v1/query/list_verified_suborgs",method:"POST",body:e.body}),eS=(e,t)=>I({uri:"/public/v1/query/list_verified_suborgs",body:e.body,options:t}),eT=e=>N({uri:"/public/v1/query/list_wallet_accounts",method:"POST",body:e.body}),eE=(e,t)=>I({uri:"/public/v1/query/list_wallet_accounts",body:e.body,options:t}),ek=e=>N({uri:"/public/v1/query/list_wallets",method:"POST",body:e.body}),eP=(e,t)=>I({uri:"/public/v1/query/list_wallets",body:e.body,options:t}),e_=e=>N({uri:"/public/v1/query/whoami",method:"POST",body:e.body}),eI=(e,t)=>I({uri:"/public/v1/query/whoami",body:e.body,options:t}),eN=e=>N({uri:"/public/v1/submit/approve_activity",method:"POST",body:e.body}),eR=(e,t)=>I({uri:"/public/v1/submit/approve_activity",body:e.body,options:t}),eB=e=>N({uri:"/public/v1/submit/create_api_keys",method:"POST",body:e.body}),eC=(e,t)=>I({uri:"/public/v1/submit/create_api_keys",body:e.body,options:t}),eO=e=>N({uri:"/public/v1/submit/create_api_only_users",method:"POST",body:e.body}),eD=(e,t)=>I({uri:"/public/v1/submit/create_api_only_users",body:e.body,options:t}),eM=e=>N({uri:"/public/v1/submit/create_authenticators",method:"POST",body:e.body}),eU=(e,t)=>I({uri:"/public/v1/submit/create_authenticators",body:e.body,options:t}),eF=e=>N({uri:"/public/v1/submit/create_invitations",method:"POST",body:e.body}),eL=(e,t)=>I({uri:"/public/v1/submit/create_invitations",body:e.body,options:t}),eq=e=>N({uri:"/public/v1/submit/create_oauth_providers",method:"POST",body:e.body}),eK=(e,t)=>I({uri:"/public/v1/submit/create_oauth_providers",body:e.body,options:t}),eW=e=>N({uri:"/public/v1/submit/create_policies",method:"POST",body:e.body}),eV=(e,t)=>I({uri:"/public/v1/submit/create_policies",body:e.body,options:t}),eG=e=>N({uri:"/public/v1/submit/create_policy",method:"POST",body:e.body}),ez=(e,t)=>I({uri:"/public/v1/submit/create_policy",body:e.body,options:t}),ej=e=>N({uri:"/public/v1/submit/create_private_key_tag",method:"POST",body:e.body}),eH=(e,t)=>I({uri:"/public/v1/submit/create_private_key_tag",body:e.body,options:t}),eX=e=>N({uri:"/public/v1/submit/create_private_keys",method:"POST",body:e.body}),eQ=(e,t)=>I({uri:"/public/v1/submit/create_private_keys",body:e.body,options:t}),eJ=e=>N({uri:"/public/v1/submit/create_read_only_session",method:"POST",body:e.body}),eY=(e,t)=>I({uri:"/public/v1/submit/create_read_only_session",body:e.body,options:t}),eZ=e=>N({uri:"/public/v1/submit/create_read_write_session",method:"POST",body:e.body}),e$=(e,t)=>I({uri:"/public/v1/submit/create_read_write_session",body:e.body,options:t}),e0=e=>N({uri:"/public/v1/submit/create_sub_organization",method:"POST",body:e.body}),e1=(e,t)=>I({uri:"/public/v1/submit/create_sub_organization",body:e.body,options:t}),e2=e=>N({uri:"/public/v1/submit/create_user_tag",method:"POST",body:e.body}),e5=(e,t)=>I({uri:"/public/v1/submit/create_user_tag",body:e.body,options:t}),e6=e=>N({uri:"/public/v1/submit/create_users",method:"POST",body:e.body}),e3=(e,t)=>I({uri:"/public/v1/submit/create_users",body:e.body,options:t}),e4=e=>N({uri:"/public/v1/submit/create_wallet",method:"POST",body:e.body}),e8=(e,t)=>I({uri:"/public/v1/submit/create_wallet",body:e.body,options:t}),e7=e=>N({uri:"/public/v1/submit/create_wallet_accounts",method:"POST",body:e.body}),e9=(e,t)=>I({uri:"/public/v1/submit/create_wallet_accounts",body:e.body,options:t}),te=e=>N({uri:"/public/v1/submit/delete_api_keys",method:"POST",body:e.body}),tt=(e,t)=>I({uri:"/public/v1/submit/delete_api_keys",body:e.body,options:t}),tr=e=>N({uri:"/public/v1/submit/delete_authenticators",method:"POST",body:e.body}),ti=(e,t)=>I({uri:"/public/v1/submit/delete_authenticators",body:e.body,options:t}),tn=e=>N({uri:"/public/v1/submit/delete_invitation",method:"POST",body:e.body}),ta=(e,t)=>I({uri:"/public/v1/submit/delete_invitation",body:e.body,options:t}),to=e=>N({uri:"/public/v1/submit/delete_oauth_providers",method:"POST",body:e.body}),ts=(e,t)=>I({uri:"/public/v1/submit/delete_oauth_providers",body:e.body,options:t}),tu=e=>N({uri:"/public/v1/submit/delete_policy",method:"POST",body:e.body}),tl=(e,t)=>I({uri:"/public/v1/submit/delete_policy",body:e.body,options:t}),tc=e=>N({uri:"/public/v1/submit/delete_private_key_tags",method:"POST",body:e.body}),td=(e,t)=>I({uri:"/public/v1/submit/delete_private_key_tags",body:e.body,options:t}),tf=e=>N({uri:"/public/v1/submit/delete_private_keys",method:"POST",body:e.body}),tp=(e,t)=>I({uri:"/public/v1/submit/delete_private_keys",body:e.body,options:t}),th=e=>N({uri:"/public/v1/submit/delete_sub_organization",method:"POST",body:e.body}),tm=(e,t)=>I({uri:"/public/v1/submit/delete_sub_organization",body:e.body,options:t}),tb=e=>N({uri:"/public/v1/submit/delete_user_tags",method:"POST",body:e.body}),tg=(e,t)=>I({uri:"/public/v1/submit/delete_user_tags",body:e.body,options:t}),ty=e=>N({uri:"/public/v1/submit/delete_users",method:"POST",body:e.body}),tx=(e,t)=>I({uri:"/public/v1/submit/delete_users",body:e.body,options:t}),tA=e=>N({uri:"/public/v1/submit/delete_wallets",method:"POST",body:e.body}),tw=(e,t)=>I({uri:"/public/v1/submit/delete_wallets",body:e.body,options:t}),tv=e=>N({uri:"/public/v1/submit/email_auth",method:"POST",body:e.body}),tS=(e,t)=>I({uri:"/public/v1/submit/email_auth",body:e.body,options:t}),tT=e=>N({uri:"/public/v1/submit/export_private_key",method:"POST",body:e.body}),tE=(e,t)=>I({uri:"/public/v1/submit/export_private_key",body:e.body,options:t}),tk=e=>N({uri:"/public/v1/submit/export_wallet",method:"POST",body:e.body}),tP=(e,t)=>I({uri:"/public/v1/submit/export_wallet",body:e.body,options:t}),t_=e=>N({uri:"/public/v1/submit/export_wallet_account",method:"POST",body:e.body}),tI=(e,t)=>I({uri:"/public/v1/submit/export_wallet_account",body:e.body,options:t}),tN=e=>N({uri:"/public/v1/submit/import_private_key",method:"POST",body:e.body}),tR=(e,t)=>I({uri:"/public/v1/submit/import_private_key",body:e.body,options:t}),tB=e=>N({uri:"/public/v1/submit/import_wallet",method:"POST",body:e.body}),tC=(e,t)=>I({uri:"/public/v1/submit/import_wallet",body:e.body,options:t}),tO=e=>N({uri:"/public/v1/submit/init_import_private_key",method:"POST",body:e.body}),tD=(e,t)=>I({uri:"/public/v1/submit/init_import_private_key",body:e.body,options:t}),tM=e=>N({uri:"/public/v1/submit/init_import_wallet",method:"POST",body:e.body}),tU=(e,t)=>I({uri:"/public/v1/submit/init_import_wallet",body:e.body,options:t}),tF=e=>N({uri:"/public/v1/submit/init_otp_auth",method:"POST",body:e.body}),tL=(e,t)=>I({uri:"/public/v1/submit/init_otp_auth",body:e.body,options:t}),tq=e=>N({uri:"/public/v1/submit/init_user_email_recovery",method:"POST",body:e.body}),tK=(e,t)=>I({uri:"/public/v1/submit/init_user_email_recovery",body:e.body,options:t}),tW=e=>N({uri:"/public/v1/submit/oauth",method:"POST",body:e.body}),tV=(e,t)=>I({uri:"/public/v1/submit/oauth",body:e.body,options:t}),tG=e=>N({uri:"/public/v1/submit/otp_auth",method:"POST",body:e.body}),tz=(e,t)=>I({uri:"/public/v1/submit/otp_auth",body:e.body,options:t}),tj=e=>N({uri:"/public/v1/submit/recover_user",method:"POST",body:e.body}),tH=(e,t)=>I({uri:"/public/v1/submit/recover_user",body:e.body,options:t}),tX=e=>N({uri:"/public/v1/submit/reject_activity",method:"POST",body:e.body}),tQ=(e,t)=>I({uri:"/public/v1/submit/reject_activity",body:e.body,options:t}),tJ=e=>N({uri:"/public/v1/submit/remove_organization_feature",method:"POST",body:e.body}),tY=(e,t)=>I({uri:"/public/v1/submit/remove_organization_feature",body:e.body,options:t}),tZ=e=>N({uri:"/public/v1/submit/set_organization_feature",method:"POST",body:e.body}),t$=(e,t)=>I({uri:"/public/v1/submit/set_organization_feature",body:e.body,options:t}),t0=e=>N({uri:"/public/v1/submit/sign_raw_payload",method:"POST",body:e.body}),t1=(e,t)=>I({uri:"/public/v1/submit/sign_raw_payload",body:e.body,options:t}),t2=e=>N({uri:"/public/v1/submit/sign_raw_payloads",method:"POST",body:e.body}),t5=(e,t)=>I({uri:"/public/v1/submit/sign_raw_payloads",body:e.body,options:t}),t6=e=>N({uri:"/public/v1/submit/sign_transaction",method:"POST",body:e.body}),t3=(e,t)=>I({uri:"/public/v1/submit/sign_transaction",body:e.body,options:t}),t4=e=>N({uri:"/public/v1/submit/update_policy",method:"POST",body:e.body}),t8=(e,t)=>I({uri:"/public/v1/submit/update_policy",body:e.body,options:t}),t7=e=>N({uri:"/public/v1/submit/update_private_key_tag",method:"POST",body:e.body}),t9=(e,t)=>I({uri:"/public/v1/submit/update_private_key_tag",body:e.body,options:t}),re=e=>N({uri:"/public/v1/submit/update_root_quorum",method:"POST",body:e.body}),rt=(e,t)=>I({uri:"/public/v1/submit/update_root_quorum",body:e.body,options:t}),rr=e=>N({uri:"/public/v1/submit/update_user",method:"POST",body:e.body}),ri=(e,t)=>I({uri:"/public/v1/submit/update_user",body:e.body,options:t}),rn=e=>N({uri:"/public/v1/submit/update_user_tag",method:"POST",body:e.body}),ra=(e,t)=>I({uri:"/public/v1/submit/update_user_tag",body:e.body,options:t}),ro=()=>N({uri:"/tkhq/api/v1/noop-codegen-anchor",method:"POST"}),rs=()=>I({uri:"/tkhq/api/v1/noop-codegen-anchor"});e.s(["approveActivity",()=>eN,"createApiKeys",()=>eB,"createApiOnlyUsers",()=>eO,"createAuthenticators",()=>eM,"createInvitations",()=>eF,"createOauthProviders",()=>eq,"createPolicies",()=>eW,"createPolicy",()=>eG,"createPrivateKeyTag",()=>ej,"createPrivateKeys",()=>eX,"createReadOnlySession",()=>eJ,"createReadWriteSession",()=>eZ,"createSubOrganization",()=>e0,"createUserTag",()=>e2,"createUsers",()=>e6,"createWallet",()=>e4,"createWalletAccounts",()=>e7,"deleteApiKeys",()=>te,"deleteAuthenticators",()=>tr,"deleteInvitation",()=>tn,"deleteOauthProviders",()=>to,"deletePolicy",()=>tu,"deletePrivateKeyTags",()=>tc,"deletePrivateKeys",()=>tf,"deleteSubOrganization",()=>th,"deleteUserTags",()=>tb,"deleteUsers",()=>ty,"deleteWallets",()=>tA,"emailAuth",()=>tv,"exportPrivateKey",()=>tT,"exportWallet",()=>tk,"exportWalletAccount",()=>t_,"getActivities",()=>eu,"getActivity",()=>M,"getApiKey",()=>F,"getApiKeys",()=>q,"getAttestationDocument",()=>W,"getAuthenticator",()=>G,"getAuthenticators",()=>j,"getOauthProviders",()=>X,"getOrganization",()=>J,"getOrganizationConfigs",()=>Z,"getPolicies",()=>ec,"getPolicy",()=>ee,"getPrivateKey",()=>er,"getPrivateKeys",()=>eh,"getSubOrgIds",()=>eb,"getUser",()=>en,"getUsers",()=>eA,"getVerifiedSubOrgIds",()=>ev,"getWallet",()=>eo,"getWalletAccounts",()=>eT,"getWallets",()=>ek,"getWhoami",()=>e_,"importPrivateKey",()=>tN,"importWallet",()=>tB,"initImportPrivateKey",()=>tO,"initImportWallet",()=>tM,"initOtpAuth",()=>tF,"initUserEmailRecovery",()=>tq,"listPrivateKeyTags",()=>ef,"listUserTags",()=>ey,"nOOPCodegenAnchor",()=>ro,"oauth",()=>tW,"otpAuth",()=>tG,"recoverUser",()=>tj,"rejectActivity",()=>tX,"removeOrganizationFeature",()=>tJ,"setOrganizationFeature",()=>tZ,"signApproveActivity",()=>eR,"signCreateApiKeys",()=>eC,"signCreateApiOnlyUsers",()=>eD,"signCreateAuthenticators",()=>eU,"signCreateInvitations",()=>eL,"signCreateOauthProviders",()=>eK,"signCreatePolicies",()=>eV,"signCreatePolicy",()=>ez,"signCreatePrivateKeyTag",()=>eH,"signCreatePrivateKeys",()=>eQ,"signCreateReadOnlySession",()=>eY,"signCreateReadWriteSession",()=>e$,"signCreateSubOrganization",()=>e1,"signCreateUserTag",()=>e5,"signCreateUsers",()=>e3,"signCreateWallet",()=>e8,"signCreateWalletAccounts",()=>e9,"signDeleteApiKeys",()=>tt,"signDeleteAuthenticators",()=>ti,"signDeleteInvitation",()=>ta,"signDeleteOauthProviders",()=>ts,"signDeletePolicy",()=>tl,"signDeletePrivateKeyTags",()=>td,"signDeletePrivateKeys",()=>tp,"signDeleteSubOrganization",()=>tm,"signDeleteUserTags",()=>tg,"signDeleteUsers",()=>tx,"signDeleteWallets",()=>tw,"signEmailAuth",()=>tS,"signExportPrivateKey",()=>tE,"signExportWallet",()=>tP,"signExportWalletAccount",()=>tI,"signGetActivities",()=>el,"signGetActivity",()=>U,"signGetApiKey",()=>L,"signGetApiKeys",()=>K,"signGetAttestationDocument",()=>V,"signGetAuthenticator",()=>z,"signGetAuthenticators",()=>H,"signGetOauthProviders",()=>Q,"signGetOrganization",()=>Y,"signGetOrganizationConfigs",()=>$,"signGetPolicies",()=>ed,"signGetPolicy",()=>et,"signGetPrivateKey",()=>ei,"signGetPrivateKeys",()=>em,"signGetSubOrgIds",()=>eg,"signGetUser",()=>ea,"signGetUsers",()=>ew,"signGetVerifiedSubOrgIds",()=>eS,"signGetWallet",()=>es,"signGetWalletAccounts",()=>eE,"signGetWallets",()=>eP,"signGetWhoami",()=>eI,"signImportPrivateKey",()=>tR,"signImportWallet",()=>tC,"signInitImportPrivateKey",()=>tD,"signInitImportWallet",()=>tU,"signInitOtpAuth",()=>tL,"signInitUserEmailRecovery",()=>tK,"signListPrivateKeyTags",()=>ep,"signListUserTags",()=>ex,"signNOOPCodegenAnchor",()=>rs,"signOauth",()=>tV,"signOtpAuth",()=>tz,"signRawPayload",()=>t0,"signRawPayloads",()=>t2,"signRecoverUser",()=>tH,"signRejectActivity",()=>tQ,"signRemoveOrganizationFeature",()=>tY,"signSetOrganizationFeature",()=>t$,"signSignRawPayload",()=>t1,"signSignRawPayloads",()=>t5,"signSignTransaction",()=>t3,"signTransaction",()=>t6,"signUpdatePolicy",()=>t8,"signUpdatePrivateKeyTag",()=>t9,"signUpdateRootQuorum",()=>rt,"signUpdateUser",()=>ri,"signUpdateUserTag",()=>ra,"updatePolicy",()=>t4,"updatePrivateKeyTag",()=>t7,"updateRootQuorum",()=>re,"updateUser",()=>rr,"updateUserTag",()=>rn],537897),e.i(537897);class ru{constructor(e,t){if(this.getActivity=async e=>this.request("/public/v1/query/get_activity",e),this.stampGetActivity=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_activity",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getApiKey=async e=>this.request("/public/v1/query/get_api_key",e),this.stampGetApiKey=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_api_key",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getApiKeys=async e=>this.request("/public/v1/query/get_api_keys",e),this.stampGetApiKeys=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_api_keys",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getAttestationDocument=async e=>this.request("/public/v1/query/get_attestation",e),this.stampGetAttestationDocument=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_attestation",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getAuthenticator=async e=>this.request("/public/v1/query/get_authenticator",e),this.stampGetAuthenticator=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_authenticator",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getAuthenticators=async e=>this.request("/public/v1/query/get_authenticators",e),this.stampGetAuthenticators=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_authenticators",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getOauthProviders=async e=>this.request("/public/v1/query/get_oauth_providers",e),this.stampGetOauthProviders=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_oauth_providers",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getOrganization=async e=>this.request("/public/v1/query/get_organization",e),this.stampGetOrganization=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_organization",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getOrganizationConfigs=async e=>this.request("/public/v1/query/get_organization_configs",e),this.stampGetOrganizationConfigs=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_organization_configs",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getPolicy=async e=>this.request("/public/v1/query/get_policy",e),this.stampGetPolicy=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_policy",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getPrivateKey=async e=>this.request("/public/v1/query/get_private_key",e),this.stampGetPrivateKey=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_private_key",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getUser=async e=>this.request("/public/v1/query/get_user",e),this.stampGetUser=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_user",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getWallet=async e=>this.request("/public/v1/query/get_wallet",e),this.stampGetWallet=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_wallet",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getActivities=async e=>this.request("/public/v1/query/list_activities",e),this.stampGetActivities=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_activities",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getPolicies=async e=>this.request("/public/v1/query/list_policies",e),this.stampGetPolicies=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_policies",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.listPrivateKeyTags=async e=>this.request("/public/v1/query/list_private_key_tags",e),this.stampListPrivateKeyTags=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_private_key_tags",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getPrivateKeys=async e=>this.request("/public/v1/query/list_private_keys",e),this.stampGetPrivateKeys=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_private_keys",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getSubOrgIds=async e=>this.request("/public/v1/query/list_suborgs",e),this.stampGetSubOrgIds=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_suborgs",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.listUserTags=async e=>this.request("/public/v1/query/list_user_tags",e),this.stampListUserTags=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_user_tags",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getUsers=async e=>this.request("/public/v1/query/list_users",e),this.stampGetUsers=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_users",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getVerifiedSubOrgIds=async e=>this.request("/public/v1/query/list_verified_suborgs",e),this.stampGetVerifiedSubOrgIds=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_verified_suborgs",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getWalletAccounts=async e=>this.request("/public/v1/query/list_wallet_accounts",e),this.stampGetWalletAccounts=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_wallet_accounts",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getWallets=async e=>this.request("/public/v1/query/list_wallets",e),this.stampGetWallets=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_wallets",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getWhoami=async e=>this.request("/public/v1/query/whoami",e),this.stampGetWhoami=async e=>{let t=this.config.baseUrl+"/public/v1/query/whoami",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.approveActivity=async e=>this.request("/public/v1/submit/approve_activity",e),this.stampApproveActivity=async e=>{let t=this.config.baseUrl+"/public/v1/submit/approve_activity",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createApiKeys=async e=>this.request("/public/v1/submit/create_api_keys",e),this.stampCreateApiKeys=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_api_keys",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createApiOnlyUsers=async e=>this.request("/public/v1/submit/create_api_only_users",e),this.stampCreateApiOnlyUsers=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_api_only_users",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createAuthenticators=async e=>this.request("/public/v1/submit/create_authenticators",e),this.stampCreateAuthenticators=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_authenticators",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createInvitations=async e=>this.request("/public/v1/submit/create_invitations",e),this.stampCreateInvitations=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_invitations",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createOauthProviders=async e=>this.request("/public/v1/submit/create_oauth_providers",e),this.stampCreateOauthProviders=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_oauth_providers",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createPolicies=async e=>this.request("/public/v1/submit/create_policies",e),this.stampCreatePolicies=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_policies",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createPolicy=async e=>this.request("/public/v1/submit/create_policy",e),this.stampCreatePolicy=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_policy",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createPrivateKeyTag=async e=>this.request("/public/v1/submit/create_private_key_tag",e),this.stampCreatePrivateKeyTag=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_private_key_tag",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createPrivateKeys=async e=>this.request("/public/v1/submit/create_private_keys",e),this.stampCreatePrivateKeys=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_private_keys",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createReadOnlySession=async e=>this.request("/public/v1/submit/create_read_only_session",e),this.stampCreateReadOnlySession=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_read_only_session",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createReadWriteSession=async e=>this.request("/public/v1/submit/create_read_write_session",e),this.stampCreateReadWriteSession=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_read_write_session",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createSubOrganization=async e=>this.request("/public/v1/submit/create_sub_organization",e),this.stampCreateSubOrganization=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_sub_organization",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createUserTag=async e=>this.request("/public/v1/submit/create_user_tag",e),this.stampCreateUserTag=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_user_tag",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createUsers=async e=>this.request("/public/v1/submit/create_users",e),this.stampCreateUsers=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_users",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createWallet=async e=>this.request("/public/v1/submit/create_wallet",e),this.stampCreateWallet=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_wallet",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createWalletAccounts=async e=>this.request("/public/v1/submit/create_wallet_accounts",e),this.stampCreateWalletAccounts=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_wallet_accounts",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteApiKeys=async e=>this.request("/public/v1/submit/delete_api_keys",e),this.stampDeleteApiKeys=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_api_keys",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteAuthenticators=async e=>this.request("/public/v1/submit/delete_authenticators",e),this.stampDeleteAuthenticators=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_authenticators",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteInvitation=async e=>this.request("/public/v1/submit/delete_invitation",e),this.stampDeleteInvitation=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_invitation",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteOauthProviders=async e=>this.request("/public/v1/submit/delete_oauth_providers",e),this.stampDeleteOauthProviders=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_oauth_providers",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deletePolicy=async e=>this.request("/public/v1/submit/delete_policy",e),this.stampDeletePolicy=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_policy",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deletePrivateKeyTags=async e=>this.request("/public/v1/submit/delete_private_key_tags",e),this.stampDeletePrivateKeyTags=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_private_key_tags",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deletePrivateKeys=async e=>this.request("/public/v1/submit/delete_private_keys",e),this.stampDeletePrivateKeys=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_private_keys",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteSubOrganization=async e=>this.request("/public/v1/submit/delete_sub_organization",e),this.stampDeleteSubOrganization=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_sub_organization",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteUserTags=async e=>this.request("/public/v1/submit/delete_user_tags",e),this.stampDeleteUserTags=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_user_tags",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteUsers=async e=>this.request("/public/v1/submit/delete_users",e),this.stampDeleteUsers=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_users",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteWallets=async e=>this.request("/public/v1/submit/delete_wallets",e),this.stampDeleteWallets=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_wallets",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.emailAuth=async e=>this.request("/public/v1/submit/email_auth",e),this.stampEmailAuth=async e=>{let t=this.config.baseUrl+"/public/v1/submit/email_auth",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.exportPrivateKey=async e=>this.request("/public/v1/submit/export_private_key",e),this.stampExportPrivateKey=async e=>{let t=this.config.baseUrl+"/public/v1/submit/export_private_key",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.exportWallet=async e=>this.request("/public/v1/submit/export_wallet",e),this.stampExportWallet=async e=>{let t=this.config.baseUrl+"/public/v1/submit/export_wallet",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.exportWalletAccount=async e=>this.request("/public/v1/submit/export_wallet_account",e),this.stampExportWalletAccount=async e=>{let t=this.config.baseUrl+"/public/v1/submit/export_wallet_account",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.importPrivateKey=async e=>this.request("/public/v1/submit/import_private_key",e),this.stampImportPrivateKey=async e=>{let t=this.config.baseUrl+"/public/v1/submit/import_private_key",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.importWallet=async e=>this.request("/public/v1/submit/import_wallet",e),this.stampImportWallet=async e=>{let t=this.config.baseUrl+"/public/v1/submit/import_wallet",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.initImportPrivateKey=async e=>this.request("/public/v1/submit/init_import_private_key",e),this.stampInitImportPrivateKey=async e=>{let t=this.config.baseUrl+"/public/v1/submit/init_import_private_key",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.initImportWallet=async e=>this.request("/public/v1/submit/init_import_wallet",e),this.stampInitImportWallet=async e=>{let t=this.config.baseUrl+"/public/v1/submit/init_import_wallet",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.initOtpAuth=async e=>this.request("/public/v1/submit/init_otp_auth",e),this.stampInitOtpAuth=async e=>{let t=this.config.baseUrl+"/public/v1/submit/init_otp_auth",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.initUserEmailRecovery=async e=>this.request("/public/v1/submit/init_user_email_recovery",e),this.stampInitUserEmailRecovery=async e=>{let t=this.config.baseUrl+"/public/v1/submit/init_user_email_recovery",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.oauth=async e=>this.request("/public/v1/submit/oauth",e),this.stampOauth=async e=>{let t=this.config.baseUrl+"/public/v1/submit/oauth",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.otpAuth=async e=>this.request("/public/v1/submit/otp_auth",e),this.stampOtpAuth=async e=>{let t=this.config.baseUrl+"/public/v1/submit/otp_auth",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.recoverUser=async e=>this.request("/public/v1/submit/recover_user",e),this.stampRecoverUser=async e=>{let t=this.config.baseUrl+"/public/v1/submit/recover_user",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.rejectActivity=async e=>this.request("/public/v1/submit/reject_activity",e),this.stampRejectActivity=async e=>{let t=this.config.baseUrl+"/public/v1/submit/reject_activity",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.removeOrganizationFeature=async e=>this.request("/public/v1/submit/remove_organization_feature",e),this.stampRemoveOrganizationFeature=async e=>{let t=this.config.baseUrl+"/public/v1/submit/remove_organization_feature",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.setOrganizationFeature=async e=>this.request("/public/v1/submit/set_organization_feature",e),this.stampSetOrganizationFeature=async e=>{let t=this.config.baseUrl+"/public/v1/submit/set_organization_feature",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.signRawPayload=async e=>this.request("/public/v1/submit/sign_raw_payload",e),this.stampSignRawPayload=async e=>{let t=this.config.baseUrl+"/public/v1/submit/sign_raw_payload",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.signRawPayloads=async e=>this.request("/public/v1/submit/sign_raw_payloads",e),this.stampSignRawPayloads=async e=>{let t=this.config.baseUrl+"/public/v1/submit/sign_raw_payloads",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.signTransaction=async e=>this.request("/public/v1/submit/sign_transaction",e),this.stampSignTransaction=async e=>{let t=this.config.baseUrl+"/public/v1/submit/sign_transaction",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.updatePolicy=async e=>this.request("/public/v1/submit/update_policy",e),this.stampUpdatePolicy=async e=>{let t=this.config.baseUrl+"/public/v1/submit/update_policy",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.updatePrivateKeyTag=async e=>this.request("/public/v1/submit/update_private_key_tag",e),this.stampUpdatePrivateKeyTag=async e=>{let t=this.config.baseUrl+"/public/v1/submit/update_private_key_tag",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.updateRootQuorum=async e=>this.request("/public/v1/submit/update_root_quorum",e),this.stampUpdateRootQuorum=async e=>{let t=this.config.baseUrl+"/public/v1/submit/update_root_quorum",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.updateUser=async e=>this.request("/public/v1/submit/update_user",e),this.stampUpdateUser=async e=>{let t=this.config.baseUrl+"/public/v1/submit/update_user",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.updateUserTag=async e=>this.request("/public/v1/submit/update_user_tag",e),this.stampUpdateUserTag=async e=>{let t=this.config.baseUrl+"/public/v1/submit/update_user_tag",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},!e.baseUrl)throw Error("Missing base URL. Please verify env vars.");this.config=e,this.stamper=t}async request(e,t){let r=this.config.baseUrl+e,i=JSON.stringify(t),n=await this.stamper.stamp(i),a=await c(r,{method:"POST",headers:{[n.stampHeaderName]:n.stampHeaderValue,"X-Client-Version":"@turnkey/http@2.17.3"},body:i,redirect:"follow"});if(!a.ok){let e;try{e=await a.json()}catch(e){throw Error(`${a.status} ${a.statusText}`)}throw new D(e)}return await a.json()}}e.s(["TurnkeyClient",()=>ru],850430);class rl extends Error{constructor(e){const{message:t,cause:r,activityId:i,activityStatus:n,activityType:a}=e;super(t),this.name="TurnkeyActivityError",this.activityId=i??void 0,this.activityStatus=n??void 0,this.activityType=a??void 0,this.cause=r??void 0}}let rc=["ACTIVITY_STATUS_COMPLETED","ACTIVITY_STATUS_FAILED","ACTIVITY_STATUS_REJECTED"];function rd(e){let{client:t,requestFn:r,refreshIntervalMs:i=500}=e;return async e=>{let n=(await r(e)).activity;for(;;){switch(n.status){case"ACTIVITY_STATUS_COMPLETED":return n;case"ACTIVITY_STATUS_CREATED":case"ACTIVITY_STATUS_PENDING":break;case"ACTIVITY_STATUS_CONSENSUS_NEEDED":throw new rl({message:`Consensus needed for activity ${n.id}`,activityId:n.id,activityStatus:n.status,activityType:n.type});case"ACTIVITY_STATUS_FAILED":throw new rl({message:`Activity ${n.id} failed`,activityId:n.id,activityStatus:n.status,activityType:n.type});case"ACTIVITY_STATUS_REJECTED":throw new rl({message:`Activity ${n.id} was rejected`,activityId:n.id,activityStatus:n.status,activityType:n.type});default:var a=n.status;throw Error(`Unexpected case: ${JSON.stringify(a)}`)}await function(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}(i),n=(await t.getActivity({activityId:n.id,organizationId:n.organizationId})).activity}}}e.s(["createActivityPoller",()=>rd],29036),e.s([],94007),(t=r||(r={}))[t.Get=0]="Get",t[t.List=1]="List",t[t.Command=2]="Command";class rf extends Error{constructor(e){let t=`Turnkey error ${e.code}: ${e.message}`;null!=e.details&&(t+=` (Details: ${JSON.stringify(e.details)})`),super(t),this.name="TurnkeyRequestError",this.details=e.details??null,this.code=e.code}}class rp{constructor(e){this.getActivity=async e=>this.request("/public/v1/query/get_activity",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetActivity=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_activity",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getApiKey=async e=>this.request("/public/v1/query/get_api_key",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetApiKey=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_api_key",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getApiKeys=async(e={})=>this.request("/public/v1/query/get_api_keys",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetApiKeys=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_api_keys",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getAttestationDocument=async e=>this.request("/public/v1/query/get_attestation",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetAttestationDocument=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_attestation",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getAuthenticator=async e=>this.request("/public/v1/query/get_authenticator",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetAuthenticator=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_authenticator",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getAuthenticators=async e=>this.request("/public/v1/query/get_authenticators",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetAuthenticators=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_authenticators",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getOauthProviders=async e=>this.request("/public/v1/query/get_oauth_providers",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetOauthProviders=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_oauth_providers",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getOrganization=async(e={})=>this.request("/public/v1/query/get_organization",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetOrganization=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_organization",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getOrganizationConfigs=async e=>this.request("/public/v1/query/get_organization_configs",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetOrganizationConfigs=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_organization_configs",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getPolicy=async e=>this.request("/public/v1/query/get_policy",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetPolicy=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_policy",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getPrivateKey=async e=>this.request("/public/v1/query/get_private_key",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetPrivateKey=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_private_key",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getUser=async e=>this.request("/public/v1/query/get_user",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetUser=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_user",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getWallet=async e=>this.request("/public/v1/query/get_wallet",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetWallet=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_wallet",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getActivities=async(e={})=>this.request("/public/v1/query/list_activities",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetActivities=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_activities",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getPolicies=async(e={})=>this.request("/public/v1/query/list_policies",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetPolicies=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_policies",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.listPrivateKeyTags=async e=>this.request("/public/v1/query/list_private_key_tags",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampListPrivateKeyTags=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_private_key_tags",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getPrivateKeys=async(e={})=>this.request("/public/v1/query/list_private_keys",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetPrivateKeys=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_private_keys",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getSubOrgIds=async(e={})=>this.request("/public/v1/query/list_suborgs",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetSubOrgIds=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_suborgs",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.listUserTags=async(e={})=>this.request("/public/v1/query/list_user_tags",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampListUserTags=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_user_tags",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getUsers=async(e={})=>this.request("/public/v1/query/list_users",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetUsers=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_users",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getVerifiedSubOrgIds=async e=>this.request("/public/v1/query/list_verified_suborgs",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetVerifiedSubOrgIds=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_verified_suborgs",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getWalletAccounts=async e=>this.request("/public/v1/query/list_wallet_accounts",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetWalletAccounts=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_wallet_accounts",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getWallets=async(e={})=>this.request("/public/v1/query/list_wallets",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetWallets=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_wallets",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getWhoami=async(e={})=>this.request("/public/v1/query/whoami",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetWhoami=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/whoami",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.approveActivity=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.activityDecision("/public/v1/submit/approve_activity",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_APPROVE_ACTIVITY"})},this.stampApproveActivity=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/approve_activity",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createApiKeys=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_api_keys",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_KEYS_V2"},"createApiKeysResult")},this.stampCreateApiKeys=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_api_keys",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createApiOnlyUsers=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_api_only_users",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_ONLY_USERS"},"createApiOnlyUsersResult")},this.stampCreateApiOnlyUsers=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_api_only_users",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createAuthenticators=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_authenticators",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_AUTHENTICATORS_V2"},"createAuthenticatorsResult")},this.stampCreateAuthenticators=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_authenticators",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createInvitations=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_invitations",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_INVITATIONS"},"createInvitationsResult")},this.stampCreateInvitations=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_invitations",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createOauthProviders=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_oauth_providers",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_OAUTH_PROVIDERS"},"createOauthProvidersResult")},this.stampCreateOauthProviders=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_oauth_providers",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createPolicies=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_policies",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICIES"},"createPoliciesResult")},this.stampCreatePolicies=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_policies",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createPolicy=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_policy",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICY_V3"},"createPolicyResult")},this.stampCreatePolicy=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_policy",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createPrivateKeyTag=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_private_key_tag",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEY_TAG"},"createPrivateKeyTagResult")},this.stampCreatePrivateKeyTag=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_private_key_tag",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createPrivateKeys=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_private_keys",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEYS_V2"},"createPrivateKeysResultV2")},this.stampCreatePrivateKeys=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_private_keys",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createReadOnlySession=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_read_only_session",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_ONLY_SESSION"},"createReadOnlySessionResult")},this.stampCreateReadOnlySession=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_read_only_session",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createReadWriteSession=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_read_write_session",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_WRITE_SESSION_V2"},"createReadWriteSessionResultV2")},this.stampCreateReadWriteSession=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_read_write_session",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createSubOrganization=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_sub_organization",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_SUB_ORGANIZATION_V7"},"createSubOrganizationResultV7")},this.stampCreateSubOrganization=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_sub_organization",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createUserTag=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_user_tag",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USER_TAG"},"createUserTagResult")},this.stampCreateUserTag=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_user_tag",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createUsers=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_users",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USERS_V2"},"createUsersResult")},this.stampCreateUsers=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_users",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createWallet=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_wallet",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET"},"createWalletResult")},this.stampCreateWallet=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_wallet",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createWalletAccounts=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_wallet_accounts",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET_ACCOUNTS"},"createWalletAccountsResult")},this.stampCreateWalletAccounts=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_wallet_accounts",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteApiKeys=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/delete_api_keys",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_API_KEYS"},"deleteApiKeysResult")},this.stampDeleteApiKeys=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_api_keys",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteAuthenticators=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/delete_authenticators",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_AUTHENTICATORS"},"deleteAuthenticatorsResult")},this.stampDeleteAuthenticators=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_authenticators",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteInvitation=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/delete_invitation",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_INVITATION"},"deleteInvitationResult")},this.stampDeleteInvitation=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_invitation",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteOauthProviders=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/delete_oauth_providers",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_OAUTH_PROVIDERS"},"deleteOauthProvidersResult")},this.stampDeleteOauthProviders=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_oauth_providers",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deletePolicy=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/delete_policy",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_POLICY"},"deletePolicyResult")},this.stampDeletePolicy=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_policy",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deletePrivateKeyTags=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/delete_private_key_tags",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEY_TAGS"},"deletePrivateKeyTagsResult")},this.stampDeletePrivateKeyTags=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_private_key_tags",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deletePrivateKeys=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/delete_private_keys",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEYS"},"deletePrivateKeysResult")},this.stampDeletePrivateKeys=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_private_keys",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteSubOrganization=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/delete_sub_organization",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_SUB_ORGANIZATION"},"deleteSubOrganizationResult")},this.stampDeleteSubOrganization=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_sub_organization",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteUserTags=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/delete_user_tags",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USER_TAGS"},"deleteUserTagsResult")},this.stampDeleteUserTags=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_user_tags",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteUsers=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/delete_users",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USERS"},"deleteUsersResult")},this.stampDeleteUsers=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_users",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteWallets=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/delete_wallets",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_WALLETS"},"deleteWalletsResult")},this.stampDeleteWallets=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_wallets",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.emailAuth=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/email_auth",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_EMAIL_AUTH_V2"},"emailAuthResult")},this.stampEmailAuth=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/email_auth",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.exportPrivateKey=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/export_private_key",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_PRIVATE_KEY"},"exportPrivateKeyResult")},this.stampExportPrivateKey=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/export_private_key",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.exportWallet=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/export_wallet",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET"},"exportWalletResult")},this.stampExportWallet=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/export_wallet",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.exportWalletAccount=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/export_wallet_account",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET_ACCOUNT"},"exportWalletAccountResult")},this.stampExportWalletAccount=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/export_wallet_account",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.importPrivateKey=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/import_private_key",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_PRIVATE_KEY"},"importPrivateKeyResult")},this.stampImportPrivateKey=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/import_private_key",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.importWallet=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/import_wallet",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_WALLET"},"importWalletResult")},this.stampImportWallet=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/import_wallet",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.initImportPrivateKey=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/init_import_private_key",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_PRIVATE_KEY"},"initImportPrivateKeyResult")},this.stampInitImportPrivateKey=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/init_import_private_key",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.initImportWallet=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/init_import_wallet",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_WALLET"},"initImportWalletResult")},this.stampInitImportWallet=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/init_import_wallet",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.initOtpAuth=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/init_otp_auth",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP_AUTH"},"initOtpAuthResult")},this.stampInitOtpAuth=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/init_otp_auth",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.initUserEmailRecovery=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/init_user_email_recovery",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_INIT_USER_EMAIL_RECOVERY"},"initUserEmailRecoveryResult")},this.stampInitUserEmailRecovery=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/init_user_email_recovery",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.oauth=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/oauth",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH"},"oauthResult")},this.stampOauth=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/oauth",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.otpAuth=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/otp_auth",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_OTP_AUTH"},"otpAuthResult")},this.stampOtpAuth=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/otp_auth",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.recoverUser=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/recover_user",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_RECOVER_USER"},"recoverUserResult")},this.stampRecoverUser=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/recover_user",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.rejectActivity=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.activityDecision("/public/v1/submit/reject_activity",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_REJECT_ACTIVITY"})},this.stampRejectActivity=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/reject_activity",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.removeOrganizationFeature=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/remove_organization_feature",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_REMOVE_ORGANIZATION_FEATURE"},"removeOrganizationFeatureResult")},this.stampRemoveOrganizationFeature=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/remove_organization_feature",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.setOrganizationFeature=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/set_organization_feature",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_SET_ORGANIZATION_FEATURE"},"setOrganizationFeatureResult")},this.stampSetOrganizationFeature=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/set_organization_feature",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.signRawPayload=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/sign_raw_payload",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2"},"signRawPayloadResult")},this.stampSignRawPayload=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/sign_raw_payload",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.signRawPayloads=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/sign_raw_payloads",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOADS"},"signRawPayloadsResult")},this.stampSignRawPayloads=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/sign_raw_payloads",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.signTransaction=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/sign_transaction",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_TRANSACTION_V2"},"signTransactionResult")},this.stampSignTransaction=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/sign_transaction",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.updatePolicy=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/update_policy",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_POLICY"},"updatePolicyResult")},this.stampUpdatePolicy=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/update_policy",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.updatePrivateKeyTag=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/update_private_key_tag",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_PRIVATE_KEY_TAG"},"updatePrivateKeyTagResult")},this.stampUpdatePrivateKeyTag=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/update_private_key_tag",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.updateRootQuorum=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/update_root_quorum",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_ROOT_QUORUM"},"updateRootQuorumResult")},this.stampUpdateRootQuorum=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/update_root_quorum",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.updateUser=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/update_user",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER"},"updateUserResult")},this.stampUpdateUser=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/update_user",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.updateUserTag=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/update_user_tag",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_TAG"},"updateUserTagResult")},this.stampUpdateUserTag=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/update_user_tag",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.config=e}async request(e,t){let r=this.config.apiBaseUrl+e,i=JSON.stringify(t),n=await this.config.stamper.stamp(i),a=await fetch(r,{method:"POST",headers:{[n.stampHeaderName]:n.stampHeaderValue,"X-Client-Version":"@turnkey/sdk-server@1.7.3"},body:i,redirect:"follow"});if(!a.ok){let e;try{e=await a.json()}catch(e){throw Error(`${a.status} ${a.statusText}`)}throw new rf(e)}return await a.json()}async command(e,t,r){let i=this.config.activityPoller?.intervalMs??1e3,n=this.config.activityPoller?.numRetries??3,a=e=>{let{result:t,status:i}=e.activity;return"ACTIVITY_STATUS_COMPLETED"===i?{...t[`${r}`],...e}:e},o=0,s=async e=>{let t=await this.getActivity({activityId:e});if(o>n)return a(t);if(o+=1,!rc.includes(t.activity.status))return await new Promise(e=>setTimeout(e,i)),s(e);return a(t)},u=await this.request(e,t);return rc.includes(u.activity.status)?a(u):s(u.activity.id)}async activityDecision(e,t){let r=await this.request(e,t);return{...r.activity.result,...r}}}let rh=["oauth","createReadWriteSession","createSubOrganization","emailAuth","initUserEmailRecovery"];class rm{constructor(e){this.apiClient=e=>new rg({stamper:new u({apiPublicKey:e?.apiPublicKey??this.config.apiPublicKey,apiPrivateKey:e?.apiPrivateKey??this.config.apiPrivateKey}),apiBaseUrl:this.config.apiBaseUrl,organizationId:this.config.defaultOrganizationId,activityPoller:this.config.activityPoller}),this.apiProxy=async(e,t)=>{let r=this.apiClient()[e];if("function"==typeof r)return await r(...t);throw Error(`Method: ${e} does not exist on TurnkeySDKClient`)},this.expressProxyHandler=e=>{let t=e.allowedMethods??rh;return async(e,r)=>{let{methodName:i,params:n}=e.body;i&&n||r.status(400).send("methodName and params are required.");try{if(t.includes(i)){let e=await this.apiProxy(i,n);r.json(e)}else r.status(401).send("Unauthorized proxy method");return}catch(e){e instanceof Error?r.status(500).send(e.message):r.status(500).send("An unexpected error occurred");return}}},this.nextProxyHandler=e=>{let t=e.allowedMethods??rh;return async(e,r)=>{let{methodName:i,params:n}=e.body;i&&n||r.status(400).send("methodName and params are required.");try{if(t.includes(i)){let e=await this.apiProxy(i,n);r.json(e)}else r.status(401).send("Unauthorized proxy method");return}catch(e){e instanceof Error?r.status(500).send(e.message):r.status(500).send("An unexpected error occurred");return}}},this.config=e}}class rb extends rp{constructor(e){super(e)}}class rg extends rb{constructor(e){super(e)}}l.fetch;var ry=e.i(95187);ry.callServer,ry.findSourceMapURL,ry.callServer,ry.findSourceMapURL,ry.callServer,ry.findSourceMapURL,ry.callServer,ry.findSourceMapURL,ry.callServer,ry.findSourceMapURL,ry.callServer,ry.findSourceMapURL,e.s([],258291),e.s(["Turnkey",()=>rm],874107)},863568,e=>{"use strict";e.i(258291);var t=e.i(874107),r=e.i(285942),i=e.i(672464),n=e.i(271645);e.i(490156);var a=e.i(542119);let o=[7,16];function s(e){if(!e)return!1;if(e instanceof r.TurnkeyRequestError)return!0;if(!(e instanceof Error)||"TurnkeyRequestError"!==e.name||"number"!=typeof e.code)return!1;let t=e.details;return"object"==typeof t&&null!==t&&!!Array.isArray(t)}function u(e){return!!s(e)&&o.includes(e.code)}async function l(e){try{return await e.getWhoami(),!1}catch{return!0}}e.s(["isTurnkeyError",()=>s,"isTurnkeySessionExpired",()=>l,"isTurnkeySessionExpiryError",()=>u,"useTurnkeyClient",0,()=>{let e=(0,i.useAtomValue)(a.turnkeyPrivateKeyAtom),r=(0,i.useAtomValue)(a.turnkeyPublicKeyAtom),o=(0,i.useAtomValue)(a.turnkeyOrgIdAtom);return(0,n.useMemo)(()=>e&&r&&o?new t.Turnkey({apiBaseUrl:"https://api.turnkey.com",apiPrivateKey:e,apiPublicKey:r,defaultOrganizationId:o,activityPoller:{intervalMs:250,numRetries:20}}).apiClient():null,[e,r,o])}])},708351,524265,892537,914218,498138,438853,580840,107339,536275,998146,737003,32843,170987,440394,897567,222194,798530,782045,93323,33725,420440,244010,193826,360738,851047,477808,474112,67881,372418,485685,394944,961018,63637,767397,73023,952871,257092,421227,e=>{"use strict";let t,r;e.s([],708351);let i="6.16.0";async function n(e){let t=Object.keys(e);return(await Promise.all(t.map(t=>Promise.resolve(e[t])))).reduce((e,r,i)=>(e[t[i]]=r,e),{})}function a(e,t,r){for(let i in t){let n=t[i],a=r?r[i]:null;a&&function(e,t,r){let i=t.split("|").map(e=>e.trim());for(let r=0;r<i.length;r++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}let n=Error(`invalid value for type ${t}`);throw n.code="INVALID_ARGUMENT",n.argument=`value.${r}`,n.value=e,n}(n,a,i),Object.defineProperty(e,i,{enumerable:!0,value:n,writable:!1})}}function o(e,t){if(null==e)return"null";if(null==t&&(t=new Set),"object"==typeof e){if(t.has(e))return"[Circular]";t.add(e)}if(Array.isArray(e))return"[ "+e.map(e=>o(e,t)).join(", ")+" ]";if(e instanceof Uint8Array){let t="0123456789abcdef",r="0x";for(let i=0;i<e.length;i++)r+=t[e[i]>>4],r+=t[15&e[i]];return r}if("object"==typeof e&&"function"==typeof e.toJSON)return o(e.toJSON(),t);switch(typeof e){case"boolean":case"number":case"symbol":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{let r=Object.keys(e);return r.sort(),"{ "+r.map(r=>`${o(r,t)}: ${o(e[r],t)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function s(e,t){return e&&e.code===t}function u(e){return s(e,"CALL_EXCEPTION")}function l(e,t,r){let n,s=e;{let n=[];if(r){if("message"in r||"code"in r||"name"in r)throw Error(`value will overwrite populated values: ${o(r)}`);for(let e in r){if("shortMessage"===e)continue;let t=r[e];n.push(e+"="+o(t))}}n.push(`code=${t}`),n.push(`version=${i}`),n.length&&(e+=" ("+n.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":n=TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":n=RangeError(e);break;default:n=Error(e)}return a(n,{code:t}),r&&Object.assign(n,r),null==n.shortMessage&&a(n,{shortMessage:s}),n}function c(e,t,r,i){if(!e)throw l(t,r,i)}function d(e,t,r,i){c(e,t,"INVALID_ARGUMENT",{argument:r,value:i})}function f(e,t,r){null==r&&(r=""),r&&(r=": "+r),c(e>=t,"missing argument"+r,"MISSING_ARGUMENT",{count:e,expectedCount:t}),c(e<=t,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}e.s(["version",0,i],524265),e.s(["defineProperties",()=>a,"resolveProperties",()=>n],892537);let p=["NFD","NFC","NFKD","NFKC"].reduce((e,t)=>{try{if("test"!=="test".normalize(t))throw Error("bad");if("NFD"===t){let e=String.fromCharCode(233).normalize("NFD"),t=String.fromCharCode(101,769);if(e!==t)throw Error("broken")}e.push(t)}catch(e){}return e},[]);function h(e){c(p.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}function m(e,t,r){if(null==r&&(r=""),e!==t){let e=r,t="new";r&&(e+=".",t+=" "+r),c(!1,`private constructor; use ${e}from* methods`,"UNSUPPORTED_OPERATION",{operation:t})}}function b(e,t,r){if(e instanceof Uint8Array)return r?new Uint8Array(e):e;if("string"==typeof e&&e.length%2==0&&e.match(/^0x[0-9a-f]*$/i)){let t=new Uint8Array((e.length-2)/2),r=2;for(let i=0;i<t.length;i++)t[i]=parseInt(e.substring(r,r+2),16),r+=2;return t}d(!1,"invalid BytesLike value",t||"value",e)}function g(e,t){return b(e,t,!1)}function y(e,t){return b(e,t,!0)}function x(e,t){return"string"==typeof e&&!!e.match(/^0x[0-9A-Fa-f]*$/)&&("number"!=typeof t||e.length===2+2*t)&&(!0!==t||e.length%2==0)}function A(e){return x(e,!0)||e instanceof Uint8Array}e.s(["assert",()=>c,"assertArgument",()=>d,"assertArgumentCount",()=>f,"assertNormalize",()=>h,"assertPrivate",()=>m,"isCallException",()=>u,"isError",()=>s,"makeError",()=>l],914218);let w="0123456789abcdef";function v(e){let t=g(e),r="0x";for(let e=0;e<t.length;e++){let i=t[e];r+=w[(240&i)>>4]+w[15&i]}return r}function S(e){return"0x"+e.map(e=>v(e).substring(2)).join("")}function T(e){return x(e,!0)?(e.length-2)/2:g(e).length}function E(e,t,r){let i=g(e);return null!=r&&r>i.length&&c(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:i,length:i.length,offset:r}),v(i.slice(null==t?0:t,null==r?i.length:r))}function k(e){let t=v(e).substring(2);for(;t.startsWith("00");)t=t.substring(2);return"0x"+t}function P(e,t,r){let i=g(e);c(t>=i.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(i),length:t,offset:t+1});let n=new Uint8Array(t);return n.fill(0),r?n.set(i,t-i.length):n.set(i,0),v(n)}function _(e,t){return P(e,t,!0)}function I(e,t){return P(e,t,!1)}function N(e,t,r,i,n){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let i=t+1;i<r.length&&r[i]>>6==2;i++)e++;return e}return"OVERRUN"===e?r.length-t-1:0}e.s(["concat",()=>S,"dataLength",()=>T,"dataSlice",()=>E,"getBytes",()=>g,"getBytesCopy",()=>y,"hexlify",()=>v,"isBytesLike",()=>A,"isHexString",()=>x,"stripZerosLeft",()=>k,"zeroPadBytes",()=>I,"zeroPadValue",()=>_],498138);let R=Object.freeze({error:function(e,t,r,i,n){d(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:N,replace:function(e,t,r,i,n){return"OVERLONG"===e?(d("number"==typeof n,"invalid bad code point for replacement","badCodepoint",n),i.push(n),0):(i.push(65533),N(e,t,r,i,n))}});function B(e,t){null==t&&(t=R.error);let r=g(e,"bytes"),i=[],n=0;for(;n<r.length;){let e=r[n++];if(e>>7==0){i.push(e);continue}let a=null,o=null;if((224&e)==192)a=1,o=127;else if((240&e)==224)a=2,o=2047;else if((248&e)==240)a=3,o=65535;else{(192&e)==128?n+=t("UNEXPECTED_CONTINUE",n-1,r,i):n+=t("BAD_PREFIX",n-1,r,i);continue}if(n-1+a>=r.length){n+=t("OVERRUN",n-1,r,i);continue}let s=e&(1<<8-a-1)-1;for(let e=0;e<a;e++){let e=r[n];if((192&e)!=128){n+=t("MISSING_CONTINUE",n,r,i),s=null;break}s=s<<6|63&e,n++}if(null!==s){if(s>1114111){n+=t("OUT_OF_RANGE",n-1-a,r,i,s);continue}if(s>=55296&&s<=57343){n+=t("UTF16_SURROGATE",n-1-a,r,i,s);continue}if(s<=o){n+=t("OVERLONG",n-1-a,r,i,s);continue}i.push(s)}}return i}function C(e,t){d("string"==typeof e,"invalid string value","str",e),null!=t&&(h(t),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){let i=e.charCodeAt(t);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(63&i|128);else if((64512&i)==55296){t++;let n=e.charCodeAt(t);d(t<e.length&&(64512&n)==56320,"invalid surrogate pair","str",e);let a=65536+((1023&i)<<10)+(1023&n);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(63&a|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)}return new Uint8Array(r)}function O(e,t){return B(e,t).map(e=>e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10&1023)+55296,(1023&e)+56320)).join("")}function D(e,t){return B(C(e,t))}function M(e){let t=C(e);if(t.length>31)throw Error("bytes32 string must be less than 32 bytes");return I(t,32)}function U(e){let t=g(e,"bytes");if(32!==t.length)throw Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw Error("invalid bytes32 string - no null terminator");let r=31;for(;0===t[r-1];)r--;return O(t.slice(0,r))}e.s(["Utf8ErrorFuncs",0,R,"toUtf8Bytes",()=>C,"toUtf8CodePoints",()=>D,"toUtf8String",()=>O],438853),e.s(["decodeBytes32String",()=>U,"encodeBytes32String",()=>M],580840);let F=BigInt(0),L=BigInt(1);function q(e,t){let r=G(e,"value"),i=BigInt(H(t,"width"));return(c(r>>i===F,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),r>>i-L)?-((~r&(L<<i)-L)+L):r}function K(e,t){let r=V(e,"value"),i=BigInt(H(t,"width")),n=L<<i-L;return r<F?(c((r=-r)<=n,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),(~r&(L<<i)-L)+L):(c(r<n,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),r)}function W(e,t){return G(e,"value")&(L<<BigInt(H(t,"bits")))-L}function V(e,t){switch(typeof e){case"bigint":return e;case"number":return d(Number.isInteger(e),"underflow",t||"value",e),d(e>=-0x1fffffffffffff&&e<=0x1fffffffffffff,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw Error("empty string");if("-"===e[0]&&"-"!==e[1])return-BigInt(e.substring(1));return BigInt(e)}catch(r){d(!1,`invalid BigNumberish string: ${r.message}`,t||"value",e)}}d(!1,"invalid BigNumberish value",t||"value",e)}function G(e,t){let r=V(e,t);return c(r>=F,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),r}let z="0123456789abcdef";function j(e){if(e instanceof Uint8Array){let t="0x0";for(let r of e)t+=z[r>>4],t+=z[15&r];return BigInt(t)}return V(e)}function H(e,t){switch(typeof e){case"bigint":return d(e>=-0x1fffffffffffff&&e<=0x1fffffffffffff,"overflow",t||"value",e),Number(e);case"number":return d(Number.isInteger(e),"underflow",t||"value",e),d(e>=-0x1fffffffffffff&&e<=0x1fffffffffffff,"overflow",t||"value",e),e;case"string":try{if(""===e)throw Error("empty string");return H(BigInt(e),t)}catch(r){d(!1,`invalid numeric string: ${r.message}`,t||"value",e)}}d(!1,"invalid numeric value",t||"value",e)}function X(e){return H(j(e))}function Q(e,t){let r=G(e,"value"),i=r.toString(16);if(null==t)i.length%2&&(i="0"+i);else{let n=H(t,"width");if(0===n&&r===F)return"0x";for(c(2*n>=i.length,`value exceeds width (${n} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});i.length<2*n;)i="0"+i}return"0x"+i}function J(e,t){let r=G(e,"value");if(r===F)return new Uint8Array(null!=t?H(t,"width"):0);let i=r.toString(16);if(i.length%2&&(i="0"+i),null!=t){let r=H(t,"width");for(;i.length<2*r;)i="00"+i;c(2*r===i.length,`value exceeds width (${r} bytes)`,"NUMERIC_FAULT",{operation:"toBeArray",fault:"overflow",value:e})}let n=new Uint8Array(i.length/2);for(let e=0;e<n.length;e++){let t=2*e;n[e]=parseInt(i.substring(t,t+2),16)}return n}function Y(e){let t=v(A(e)?e:J(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}e.s(["fromTwos",()=>q,"getBigInt",()=>V,"getNumber",()=>H,"getUint",()=>G,"mask",()=>W,"toBeArray",()=>J,"toBeHex",()=>Q,"toBigInt",()=>j,"toNumber",()=>X,"toQuantity",()=>Y,"toTwos",()=>K],107339);let Z=new Uint8Array(32),$=["then"],ee={},et=new WeakMap;function er(e){return et.get(e)}function ei(e,t){let r=Error(`deferred error during ABI decoding triggered accessing ${e}`);throw r.error=t,r}class en extends Array{#e;constructor(...e){const t=e[0];let r=e[1],i=(e[2]||[]).slice(),n=!0;t!==ee&&(r=e,i=[],n=!1),super(r.length),r.forEach((e,t)=>{this[t]=e});const a=i.reduce((e,t)=>("string"==typeof t&&e.set(t,(e.get(t)||0)+1),e),new Map);if(!function(e,t){et.set(e,t)}(this,Object.freeze(r.map((e,t)=>{let r=i[t];return null!=r&&1===a.get(r)?r:null}))),this.#e=[],null==this.#e&&this.#e,!n)return;Object.freeze(this);const o=new Proxy(this,{get:(e,t,r)=>{if("string"==typeof t){if(t.match(/^[0-9]+$/)){let r=H(t,"%index");if(r<0||r>=this.length)throw RangeError("out of result range");let i=e[r];return i instanceof Error&&ei(`index ${r}`,i),i}if($.indexOf(t)>=0)return Reflect.get(e,t,r);let i=e[t];if(i instanceof Function)return function(...t){return i.apply(this===r?e:this,t)};if(!(t in e))return e.getValue.apply(this===r?e:this,[t])}return Reflect.get(e,t,r)}});return!function(e,t){et.set(e,t)}(o,er(this)),o}toArray(e){let t=[];return this.forEach((r,i)=>{r instanceof Error&&ei(`index ${i}`,r),e&&r instanceof en&&(r=r.toArray(e)),t.push(r)}),t}toObject(e){let t=er(this);return t.reduce((r,i,n)=>(c(null!=i,`value at index ${n} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),function e(t,r,i){return t.indexOf(null)>=0?r.map((t,r)=>t instanceof en?e(er(t),t,i):t):t.reduce((t,n,a)=>{let o=r.getValue(n);return n in t||(i&&o instanceof en&&(o=e(er(o),o,i)),t[n]=o),t},{})}(t,this,e)),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);let r=er(this),i=[],n=[];for(let a=e;a<t;a++)i.push(this[a]),n.push(r[a]);return new en(ee,i,n)}filter(e,t){let r=er(this),i=[],n=[];for(let a=0;a<this.length;a++){let o=this[a];o instanceof Error&&ei(`index ${a}`,o),e.call(t,o,a,this)&&(i.push(o),n.push(r[a]))}return new en(ee,i,n)}map(e,t){let r=[];for(let i=0;i<this.length;i++){let n=this[i];n instanceof Error&&ei(`index ${i}`,n),r.push(e.call(t,n,i,this))}return r}getValue(e){let t=er(this).indexOf(e);if(-1===t)return;let r=this[t];return r instanceof Error&&ei(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,t){return new en(ee,e,t)}}function ea(e){let t=[],r=function(e,i){if(Array.isArray(i))for(let n in i){let a=e.slice();a.push(n);try{r(a,i[n])}catch(e){t.push({path:a,error:e})}}};return r([],e),t}function eo(e){let t=J(e);return c(t.length<=32,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:32,offset:t.length}),32!==t.length&&(t=y(S([Z.slice(t.length%32),t]))),t}class es{name;type;localName;dynamic;constructor(e,t,r,i){a(this,{name:e,type:t,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){d(!1,e,this.localName,t)}}class eu{#t;#r;constructor(){this.#t=[],this.#r=0}get data(){return S(this.#t)}get length(){return this.#r}#i(e){return this.#t.push(e),this.#r+=e.length,e.length}appendWriter(e){return this.#i(y(e.data))}writeBytes(e){let t=y(e),r=t.length%32;return r&&(t=y(S([t,Z.slice(r)]))),this.#i(t)}writeValue(e){return this.#i(eo(e))}writeUpdatableValue(){let e=this.#t.length;return this.#t.push(Z),this.#r+=32,t=>{this.#t[e]=eo(t)}}}class el{allowLoose;#t;#n;#a;#o;#s;constructor(e,t,r){a(this,{allowLoose:!!t}),this.#t=y(e),this.#a=0,this.#o=null,this.#s=null!=r?r:1024,this.#n=0}get data(){return v(this.#t)}get dataLength(){return this.#t.length}get consumed(){return this.#n}get bytes(){return new Uint8Array(this.#t)}#u(e){if(this.#o)return this.#o.#u(e);this.#a+=e,c(this.#s<1||this.#a<=this.#s*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#s} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:y(this.#t),offset:this.#n,length:e,info:{bytesRead:this.#a,dataLength:this.dataLength}})}#l(e,t,r){let i=32*Math.ceil(t/32);return this.#n+i>this.#t.length&&(this.allowLoose&&r&&this.#n+t<=this.#t.length?i=t:c(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:y(this.#t),length:this.#t.length,offset:this.#n+i})),this.#t.slice(this.#n,this.#n+i)}subReader(e){let t=new el(this.#t.slice(this.#n+e),this.allowLoose,this.#s);return t.#o=this,t}readBytes(e,t){let r=this.#l(0,e,!!t);return this.#u(e),this.#n+=r.length,r.slice(0,e)}readValue(){return j(this.readBytes(32))}readIndex(){return X(this.readBytes(32))}}function ec(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`Wrong positive integer: ${e}`)}function ed(e,...t){if(!(e instanceof Uint8Array))throw Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function ef(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");ec(e.outputLen),ec(e.blockLen)}function ep(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function eh(e,t){ed(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}e.s(["Coder",()=>es,"Reader",()=>el,"Result",()=>en,"WordSize",0,32,"Writer",()=>eu,"checkResultErrors",()=>ea],536275);let em=BigInt(0x100000000-1),eb=BigInt(32);function eg(e,t=!1){let r=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let n=0;n<e.length;n++){let{h:a,l:o}=function(e,t=!1){return t?{h:Number(e&em),l:Number(e>>eb&em)}:{h:0|Number(e>>eb&em),l:0|Number(e&em)}}(e[n],t);[r[n],i[n]]=[a,o]}return[r,i]}let ey=(e,t,r)=>e>>>r,ex=(e,t,r)=>e<<32-r|t>>>r,eA=(e,t,r)=>e>>>r|t<<32-r,ew=(e,t,r)=>e<<32-r|t>>>r,ev=(e,t,r)=>e<<64-r|t>>>r-32,eS=(e,t,r)=>e>>>r-32|t<<64-r,eT=function(e,t,r,i){let n=(t>>>0)+(i>>>0);return{h:e+r+(n/0x100000000|0)|0,l:0|n}},eE=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),ek=(e,t,r,i)=>t+r+i+(e/0x100000000|0)|0,eP=(e,t,r,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),e_=(e,t,r,i,n)=>t+r+i+n+(e/0x100000000|0)|0,eI=(e,t,r,i,n,a)=>t+r+i+n+a+(e/0x100000000|0)|0,eN=(e,t,r,i,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0)+(n>>>0),eR="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,eB=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),eC=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),eO=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([0x11223344]).buffer)[0])throw Error("Non little-endian hardware is not supported");let eD=async()=>{};async function eM(e,t,r){let i=Date.now();for(let n=0;n<e;n++){r(n);let e=Date.now()-i;e>=0&&e<t||(await eD(),i+=e)}}function eU(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}(e)),!(e instanceof Uint8Array))throw Error(`expected Uint8Array, got ${typeof e}`);return e}class eF{clone(){return this._cloneInto()}}let eL={}.toString;function eq(e,t){if(void 0!==t&&"[object Object]"!==eL.call(t))throw Error("Options should be object or undefined");return Object.assign(e,t)}function eK(e){let t=t=>e().update(eU(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function eW(e=32){if(eR&&"function"==typeof eR.getRandomValues)return eR.getRandomValues(new Uint8Array(e));throw Error("crypto.getRandomValues must be defined")}let[eV,eG,ez]=[[],[],[]],ej=BigInt(0),eH=BigInt(1),eX=BigInt(2),eQ=BigInt(7),eJ=BigInt(256),eY=BigInt(113);for(let e=0,t=eH,r=1,i=0;e<24;e++){[r,i]=[i,(2*r+3*i)%5],eV.push(2*(5*i+r)),eG.push((e+1)*(e+2)/2%64);let n=ej;for(let e=0;e<7;e++)(t=(t<<eH^(t>>eQ)*eY)%eJ)&eX&&(n^=eH<<(eH<<BigInt(e))-eH);ez.push(n)}let[eZ,e$]=eg(ez,!0),e0=(e,t,r)=>{let i,n,a,o,s;return r>32?(i=e,t<<(n=r)-32|i>>>64-n):(a=e,o=t,a<<(s=r)|o>>>32-s)},e1=(e,t,r)=>{let i,n,a,o,s;return r>32?(i=e,n=t,i<<(a=r)-32|n>>>64-a):(o=e,t<<(s=r)|o>>>32-s)};class e2 extends eF{constructor(e,t,r,i=!1,n=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=n,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ec(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=eB(this.state)}keccak(){!function(e,t=24){let r=new Uint32Array(10);for(let i=24-t;i<24;i++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let i=(t+8)%10,n=(t+2)%10,a=r[n],o=r[n+1],s=e0(a,o,1)^r[i],u=e1(a,o,1)^r[i+1];for(let r=0;r<50;r+=10)e[t+r]^=s,e[t+r+1]^=u}let t=e[2],n=e[3];for(let r=0;r<24;r++){let i=eG[r],a=e0(t,n,i),o=e1(t,n,i),s=eV[r];t=e[s],n=e[s+1],e[s]=a,e[s+1]=o}for(let t=0;t<50;t+=10){for(let i=0;i<10;i++)r[i]=e[t+i];for(let i=0;i<10;i++)e[t+i]^=~r[(i+2)%10]&r[(i+4)%10]}e[0]^=eZ[i],e[1]^=e$[i]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){ep(this);let{blockLen:t,state:r}=this,i=(e=eU(e)).length;for(let n=0;n<i;){let a=Math.min(t-this.pos,i-n);for(let t=0;t<a;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,(128&t)!=0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){ep(this,!1),ed(e),this.finish();let t=this.state,{blockLen:r}=this;for(let i=0,n=e.length;i<n;){this.posOut>=r&&this.keccak();let a=Math.min(r-this.posOut,n-i);e.set(t.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ec(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(eh(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:i,rounds:n,enableXOF:a}=this;return e||(e=new e2(t,r,i,a,n)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=n,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}let e5=eK(()=>new e2(136,1,32)),e6=!1,e3=function(e){return e5(e)},e4=e3;function e8(e){let t=g(e,"data");return v(e4(t))}e8._=e3,e8.lock=function(){e6=!0},e8.register=function(e){if(e6)throw TypeError("keccak256 is locked");e4=e},Object.freeze(e8),e.s(["keccak256",()=>e8],998146);let e7=BigInt(0),e9=BigInt(36);function te(e){let t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);let i=g(e8(r));for(let e=0;e<40;e+=2)i[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&i[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}let tt={};for(let e=0;e<10;e++)tt[String(e)]=String(e);for(let e=0;e<26;e++)tt[String.fromCharCode(65+e)]=String(10+e);function tr(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>tt[e]).join("");for(;t.length>=15;){let e=t.substring(0,15);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}let ti=function(){let e={};for(let t=0;t<36;t++)e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t);return e}();function tn(e){if(d("string"==typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);let t=te(e);return d(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){d(e.substring(2,4)===tr(e),"bad icap checksum","address",e);let t=(function(e){e=e.toLowerCase();let t=e7;for(let r=0;r<e.length;r++)t=t*e9+ti[e[r]];return t})(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return te("0x"+t)}d(!1,"invalid address","address",e)}function ta(e){let t=BigInt(tn(e)).toString(36).toUpperCase();for(;t.length<30;)t="0"+t;return"XE"+tr("XE00"+t)+t}e.s(["getAddress",()=>tn,"getIcapAddress",()=>ta],737003);let to={};function ts(e,t){let r=!1;return t<0&&(r=!0,t*=-1),new tc(to,`${r?"":"u"}int${t}`,e,{signed:r,width:t})}function tu(e,t){return new tc(to,`bytes${t||""}`,e,{size:t})}let tl=Symbol.for("_ethers_typed");class tc{type;value;#c;_typedSymbol;constructor(e,t,r,i){null==i&&(i=null),m(to,e,"Typed"),a(this,{_typedSymbol:tl,type:t,value:r}),this.#c=i,this.format()}format(){if("array"===this.type||"dynamicArray"===this.type)throw Error("");return"tuple"===this.type?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#c}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#c?-1:!1===this.#c?this.value.length:null}static from(e,t){return new tc(to,e,t)}static uint8(e){return ts(e,8)}static uint16(e){return ts(e,16)}static uint24(e){return ts(e,24)}static uint32(e){return ts(e,32)}static uint40(e){return ts(e,40)}static uint48(e){return ts(e,48)}static uint56(e){return ts(e,56)}static uint64(e){return ts(e,64)}static uint72(e){return ts(e,72)}static uint80(e){return ts(e,80)}static uint88(e){return ts(e,88)}static uint96(e){return ts(e,96)}static uint104(e){return ts(e,104)}static uint112(e){return ts(e,112)}static uint120(e){return ts(e,120)}static uint128(e){return ts(e,128)}static uint136(e){return ts(e,136)}static uint144(e){return ts(e,144)}static uint152(e){return ts(e,152)}static uint160(e){return ts(e,160)}static uint168(e){return ts(e,168)}static uint176(e){return ts(e,176)}static uint184(e){return ts(e,184)}static uint192(e){return ts(e,192)}static uint200(e){return ts(e,200)}static uint208(e){return ts(e,208)}static uint216(e){return ts(e,216)}static uint224(e){return ts(e,224)}static uint232(e){return ts(e,232)}static uint240(e){return ts(e,240)}static uint248(e){return ts(e,248)}static uint256(e){return ts(e,256)}static uint(e){return ts(e,256)}static int8(e){return ts(e,-8)}static int16(e){return ts(e,-16)}static int24(e){return ts(e,-24)}static int32(e){return ts(e,-32)}static int40(e){return ts(e,-40)}static int48(e){return ts(e,-48)}static int56(e){return ts(e,-56)}static int64(e){return ts(e,-64)}static int72(e){return ts(e,-72)}static int80(e){return ts(e,-80)}static int88(e){return ts(e,-88)}static int96(e){return ts(e,-96)}static int104(e){return ts(e,-104)}static int112(e){return ts(e,-112)}static int120(e){return ts(e,-120)}static int128(e){return ts(e,-128)}static int136(e){return ts(e,-136)}static int144(e){return ts(e,-144)}static int152(e){return ts(e,-152)}static int160(e){return ts(e,-160)}static int168(e){return ts(e,-168)}static int176(e){return ts(e,-176)}static int184(e){return ts(e,-184)}static int192(e){return ts(e,-192)}static int200(e){return ts(e,-200)}static int208(e){return ts(e,-208)}static int216(e){return ts(e,-216)}static int224(e){return ts(e,-224)}static int232(e){return ts(e,-232)}static int240(e){return ts(e,-240)}static int248(e){return ts(e,-248)}static int256(e){return ts(e,-256)}static int(e){return ts(e,-256)}static bytes1(e){return tu(e,1)}static bytes2(e){return tu(e,2)}static bytes3(e){return tu(e,3)}static bytes4(e){return tu(e,4)}static bytes5(e){return tu(e,5)}static bytes6(e){return tu(e,6)}static bytes7(e){return tu(e,7)}static bytes8(e){return tu(e,8)}static bytes9(e){return tu(e,9)}static bytes10(e){return tu(e,10)}static bytes11(e){return tu(e,11)}static bytes12(e){return tu(e,12)}static bytes13(e){return tu(e,13)}static bytes14(e){return tu(e,14)}static bytes15(e){return tu(e,15)}static bytes16(e){return tu(e,16)}static bytes17(e){return tu(e,17)}static bytes18(e){return tu(e,18)}static bytes19(e){return tu(e,19)}static bytes20(e){return tu(e,20)}static bytes21(e){return tu(e,21)}static bytes22(e){return tu(e,22)}static bytes23(e){return tu(e,23)}static bytes24(e){return tu(e,24)}static bytes25(e){return tu(e,25)}static bytes26(e){return tu(e,26)}static bytes27(e){return tu(e,27)}static bytes28(e){return tu(e,28)}static bytes29(e){return tu(e,29)}static bytes30(e){return tu(e,30)}static bytes31(e){return tu(e,31)}static bytes32(e){return tu(e,32)}static address(e){return new tc(to,"address",e)}static bool(e){return new tc(to,"bool",!!e)}static bytes(e){return new tc(to,"bytes",e)}static string(e){return new tc(to,"string",e)}static array(e,t){throw Error("not implemented yet")}static tuple(e,t){throw Error("not implemented yet")}static overrides(e){return new tc(to,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"==typeof e&&"_typedSymbol"in e&&e._typedSymbol===tl}static dereference(e,t){if(tc.isTyped(e)){if(e.type!==t)throw Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}e.s(["Typed",()=>tc],32843);class td extends es{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let r=tc.dereference(t,"string");try{r=tn(r)}catch(e){return this._throwError(e.message,t)}return e.writeValue(r)}decode(e){return tn(Q(e.readValue(),20))}}class tf extends es{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function tp(e,t,r){let i=[];if(Array.isArray(r))i=r;else if(r&&"object"==typeof r){let e={};i=t.map(t=>{let i=t.localName;return c(i,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:r}),c(!e[i],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:r}),e[i]=!0,r[i]})}else d(!1,"invalid tuple value","tuple",r);d(t.length===i.length,"types/value length mismatch","tuple",r);let n=new eu,a=new eu,o=[];t.forEach((e,t)=>{let r=i[t];if(e.dynamic){let t=a.length;e.encode(a,r);let i=n.writeUpdatableValue();o.push(e=>{i(e+t)})}else e.encode(n,r)}),o.forEach(e=>{e(n.length)});let s=e.appendWriter(n);return s+e.appendWriter(a)}function th(e,t){let r=[],i=[],n=e.subReader(0);return t.forEach(t=>{let a=null;if(t.dynamic){let r=e.readIndex(),i=n.subReader(r);try{a=t.decode(i)}catch(e){if(s(e,"BUFFER_OVERRUN"))throw e;(a=e).baseType=t.name,a.name=t.localName,a.type=t.type}}else try{a=t.decode(e)}catch(e){if(s(e,"BUFFER_OVERRUN"))throw e;(a=e).baseType=t.name,a.name=t.localName,a.type=t.type}if(void 0==a)throw Error("investigate");r.push(a),i.push(t.localName||null)}),en.fromItems(r,i)}class tm extends es{coder;length;constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),a(this,{coder:e,length:t})}defaultValue(){let e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){let r=tc.dereference(t,"array");Array.isArray(r)||this._throwError("expected array value",r);let i=this.length;-1===i&&(i=r.length,e.writeValue(r.length)),f(r.length,i,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let e=0;e<r.length;e++)n.push(this.coder);return tp(e,n,r)}decode(e){let t=this.length;-1===t&&c(32*(t=e.readIndex())<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:32*t,length:e.dataLength});let r=[];for(let e=0;e<t;e++)r.push(new tf(this.coder));return th(e,r)}}class tb extends es{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){let r=tc.dereference(t,"bool");return e.writeValue(+!!r)}decode(e){return!!e.readValue()}}class tg extends es{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=y(t);let r=e.writeValue(t.length);return r+e.writeBytes(t)}decode(e){return e.readBytes(e.readIndex(),!0)}}class ty extends tg{constructor(e){super("bytes",e)}decode(e){return v(super.decode(e))}}class tx extends es{size;constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),a(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=y(tc.dereference(t,this.type));return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return v(e.readBytes(this.size))}}let tA=new Uint8Array([]);class tw extends es{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(tA)}decode(e){return e.readBytes(0),null}}let tv=BigInt(0),tS=BigInt(1),tT=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class tE extends es{size;signed;constructor(e,t,r){const i=(t?"int":"uint")+8*e;super(i,i,r,!1),a(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let r=V(tc.dereference(t,this.type)),i=W(tT,256);if(this.signed){let e=W(i,8*this.size-1);(r>e||r<-(e+tS))&&this._throwError("value out-of-bounds",t),r=K(r,256)}else(r<tv||r>W(i,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(r)}decode(e){let t=W(e.readValue(),8*this.size);return this.signed&&(t=q(t,8*this.size)),t}}class tk extends tg{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,C(tc.dereference(t,"string")))}decode(e){return O(super.decode(e))}}class tP extends es{coders;constructor(e,t){let r=!1;const i=[];e.forEach(e=>{e.dynamic&&(r=!0),i.push(e.type)}),super("tuple","tuple("+i.join(",")+")",t,r),a(this,{coders:Object.freeze(e.slice())})}defaultValue(){let e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});let t=this.coders.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});return this.coders.forEach((r,i)=>{let n=r.localName;n&&1===t[n]&&("length"===n&&(n="_length"),null==e[n]&&(e[n]=e[i]))}),Object.freeze(e)}encode(e,t){let r=tc.dereference(t,"tuple");return tp(e,this.coders,r)}decode(e){return th(e,this.coders)}}function t_(e){return e8(C(e))}function tI(e){let t=new Set;return e.forEach(e=>t.add(e)),Object.freeze(t)}e.s(["id",()=>t_],170987);let tN=tI("external public payable override".split(" ")),tR="constant external internal payable private public pure view override",tB=tI(tR.split(" ")),tC="constructor error event fallback function receive struct",tO=tI(tC.split(" ")),tD="calldata memory storage payable indexed",tM=tI(tD.split(" ")),tU=tI([tC,tD,"tuple returns",tR].join(" ").split(" ")),tF={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},tL=RegExp("^(\\s*)"),tq=RegExp("^([0-9]+)"),tK=RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),tW=RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),tV=RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class tG{#n;#d;get offset(){return this.#n}get length(){return this.#d.length-this.#n}constructor(e){this.#n=0,this.#d=e.slice()}clone(){return new tG(this.#d)}reset(){this.#n=0}#f(e=0,t=0){return new tG(this.#d.slice(e,t).map(t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e}))))}popKeyword(e){let t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){let t=this.peek();throw Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){let e=this.peek();if("OPEN_PAREN"!==e.type)throw Error("bad start");let t=this.#f(this.#n+1,e.match+1);return this.#n=e.match+1,t}popParams(){let e=this.peek();if("OPEN_PAREN"!==e.type)throw Error("bad start");let t=[];for(;this.#n<e.match-1;){let e=this.peek().linkNext;t.push(this.#f(this.#n+1,e)),this.#n=e}return this.#n=e.match+1,t}peek(){if(this.#n>=this.#d.length)throw Error("out-of-bounds");return this.#d[this.#n]}peekKeyword(e){let t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;let t=this.peek();return t.type===e?t.text:null}pop(){let e=this.peek();return this.#n++,e}toString(){let e=[];for(let t=this.#n;t<this.#d.length;t++){let r=this.#d[t];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}}function tz(e){let t=[],r=t=>{let r=a<e.length?JSON.stringify(e[a]):"$EOI";throw Error(`invalid token ${r} at ${a}: ${t}`)},i=[],n=[],a=0;for(;a<e.length;){let o=e.substring(a),s=o.match(tL);s&&(a+=s[1].length,o=e.substring(a));let u={depth:i.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:a,value:-1};t.push(u);let l=tF[o[0]]||"";if(l){if(u.type=l,u.text=o[0],a++,"OPEN_PAREN"===l)i.push(t.length-1),n.push(t.length-1);else if("CLOSE_PAREN"==l)0===i.length&&r("no matching open bracket"),u.match=i.pop(),t[u.match].match=t.length-1,u.depth--,u.linkBack=n.pop(),t[u.linkBack].linkNext=t.length-1;else if("COMMA"===l)u.linkBack=n.pop(),t[u.linkBack].linkNext=t.length-1,n.push(t.length-1);else if("OPEN_BRACKET"===l)u.type="BRACKET";else if("CLOSE_BRACKET"===l){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){let r=t.pop().text;e=r+e,t[t.length-1].value=H(r)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw Error("missing opening bracket");t[t.length-1].text+=e}continue}if(s=o.match(tK)){if(u.text=s[1],a+=u.text.length,tU.has(u.text)){u.type="KEYWORD";continue}if(u.text.match(tV)){u.type="TYPE";continue}u.type="ID";continue}if(s=o.match(tq)){u.text=s[1],u.type="NUMBER",a+=u.text.length;continue}throw Error(`unexpected token ${JSON.stringify(o[0])} at position ${a}`)}return new tG(t.map(e=>Object.freeze(e)))}function tj(e,t){let r=[];for(let i in t.keys())e.has(i)&&r.push(i);if(r.length>1)throw Error(`conflicting types: ${r.join(", ")}`)}function tH(e,t){if(t.peekKeyword(tO)){let r=t.pop().text;if(r!==e)throw Error(`expected ${e}, got ${r}`)}return t.popType("ID")}function tX(e,t){let r=new Set;for(;;){let i=e.peekType("KEYWORD");if(null==i||t&&!t.has(i))break;if(e.pop(),r.has(i))throw Error(`duplicate keywords: ${JSON.stringify(i)}`);r.add(i)}return Object.freeze(r)}function tQ(e){let t=tX(e,tB);return(tj(t,tI("constant payable nonpayable".split(" "))),tj(t,tI("pure view payable nonpayable".split(" "))),t.has("view"))?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function tJ(e,t){return e.popParams().map(e=>re.from(e,t))}function tY(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return V(e.pop().text);throw Error("invalid gas")}return null}function tZ(e){if(e.length)throw Error(`unexpected tokens at offset ${e.offset}: ${e.toString()}`)}let t$=new RegExp(/^(.*)\[([0-9]*)\]$/);function t0(e){let t=e.match(tV);if(d(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){let r=parseInt(t[2]);d(0!==r&&r<=32,"invalid bytes length","type",e)}else if(t[3]){let r=parseInt(t[3]);d(0!==r&&r<=256&&r%8==0,"invalid numeric width","type",e)}return e}let t1={},t2=Symbol.for("_ethers_internal"),t5="_ParamTypeInternal",t6="_ErrorInternal",t3="_EventInternal",t4="_ConstructorInternal",t8="_FallbackInternal",t7="_FunctionInternal",t9="_StructInternal";class re{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,r,i,n,o,s,u){if(m(e,t1,"ParamType"),Object.defineProperty(this,t2,{value:t5}),o&&(o=Object.freeze(o.slice())),"array"===i){if(null==s||null==u)throw Error("")}else if(null!=s||null!=u)throw Error("");if("tuple"===i){if(null==o)throw Error("")}else if(null!=o)throw Error("");a(this,{name:t,type:r,baseType:i,indexed:n,components:o,arrayLength:s,arrayChildren:u})}format(e){if(null==e&&(e="sighash"),"json"===e){let t=this.name||"";if(this.isArray()){let e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(e)}let r={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"==typeof this.indexed&&(r.indexed=this.indexed),this.isTuple()&&(r.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(r)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(t=>t.format(e)).join("full"===e?", ":",")+")":t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw Error("array is wrong length");let r=this;return e.map(e=>r.arrayChildren.walk(e,t))}if(this.isTuple()){if(!Array.isArray(e))throw Error("invalid tuple value");if(e.length!==this.components.length)throw Error("array is wrong length");let r=this;return e.map((e,i)=>r.components[i].walk(e,t))}return t(this.type,e)}#p(e,t,r,i){if(this.isArray()){if(!Array.isArray(t))throw Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw Error("array is wrong length");let n=this.arrayChildren,a=t.slice();a.forEach((t,i)=>{n.#p(e,t,r,e=>{a[i]=e})}),i(a);return}if(this.isTuple()){let n,a=this.components;if(Array.isArray(t))n=t.slice();else{if(null==t||"object"!=typeof t)throw Error("invalid tuple value");n=a.map(e=>{if(!e.name)throw Error("cannot use object value with unnamed components");if(!(e.name in t))throw Error(`missing value for component ${e.name}`);return t[e.name]})}if(n.length!==this.components.length)throw Error("array is wrong length");n.forEach((t,i)=>{a[i].#p(e,t,r,e=>{n[i]=e})}),i(n);return}let n=r(this.type,t);n.then?e.push(async function(){i(await n)}()):i(n)}async walkAsync(e,t){let r=[],i=[e];return this.#p(r,e,t,e=>{i[0]=e}),r.length&&await Promise.all(r),i[0]}static from(e,t){if(re.isParamType(e))return e;if("string"==typeof e)try{return re.from(tz(e),t)}catch(t){d(!1,"invalid param type","obj",e)}else if(e instanceof tG){let r="",i="",n=null;tX(e,tI(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(i="tuple",n=e.popParams().map(e=>re.from(e)),r=`tuple(${n.map(e=>e.format()).join(",")})`):i=r=t0(e.popType("TYPE"));let a=null,o=null;for(;e.length&&e.peekType("BRACKET");){let t=e.pop();a=new re(t1,"",r,i,null,n,o,a),o=t.value,r+=t.text,i="array",n=null}let s=null;if(tX(e,tM).has("indexed")){if(!t)throw Error("");s=!0}let u=e.peekType("ID")?e.pop().text:"";if(e.length)throw Error("leftover tokens");return new re(t1,u,r,i,s,n,o,a)}let r=e.name;d(!r||"string"==typeof r&&r.match(tW),"invalid name","obj.name",r);let i=e.indexed;null!=i&&(d(t,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let n=e.type,a=n.match(t$);if(a){let t=parseInt(a[2]||"-1"),o=re.from({type:a[1],components:e.components});return new re(t1,r||"",n,"array",i,null,t,o)}if("tuple"===n||n.startsWith("tuple(")||n.startsWith("(")){let t=null!=e.components?e.components.map(e=>re.from(e)):null;return new re(t1,r||"",n,"tuple",i,t,null,null)}return new re(t1,r||"",n=t0(e.type),n,i,null,null,null)}static isParamType(e){return e&&e[t2]===t5}}class rt{type;inputs;constructor(e,t,r){m(e,t1,"Fragment"),a(this,{type:t,inputs:r=Object.freeze(r.slice())})}static from(e){if("string"==typeof e){try{rt.from(JSON.parse(e))}catch(e){}return rt.from(tz(e))}if(e instanceof tG)switch(e.peekKeyword(tO)){case"constructor":return ro.from(e);case"error":return rn.from(e);case"event":return ra.from(e);case"fallback":case"receive":return rs.from(e);case"function":return ru.from(e);case"struct":return rl.from(e)}else if("object"==typeof e){switch(e.type){case"constructor":return ro.from(e);case"error":return rn.from(e);case"event":return ra.from(e);case"fallback":case"receive":return rs.from(e);case"function":return ru.from(e);case"struct":return rl.from(e)}c(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}d(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return ro.isFragment(e)}static isError(e){return rn.isFragment(e)}static isEvent(e){return ra.isFragment(e)}static isFunction(e){return ru.isFragment(e)}static isStruct(e){return rl.isFragment(e)}}class rr extends rt{name;constructor(e,t,r,i){super(e,t,i),d("string"==typeof r&&r.match(tW),"invalid identifier","name",r),i=Object.freeze(i.slice()),a(this,{name:r})}}function ri(e,t){return"("+t.map(t=>t.format(e)).join("full"===e?", ":",")+")"}class rn extends rr{constructor(e,t,r){super(e,"error",t,r),Object.defineProperty(this,t2,{value:t6})}get selector(){return t_(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+ri(e,this.inputs)),t.join(" ")}static from(e){if(rn.isFragment(e))return e;if("string"==typeof e)return rn.from(tz(e));if(e instanceof tG){let t=tH("error",e),r=tJ(e);return tZ(e),new rn(t1,t,r)}return new rn(t1,e.name,e.inputs?e.inputs.map(re.from):[])}static isFragment(e){return e&&e[t2]===t6}}class ra extends rr{anonymous;constructor(e,t,r,i){super(e,"event",t,r),Object.defineProperty(this,t2,{value:t3}),a(this,{anonymous:i})}get topicHash(){return t_(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+ri(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){return new ra(t1,e,t=(t||[]).map(e=>re.from(e)),!1).topicHash}static from(e){if(ra.isFragment(e))return e;if("string"==typeof e)try{return ra.from(tz(e))}catch(t){d(!1,"invalid event fragment","obj",e)}else if(e instanceof tG){let t=tH("event",e),r=tJ(e,!0),i=!!tX(e,tI(["anonymous"])).has("anonymous");return tZ(e),new ra(t1,t,r,i)}return new ra(t1,e.name,e.inputs?e.inputs.map(e=>re.from(e,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[t2]===t3}}class ro extends rt{payable;gas;constructor(e,t,r,i,n){super(e,t,r),Object.defineProperty(this,t2,{value:t4}),a(this,{payable:i,gas:n})}format(e){if(c(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t=[`constructor${ri(e,this.inputs)}`];return this.payable&&t.push("payable"),null!=this.gas&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(ro.isFragment(e))return e;if("string"==typeof e)try{return ro.from(tz(e))}catch(t){d(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof tG){tX(e,tI(["constructor"]));let t=tJ(e),r=!!tX(e,tN).has("payable"),i=tY(e);return tZ(e),new ro(t1,"constructor",t,r,i)}return new ro(t1,"constructor",e.inputs?e.inputs.map(re.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[t2]===t4}}class rs extends rt{payable;constructor(e,t,r){super(e,"fallback",t),Object.defineProperty(this,t2,{value:t8}),a(this,{payable:r})}format(e){let t=0===this.inputs.length?"receive":"fallback";return"json"===e?JSON.stringify({type:t,stateMutability:this.payable?"payable":"nonpayable"}):`${t}()${this.payable?" payable":""}`}static from(e){if(rs.isFragment(e))return e;if("string"==typeof e)try{return rs.from(tz(e))}catch(t){d(!1,"invalid fallback fragment","obj",e)}else if(e instanceof tG){let t=e.toString();if(d(e.peekKeyword(tI(["fallback","receive"])),"type must be fallback or receive","obj",t),"receive"===e.popKeyword(tI(["fallback","receive"]))){let t=tJ(e);return d(0===t.length,"receive cannot have arguments","obj.inputs",t),tX(e,tI(["payable"])),tZ(e),new rs(t1,[],!0)}let r=tJ(e);r.length?d(1===r.length&&"bytes"===r[0].type,"invalid fallback inputs","obj.inputs",r.map(e=>e.format("minimal")).join(", ")):r=[re.from("bytes")];let i=tQ(e);if(d("nonpayable"===i||"payable"===i,"fallback cannot be constants","obj.stateMutability",i),tX(e,tI(["returns"])).has("returns")){let t=tJ(e);d(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map(e=>e.format("minimal")).join(", "))}return tZ(e),new rs(t1,r,"payable"===i)}return"receive"===e.type?new rs(t1,[],!0):"fallback"===e.type?new rs(t1,[re.from("bytes")],"payable"===e.stateMutability):void d(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[t2]===t8}}class ru extends rr{constant;outputs;stateMutability;payable;gas;constructor(e,t,r,i,n,o){super(e,"function",t,i),Object.defineProperty(this,t2,{value:t7}),a(this,{constant:"view"===r||"pure"===r,gas:o,outputs:n=Object.freeze(n.slice()),payable:"payable"===r,stateMutability:r})}get selector(){return t_(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))});let t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+ri(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(ri(e,this.outputs))),null!=this.gas&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){return new ru(t1,e,"view",t=(t||[]).map(e=>re.from(e)),[],null).selector}static from(e){if(ru.isFragment(e))return e;if("string"==typeof e)try{return ru.from(tz(e))}catch(t){d(!1,"invalid function fragment","obj",e)}else if(e instanceof tG){let t=tH("function",e),r=tJ(e),i=tQ(e),n=[];tX(e,tI(["returns"])).has("returns")&&(n=tJ(e));let a=tY(e);return tZ(e),new ru(t1,t,i,r,n,a)}let t=e.stateMutability;return null==t&&(t="payable","boolean"==typeof e.constant?(t="view",!e.constant&&(t="payable","boolean"!=typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!=typeof e.payable||e.payable||(t="nonpayable")),new ru(t1,e.name,t,e.inputs?e.inputs.map(re.from):[],e.outputs?e.outputs.map(re.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[t2]===t7}}class rl extends rr{constructor(e,t,r){super(e,"struct",t,r),Object.defineProperty(this,t2,{value:t9})}format(){throw Error("@TODO")}static from(e){if("string"==typeof e)try{return rl.from(tz(e))}catch(t){d(!1,"invalid struct fragment","obj",e)}else if(e instanceof tG){let t=tH("struct",e),r=tJ(e);return tZ(e),new rl(t1,t,r)}return new rl(t1,e.name,e.inputs?e.inputs.map(re.from):[])}static isFragment(e){return e&&e[t2]===t9}}e.s(["ConstructorFragment",()=>ro,"ErrorFragment",()=>rn,"EventFragment",()=>ra,"FallbackFragment",()=>rs,"Fragment",()=>rt,"FunctionFragment",()=>ru,"NamedFragment",()=>rr,"ParamType",()=>re,"StructFragment",()=>rl],440394);let rc=new Map;rc.set(0,"GENERIC_PANIC"),rc.set(1,"ASSERT_FALSE"),rc.set(17,"OVERFLOW"),rc.set(18,"DIVIDE_BY_ZERO"),rc.set(33,"ENUM_RANGE_ERROR"),rc.set(34,"BAD_STORAGE_DATA"),rc.set(49,"STACK_UNDERFLOW"),rc.set(50,"ARRAY_RANGE_ERROR"),rc.set(65,"OUT_OF_MEMORY"),rc.set(81,"UNINITIALIZED_FUNCTION_CALL");let rd=new RegExp(/^bytes([0-9]*)$/),rf=new RegExp(/^(u?int)([0-9]*)$/),rp=null,rh=1024;class rm{#h(e){if(e.isArray())return new tm(this.#h(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new tP(e.components.map(e=>this.#h(e)),e.name);switch(e.baseType){case"address":return new td(e.name);case"bool":return new tb(e.name);case"string":return new tk(e.name);case"bytes":return new ty(e.name);case"":return new tw(e.name)}let t=e.type.match(rf);if(t){let r=parseInt(t[2]||"256");return d(0!==r&&r<=256&&r%8==0,"invalid "+t[1]+" bit length","param",e),new tE(r/8,"int"===t[1],e.name)}if(t=e.type.match(rd)){let r=parseInt(t[1]);return d(0!==r&&r<=32,"invalid bytes length","param",e),new tx(r,e.name)}d(!1,"invalid type","type",e.type)}getDefaultValue(e){return new tP(e.map(e=>this.#h(re.from(e))),"_").defaultValue()}encode(e,t){f(t.length,e.length,"types/values length mismatch");let r=new tP(e.map(e=>this.#h(re.from(e))),"_"),i=new eu;return r.encode(i,t),i.data}decode(e,t,r){return new tP(e.map(e=>this.#h(re.from(e))),"_").decode(new el(t,r,rh))}static _setDefaultMaxInflation(e){d("number"==typeof e&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),rh=e}static defaultAbiCoder(){return null==rp&&(rp=new rm),rp}static getBuiltinCallException(e,t,r){return function(e,t,r,i){let n="missing revert data",a=null,o=null;if(r){n="execution reverted";let e=g(r);if(r=v(r),0===e.length)n+=" (no data present; likely require(false) occurred",a="require(false)";else if(e.length%32!=4)n+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===v(e.slice(0,4)))try{a=i.decode(["string"],e.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[a]},n+=`: ${JSON.stringify(a)}`}catch(e){n+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===v(e.slice(0,4)))try{let t=Number(i.decode(["uint256"],e.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[t]},a=`Panic due to ${rc.get(t)||"UNKNOWN"}(${t})`,n+=`: ${a}`}catch(e){n+=" (could not decode panic code)"}else n+=" (unknown custom error)"}let s={to:t.to?tn(t.to):null,data:t.data||"0x"};return t.from&&(s.from=tn(t.from)),l(n,"CALL_EXCEPTION",{action:e,data:r,reason:a,transaction:s,invocation:null,revert:o})}(e,t,r,rm.defaultAbiCoder())}}e.s(["AbiCoder",()=>rm],897567);class rb{fragment;name;signature;topic;args;constructor(e,t,r){const i=e.name,n=e.format();a(this,{fragment:e,name:i,signature:n,topic:t,args:r})}}class rg{fragment;name;args;signature;selector;value;constructor(e,t,r,i){const n=e.name,o=e.format();a(this,{fragment:e,name:n,args:r,signature:o,selector:t,value:i})}}class ry{fragment;name;args;signature;selector;constructor(e,t,r){const i=e.name,n=e.format();a(this,{fragment:e,name:i,args:r,signature:n,selector:t})}}class rx{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){a(this,{hash:e,_isIndexed:!0})}}let rA={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},rw={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&rA[e.toString()]&&(t=rA[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};class rv{fragments;deploy;fallback;receive;#m;#b;#g;#y;constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,this.#g=new Map,this.#m=new Map,this.#b=new Map;const r=[];for(const e of t)try{r.push(rt.from(e))}catch(t){console.log(`[Warning] Invalid Fragment ${JSON.stringify(e)}:`,t.message)}a(this,{fragments:Object.freeze(r)});let i=null,n=!1;this.#y=this.getAbiCoder(),this.fragments.forEach((e,t)=>{let r;switch(e.type){case"constructor":if(this.deploy)return void console.log("duplicate definition - constructor");a(this,{deploy:e});return;case"fallback":0===e.inputs.length?n=!0:(d(!i||e.payable!==i.payable,"conflicting fallback fragments",`fragments[${t}]`,e),n=(i=e).payable);return;case"function":r=this.#g;break;case"event":r=this.#b;break;case"error":r=this.#m;break;default:return}let o=e.format();r.has(o)||r.set(o,e)}),this.deploy||a(this,{deploy:ro.from("constructor()")}),a(this,{fallback:i,receive:n})}format(e){let t=e?"minimal":"full";return this.fragments.map(e=>e.format(t))}formatJson(){return JSON.stringify(this.fragments.map(e=>e.format("json")).map(e=>JSON.parse(e)))}getAbiCoder(){return rm.defaultAbiCoder()}#x(e,t,r){if(x(e)){let t=e.toLowerCase();for(let e of this.#g.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){let i=[];for(let[t,r]of this.#g)t.split("(")[0]===e&&i.push(r);if(t){let e=t.length>0?t[t.length-1]:null,r=t.length,n=!0;tc.isTyped(e)&&"overrides"===e.type&&(n=!1,r--);for(let e=i.length-1;e>=0;e--){let t=i[e].inputs.length;t===r||n&&t===r-1||i.splice(e,1)}for(let e=i.length-1;e>=0;e--){let r=i[e].inputs;for(let n=0;n<t.length;n++)if(tc.isTyped(t[n])){if(n>=r.length){if("overrides"===t[n].type)continue;i.splice(e,1);break}if(t[n].type!==r[n].baseType){i.splice(e,1);break}}}}if(1===i.length&&t&&t.length!==i[0].inputs.length){let e=t[t.length-1];(null==e||Array.isArray(e)||"object"!=typeof e)&&i.splice(0,1)}if(0===i.length)return null;if(i.length>1&&r){let t=i.map(e=>JSON.stringify(e.format())).join(", ");d(!1,`ambiguous function description (i.e. matches ${t})`,"key",e)}return i[0]}let i=this.#g.get(ru.from(e).format());return i||null}getFunctionName(e){let t=this.#x(e,null,!1);return d(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#x(e,null,!1)}getFunction(e,t){return this.#x(e,t||null,!0)}forEachFunction(e){let t=Array.from(this.#g.keys());t.sort((e,t)=>e.localeCompare(t));for(let r=0;r<t.length;r++){let i=t[r];e(this.#g.get(i),r)}}#A(e,t,r){if(x(e)){let t=e.toLowerCase();for(let e of this.#b.values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){let i=[];for(let[t,r]of this.#b)t.split("(")[0]===e&&i.push(r);if(t){for(let e=i.length-1;e>=0;e--)i[e].inputs.length<t.length&&i.splice(e,1);for(let e=i.length-1;e>=0;e--){let r=i[e].inputs;for(let n=0;n<t.length;n++)if(tc.isTyped(t[n])&&t[n].type!==r[n].baseType){i.splice(e,1);break}}}if(0===i.length)return null;if(i.length>1&&r){let t=i.map(e=>JSON.stringify(e.format())).join(", ");d(!1,`ambiguous event description (i.e. matches ${t})`,"key",e)}return i[0]}let i=this.#b.get(ra.from(e).format());return i||null}getEventName(e){let t=this.#A(e,null,!1);return d(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#A(e,null,!1)}getEvent(e,t){return this.#A(e,t||null,!0)}forEachEvent(e){let t=Array.from(this.#b.keys());t.sort((e,t)=>e.localeCompare(t));for(let r=0;r<t.length;r++){let i=t[r];e(this.#b.get(i),r)}}getError(e,t){if(x(e)){let t=e.toLowerCase();if(rw[t])return rn.from(rw[t].signature);for(let e of this.#m.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){let t=[];for(let[r,i]of this.#m)r.split("(")[0]===e&&t.push(i);if(0===t.length)return"Error"===e?rn.from("error Error(string)"):"Panic"===e?rn.from("error Panic(uint256)"):null;if(t.length>1){let r=t.map(e=>JSON.stringify(e.format())).join(", ");d(!1,`ambiguous error description (i.e. ${r})`,"name",e)}return t[0]}if("Error(string)"===(e=rn.from(e).format()))return rn.from("error Error(string)");if("Panic(uint256)"===e)return rn.from("error Panic(uint256)");let r=this.#m.get(e);return r||null}forEachError(e){let t=Array.from(this.#m.keys());t.sort((e,t)=>e.localeCompare(t));for(let r=0;r<t.length;r++){let i=t[r];e(this.#m.get(i),r)}}_decodeParams(e,t){return this.#y.decode(e,t)}_encodeParams(e,t){return this.#y.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"==typeof e){let t=this.getError(e);d(t,"unknown error","fragment",e),e=t}return d(E(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,E(t,4))}encodeErrorResult(e,t){if("string"==typeof e){let t=this.getError(e);d(t,"unknown error","fragment",e),e=t}return S([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"==typeof e){let t=this.getFunction(e);d(t,"unknown function","fragment",e),e=t}return d(E(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,E(t,4))}encodeFunctionData(e,t){if("string"==typeof e){let t=this.getFunction(e);d(t,"unknown function","fragment",e),e=t}return S([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"==typeof e){let t=this.getFunction(e);d(t,"unknown function","fragment",e),e=t}let r="invalid length for result data",i=y(t);if(i.length%32==0)try{return this.#y.decode(e.outputs,i)}catch(e){r="could not decode result data"}c(!1,r,"BAD_DATA",{value:v(i),info:{method:e.name,signature:e.format()}})}makeError(e,t){let r=g(e,"data"),i=rm.getBuiltinCallException("call",t,r);if(i.message.startsWith("execution reverted (unknown custom error)")){let e=v(r.slice(0,4)),t=this.getError(e);if(t)try{let e=this.#y.decode(t.inputs,r.slice(4));i.revert={name:t.name,signature:t.format(),args:e},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch(e){i.message="execution reverted (coult not decode custom error)"}}let n=this.parseTransaction(t);return n&&(i.invocation={method:n.name,signature:n.signature,args:n.args}),i}encodeFunctionResult(e,t){if("string"==typeof e){let t=this.getFunction(e);d(t,"unknown function","fragment",e),e=t}return v(this.#y.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"==typeof e){let t=this.getEvent(e);d(t,"unknown event","eventFragment",e),e=t}c(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});let r=[];e.anonymous||r.push(e.topicHash);let i=(e,t)=>"string"===e.type?t_(t):"bytes"===e.type?e8(v(t)):("bool"===e.type&&"boolean"==typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=Q(t):e.type.match(/^bytes/)?t=I(t,32):"address"===e.type&&this.#y.encode(["address"],[t]),_(v(t),32));for(t.forEach((t,n)=>{let a=e.inputs[n];a.indexed?null==t?r.push(null):"array"===a.baseType||"tuple"===a.baseType?d(!1,"filtering with tuples or arrays not supported","contract."+a.name,t):Array.isArray(t)?r.push(t.map(e=>i(a,e))):r.push(i(a,t)):d(null==t,"cannot filter non-indexed parameters; must be null","contract."+a.name,t)});r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){if("string"==typeof e){let t=this.getEvent(e);d(t,"unknown event","eventFragment",e),e=t}let r=[],i=[],n=[];return e.anonymous||r.push(e.topicHash),d(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((e,a)=>{let o=t[a];if(e.indexed)if("string"===e.type)r.push(t_(o));else if("bytes"===e.type)r.push(e8(o));else if("tuple"===e.baseType||"array"===e.baseType)throw Error("not implemented");else r.push(this.#y.encode([e.type],[o]));else i.push(e),n.push(o)}),{data:this.#y.encode(i,n),topics:r}}decodeEventLog(e,t,r){if("string"==typeof e){let t=this.getEvent(e);d(t,"unknown event","eventFragment",e),e=t}if(null!=r&&!e.anonymous){let t=e.topicHash;d(x(r[0],32)&&r[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}let i=[],n=[],a=[];e.inputs.forEach((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(i.push(re.from({type:"bytes32",name:e.name})),a.push(!0)):(i.push(e),a.push(!1)):(n.push(e),a.push(!1))});let o=null!=r?this.#y.decode(i,S(r)):null,s=this.#y.decode(n,t,!0),u=[],l=[],c=0,f=0;return e.inputs.forEach((e,t)=>{let r=null;if(e.indexed)if(null==o)r=new rx(null);else if(a[t])r=new rx(o[f++]);else try{r=o[f++]}catch(e){r=e}else try{r=s[c++]}catch(e){r=e}u.push(r),l.push(e.name||null)}),en.fromItems(u,l)}parseTransaction(e){let t=g(e.data,"tx.data"),r=V(null!=e.value?e.value:0,"tx.value"),i=this.getFunction(v(t.slice(0,4)));if(!i)return null;let n=this.#y.decode(i.inputs,t.slice(4));return new rg(i,i.selector,n,r)}parseCallResult(e){throw Error("@TODO")}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new rb(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){let t=v(e),r=this.getError(E(t,0,4));if(!r)return null;let i=this.#y.decode(r.inputs,E(t,4));return new ry(r,r.selector,i)}static from(e){return e instanceof rv?e:new rv("string"==typeof e?JSON.parse(e):"function"==typeof e.formatJson?e.formatJson():"function"==typeof e.format?e.format("json"):e)}}function rS(e){let t=[];for(;e;)t.unshift(255&e),e>>=8;return t}e.s(["ErrorDescription",()=>ry,"Indexed",()=>rx,"Interface",()=>rv,"LogDescription",()=>rb,"TransactionDescription",()=>rg],222194);let rT="0123456789abcdef";function rE(e){let t="0x";for(let r of function e(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(t){r=r.concat(e(t))}),r.length<=55)return r.unshift(192+r.length),r;let i=rS(r.length);return i.unshift(247+i.length),i.concat(r)}let r=Array.prototype.slice.call(g(t,"object"));if(1===r.length&&r[0]<=127)return r;if(r.length<=55)return r.unshift(128+r.length),r;let i=rS(r.length);return i.unshift(183+i.length),i.concat(r)}(e))t+=rT[r>>4],t+=rT[15&r];return t}function rk(e){let t=tn(e.from),r=V(e.nonce,"tx.nonce").toString(16);return tn(E(e8(rE([t,r="0"===r?"0x":r.length%2?"0x0"+r:"0x"+r])),12))}function rP(e,t,r){let i=tn(e),n=g(t,"salt"),a=g(r,"initCodeHash");return d(32===n.length,"salt must be 32 bytes","salt",t),d(32===a.length,"initCodeHash must be 32 bytes","initCodeHash",r),tn(E(e8(S(["0xff",i,n,a])),12))}function r_(e){return e&&"function"==typeof e.getAddress}function rI(e){try{return tn(e),!0}catch(e){}return!1}async function rN(e,t){let r=await t;return(null==r||"0x0000000000000000000000000000000000000000"===r)&&(c("string"!=typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),d(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),tn(r)}function rR(e,t){return"string"==typeof e?e.match(/^0x[0-9a-f]{40}$/i)?tn(e):(c(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),rN(e,t.resolveName(e))):r_(e)?rN(e,e.getAddress()):e&&"function"==typeof e.then?rN(e,e):void d(!1,"unsupported addressable value","target",e)}e.s(["encodeRlp",()=>rE],798530),e.s(["getCreate2Address",()=>rP,"getCreateAddress",()=>rk],782045),e.s(["isAddress",()=>rI,"isAddressable",()=>r_,"resolveAddress",()=>rR],93323),e.s(["ZeroAddress",0,"0x0000000000000000000000000000000000000000"],33725);let rB=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),rC=BigInt("1000000000000000000"),rO=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),rD=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1),rM=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");e.s(["MaxInt256",0,rM,"MaxUint256",0,rO,"MinInt256",0,rD,"N",0,rB,"WeiPerEther",0,rC],420440);let rU="0x0000000000000000000000000000000000000000000000000000000000000000";function rF(e,t){return{address:tn(e),storageKeys:t.map((e,t)=>(d(x(e,32),"invalid slot",`storageKeys[${t}]`,e),e.toLowerCase()))}}function rL(e){if(Array.isArray(e))return e.map((t,r)=>Array.isArray(t)?(d(2===t.length,"invalid slot set",`value[${r}]`,t),rF(t[0],t[1])):(d(null!=t&&"object"==typeof t,"invalid address-slot set","value",e),rF(t.address,t.storageKeys)));d(null!=e&&"object"==typeof e,"invalid access list","value",e);let t=Object.keys(e).map(t=>{let r=e[t].reduce((e,t)=>(e[t]=!0,e),{});return rF(t,Object.keys(r).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}e.s(["ZeroHash",0,rU],244010),e.s(["EtherSymbol",0,"","MessagePrefix",0,"\x19Ethereum Signed Message:\n"],193826),e.s(["accessListify",()=>rL],360738);let rq=BigInt(0);function rK(e){return null==e?null:e}function rW(e){return null==e?null:e.toString()}class rV{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,r){a(this,{gasPrice:rK(e),maxFeePerGas:rK(t),maxPriorityFeePerGas:rK(r)})}toJSON(){let{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:rW(e),maxFeePerGas:rW(t),maxPriorityFeePerGas:rW(r)}}}function rG(e){let t={};for(let r of(e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=v(e.data)),"chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/)))r in e&&null!=e[r]&&(t[r]=V(e[r],`request.${r}`));for(let r of"type,nonce".split(/,/))r in e&&null!=e[r]&&(t[r]=H(e[r],`request.${r}`));return e.accessList&&(t.accessList=rL(e.accessList)),e.authorizationList&&(t.authorizationList=e.authorizationList.slice()),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobWrapperVersion"in e&&(t.blobWrapperVersion=e.blobWrapperVersion),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map(e=>A(e)?v(e):Object.assign({},e))),t}class rz{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#w;constructor(e,t){this.#w=e.transactions.map(e=>"string"!=typeof e?new rX(e,t):e),a(this,{provider:t,hash:rK(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:rK(e.prevRandao),extraData:e.extraData,baseFeePerGas:rK(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#w.map(e=>"string"==typeof e?e:e.hash)}get prefetchedTransactions(){let e=this.#w.slice();return 0===e.length?[]:(c("object"==typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){let{baseFeePerGas:e,difficulty:t,extraData:r,gasLimit:i,gasUsed:n,hash:a,miner:o,prevRandao:s,nonce:u,number:l,parentHash:c,parentBeaconBlockRoot:d,stateRoot:f,receiptsRoot:p,timestamp:h,transactions:m}=this;return{_type:"Block",baseFeePerGas:rW(e),difficulty:rW(t),extraData:r,gasLimit:rW(i),gasUsed:rW(n),blobGasUsed:rW(this.blobGasUsed),excessBlobGas:rW(this.excessBlobGas),hash:a,miner:o,prevRandao:s,nonce:u,number:l,parentHash:c,timestamp:h,parentBeaconBlockRoot:d,stateRoot:f,receiptsRoot:p,transactions:m}}[Symbol.iterator](){let e=0,t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#w.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let t;if("number"==typeof e)t=this.#w[e];else{let r=e.toLowerCase();for(let e of this.#w)if("string"==typeof e){if(e!==r)continue;t=e;break}else{if(e.hash!==r)continue;t=e;break}}if(null==t)throw Error("no such tx");return"string"==typeof t?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){let t=this.prefetchedTransactions;if("number"==typeof e)return t[e];for(let r of(e=e.toLowerCase(),t))if(r.hash===e)return r;d(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){var e;if(!this.isMined())throw Error("");return e=this,{orphan:"drop-block",hash:e.hash,number:e.number}}}class rj{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;const r=Object.freeze(e.topics.slice());a(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){let{address:e,blockHash:t,blockNumber:r,data:i,index:n,removed:a,topics:o,transactionHash:s,transactionIndex:u}=this;return{_type:"log",address:e,blockHash:t,blockNumber:r,data:i,index:n,removed:a,topics:o,transactionHash:s,transactionIndex:u}}async getBlock(){let e=await this.provider.getBlock(this.blockHash);return c(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){let e=await this.provider.getTransaction(this.transactionHash);return c(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){let e=await this.provider.getTransactionReceipt(this.transactionHash);return c(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){var e;return e=this,{orphan:"drop-log",log:{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}}}}class rH{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#v;constructor(e,t){this.#v=Object.freeze(e.logs.map(e=>new rj(e,t)));let r=rq;null!=e.effectiveGasPrice?r=e.effectiveGasPrice:null!=e.gasPrice&&(r=e.gasPrice),a(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#v}toJSON(){let{to:e,from:t,contractAddress:r,hash:i,index:n,blockHash:a,blockNumber:o,logsBloom:s,logs:u,status:l,root:c}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:o,contractAddress:r,cumulativeGasUsed:rW(this.cumulativeGasUsed),from:t,gasPrice:rW(this.gasPrice),blobGasUsed:rW(this.blobGasUsed),blobGasPrice:rW(this.blobGasPrice),gasUsed:rW(this.gasUsed),hash:i,index:n,logs:u,logsBloom:s,root:c,status:l,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){let e=await this.provider.getBlock(this.blockHash);if(null==e)throw Error("TODO");return e}async getTransaction(){let e=await this.provider.getTransaction(this.hash);if(null==e)throw Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return rJ(this)}reorderedEvent(e){return c(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),rQ(this,e)}}class rX{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#S;constructor(e,t){this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.maxFeePerBlobGas=null!=e.maxFeePerBlobGas?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.blobVersionedHashes=null!=e.blobVersionedHashes?e.blobVersionedHashes:null,this.authorizationList=null!=e.authorizationList?e.authorizationList:null,this.#S=-1}toJSON(){let{blockNumber:e,blockHash:t,index:r,hash:i,type:n,to:a,from:o,nonce:s,data:u,signature:l,accessList:c,blobVersionedHashes:d}=this;return{_type:"TransactionResponse",accessList:c,blockNumber:e,blockHash:t,blobVersionedHashes:d,chainId:rW(this.chainId),data:u,from:o,gasLimit:rW(this.gasLimit),gasPrice:rW(this.gasPrice),hash:i,maxFeePerGas:rW(this.maxFeePerGas),maxPriorityFeePerGas:rW(this.maxPriorityFeePerGas),maxFeePerBlobGas:rW(this.maxFeePerBlobGas),nonce:s,signature:l,to:a,index:r,type:n,value:rW(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){let t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;let t=this.provider.getBlock(e);if(null==t)throw Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){let{tx:e,blockNumber:t}=await n({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){let r=null==e?1:e,i=null==t?0:t,a=this.#S,o=-1,u=-1===a,d=async()=>{if(u)return null;let{blockNumber:e,nonce:t}=await n({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce){a=e;return}if(u)return null;let i=await this.getTransaction();if(!i||null==i.blockNumber)for(-1===o&&(o=a-3)<this.#S&&(o=this.#S);o<=e;){if(u)return null;let t=await this.provider.getBlock(o,!0);if(null==t)break;for(let e of t)if(e===this.hash)return;for(let i=0;i<t.length;i++){let n=await t.getTransaction(i);if(n.from===this.from&&n.nonce===this.nonce){if(u)return null;let t=await this.provider.getTransactionReceipt(n.hash);if(null==t||e-t.blockNumber+1<r)return;let i="replaced";n.data===this.data&&n.to===this.to&&n.value===this.value?i="repriced":"0x"===n.data&&n.from===n.to&&n.value===rq&&(i="cancelled"),c(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===i||"cancelled"===i,reason:i,replacement:n.replaceableTransaction(a),hash:n.hash,receipt:t})}}o++}},f=e=>{if(null==e||0!==e.status)return e;c(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},p=await this.provider.getTransactionReceipt(this.hash);if(0===r)return f(p);if(p){if(1===r||await p.confirmations()>=r)return f(p)}else if(await d(),0===r)return null;let h=new Promise((e,t)=>{let n=[],o=()=>{n.forEach(e=>e())};if(n.push(()=>{u=!0}),i>0){let e=setTimeout(()=>{o(),t(l("wait for transaction timeout","TIMEOUT"))},i);n.push(()=>{clearTimeout(e)})}let c=async i=>{if(await i.confirmations()>=r){o();try{e(f(i))}catch(e){t(e)}}};if(n.push(()=>{this.provider.off(this.hash,c)}),this.provider.on(this.hash,c),a>=0){let e=async()=>{try{await d()}catch(e){if(s(e,"TRANSACTION_REPLACED")){o(),t(e);return}}u||this.provider.once("block",e)};n.push(()=>{this.provider.off("block",e)}),this.provider.once("block",e)}});return await h}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return c(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),rJ(this)}reorderedEvent(e){return c(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),c(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),rQ(this,e)}replaceableTransaction(e){d(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);let t=new rX(this,this.provider);return t.#S=e,t}}function rQ(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function rJ(e){return{orphan:"drop-transaction",tx:e}}e.s(["Block",()=>rz,"FeeData",()=>rV,"Log",()=>rj,"TransactionReceipt",()=>rH,"TransactionResponse",()=>rX,"copyRequest",()=>rG],851047);class rY{filter;emitter;#T;constructor(e,t,r){this.#T=t,a(this,{emitter:e,filter:r})}async removeListener(){null!=this.#T&&await this.emitter.off(this.filter,this.#T)}}e.s(["EventPayload",()=>rY],477808);class rZ extends rj{interface;fragment;args;constructor(e,t,r){super(e,e.provider),a(this,{args:t.decodeEventLog(r,e.data,e.topics),fragment:r,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class r$ extends rj{error;constructor(e,t){super(e,e.provider),a(this,{error:t})}}class r0 extends rH{#E;constructor(e,t,r){super(r,t),this.#E=e}get logs(){return super.logs.map(e=>{let t=e.topics.length?this.#E.getEvent(e.topics[0]):null;if(t)try{return new rZ(e,this.#E,t)}catch(t){return new r$(e,t)}return e})}}class r1 extends rX{#E;constructor(e,t,r){super(r,t),this.#E=e}async wait(e,t){let r=await super.wait(e,t);return null==r?null:new r0(this.#E,this.provider,r)}}class r2 extends rY{log;constructor(e,t,r,i){super(e,t,r),a(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class r5 extends r2{constructor(e,t,r,i,n){super(e,t,r,new rZ(n,e.interface,i)),a(this,{args:e.interface.decodeEventLog(i,this.log.data,this.log.topics),fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}e.s(["ContractEventPayload",()=>r5,"ContractTransactionReceipt",()=>r0,"ContractTransactionResponse",()=>r1,"ContractUnknownEventPayload",()=>r2,"EventLog",()=>rZ,"UndecodedEventLog",()=>r$],474112);let r6=BigInt(0);function r3(e){return e&&"function"==typeof e.call}function r4(e){return e&&"function"==typeof e.estimateGas}function r8(e){return e&&"function"==typeof e.resolveName}function r7(e){return e&&"function"==typeof e.sendTransaction}function r9(e){if(null!=e){if(r8(e))return e;if(e.provider)return e.provider}}class ie{#k;fragment;constructor(e,t,r){if(a(this,{fragment:t}),t.inputs.length<r.length)throw Error("too many arguments");const i=it(e.runner,"resolveName"),n=r8(i)?i:null;this.#k=async function(){let i=await Promise.all(t.inputs.map((e,t)=>null==r[t]?null:e.walkAsync(r[t],(e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map(e=>rR(e,n))):rR(t,n):t)));return e.interface.encodeFilterTopics(t,i)}()}getTopicFilter(){return this.#k}}function it(e,t){return null==e?null:"function"==typeof e[t]?e:e.provider&&"function"==typeof e.provider[t]?e.provider:null}function ir(e){return null==e?null:e.provider||null}async function ii(e,t){let r=tc.dereference(e,"overrides");d("object"==typeof r,"invalid overrides parameter","overrides",e);let i=rG(r);return d(null==i.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",i.to),d(null==i.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",i.data),i.from&&(i.from=i.from),i}async function ia(e,t,r){let i=it(e,"resolveName"),n=r8(i)?i:null;return await Promise.all(t.map((e,t)=>e.walkAsync(r[t],(e,t)=>(t=tc.dereference(t,e),"address"===e)?rR(t,n):t)))}let io=Symbol.for("_ethersInternal_contract"),is=new WeakMap;function iu(e){return is.get(e[io])}async function il(e,t){let r,i=null;if(Array.isArray(t)){let i=function(t){if(x(t,32))return t;let r=e.interface.getEvent(t);return d(r,"unknown fragment","name",t),r.topicHash};r=t.map(e=>null==e?null:Array.isArray(e)?e.map(i):i(e))}else if("*"===t)r=[null];else if("string"==typeof t)x(t,32)?r=[t]:(d(i=e.interface.getEvent(t),"unknown fragment","event",t),r=[i.topicHash]);else t&&"object"==typeof t&&"getTopicFilter"in t&&"function"==typeof t.getTopicFilter&&t.fragment?r=await t.getTopicFilter():"fragment"in t?r=[(i=t.fragment).topicHash]:d(!1,"unknown event name","event",t);return{fragment:i,tag:(r=r.map(e=>{if(null==e)return null;if(Array.isArray(e)){let t=Array.from(new Set(e.map(e=>e.toLowerCase())).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()})).map(e=>null==e?"null":Array.isArray(e)?e.join("|"):e).join("&"),topics:r}}async function ic(e,t){let{subs:r}=iu(e);return r.get((await il(e,t)).tag)||null}async function id(e,t,r){let i=ir(e.runner);c(i,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});let{fragment:n,tag:a,topics:o}=await il(e,r),{addr:s,subs:u}=iu(e),l=u.get(a);if(!l){let t={address:s||e,topics:o},c=t=>{let i=n;if(null==i)try{i=e.interface.getEvent(t.topics[0])}catch(e){}if(i){let a=i,o=n?e.interface.decodeEventLog(n,t.data,t.topics):[];im(e,r,o,i=>new r5(e,i,r,a,t))}else im(e,r,[],i=>new r2(e,i,r,t))},d=[];l={tag:a,listeners:[],start:()=>{d.length||d.push(i.on(t,c))},stop:async()=>{if(0==d.length)return;let e=d;d=[],await Promise.all(e),i.off(t,c)}},u.set(a,l)}return l}let ip=Promise.resolve();async function ih(e,t,r,i){await ip;let n=await ic(e,t);if(!n)return!1;let a=n.listeners.length;return n.listeners=n.listeners.filter(({listener:t,once:n})=>{let a=Array.from(r);i&&a.push(i(n?null:t));try{t.call(e,...a)}catch(e){}return!n}),0===n.listeners.length&&(n.stop(),iu(e).subs.delete(n.tag)),a>0}async function im(e,t,r,i){try{await ip}catch(e){}let n=ih(e,t,r,i);return ip=n,await n}let ib=["then"];class ig{target;interface;runner;filters;[io];fallback;constructor(e,t,r,i){let n;d("string"==typeof e||r_(e),"invalid value for Contract target","target",e),null==r&&(r=null);const o=rv.from(t);a(this,{target:e,runner:r,interface:o}),Object.defineProperty(this,io,{value:{}});let f=null,p=null;if(i){const e=ir(r);p=new r1(this.interface,e,i)}let h=new Map;if("string"==typeof e)if(x(e))f=e,n=Promise.resolve(e);else{const t=it(r,"resolveName");if(!r8(t))throw l("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});n=t.resolveName(e).then(t=>{if(null==t)throw l("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return iu(this).addr=t,t})}else n=e.getAddress().then(e=>{if(null==e)throw Error("TODO");return iu(this).addr=e,e});return!function(e,t){is.set(e[io],t)}(this,{addrPromise:n,addr:f,deployTx:p,subs:h}),a(this,{filters:new Proxy({},{get:(e,t,r)=>{if("symbol"==typeof t||ib.indexOf(t)>=0)return Reflect.get(e,t,r);try{return this.getEvent(t)}catch(e){if(!s(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>ib.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))})}),a(this,{fallback:o.receive||o.fallback?function(e){let t=async function(t){let r=await ii(t,["data"]);r.to=await e.getAddress(),r.from&&(r.from=await rR(r.from,r9(e.runner)));let i=e.interface,n=V(r.value||r6,"overrides.value")===r6,a="0x"===(r.data||"0x");return!i.fallback||i.fallback.payable||!i.receive||a||n||d(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),d(i.fallback||a,"cannot send data to receive-only contract","overrides.data",r.data),d(i.receive||i.fallback&&i.fallback.payable||n,"cannot send value to non-payable fallback","overrides.value",r.value),d(i.fallback||a,"cannot send data to receive-only contract","overrides.data",r.data),r},r=async function(r){let i=it(e.runner,"call");c(r3(i),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let n=await t(r);try{return await i.call(n)}catch(t){if(u(t)&&t.data)throw e.interface.makeError(t.data,n);throw t}},i=async function(r){let i=e.runner;c(r7(i),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let n=await i.sendTransaction(await t(r)),a=ir(e.runner);return new r1(e.interface,a,n)},n=async function(r){let i=it(e.runner,"estimateGas");return c(r4(i),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await i.estimateGas(await t(r))},o=async e=>await i(e);return a(o,{_contract:e,estimateGas:n,populateTransaction:t,send:i,staticCall:r}),o}(this):null}),new Proxy(this,{get:(e,t,r)=>{if("symbol"==typeof t||t in e||ib.indexOf(t)>=0)return Reflect.get(e,t,r);try{return e.getFunction(t)}catch(e){if(!s(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>"symbol"==typeof t||t in e||ib.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new ig(this.target,this.interface,e)}attach(e){return new ig(e,this.interface,this.runner)}async getAddress(){return await iu(this).addrPromise}async getDeployedCode(){let e=ir(this.runner);c(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){let e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;let t=ir(this.runner);return c(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((e,r)=>{let i=async()=>{try{let r=await this.getDeployedCode();if(null!=r)return e(this);t.once("block",i)}catch(e){r(e)}};i()})}deploymentTransaction(){return iu(this).deployTx}getFunction(e){var t,r;let i,o,s,l,d,f,p;return"string"!=typeof e&&(e=e.format()),t=this,r=e,i=function(...e){let i=t.interface.getFunction(r,e);return c(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:r,args:e}}),i},o=async function(...e){let r=i(...e),a={};if(r.inputs.length+1===e.length&&(a=await ii(e.pop())).from&&(a.from=await rR(a.from,r9(t.runner))),r.inputs.length!==e.length)throw Error("internal error: fragment inputs doesn't match arguments; should not happen");let o=await ia(t.runner,r.inputs,e);return Object.assign({},a,await n({to:t.getAddress(),data:t.interface.encodeFunctionData(r,o)}))},s=async function(...e){let t=await f(...e);return 1===t.length?t[0]:t},l=async function(...e){let r=t.runner;c(r7(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let i=await r.sendTransaction(await o(...e)),n=ir(t.runner);return new r1(t.interface,n,i)},d=async function(...e){let r=it(t.runner,"estimateGas");return c(r4(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await o(...e))},f=async function(...e){let r=it(t.runner,"call");c(r3(r),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let n=await o(...e),a="0x";try{a=await r.call(n)}catch(e){if(u(e)&&e.data)throw t.interface.makeError(e.data,n);throw e}let s=i(...e);return t.interface.decodeFunctionResult(s,a)},a(p=async(...e)=>i(...e).constant?await s(...e):await l(...e),{name:t.interface.getFunctionName(r),_contract:t,_key:r,getFragment:i,estimateGas:d,populateTransaction:o,send:l,staticCall:s,staticCallResult:f}),Object.defineProperty(p,"fragment",{configurable:!1,enumerable:!0,get:()=>{let e=t.interface.getFunction(r);return c(e,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:r}}),e}}),p}getEvent(e){var t,r;let i,n;return"string"!=typeof e&&(e=e.format()),t=this,r=e,i=function(...e){let i=t.interface.getEvent(r,e);return c(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:r,args:e}}),i},a(n=function(...e){return new ie(t,i(...e),e)},{name:t.interface.getEventName(r),_contract:t,_key:r,getFragment:i}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{let e=t.interface.getEvent(r);return c(e,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:r}}),e}}),n}async queryTransaction(e){throw Error("@TODO")}async queryFilter(e,t,r){null==t&&(t=0),null==r&&(r="latest");let{addr:i,addrPromise:n}=iu(this),a=i||await n,{fragment:o,topics:s}=await il(this,e),u={address:a,topics:s,fromBlock:t,toBlock:r},l=ir(this.runner);return c(l,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await l.getLogs(u)).map(e=>{let t=o;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(e){}if(t)try{return new rZ(e,this.interface,t)}catch(t){return new r$(e,t)}return new rj(e,l)})}async on(e,t){let r=await id(this,"on",e);return r.listeners.push({listener:t,once:!1}),r.start(),this}async once(e,t){let r=await id(this,"once",e);return r.listeners.push({listener:t,once:!0}),r.start(),this}async emit(e,...t){return await im(this,e,t,null)}async listenerCount(e){if(e){let t=await ic(this,e);return t?t.listeners.length:0}let{subs:t}=iu(this),r=0;for(let{listeners:e}of t.values())r+=e.length;return r}async listeners(e){if(e){let t=await ic(this,e);return t?t.listeners.map(({listener:e})=>e):[]}let{subs:t}=iu(this),r=[];for(let{listeners:e}of t.values())r=r.concat(e.map(({listener:e})=>e));return r}async off(e,t){let r=await ic(this,e);if(!r)return this;if(t){let e=r.listeners.map(({listener:e})=>e).indexOf(t);e>=0&&r.listeners.splice(e,1)}return(null==t||0===r.listeners.length)&&(r.stop(),iu(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){let t=await ic(this,e);if(!t)return this;t.stop(),iu(this).subs.delete(t.tag)}else{let{subs:e}=iu(this);for(let{tag:t,stop:r}of e.values())r(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){return class extends ig{constructor(t,r=null){super(t,e,r)}}}static from(e,t,r){return null==r&&(r=null),new this(e,t,r)}}function iy(){return ig}class ix extends iy(){}e.s(["BaseContract",()=>ig,"Contract",()=>ix,"copyOverrides",()=>ii,"resolveArgs",()=>ia],67881);class iA{interface;bytecode;runner;constructor(e,t,r){const i=rv.from(e);t instanceof Uint8Array||("object"==typeof t&&(t=t.object),t.startsWith("0x")||(t="0x"+t)),a(this,{bytecode:t=v(g(t)),interface:i,runner:r||null})}attach(e){return new ig(e,this.interface,this.runner)}async getDeployTransaction(...e){let t={},r=this.interface.deploy;if(r.inputs.length+1===e.length&&(t=await ii(e.pop())),r.inputs.length!==e.length)throw Error("incorrect number of arguments to constructor");let i=await ia(this.runner,r.inputs,e);return Object.assign({},t,{data:S([this.bytecode,this.interface.encodeDeploy(i)])})}async deploy(...e){let t=await this.getDeployTransaction(...e);c(this.runner&&"function"==typeof this.runner.sendTransaction,"factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let r=await this.runner.sendTransaction(t);return new ig(rk(r),this.interface,this.runner,r)}connect(e){return new iA(this.interface,this.bytecode,e)}static fromSolidity(e,t){d(null!=e,"bad compiler output","output",e),"string"==typeof e&&(e=JSON.parse(e));let r=e.abi,i="";return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(r,i,t)}}e.s(["ContractFactory",()=>iA],372418);class iw extends eF{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,ef(e);const r=eU(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,n=new Uint8Array(i);n.set(r.length>i?e.create().update(r).digest():r);for(let e=0;e<n.length;e++)n[e]^=54;this.iHash.update(n),this.oHash=e.create();for(let e=0;e<n.length;e++)n[e]^=106;this.oHash.update(n),n.fill(0)}update(e){return ep(this),this.iHash.update(e),this}digestInto(e){ep(this),ed(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:i,destroyed:n,blockLen:a,outputLen:o}=this;return e.finished=i,e.destroyed=n,e.blockLen=a,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let iv=(e,t,r)=>new iw(e,t).update(r).digest();function iS(e,t,r,i){var n;let a,{c:o,dkLen:s,DK:u,PRF:l,PRFSalt:c}=function(e,t,r,i){ef(e);let{c:n,dkLen:a,asyncTick:o}=eq({dkLen:32,asyncTick:10},i);if(ec(n),ec(a),ec(o),n<1)throw Error("PBKDF2: iterations (c) should be >= 1");let s=eU(t),u=eU(r),l=new Uint8Array(a),c=iv.create(e,s),d=c._cloneInto().update(u);return{c:n,dkLen:a,asyncTick:o,DK:l,PRF:c,PRFSalt:d}}(e,t,r,i),d=new Uint8Array(4),f=eC(d),p=new Uint8Array(l.outputLen);for(let e=1,t=0;t<s;e++,t+=l.outputLen){let r=u.subarray(t,t+l.outputLen);f.setInt32(0,e,!1),(a=c._cloneInto(a)).update(d).digestInto(p),r.set(p.subarray(0,r.length));for(let e=1;e<o;e++){l._cloneInto(a).update(p).digestInto(p);for(let e=0;e<r.length;e++)r[e]^=p[e]}}return n=a,l.destroy(),c.destroy(),n&&n.destroy(),p.fill(0),u}iv.create=(e,t)=>new iw(e,t);class iT extends eF{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=eC(this.buffer)}update(e){ep(this);let{view:t,buffer:r,blockLen:i}=this,n=(e=eU(e)).length;for(let a=0;a<n;){let o=Math.min(i-this.pos,n-a);if(o===i){let t=eC(e);for(;i<=n-a;a+=i)this.process(t,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ep(this),eh(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:i,isLE:n}=this,{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(r,0),a=0);for(let e=a;e<i;e++)t[e]=0;!function(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);let n=BigInt(32),a=BigInt(0xffffffff),o=Number(r>>n&a),s=Number(r&a),u=4*!!i,l=4*!i;e.setUint32(t+u,o,i),e.setUint32(t+l,s,i)}(r,i-8,BigInt(8*this.length),n),this.process(r,0);let o=eC(e),s=this.outputLen;if(s%4)throw Error("_sha2: outputLen should be aligned to 32bit");let u=s/4,l=this.get();if(u>l.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)o.setUint32(4*e,l[e],n)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:i,finished:n,destroyed:a,pos:o}=this;return e.length=i,e.pos=o,e.finished=n,e.destroyed=a,i%t&&e.buffer.set(r),e}}let iE=(e,t,r)=>e&t^~e&r,ik=(e,t,r)=>e&t^e&r^t&r,iP=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),i_=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),iI=new Uint32Array(64);class iN extends iT{constructor(){super(64,32,8,!1),this.A=0|i_[0],this.B=0|i_[1],this.C=0|i_[2],this.D=0|i_[3],this.E=0|i_[4],this.F=0|i_[5],this.G=0|i_[6],this.H=0|i_[7]}get(){let{A:e,B:t,C:r,D:i,E:n,F:a,G:o,H:s}=this;return[e,t,r,i,n,a,o,s]}set(e,t,r,i,n,a,o,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|i,this.E=0|n,this.F=0|a,this.G=0|o,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)iI[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=iI[e-15],r=iI[e-2],i=eO(t,7)^eO(t,18)^t>>>3,n=eO(r,17)^eO(r,19)^r>>>10;iI[e]=n+iI[e-7]+i+iI[e-16]|0}let{A:r,B:i,C:n,D:a,E:o,F:s,G:u,H:l}=this;for(let e=0;e<64;e++){let t=l+(eO(o,6)^eO(o,11)^eO(o,25))+iE(o,s,u)+iP[e]+iI[e]|0,c=(eO(r,2)^eO(r,13)^eO(r,22))+ik(r,i,n)|0;l=u,u=s,s=o,o=a+t|0,a=n,n=i,i=r,r=t+c|0}r=r+this.A|0,i=i+this.B|0,n=n+this.C|0,a=a+this.D|0,o=o+this.E|0,s=s+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,i,n,a,o,s,u,l)}roundClean(){iI.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let iR=eK(()=>new iN),[iB,iC]=eg(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),iO=new Uint32Array(80),iD=new Uint32Array(80);class iM extends iT{constructor(){super(128,64,16,!1),this.Ah=0x6a09e667,this.Al=-0xc4336f8,this.Bh=-0x4498517b,this.Bl=-0x7b3558c5,this.Ch=0x3c6ef372,this.Cl=-0x16b07d5,this.Dh=-0x5ab00ac6,this.Dl=0x5f1d36f1,this.Eh=0x510e527f,this.El=-0x52197d2f,this.Fh=-0x64fa9774,this.Fl=0x2b3e6c1f,this.Gh=0x1f83d9ab,this.Gl=-0x4be4295,this.Hh=0x5be0cd19,this.Hl=0x137e2179}get(){let{Ah:e,Al:t,Bh:r,Bl:i,Ch:n,Cl:a,Dh:o,Dl:s,Eh:u,El:l,Fh:c,Fl:d,Gh:f,Gl:p,Hh:h,Hl:m}=this;return[e,t,r,i,n,a,o,s,u,l,c,d,f,p,h,m]}set(e,t,r,i,n,a,o,s,u,l,c,d,f,p,h,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|i,this.Ch=0|n,this.Cl=0|a,this.Dh=0|o,this.Dl=0|s,this.Eh=0|u,this.El=0|l,this.Fh=0|c,this.Fl=0|d,this.Gh=0|f,this.Gl=0|p,this.Hh=0|h,this.Hl=0|m}process(e,t){for(let r=0;r<16;r++,t+=4)iO[r]=e.getUint32(t),iD[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|iO[e-15],r=0|iD[e-15],i=eA(t,r,1)^eA(t,r,8)^ey(t,r,7),n=ew(t,r,1)^ew(t,r,8)^ex(t,r,7),a=0|iO[e-2],o=0|iD[e-2],s=eA(a,o,19)^ev(a,o,61)^ey(a,o,6),u=eP(n,ew(a,o,19)^eS(a,o,61)^ex(a,o,6),iD[e-7],iD[e-16]),l=e_(u,i,s,iO[e-7],iO[e-16]);iO[e]=0|l,iD[e]=0|u}let{Ah:r,Al:i,Bh:n,Bl:a,Ch:o,Cl:s,Dh:u,Dl:l,Eh:c,El:d,Fh:f,Fl:p,Gh:h,Gl:m,Hh:b,Hl:g}=this;for(let e=0;e<80;e++){let t=eA(c,d,14)^eA(c,d,18)^ev(c,d,41),y=ew(c,d,14)^ew(c,d,18)^eS(c,d,41),x=c&f^~c&h,A=eN(g,y,d&p^~d&m,iC[e],iD[e]),w=eI(A,b,t,x,iB[e],iO[e]),v=0|A,S=eA(r,i,28)^ev(r,i,34)^ev(r,i,39),T=ew(r,i,28)^eS(r,i,34)^eS(r,i,39),E=r&n^r&o^n&o,k=i&a^i&s^a&s;b=0|h,g=0|m,h=0|f,m=0|p,f=0|c,p=0|d,({h:c,l:d}=eT(0|u,0|l,0|w,0|v)),u=0|o,l=0|s,o=0|n,s=0|a,n=0|r,a=0|i;let P=eE(v,T,k);r=ek(P,w,S,E),i=0|P}({h:r,l:i}=eT(0|this.Ah,0|this.Al,0|r,0|i)),({h:n,l:a}=eT(0|this.Bh,0|this.Bl,0|n,0|a)),({h:o,l:s}=eT(0|this.Ch,0|this.Cl,0|o,0|s)),({h:u,l:l}=eT(0|this.Dh,0|this.Dl,0|u,0|l)),({h:c,l:d}=eT(0|this.Eh,0|this.El,0|c,0|d)),({h:f,l:p}=eT(0|this.Fh,0|this.Fl,0|f,0|p)),({h:h,l:m}=eT(0|this.Gh,0|this.Gl,0|h,0|m)),({h:b,l:g}=eT(0|this.Hh,0|this.Hl,0|b,0|g)),this.set(r,i,n,a,o,s,u,l,c,d,f,p,h,m,b,g)}roundClean(){iO.fill(0),iD.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let iU=eK(()=>new iM),iF="u">typeof self?self:"u">typeof window?window:e.g,iL=iF.crypto||iF.msCrypto;function iq(e){switch(e){case"sha256":return iR.create();case"sha512":return iU.create()}d(!1,"invalid hashing algorithm name","algorithm",e)}let iK=!1,iW=function(e,t,r){let i;return(d(null!=(i=({sha256:iR,sha512:iU})[e]),"invalid hmac algorithm","algorithm",e),iv.create(i,t)).update(r).digest()},iV=iW;function iG(e,t,r){let i=g(t,"key"),n=g(r,"data");return v(iV(e,i,n))}iG._=iW,iG.lock=function(){iK=!0},iG.register=function(e){if(iK)throw Error("computeHmac is locked");iV=e},Object.freeze(iG),e.s(["computeHmac",()=>iG],485685);let iz=!1,ij=function(e){let t;return new Uint8Array((c(null!=iL,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),d(Number.isInteger(e)&&e>0&&e<=1024,"invalid length","length",e),t=new Uint8Array(e),iL.getRandomValues(t),t))},iH=ij;function iX(e){return iH(e)}iX._=ij,iX.lock=function(){iz=!0},iX.register=function(e){if(iz)throw Error("randomBytes is locked");iH=e},Object.freeze(iX),e.s(["randomBytes",()=>iX],394944);let iQ=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),iJ=Uint8Array.from({length:16},(e,t)=>t),iY=iJ.map(e=>(9*e+5)%16),iZ=[iJ],i$=[iY];for(let e=0;e<4;e++)for(let t of[iZ,i$])t.push(t[e].map(e=>iQ[e]));let i0=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),i1=iZ.map((e,t)=>e.map(e=>i0[t][e])),i2=i$.map((e,t)=>e.map(e=>i0[t][e])),i5=new Uint32Array([0,0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xa953fd4e]),i6=new Uint32Array([0x50a28be6,0x5c4dd124,0x6d703ef3,0x7a6d76e9,0]),i3=(e,t)=>e<<t|e>>>32-t;function i4(e,t,r,i){return 0===e?t^r^i:1===e?t&r|~t&i:2===e?(t|~r)^i:3===e?t&i|r&~i:t^(r|~i)}let i8=new Uint32Array(16);class i7 extends iT{constructor(){super(64,20,8,!0),this.h0=0x67452301,this.h1=-0x10325477,this.h2=-0x67452302,this.h3=0x10325476,this.h4=-0x3c2d1e10}get(){let{h0:e,h1:t,h2:r,h3:i,h4:n}=this;return[e,t,r,i,n]}set(e,t,r,i,n){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|i,this.h4=0|n}process(e,t){for(let r=0;r<16;r++,t+=4)i8[r]=e.getUint32(t,!0);let r=0|this.h0,i=r,n=0|this.h1,a=n,o=0|this.h2,s=o,u=0|this.h3,l=u,c=0|this.h4,d=c;for(let e=0;e<5;e++){let t=4-e,f=i5[e],p=i6[e],h=iZ[e],m=i$[e],b=i1[e],g=i2[e];for(let t=0;t<16;t++){let i=i3(r+i4(e,n,o,u)+i8[h[t]]+f,b[t])+c|0;r=c,c=u,u=0|i3(o,10),o=n,n=i}for(let e=0;e<16;e++){let r=i3(i+i4(t,a,s,l)+i8[m[e]]+p,g[e])+d|0;i=d,d=l,l=0|i3(s,10),s=a,a=r}}this.set(this.h1+o+l|0,this.h2+u+d|0,this.h3+c+i|0,this.h4+r+a|0,this.h0+n+s|0)}roundClean(){i8.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}let i9=eK(()=>new i7),ne=!1,nt=function(e){return i9(e)},nr=nt;function ni(e){let t=g(e,"data");return v(nr(t))}ni._=nt,ni.lock=function(){ne=!0},ni.register=function(e){if(ne)throw TypeError("ripemd160 is locked");nr=e},Object.freeze(ni),e.s(["ripemd160",()=>ni],961018);let nn=function(e){return iq("sha256").update(e).digest()},na=function(e){return iq("sha512").update(e).digest()},no=nn,ns=na,nu=!1,nl=!1;function nc(e){let t=g(e,"data");return v(no(t))}function nd(e){let t=g(e,"data");return v(ns(t))}nc._=nn,nc.lock=function(){nu=!0},nc.register=function(e){if(nu)throw Error("sha256 is locked");no=e},Object.freeze(nc),nd._=na,nd.lock=function(){nl=!0},nd.register=function(e){if(nl)throw Error("sha512 is locked");ns=e},Object.freeze(nc),e.s(["sha256",()=>nc,"sha512",()=>nd],63637);let nf=!1,np=function(e,t,r,i,n){let a;return d(null!=(a=({sha256:iR,sha512:iU})[n]),"invalid pbkdf2 algorithm","algorithm",n),iS(a,e,t,{c:r,dkLen:i})},nh=np;function nm(e,t,r,i,n){let a=g(e,"password"),o=g(t,"salt");return v(nh(a,o,r,i,n))}nm._=np,nm.lock=function(){nf=!0},nm.register=function(e){if(nf)throw Error("pbkdf2 is locked");nh=e},Object.freeze(nm),e.s(["pbkdf2",()=>nm],767397);let nb=(e,t)=>e<<t|e>>>32-t;function ng(e,t,r,i,n,a){let o=e[t++]^r[i++],s=e[t++]^r[i++],u=e[t++]^r[i++],l=e[t++]^r[i++],c=e[t++]^r[i++],d=e[t++]^r[i++],f=e[t++]^r[i++],p=e[t++]^r[i++],h=e[t++]^r[i++],m=e[t++]^r[i++],b=e[t++]^r[i++],g=e[t++]^r[i++],y=e[t++]^r[i++],x=e[t++]^r[i++],A=e[t++]^r[i++],w=e[t++]^r[i++],v=o,S=s,T=u,E=l,k=c,P=d,_=f,I=p,N=h,R=m,B=b,C=g,O=y,D=x,M=A,U=w;for(let e=0;e<8;e+=2)k^=nb(v+O|0,7),N^=nb(k+v|0,9),O^=nb(N+k|0,13),v^=nb(O+N|0,18),R^=nb(P+S|0,7),D^=nb(R+P|0,9),S^=nb(D+R|0,13),P^=nb(S+D|0,18),M^=nb(B+_|0,7),T^=nb(M+B|0,9),_^=nb(T+M|0,13),B^=nb(_+T|0,18),E^=nb(U+C|0,7),I^=nb(E+U|0,9),C^=nb(I+E|0,13),U^=nb(C+I|0,18),S^=nb(v+E|0,7),T^=nb(S+v|0,9),E^=nb(T+S|0,13),v^=nb(E+T|0,18),_^=nb(P+k|0,7),I^=nb(_+P|0,9),k^=nb(I+_|0,13),P^=nb(k+I|0,18),C^=nb(B+R|0,7),N^=nb(C+B|0,9),R^=nb(N+C|0,13),B^=nb(R+N|0,18),O^=nb(U+M|0,7),D^=nb(O+U|0,9),M^=nb(D+O|0,13),U^=nb(M+D|0,18);n[a++]=o+v|0,n[a++]=s+S|0,n[a++]=u+T|0,n[a++]=l+E|0,n[a++]=c+k|0,n[a++]=d+P|0,n[a++]=f+_|0,n[a++]=p+I|0,n[a++]=h+N|0,n[a++]=m+R|0,n[a++]=b+B|0,n[a++]=g+C|0,n[a++]=y+O|0,n[a++]=x+D|0,n[a++]=A+M|0,n[a++]=w+U|0}function ny(e,t,r,i,n){let a=i+0,o=i+16*n;for(let i=0;i<16;i++)r[o+i]=e[t+(2*n-1)*16+i];for(let i=0;i<n;i++,a+=16,t+=16)ng(r,o,e,t,r,a),i>0&&(o+=16),ng(r,a,e,t+=16,r,o)}function nx(e,t,r){let{N:i,r:n,p:a,dkLen:o,asyncTick:s,maxmem:u,onProgress:l}=eq({dkLen:32,asyncTick:10,maxmem:0x40000400},r);if(ec(i),ec(n),ec(a),ec(o),ec(s),ec(u),void 0!==l&&"function"!=typeof l)throw Error("progressCb should be function");let c=128*n,d=c/4;if(i<=1||(i&i-1)!=0||i>=2**(c/8)||i>0x100000000)throw Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(a<0||a>(0x100000000-1)*32/c)throw Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(o<0||o>(0x100000000-1)*32)throw Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let f=c*(i+a);if(f>u)throw Error(`Scrypt: parameters too large, ${f} (128 * r * (N + p)) > ${u} (maxmem)`);let p=iS(iR,e,t,{c:1,dkLen:c*a}),h=eB(p),m=eB(new Uint8Array(c*i)),b=eB(new Uint8Array(c)),g=()=>{};if(l){let e=2*i*a,t=Math.max(Math.floor(e/1e4),1),r=0;g=()=>{r++,l&&(!(r%t)||r===e)&&l(r/e)}}return{N:i,r:n,p:a,dkLen:o,blockSize32:d,V:m,B32:h,B:p,tmp:b,blockMixCb:g,asyncTick:s}}function nA(e,t,r,i,n){let a=iS(iR,e,r,{c:1,dkLen:t});return r.fill(0),i.fill(0),n.fill(0),a}async function nw(e,t,r){let{N:i,r:n,p:a,dkLen:o,blockSize32:s,V:u,B32:l,B:c,tmp:d,blockMixCb:f,asyncTick:p}=nx(e,t,r);for(let e=0;e<a;e++){let t=s*e;for(let e=0;e<s;e++)u[e]=l[t+e];let r=0;await eM(i-1,p,()=>{ny(u,r,u,r+=s,n),f()}),ny(u,(i-1)*s,l,t,n),f(),await eM(i,p,()=>{let e=l[t+s-16]%i;for(let r=0;r<s;r++)d[r]=l[t+r]^u[e*s+r];ny(d,0,l,t,n),f()})}return nA(e,o,c,u,d)}let nv=!1,nS=!1,nT=async function(e,t,r,i,n,a,o){return await nw(e,t,{N:r,r:i,p:n,dkLen:a,onProgress:o})},nE=function(e,t,r,i,n,a){return function(e,t,r){let{N:i,r:n,p:a,dkLen:o,blockSize32:s,V:u,B32:l,B:c,tmp:d,blockMixCb:f}=nx(e,t,r);for(let e=0;e<a;e++){let t=s*e;for(let e=0;e<s;e++)u[e]=l[t+e];for(let e=0,t=0;e<i-1;e++)ny(u,t,u,t+=s,n),f();ny(u,(i-1)*s,l,t,n),f();for(let e=0;e<i;e++){let e=l[t+s-16]%i;for(let r=0;r<s;r++)d[r]=l[t+r]^u[e*s+r];ny(d,0,l,t,n),f()}}return nA(e,o,c,u,d)}(e,t,{N:r,r:i,p:n,dkLen:a})},nk=nT,nP=nE;async function n_(e,t,r,i,n,a,o){let s=g(e,"passwd"),u=g(t,"salt");return v(await nk(s,u,r,i,n,a,o))}function nI(e,t,r,i,n,a){let o=g(e,"passwd"),s=g(t,"salt");return v(nP(o,s,r,i,n,a))}function nN(){iG.lock(),e8.lock(),nm.lock(),iX.lock(),ni.lock(),n_.lock(),nI.lock(),nc.lock(),nd.lock(),iX.lock()}n_._=nT,n_.lock=function(){nS=!0},n_.register=function(e){if(nS)throw Error("scrypt is locked");nk=e},Object.freeze(n_),nI._=nE,nI.lock=function(){nv=!0},nI.register=function(e){if(nv)throw Error("scryptSync is locked");nP=e},Object.freeze(nI),e.s(["scrypt",()=>n_,"scryptSync",()=>nI],73023),e.s(["lock",()=>nN],952871);let nR=BigInt(0),nB=BigInt(1),nC=BigInt(2),nO=BigInt(27),nD=BigInt(28),nM=BigInt(35),nU=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),nF=nU/nC,nL=Symbol.for("nodejs.util.inspect.custom"),nq={};function nK(e){return _(J(e),32)}class nW{#P;#_;#I;#N;get r(){return this.#P}set r(e){d(32===T(e),"invalid r","value",e),this.#P=v(e)}get s(){return d(8>parseInt(this.#_.substring(0,3)),"non-canonical s; use ._s","s",this.#_),this.#_}set s(e){d(32===T(e),"invalid s","value",e),this.#_=v(e)}get _s(){return this.#_}isValid(){return BigInt(this.#_)<=nF}get v(){return this.#I}set v(e){let t=H(e,"value");d(27===t||28===t,"invalid v","v",e),this.#I=t}get networkV(){return this.#N}get legacyChainId(){let e=this.networkV;return null==e?null:nW.getChainId(e)}get yParity(){return+(27!==this.v)}get yParityAndS(){let e=g(this.s);return this.yParity&&(e[0]|=128),v(e)}get compactSerialized(){return S([this.r,this.yParityAndS])}get serialized(){return S([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,r,i){m(e,nq,"Signature"),this.#P=t,this.#_=r,this.#I=i,this.#N=null}getCanonical(){if(this.isValid())return this;let e=nU-BigInt(this._s),t=55-this.v,r=new nW(nq,this.r,nK(e),t);return this.networkV&&(r.#N=this.networkV),r}clone(){let e=new nW(nq,this.r,this._s,this.v);return this.networkV&&(e.#N=this.networkV),e}toJSON(){let e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this._s,v:this.v}}[nL](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(e){let t=V(e,"v");return t==nO||t==nD?nR:(d(t>=nM,"invalid EIP-155 v","v",e),(t-nM)/nC)}static getChainIdV(e,t){return V(e)*nC+BigInt(35+t-27)}static getNormalizedV(e){let t=V(e);return t===nR||t===nO?27:t===nB||t===nD?28:(d(t>=nM,"invalid v","v",e),t&nB?27:28)}static from(e){function t(t,r){d(t,r,"signature",e)}if(null==e)return new nW(nq,rU,rU,27);if("string"==typeof e){let r=g(e,"signature");if(64===r.length){let e=v(r.slice(0,32)),t=r.slice(32,64),i=128&t[0]?28:27;return t[0]&=127,new nW(nq,e,v(t),i)}if(65===r.length){let e=v(r.slice(0,32)),t=v(r.slice(32,64)),i=nW.getNormalizedV(r[64]);return new nW(nq,e,t,i)}t(!1,"invalid raw signature length")}if(e instanceof nW)return e.clone();let r=e.r;t(null!=r,"missing r");let i=nK(r),n=function(e,r){if(null!=e)return nK(e);if(null!=r){t(x(r,32),"invalid yParityAndS");let e=g(r);return e[0]&=127,v(e)}t(!1,"missing s")}(e.s,e.yParityAndS),{networkV:a,v:o}=function(e,r,i){if(null!=e){let t=V(e);return{networkV:t>=nM?t:void 0,v:nW.getNormalizedV(t)}}if(null!=r)return t(x(r,32),"invalid yParityAndS"),{v:128&g(r)[0]?28:27};if(null!=i){switch(H(i,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),s=new nW(nq,i,n,o);return a&&(s.#N=a),t(null==e.yParity||H(e.yParity,"sig.yParity")===s.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===s.yParityAndS,"yParityAndS mismatch"),s}}e.s(["Signature",()=>nW],257092);let nV=BigInt(0),nG=BigInt(1),nz=BigInt(2),nj=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function nH(e){if(!(e instanceof Uint8Array))throw Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=nj[e[r]];return t}function nX(e){let t=e.toString(16);return 1&t.length?`0${t}`:t}function nQ(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function nJ(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let r=new Uint8Array(t/2);for(let t=0;t<r.length;t++){let i=2*t,n=Number.parseInt(e.slice(i,i+2),16);if(Number.isNaN(n)||n<0)throw Error("Invalid byte sequence");r[t]=n}return r}function nY(e){return nQ(nH(e))}function nZ(e){if(!(e instanceof Uint8Array))throw Error("Uint8Array expected");return nQ(nH(Uint8Array.from(e).reverse()))}function n$(e,t){return nJ(e.toString(16).padStart(2*t,"0"))}function n0(e,t){return n$(e,t).reverse()}function n1(e){return nJ(nX(e))}function n2(e,t,r){let i;if("string"==typeof t)try{i=nJ(t)}catch(r){throw Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else if(t instanceof Uint8Array)i=Uint8Array.from(t);else throw Error(`${e} must be hex string or Uint8Array`);let n=i.length;if("number"==typeof r&&n!==r)throw Error(`${e} expected ${r} bytes, got ${n}`);return i}function n5(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;return e.forEach(e=>{if(!(e instanceof Uint8Array))throw Error("Uint8Array expected");t.set(e,r),r+=e.length}),t}function n6(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function n3(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function n4(e){let t;for(t=0;e>nV;e>>=nG,t+=1);return t}function n8(e,t){return e>>BigInt(t)&nG}let n7=e=>(nz<<BigInt(e-1))-nG,n9=e=>new Uint8Array(e);function ae(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let i=n9(e),n=n9(e),a=0,o=()=>{i.fill(1),n.fill(0),a=0},s=(...e)=>r(n,i,...e),u=(e=n9())=>{let t;if(n=s((t=[0],Uint8Array.from(t)),e),i=s(),0!==e.length){let t;n=s((t=[1],Uint8Array.from(t)),e),i=s()}},l=()=>{if(a++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(i=s()).slice();r.push(t),e+=i.length}return n5(...r)};return(e,t)=>{let r;for(o(),u(e);!(r=t(l()));)u();return o(),r}}let at={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function ar(e,t,r={}){let i=(t,r,i)=>{let n=at[r];if("function"!=typeof n)throw Error(`Invalid validator "${r}", expected function`);let a=e[t];if((!i||void 0!==a)&&!n(a,e))throw Error(`Invalid param ${String(t)}=${a} (${typeof a}), expected ${r}`)};for(let[e,r]of Object.entries(t))i(e,r,!1);for(let[e,t]of Object.entries(r))i(e,t,!0);return e}e.s(["bitGet",()=>n8,"bitLen",()=>n4,"bitMask",0,n7,"bitSet",0,(e,t,r)=>e|(r?nG:nV)<<BigInt(t),"bytesToHex",()=>nH,"bytesToNumberBE",()=>nY,"bytesToNumberLE",()=>nZ,"concatBytes",()=>n5,"createHmacDrbg",()=>ae,"ensureBytes",()=>n2,"equalBytes",()=>n6,"hexToBytes",()=>nJ,"hexToNumber",()=>nQ,"numberToBytesBE",()=>n$,"numberToBytesLE",()=>n0,"numberToHexUnpadded",()=>nX,"numberToVarBytesBE",()=>n1,"utf8ToBytes",()=>n3,"validateObject",()=>ar],88681);let ai=BigInt(0),an=BigInt(1),aa=BigInt(2),ao=BigInt(3),as=BigInt(4),au=BigInt(5),al=BigInt(8);function ac(e,t){let r=e%t;return r>=ai?r:t+r}function ad(e,t,r){let i=e;for(;t-- >ai;)i*=i,i%=r;return i}function af(e,t){if(e===ai||t<=ai)throw Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=ac(e,t),i=t,n=ai,a=an,o=an,s=ai;for(;r!==ai;){let e=i/r,t=i%r,u=n-o*e,l=a-s*e;i=r,r=t,n=o,a=s,o=u,s=l}if(i!==an)throw Error("invert: does not exist");return ac(n,t)}BigInt(9),BigInt(16);let ap=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ah(e){return ar(e,ap.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}function am(e,t){let r=void 0!==t?t:e.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}function ab(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function ag(e){let t=ab(e);return t+Math.ceil(t/2)}var ay,ax=e.i(88681);let aA=BigInt(0),aw=BigInt(1);function av(e){return ah(e.Fp),ar(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...am(e.n,e.nBitLength),...e,...{p:e.Fp.ORDER}})}let{bytesToNumberBE:aS,hexToBytes:aT}=ax,aE={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){let{Err:t}=aE;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");let r=e[1],i=e.subarray(2,r+2);if(!r||i.length!==r)throw new t("Invalid signature integer: wrong length");if(128&i[0])throw new t("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:aS(i),l:e.subarray(r+2)}},toSig(e){let{Err:t}=aE,r="string"==typeof e?aT(e):e;if(!(r instanceof Uint8Array))throw Error("ui8a expected");let i=r.length;if(i<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==i-2)throw new t("Invalid signature: incorrect length");let{d:n,l:a}=aE._parseInt(r.subarray(2)),{d:o,l:s}=aE._parseInt(a);if(s.length)throw new t("Invalid signature: left bytes after parsing");return{r:n,s:o}},hexFromSig(e){let t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{let t=e.toString(16);return 1&t.length?`0${t}`:t},i=t(r(e.s)),n=t(r(e.r)),a=i.length/2,o=n.length/2,s=r(a),u=r(o);return`30${r(o+a+4)}02${u}${n}02${s}${i}`}},ak=BigInt(0),aP=BigInt(1),a_=BigInt(2),aI=BigInt(3),aN=BigInt(4),aR=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),aB=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),aC=BigInt(1),aO=BigInt(2),aD=(e,t)=>(e+t/aO)/t,aM=function(e,t,r=!1,i={}){if(e<=ai)throw Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:n,nByteLength:a}=am(e,t);if(a>2048)throw Error("Field lengths over 2048 bytes are not supported");let o=function(e){if(e%as===ao){let t=(e+an)/as;return function(e,r){let i=e.pow(r,t);if(!e.eql(e.sqr(i),r))throw Error("Cannot find square root");return i}}if(e%al===au){let t=(e-au)/al;return function(e,r){let i=e.mul(r,aa),n=e.pow(i,t),a=e.mul(r,n),o=e.mul(e.mul(a,aa),n),s=e.mul(a,e.sub(o,e.ONE));if(!e.eql(e.sqr(s),r))throw Error("Cannot find square root");return s}}return function(e){let t,r,i,n=(e-an)/aa;for(t=e-an,r=0;t%aa===ai;t/=aa,r++);for(i=aa;i<e&&function(e,t,r){if(r<=ai||t<ai)throw Error("Expected power/modulo > 0");if(r===an)return ai;let i=an;for(;t>ai;)t&an&&(i=i*e%r),e=e*e%r,t>>=an;return i}(i,n,e)!==e-an;i++);if(1===r){let t=(e+an)/as;return function(e,r){let i=e.pow(r,t);if(!e.eql(e.sqr(i),r))throw Error("Cannot find square root");return i}}let a=(t+an)/aa;return function(e,o){if(e.pow(o,n)===e.neg(e.ONE))throw Error("Cannot find square root");let s=r,u=e.pow(e.mul(e.ONE,i),t),l=e.pow(o,a),c=e.pow(o,t);for(;!e.eql(c,e.ONE);){if(e.eql(c,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(c);t<s&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(u,an<<BigInt(s-t-1));u=e.sqr(r),l=e.mul(l,r),c=e.mul(c,u),s=t}return l}}(e)}(e),s=Object.freeze({ORDER:e,BITS:n,BYTES:a,MASK:n7(n),ZERO:ai,ONE:an,create:t=>ac(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error(`Invalid field element: expected bigint, got ${typeof t}`);return ai<=t&&t<e},is0:e=>e===ai,isOdd:e=>(e&an)===an,neg:t=>ac(-t,e),eql:(e,t)=>e===t,sqr:t=>ac(t*t,e),add:(t,r)=>ac(t+r,e),sub:(t,r)=>ac(t-r,e),mul:(t,r)=>ac(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<ai)throw Error("Expected power > 0");if(r===ai)return e.ONE;if(r===an)return t;let i=e.ONE,n=t;for(;r>ai;)r&an&&(i=e.mul(i,n)),n=e.sqr(n),r>>=an;return i})(s,e,t),div:(t,r)=>ac(t*af(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>af(t,e),sqrt:i.sqrt||(e=>o(s,e)),invertBatch:e=>{let t,r,i;return t=Array(e.length),r=e.reduce((e,r,i)=>s.is0(r)?e:(t[i]=e,s.mul(e,r)),s.ONE),i=s.inv(r),e.reduceRight((e,r,i)=>s.is0(r)?e:(t[i]=s.mul(e,t[i]),s.mul(e,r)),i),t},cmov:(e,t,r)=>r?t:e,toBytes:e=>r?n0(e,a):n$(e,a),fromBytes:e=>{if(e.length!==a)throw Error(`Fp.fromBytes: expected ${a}, got ${e.length}`);return r?nZ(e):nY(e)}});return Object.freeze(s)}(aR,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),i=BigInt(11),n=BigInt(22),a=BigInt(23),o=BigInt(44),s=BigInt(88),u=e*e*e%aR,l=u*u*e%aR,c=ad(l,t,aR)*l%aR,d=ad(c,t,aR)*l%aR,f=ad(d,aO,aR)*u%aR,p=ad(f,i,aR)*f%aR,h=ad(p,n,aR)*p%aR,m=ad(h,o,aR)*h%aR,b=ad(m,s,aR)*m%aR,g=ad(b,o,aR)*h%aR,y=ad(g,t,aR)*l%aR,x=ad(y,a,aR)*p%aR,A=ad(x,r,aR)*u%aR,w=ad(A,aO,aR);if(!aM.eql(aM.sqr(w),e))throw Error("Cannot find square root");return w}}),aU=(ay={a:BigInt(0),b:BigInt(7),Fp:aM,n:aB,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-aC*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),n=BigInt("0x100000000000000000000000000000000"),a=aD(t*e,aB),o=aD(-r*e,aB),s=ac(e-a*t-o*i,aB),u=ac(-a*r-o*t,aB),l=s>n,c=u>n;if(l&&(s=aB-s),c&&(u=aB-u),s>n||u>n)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:s,k2neg:c,k2:u}}}},Object.freeze({...(t=e=>(function(e){let t,r=(t=av(e),ax.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})),{Fp:i,n:n}=r,a=i.BYTES+1,o=2*i.BYTES+1;function s(e){return ac(e,n)}let{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:c,isWithinCurveOrder:d}=function(e){var t;let r,i,n=function(e){let t=av(e);ax.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:i,a:n}=t;if(r){if(!i.eql(n,i.ZERO))throw Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:a}=n,o=n.toBytes||((e,t,r)=>{let i=t.toAffine();return ax.concatBytes(Uint8Array.from([4]),a.toBytes(i.x),a.toBytes(i.y))}),s=n.fromBytes||(e=>{let t=e.subarray(1);return{x:a.fromBytes(t.subarray(0,a.BYTES)),y:a.fromBytes(t.subarray(a.BYTES,2*a.BYTES))}});function u(e){let{a:t,b:r}=n,i=a.sqr(e),o=a.mul(i,e);return a.add(a.add(o,a.mul(e,t)),r)}if(!a.eql(a.sqr(n.Gy),u(n.Gx)))throw Error("bad generator point: equation left != right");function l(e){return"bigint"==typeof e&&ak<e&&e<n.n}function c(e){if(!l(e))throw Error("Expected valid bigint: 0 < bigint < curve.n")}function d(e){let t,{allowedPrivateKeyLengths:r,nByteLength:i,wrapPrivateKey:a,n:o}=n;if(r&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=ax.bytesToHex(e)),"string"!=typeof e||!r.includes(e.length))throw Error("Invalid key");e=e.padStart(2*i,"0")}try{t="bigint"==typeof e?e:ax.bytesToNumberBE(n2("private key",e,i))}catch(t){throw Error(`private key must be ${i} bytes, hex or bigint, not ${typeof e}`)}return a&&(t=ac(t,o)),c(t),t}let f=new Map;function p(e){if(!(e instanceof h))throw Error("ProjectivePoint expected")}class h{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!a.isValid(e))throw Error("x required");if(null==t||!a.isValid(t))throw Error("y required");if(null==r||!a.isValid(r))throw Error("z required")}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!a.isValid(t)||!a.isValid(r))throw Error("invalid affine point");if(e instanceof h)throw Error("projective point not allowed");let i=e=>a.eql(e,a.ZERO);return i(t)&&i(r)?h.ZERO:new h(t,r,a.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=a.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(h.fromAffine)}static fromHex(e){let t=h.fromAffine(s(n2("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return h.BASE.multiply(d(e))}_setWindowSize(e){this._WINDOW_SIZE=e,f.delete(this)}assertValidity(){if(this.is0()){if(n.allowInfinityPoint&&!a.is0(this.py))return;throw Error("bad point: ZERO")}let{x:e,y:t}=this.toAffine();if(!a.isValid(e)||!a.isValid(t))throw Error("bad point: x or y not FE");let r=a.sqr(t),i=u(e);if(!a.eql(r,i))throw Error("bad point: equation left != right");if(!this.isTorsionFree())throw Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:e}=this.toAffine();if(a.isOdd)return!a.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){p(e);let{px:t,py:r,pz:i}=this,{px:n,py:o,pz:s}=e,u=a.eql(a.mul(t,s),a.mul(n,i)),l=a.eql(a.mul(r,s),a.mul(o,i));return u&&l}negate(){return new h(this.px,a.neg(this.py),this.pz)}double(){let{a:e,b:t}=n,r=a.mul(t,aI),{px:i,py:o,pz:s}=this,u=a.ZERO,l=a.ZERO,c=a.ZERO,d=a.mul(i,i),f=a.mul(o,o),p=a.mul(s,s),m=a.mul(i,o);return m=a.add(m,m),c=a.mul(i,s),c=a.add(c,c),u=a.mul(e,c),l=a.mul(r,p),l=a.add(u,l),u=a.sub(f,l),l=a.add(f,l),l=a.mul(u,l),u=a.mul(m,u),c=a.mul(r,c),p=a.mul(e,p),m=a.sub(d,p),m=a.mul(e,m),m=a.add(m,c),c=a.add(d,d),d=a.add(c,d),d=a.add(d,p),d=a.mul(d,m),l=a.add(l,d),p=a.mul(o,s),p=a.add(p,p),d=a.mul(p,m),u=a.sub(u,d),c=a.mul(p,f),c=a.add(c,c),new h(u,l,c=a.add(c,c))}add(e){p(e);let{px:t,py:r,pz:i}=this,{px:o,py:s,pz:u}=e,l=a.ZERO,c=a.ZERO,d=a.ZERO,f=n.a,m=a.mul(n.b,aI),b=a.mul(t,o),g=a.mul(r,s),y=a.mul(i,u),x=a.add(t,r),A=a.add(o,s);x=a.mul(x,A),A=a.add(b,g),x=a.sub(x,A),A=a.add(t,i);let w=a.add(o,u);return A=a.mul(A,w),w=a.add(b,y),A=a.sub(A,w),w=a.add(r,i),l=a.add(s,u),w=a.mul(w,l),l=a.add(g,y),w=a.sub(w,l),d=a.mul(f,A),l=a.mul(m,y),d=a.add(l,d),l=a.sub(g,d),d=a.add(g,d),c=a.mul(l,d),g=a.add(b,b),g=a.add(g,b),y=a.mul(f,y),A=a.mul(m,A),g=a.add(g,y),y=a.sub(b,y),y=a.mul(f,y),A=a.add(A,y),b=a.mul(g,A),c=a.add(c,b),b=a.mul(w,A),l=a.mul(x,l),l=a.sub(l,b),b=a.mul(x,g),d=a.mul(w,d),new h(l,c,d=a.add(d,b))}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return b.wNAFCached(this,f,e,e=>{let t=a.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(h.fromAffine)})}multiplyUnsafe(e){let t=h.ZERO;if(e===ak)return t;if(c(e),e===aP)return this;let{endo:r}=n;if(!r)return b.unsafeLadder(this,e);let{k1neg:i,k1:o,k2neg:s,k2:u}=r.splitScalar(e),l=t,d=t,f=this;for(;o>ak||u>ak;)o&aP&&(l=l.add(f)),u&aP&&(d=d.add(f)),f=f.double(),o>>=aP,u>>=aP;return i&&(l=l.negate()),s&&(d=d.negate()),d=new h(a.mul(d.px,r.beta),d.py,d.pz),l.add(d)}multiply(e){let t,r;c(e);let{endo:i}=n;if(i){let{k1neg:n,k1:o,k2neg:s,k2:u}=i.splitScalar(e),{p:l,f:c}=this.wNAF(o),{p:d,f:f}=this.wNAF(u);l=b.constTimeNegate(n,l),d=b.constTimeNegate(s,d),d=new h(a.mul(d.px,i.beta),d.py,d.pz),t=l.add(d),r=c.add(f)}else{let{p:i,f:n}=this.wNAF(e);t=i,r=n}return h.normalizeZ([t,r])[0]}multiplyAndAddUnsafe(e,t,r){let i=h.BASE,n=(e,t)=>t!==ak&&t!==aP&&e.equals(i)?e.multiply(t):e.multiplyUnsafe(t),a=n(this,t).add(n(e,r));return a.is0()?void 0:a}toAffine(e){let{px:t,py:r,pz:i}=this,n=this.is0();null==e&&(e=n?a.ONE:a.inv(i));let o=a.mul(t,e),s=a.mul(r,e),u=a.mul(i,e);if(n)return{x:a.ZERO,y:a.ZERO};if(!a.eql(u,a.ONE))throw Error("invZ was invalid");return{x:o,y:s}}isTorsionFree(){let{h:e,isTorsionFree:t}=n;if(e===aP)return!0;if(t)return t(h,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:t}=n;return e===aP?this:t?t(h,this):this.multiplyUnsafe(n.h)}toRawBytes(e=!0){return this.assertValidity(),o(h,this,e)}toHex(e=!0){return ax.bytesToHex(this.toRawBytes(e))}}h.BASE=new h(n.Gx,n.Gy,a.ONE),h.ZERO=new h(a.ZERO,a.ONE,a.ZERO);let m=n.nBitLength,b=(t=n.endo?Math.ceil(m/2):m,r=(e,t)=>{let r=t.negate();return e?r:t},i=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}),{constTimeNegate:r,unsafeLadder(e,t){let r=h.ZERO,i=e;for(;t>aA;)t&aw&&(r=r.add(i)),i=i.double(),t>>=aw;return r},precomputeWindow(e,t){let{windows:r,windowSize:n}=i(t),a=[],o=e,s=o;for(let e=0;e<r;e++){s=o,a.push(s);for(let e=1;e<n;e++)s=s.add(o),a.push(s);o=s.double()}return a},wNAF(e,t,n){let{windows:a,windowSize:o}=i(e),s=h.ZERO,u=h.BASE,l=BigInt(2**e-1),c=2**e,d=BigInt(e);for(let e=0;e<a;e++){let i=e*o,a=Number(n&l);n>>=d,a>o&&(a-=c,n+=aw);let f=i+Math.abs(a)-1,p=e%2!=0,h=a<0;0===a?u=u.add(r(p,t[i])):s=s.add(r(h,t[f]))}return{p:s,f:u}},wNAFCached(e,t,r,i){let n=e._WINDOW_SIZE||1,a=t.get(e);return a||(a=this.precomputeWindow(e,n),1!==n&&t.set(e,i(a))),this.wNAF(n,a,r)}});return{CURVE:n,ProjectivePoint:h,normPrivateKeyToScalar:d,weierstrassEquation:u,isWithinCurveOrder:l}}({...r,toBytes(e,t,r){let n=t.toAffine(),a=i.toBytes(n.x),o=ax.concatBytes;return r?o(Uint8Array.from([t.hasEvenY()?2:3]),a):o(Uint8Array.from([4]),a,i.toBytes(n.y))},fromBytes(e){let t=e.length,r=e[0],n=e.subarray(1);if(t===a&&(2===r||3===r)){let e=ax.bytesToNumberBE(n);if(!(ak<e&&e<i.ORDER))throw Error("Point is not on curve");let t=c(e),a=i.sqrt(t);return(1&r)==1!=((a&aP)===aP)&&(a=i.neg(a)),{x:e,y:a}}if(t===o&&4===r)return{x:i.fromBytes(n.subarray(0,i.BYTES)),y:i.fromBytes(n.subarray(i.BYTES,2*i.BYTES))};throw Error(`Point of length ${t} was invalid. Expected ${a} compressed bytes or ${o} uncompressed bytes`)}}),f=e=>ax.bytesToHex(ax.numberToBytesBE(e,r.nByteLength)),p=(e,t,r)=>ax.bytesToNumberBE(e.slice(t,r));class h{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){let t=r.nByteLength;return new h(p(e=n2("compactSignature",e,2*t),0,t),p(e,t,2*t))}static fromDER(e){let{r:t,s:r}=aE.toSig(n2("DER",e));return new h(t,r)}assertValidity(){if(!d(this.r))throw Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new h(this.r,this.s,e)}recoverPublicKey(e){let{r:t,s:a,recovery:o}=this,l=g(n2("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw Error("recovery id invalid");let c=2===o||3===o?t+r.n:t;if(c>=i.ORDER)throw Error("recovery id 2 or 3 invalid");let d=(1&o)==0?"02":"03",p=u.fromHex(d+f(c)),h=af(c,n),m=s(-l*h),b=s(a*h),y=u.BASE.multiplyAndAddUnsafe(p,m,b);if(!y)throw Error("point at infinify");return y.assertValidity(),y}hasHighS(){return this.s>n>>aP}normalizeS(){return this.hasHighS()?new h(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return ax.hexToBytes(this.toDERHex())}toDERHex(){return aE.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ax.hexToBytes(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}function m(e){let t=e instanceof Uint8Array,r="string"==typeof e,i=(t||r)&&e.length;return t?i===a||i===o:r?i===2*a||i===2*o:e instanceof u}let b=r.bits2int||function(e){let t=ax.bytesToNumberBE(e),i=8*e.length-r.nBitLength;return i>0?t>>BigInt(i):t},g=r.bits2int_modN||function(e){return s(b(e))},y=ax.bitMask(r.nBitLength);function x(e){if("bigint"!=typeof e)throw Error("bigint expected");if(!(ak<=e&&e<y))throw Error(`bigint expected < 2^${r.nBitLength}`);return ax.numberToBytesBE(e,r.nByteLength)}let A={lowS:r.lowS,prehash:!1},w={lowS:r.lowS,prehash:!1};return u.BASE._setWindowSize(8),{CURVE:r,getPublicKey:function(e,t=!0){return u.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(m(e))throw Error("first arg must be private key");if(!m(t))throw Error("second arg must be public key");return u.fromHex(t).multiply(l(e)).toRawBytes(r)},sign:function(e,t,a=A){let{seed:o,k2sig:c}=function(e,t,a=A){if(["recovered","canonical"].some(e=>e in a))throw Error("sign() legacy options not supported");let{hash:o,randomBytes:c}=r,{lowS:f,prehash:p,extraEntropy:m}=a;null==f&&(f=!0),e=n2("msgHash",e),p&&(e=n2("prehashed msgHash",o(e)));let y=g(e),w=l(t),v=[x(w),x(y)];if(null!=m){let e=!0===m?c(i.BYTES):m;v.push(n2("extraEntropy",e))}return{seed:ax.concatBytes(...v),k2sig:function(e){var t;let r=b(e);if(!d(r))return;let i=af(r,n),a=u.BASE.multiply(r).toAffine(),o=s(a.x);if(o===ak)return;let l=s(i*s(y+o*w));if(l===ak)return;let c=2*(a.x!==o)|Number(a.y&aP),p=l;return f&&l>n>>aP&&(p=(t=l)>n>>aP?s(-t):t,c^=1),new h(o,p,c)}}}(e,t,a);return ax.createHmacDrbg(r.hash.outputLen,r.nByteLength,r.hmac)(o,c)},verify:function(e,t,i,a=w){let o,l;if(t=n2("msgHash",t),i=n2("publicKey",i),"strict"in a)throw Error("options.strict was renamed to lowS");let{lowS:c,prehash:d}=a;try{if("string"==typeof e||e instanceof Uint8Array)try{l=h.fromDER(e)}catch(t){if(!(t instanceof aE.Err))throw t;l=h.fromCompact(e)}else if("object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s){let{r:t,s:r}=e;l=new h(t,r)}else throw Error("PARSE");o=u.fromHex(i)}catch(e){if("PARSE"===e.message)throw Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(c&&l.hasHighS())return!1;d&&(t=r.hash(t));let{r:f,s:p}=l,m=g(t),b=af(p,n),y=s(m*b),x=s(f*b),A=u.BASE.multiplyAndAddUnsafe(o,y,x)?.toAffine();return!!A&&s(A.x)===f},ProjectivePoint:u,Signature:h,utils:{isValidPrivateKey(e){try{return l(e),!0}catch(e){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{let e=ag(r.n);return function(e,t,r=!1){let i=e.length,n=ab(t),a=ag(t);if(i<16||i<a||i>1024)throw Error(`expected ${a}-1024 bytes of input, got ${i}`);let o=ac(r?nY(e):nZ(e),t-an)+an;return r?n0(o,n):n$(o,n)}(r.randomBytes(e),r.n)},precompute:(e=8,t=u.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...ay,hash:e,hmac:(t,...r)=>iv(e,t,function(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;return e.forEach(e=>{if(!(e instanceof Uint8Array))throw Error("Uint8Array expected");t.set(e,r),r+=e.length}),t}(...r)),randomBytes:eW}))(iR),create:t})),aF=BigInt(0);aU.ProjectivePoint;let aL=(r=[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(e=>BigInt(e))).map(e=>Array.from(e).reverse()),(e,t)=>{let[i,n,a,o]=r.map(t=>t.reduce((t,r)=>aM.add(aM.mul(t,e),r)));return e=aM.div(i,n),t=aM.mul(t,aM.div(a,o)),{x:e,y:t}}),aq=function(e,t){if(ah(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw Error("mapToCurveSimpleSWU: invalid opts");let r=function(e,t){let r=e.ORDER,i=ak;for(let e=r-aP;e%a_===ak;e/=a_)i+=aP;let n=i,a=a_<<n-aP-aP,o=a*a_,s=(r-aP)/o,u=(s-aP)/a_,l=o-aP,c=e.pow(t,s),d=e.pow(t,(s+aP)/a_),f=(t,r)=>{let i=c,o=e.pow(r,l),s=e.sqr(o);s=e.mul(s,r);let f=e.mul(t,s);f=e.pow(f,u),f=e.mul(f,o),o=e.mul(f,r),s=e.mul(f,t);let p=e.mul(s,o);f=e.pow(p,a);let h=e.eql(f,e.ONE);o=e.mul(s,d),f=e.mul(p,i),s=e.cmov(o,s,h),p=e.cmov(f,p,h);for(let t=n;t>aP;t--){let r=t-a_;r=a_<<r-aP;let n=e.pow(p,r),a=e.eql(n,e.ONE);o=e.mul(s,i),i=e.mul(i,i),n=e.mul(p,i),s=e.cmov(o,s,a),p=e.cmov(n,p,a)}return{isValid:h,value:s}};if(e.ORDER%aN===aI){let r=(e.ORDER-aI)/aN,i=e.sqrt(e.neg(t));f=(t,n)=>{let a=e.sqr(n),o=e.mul(t,n);a=e.mul(a,o);let s=e.pow(a,r);s=e.mul(s,o);let u=e.mul(s,i),l=e.mul(e.sqr(s),n),c=e.eql(l,t),d=e.cmov(u,s,c);return{isValid:c,value:d}}}return f}(e,t.Z);if(!e.isOdd)throw Error("Fp.isOdd is not implemented!");return i=>{let n,a,o,s,u,l,c,d;n=e.sqr(i),n=e.mul(n,t.Z),a=e.sqr(n),a=e.add(a,n),o=e.add(a,e.ONE),o=e.mul(o,t.B),s=e.cmov(t.Z,e.neg(a),!e.eql(a,e.ZERO)),s=e.mul(s,t.A),a=e.sqr(o),l=e.sqr(s),u=e.mul(l,t.A),a=e.add(a,u),a=e.mul(a,o),l=e.mul(l,s),u=e.mul(l,t.B),a=e.add(a,u),c=e.mul(n,o);let{isValid:f,value:p}=r(a,l);d=e.mul(n,i),d=e.mul(d,p),c=e.cmov(c,o,f),d=e.cmov(d,p,f);let h=e.isOdd(i)===e.isOdd(d);return d=e.cmov(e.neg(d),d,h),{x:c=e.div(c,s),y:d}}}(aM,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:aM.create(BigInt("-11"))});!function(e,t,r){if("function"!=typeof t)throw Error("mapToCurve() must be defined")}(aU.ProjectivePoint,e=>{let{x:t,y:r}=aq(aM.create(e[0]));return aL(t,r)},aM.ORDER);class aK{#R;constructor(e){d(32===T(e),"invalid private key","privateKey","[REDACTED]"),this.#R=v(e)}get privateKey(){return this.#R}get publicKey(){return aK.computePublicKey(this.#R)}get compressedPublicKey(){return aK.computePublicKey(this.#R,!0)}sign(e){d(32===T(e),"invalid digest length","digest",e);let t=aU.sign(y(e),y(this.#R),{lowS:!0});return nW.from({r:Q(t.r,32),s:Q(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){let t=aK.computePublicKey(e);return v(aU.getSharedSecret(y(this.#R),g(t),!1))}static computePublicKey(e,t){let r=g(e,"key");if(32===r.length)return v(aU.getPublicKey(r,!!t));if(64===r.length){let e=new Uint8Array(65);e[0]=4,e.set(r,1),r=e}return v(aU.ProjectivePoint.fromHex(r).toRawBytes(t))}static recoverPublicKey(e,t){d(32===T(e),"invalid digest length","digest",e);let r=nW.from(t),i=aU.Signature.fromCompact(y(S([r.r,r.s]))),n=(i=i.addRecoveryBit(r.yParity)).recoverPublicKey(y(e));return d(null!=n,"invalid signature for digest","signature",t),"0x"+n.toHex(!1)}static addPoints(e,t,r){let i=aU.ProjectivePoint.fromHex(aK.computePublicKey(e).substring(2)),n=aU.ProjectivePoint.fromHex(aK.computePublicKey(t).substring(2));return"0x"+i.add(n).toHex(!!r)}}e.s(["SigningKey",()=>aK],421227)},330389,e=>{"use strict";let t,r,i,n,a,o,s,u,l,c,d,f,p,h,m,b=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);function g(e){var t;let r;return t=function(e){let t=0;function r(){return e[t++]<<8|e[t++]}let i=r(),n=1,a=[0,1];for(let e=1;e<i;e++)a.push(n+=r());let o=r(),s=t;t+=o;let u=0,l=0;function c(){return 0==u&&(l=l<<8|e[t++],u=8),l>>--u&1}let d=0x80000000-1,f=0;for(let e=0;e<31;e++)f=f<<1|c();let p=[],h=0,m=0x80000000;for(;;){let e=Math.floor(((f-h+1)*n-1)/m),t=0,r=i;for(;r-t>1;){let i=t+r>>>1;e<a[i]?r=i:t=i}if(0==t)break;p.push(t);let o=h+Math.floor(m*a[t]/n),s=h+Math.floor(m*a[t+1]/n)-1;for(;((o^s)&0x40000000)==0;)f=f<<1&d|c(),o=o<<1&d,s=s<<1&d|1;for(;o&~s&0x20000000;)f=0x40000000&f|f<<1&d>>>1|c(),o=o<<1^0x40000000,s=(0x40000000^s)<<1|0x40000001;h=o,m=1+s-o}let b=i-4;return p.map(t=>{switch(t-b){case 3:return b+65792+(e[s++]<<16|e[s++]<<8|e[s++]);case 2:return b+256+(e[s++]<<8|e[s++]);case 1:return b+e[s++];default:return t-1}})}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((e,r)=>t[e.charCodeAt(0)]=r);let r=e.length,i=new Uint8Array(6*r>>3);for(let n=0,a=0,o=0,s=0;n<r;n++)s=s<<6|t[e.charCodeAt(n)],(o+=6)>=8&&(i[a++]=s>>(o-=8));return i}(e)),r=0,()=>t[r++]}function y(e,t=0){let r=[];for(;;){let i=e(),n=e();if(!n)break;t+=i;for(let e=0;e<n;e++)r.push(t+e);t+=n+1}return r}function x(e){return w(()=>{let t=y(e);if(t.length)return t})}function A(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(function(e,t){let r=1+t(),i=t(),n=w(t);return v(n.length,1+e,t).flatMap((e,t)=>{let[a,...o]=e;return Array(n[t]).fill().map((e,t)=>{let n=t*i;return[a+t*r,o.map(e=>e+n)]})})}(r,e))}for(;;){var r,i;let n=e()-1;if(n<0)break;t.push((r=n,v(1+(i=e)(),1+r,i).map(e=>[e[0],e.slice(1)])))}return t.flat()}function w(e){let t=[];for(;;){let r=e(t.length);if(!r)break;t.push(r)}return t}function v(e,t,r){let i=Array(e).fill().map(()=>[]);for(let n=0;n<t;n++)(function(e,t){let r=Array(e);for(let n=0,a=0;n<e;n++){var i;r[n]=a+=1&(i=t())?~i>>1:i>>1}return r})(e,r).forEach((e,t)=>i[t].push(e));return i}function S(e){return`{${e.toString(16).toUpperCase().padStart(2,"0")}}`}function T(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let r=[];for(let i=0;i<t;)r.push(String.fromCodePoint(...e.slice(i,i+=4096)));return r.join("")}function E(e,t){let r=e.length,i=r-t.length;for(let n=0;0==i&&n<r;n++)i=e[n]-t[n];return i}let k=55204;function P(e){return e>>24&255}function _(e){return 0xffffff&e}function I(e){return e>=44032&&e<k}function N(e){t||function(){let e=g("AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g");for(let[a,o]of(t=new Map(x(e).flatMap((e,t)=>e.map(e=>[e,t+1<<24]))),r=new Set(y(e)),i=new Map,n=new Map,A(e))){if(!r.has(a)&&2==o.length){let[e,t]=o,r=n.get(e);r||(r=new Map,n.set(e,r)),r.set(t,a)}i.set(a,o.reverse())}}();let a=[],o=[],s=!1;function u(e){let r=t.get(e);r&&(s=!0,e|=r),a.push(e)}for(let t of e)for(;;){if(t<128)a.push(t);else if(I(t)){let e=t-44032,r=e/588|0,i=e%588/28|0,n=e%28;u(4352+r),u(4449+i),n>0&&u(4519+n)}else{let e=i.get(t);e?o.push(...e):u(t)}if(!o.length)break;t=o.pop()}if(s&&a.length>1){let e=P(a[0]);for(let t=1;t<a.length;t++){let r=P(a[t]);if(0==r||e<=r){e=r;continue}let i=t-1;for(;;){let t=a[i+1];if(a[i+1]=a[i],a[i]=t,!i||(e=P(a[--i]))<=r)break}e=P(a[t])}}return a}function R(e){return function(e){let t=[],r=[],i=-1,a=0;for(let o of e){let e=P(o),s=_(o);if(-1==i)0==e?i=s:t.push(s);else if(a>0&&a>=e)0==e?(t.push(i,...r),r.length=0,i=s):r.push(s),a=e;else{let o=function(e,t){if(e>=4352&&e<4371&&t>=4449&&t<4470)return 44032+(e-4352)*588+(t-4449)*28;{if(I(e)&&t>4519&&t<4547&&(e-44032)%28==0)return e+(t-4519);let r=n.get(e);return r&&(r=r.get(t))?r:-1}}(i,s);o>=0?i=o:0==a&&0==e?(t.push(i),i=s):(r.push(s),a=e)}}return i>=0&&t.push(i,...r),t}(N(e))}let B=e=>Array.from(e);function C(e,t){return e.P.has(t)||e.Q.has(t)}class O extends Array{get is_emoji(){return!0}}function D(){let e,t;if(a)return;let r=g("AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI"),i=()=>new Set(y(r)),n=(e,t)=>t.forEach(t=>e.add(t));a=new Map(A(r)),o=i(),s=y(r),u=new Set(y(r).map(e=>s[e])),s=new Set(s),l=i(),i();let b=x(r),v=r(),S=()=>{let e=new Set;return y(r).forEach(t=>n(e,b[t])),n(e,y(r)),e};c=w(e=>{let t=w(r).map(e=>e+96);if(t.length){let i=e>=v;t[0]-=32,t=T(t),i&&(t=`Restricted[${t}]`);let n=S();return{N:t,P:n,Q:S(),M:!r(),R:i}}}),d=i(),f=new Map;let k=y(r).concat(B(d)).sort((e,t)=>e-t);for(let{V:e,M:t}of(k.forEach((e,t)=>{let i=r(),n=k[t]=i?k[t-i]:{V:[],M:new Map};n.V.push(e),d.has(e)||f.set(e,n)}),new Set(f.values()))){let r=[];for(let t of e){let e=c.filter(e=>C(e,t)),i=r.find(({G:t})=>e.some(e=>t.has(e)));i||(i={G:new Set,V:[]},r.push(i)),i.V.push(t),n(i.G,e)}let i=r.flatMap(e=>B(e.G));for(let{G:e,V:n}of r){let r=new Set(i.filter(t=>!e.has(t)));for(let e of n)t.set(e,r)}}p=new Set;let P=new Set,I=e=>p.has(e)?P.add(e):p.add(e);for(let e of c){for(let t of e.P)I(t);for(let t of e.Q)I(t)}for(let e of p)f.has(e)||P.has(e)||f.set(e,1);for(let i of(n(p,N(p).map(_)),h=(e=[],t=y(r),function t({S:r,B:i},n,a){if(!(4&r)||a!==n[n.length-1])for(let o of(2&r&&(a=n[n.length-1]),1&r&&e.push(n),i))for(let e of o.Q)t(o,[...n,e],a)}(function e(i){return{S:r(),B:w(()=>{let i=y(r).map(e=>t[e]);if(i.length)return e(i)}),Q:i}}([]),[]),e).map(e=>O.from(e)).sort(E),m=new Map,h)){let e=[m];for(let t of i){let r=e.map(e=>{let r=e.get(t);return r||(r=new Map,e.set(t,r)),r});65039===t?e.push(...r):e=r}for(let t of e)t.V=i}}function M(e){return(L(e)?"":`${U(F([e]))} `)+S(e)}function U(e){return`"${e}"\u200E`}function F(e,t=1/0,r=S){var i;let n=[];i=e[0],D(),s.has(i)&&n.push(""),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let a=0,o=e.length;for(let t=0;t<o;t++){let i=e[t];L(i)&&(n.push(T(e.slice(a,t))),n.push(r(i)),a=t+1)}return n.push(T(e.slice(a,o))),n.join("")}function L(e){return D(),l.has(e)}function q(e){var t;return(t=function(e,t,r){if(!e)return[];D();let i=0;return e.split(".").map(e=>{let n=function(e){let t=[];for(let r=0,i=e.length;r<i;){let i=e.codePointAt(r);r+=i<65536?1:2,t.push(i)}return t}(e),l={input:n,offset:i};i+=n.length+1;try{let e,i=l.tokens=function(e,t,r){let i=[],n=[];for(e=e.slice().reverse();e.length;){let s=function(e,t){let r,i=m,n=e.length;for(;n&&(i=i.get(e[--n]));){let{V:t}=i;t&&(r=t,e.length=n)}return r}(e);if(s)n.length&&(i.push(t(n)),n=[]),i.push(r(s));else{let t=e.pop();if(p.has(t))n.push(t);else{let e=a.get(t);if(e)n.push(...e);else if(!o.has(t))throw K(t)}}}return n.length&&i.push(t(n)),i}(n,t,r),d=i.length;if(!d)throw Error("empty label");let h=l.output=i.flat();for(let e=h.lastIndexOf(95);e>0;)if(95!==h[--e])throw Error("underscore allowed only at start");if(!(l.emoji=d>1||i[0].is_emoji)&&h.every(e=>e<128)){if(h.length>=4&&45==h[2]&&45==h[3])throw Error(`invalid label extension: "${T(h.slice(0,4))}"`);e="ASCII"}else{let t=i.flatMap(e=>e.is_emoji?[]:e);if(t.length){if(s.has(h[0]))throw V("leading combining mark");for(let e=1;e<d;e++){let t=i[e];if(!t.is_emoji&&s.has(t[0]))throw V(`emoji + combining mark: "${T(i[e-1])} + ${F([t[0]])}"`)}!function(e){let t=e[0],r=b.get(t);if(r)throw V(`leading ${r}`);let i=e.length,n=-1;for(let a=1;a<i;a++){t=e[a];let i=b.get(t);if(i){if(n==a)throw V(`${r} + ${i}`);n=a+1,r=i}}if(n==i)throw V(`trailing ${r}`)}(h);let r=B(new Set(t)),[n]=function(e){let t=c;for(let r of e){let e=t.filter(e=>C(e,r));if(!e.length)if(c.some(e=>C(e,r)))throw W(t[0],r);else throw K(r);if(t=e,1==e.length)break}return t}(r);(function(e,t){for(let r of t)if(!C(e,r))throw W(e,r);if(e.M){let e=N(t).map(_);for(let t=1,r=e.length;t<r;t++)if(u.has(e[t])){let i=t+1;for(let n;i<r&&u.has(n=e[i]);i++)for(let r=t;r<i;r++)if(e[r]==n)throw Error(`duplicate non-spacing marks: ${M(n)}`);if(i-t>4)throw Error(`excessive non-spacing marks: ${U(F(e.slice(t-1,i)))} (${i-t}/4)`);t=i}}})(n,t),function(e,t){let r,i=[];for(let e of t){let t=f.get(e);if(1===t)return;if(t){let i=t.M.get(e);if(!(r=r?r.filter(e=>i.has(e)):B(i)).length)return}else i.push(e)}if(r){for(let t of r)if(i.every(e=>C(t,e)))throw Error(`whole-script confusable: ${e.N}/${t.N}`)}}(n,r),e=n.N}else e="Emoji"}l.type=e}catch(e){l.error=e}return l})}(e,R,G)).map(({input:e,error:r,output:i})=>{if(r){let i=r.message;throw Error(1==t.length?i:`Invalid label ${U(F(e,63))}: ${i}`)}return T(i)}).join(".")}function K(e){return Error(`disallowed character: ${M(e)}`)}function W(e,t){let r=M(t),i=c.find(e=>e.P.has(t));return i&&(r=`${i.N} ${r}`),Error(`illegal mixture: ${e.N} + ${r}`)}function V(e){return Error(`illegal placement: ${e}`)}function G(e){return e.filter(e=>65039!=e)}e.s(["ens_normalize",()=>q])},7836,972072,501058,e=>{"use strict";e.i(708351);var t,r,i,n,a,o,s,u,l=e.i(524265),c=e.i(580840),d=e.i(897567),f=e.i(440394),p=e.i(536275),h=e.i(222194),m=e.i(32843),b=e.i(737003),g=e.i(782045),y=e.i(93323),x=e.i(33725),A=e.i(420440),w=e.i(244010),v=e.i(193826),S=e.i(67881),T=e.i(372418),E=e.i(474112),k=e.i(485685),P=e.i(394944),_=e.i(998146),I=e.i(961018),N=e.i(63637),R=e.i(767397),B=e.i(73023),C=e.i(952871),O=e.i(257092),D=e.i(421227),M=e.i(170987),U=e.i(498138),F=e.i(914218),L=e.i(438853),q=e.i(330389);let K=new Uint8Array(32);function W(e){return(0,F.assertArgument)(0!==e.length,"invalid ENS name; empty component","comp",e),e}function V(e){let t=(0,L.toUtf8Bytes)(G(e)),r=[];if(0===e.length)return r;let i=0;for(let e=0;e<t.length;e++)46===t[e]&&(r.push(W(t.slice(i,e))),i=e+1);return(0,F.assertArgument)(i<t.length,"invalid ENS name; empty component","name",e),r.push(W(t.slice(i))),r}function G(e){try{if(0===e.length)throw Error("empty label");return(0,q.ens_normalize)(e)}catch(t){(0,F.assertArgument)(!1,`invalid ENS name (${t.message})`,"name",e)}}function z(e){try{return 0!==V(e).length}catch(e){}return!1}function j(e){(0,F.assertArgument)("string"==typeof e,"invalid ENS name; not a string","name",e),(0,F.assertArgument)(e.length,"invalid ENS name (empty label)","name",e);let t=K,r=V(e);for(;r.length;)t=(0,_.keccak256)((0,U.concat)([t,(0,_.keccak256)(r.pop())]));return(0,U.hexlify)(t)}function H(e,t){let r=null!=t?t:63;return(0,F.assertArgument)(r<=255,"DNS encoded label cannot exceed 255","length",r),(0,U.hexlify)((0,U.concat)(V(e).map(t=>{(0,F.assertArgument)(t.length<=r,`label ${JSON.stringify(e)} exceeds ${r} bytes`,"name",e);let i=new Uint8Array(t.length+1);return i.set(t,1),i[0]=i.length-1,i})))+"00"}function X(e){let t;return t="string"==typeof e?D.SigningKey.computePublicKey(e,!1):e.publicKey,(0,b.getAddress)((0,_.keccak256)("0x"+t.substring(4)).substring(26))}function Q(e,t){return X(D.SigningKey.recoverPublicKey(e,t))}K.fill(0);var J=e.i(798530),Y=e.i(107339);function Z(e){return(0,F.assertArgument)("string"==typeof e.address,"invalid address for hashAuthorization","auth.address",e),(0,_.keccak256)((0,U.concat)(["0x05",(0,J.encodeRlp)([null!=e.chainId?(0,Y.toBeArray)(e.chainId):"0x",(0,b.getAddress)(e.address),null!=e.nonce?(0,Y.toBeArray)(e.nonce):"0x"])]))}function $(e,t){return Q(Z(e),t)}function ee(e){return"string"==typeof e&&(e=(0,L.toUtf8Bytes)(e)),(0,_.keccak256)((0,U.concat)([(0,L.toUtf8Bytes)(v.MessagePrefix),(0,L.toUtf8Bytes)(String(e.length)),e]))}function et(e,t){return Q(ee(e),t)}let er=RegExp("^bytes([0-9]+)$"),ei=RegExp("^(u?int)([0-9]*)$"),en=RegExp("^(.*)\\[([0-9]*)\\]$");function ea(e,t){(0,F.assertArgument)(e.length===t.length,"wrong number of values; expected ${ types.length }","values",t);let r=[];return e.forEach(function(e,i){r.push(function e(t,r,i){switch(t){case"address":if(i)return(0,U.getBytes)((0,U.zeroPadValue)(r,32));return(0,U.getBytes)((0,b.getAddress)(r));case"string":return(0,L.toUtf8Bytes)(r);case"bytes":return(0,U.getBytes)(r);case"bool":if(r=r?"0x01":"0x00",i)return(0,U.getBytes)((0,U.zeroPadValue)(r,32));return(0,U.getBytes)(r)}let n=t.match(ei);if(n){let e="int"===n[1],a=parseInt(n[2]||"256");return(0,F.assertArgument)((!n[2]||n[2]===String(a))&&a%8==0&&0!==a&&a<=256,"invalid number type","type",t),i&&(a=256),e&&(r=(0,Y.toTwos)(r,a)),(0,U.getBytes)((0,U.zeroPadValue)((0,Y.toBeArray)(r),a/8))}if(n=t.match(er)){let e=parseInt(n[1]);return((0,F.assertArgument)(String(e)===n[1]&&0!==e&&e<=32,"invalid bytes type","type",t),(0,F.assertArgument)((0,U.dataLength)(r)===e,`invalid value for ${t}`,"value",r),i)?(0,U.getBytes)((0,U.zeroPadBytes)(r,32)):r}if((n=t.match(en))&&Array.isArray(r)){let i=n[1],a=parseInt(n[2]||String(r.length));(0,F.assertArgument)(a===r.length,`invalid array length for ${t}`,"value",r);let o=[];return r.forEach(function(t){o.push(e(i,t,!0))}),(0,U.getBytes)((0,U.concat)(o))}(0,F.assertArgument)(!1,"invalid type","type",t)}(e,t[i]))}),(0,U.hexlify)((0,U.concat)(r))}function eo(e,t){return(0,_.keccak256)(ea(e,t))}function es(e,t){return(0,N.sha256)(ea(e,t))}var eu=e.i(892537);let el=new Uint8Array(32);el.fill(0);let ec=BigInt(-1),ed=BigInt(0),ef=BigInt(1),ep=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),eh=(0,Y.toBeHex)(ef,32),em=(0,Y.toBeHex)(ed,32),eb={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},eg=["name","version","chainId","verifyingContract","salt"];function ey(e){return function(t){return(0,F.assertArgument)("string"==typeof t,`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}let ex={name:ey("name"),version:ey("version"),chainId:function(e){let t=(0,Y.getBigInt)(e,"domain.chainId");return((0,F.assertArgument)(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t))?Number(t):(0,Y.toQuantity)(t)},verifyingContract:function(e){try{return(0,b.getAddress)(e).toLowerCase()}catch(e){}(0,F.assertArgument)(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){let t=(0,U.getBytes)(e,"domain.salt");return(0,F.assertArgument)(32===t.length,'invalid domain value "salt"',"domain.salt",e),(0,U.hexlify)(t)}};function eA(e){{let t=e.match(/^(u?)int(\d+)$/);if(t){let r=""===t[1],i=parseInt(t[2]);(0,F.assertArgument)(i%8==0&&0!==i&&i<=256&&t[2]===String(i),"invalid numeric width","type",e);let n=(0,Y.mask)(ep,r?i-1:i),a=r?(n+ef)*ec:ed;return function(t){let i=(0,Y.getBigInt)(t,"value");return(0,F.assertArgument)(i>=a&&i<=n,`value out-of-bounds for ${e}`,"value",i),(0,Y.toBeHex)(r?(0,Y.toTwos)(i,256):i,32)}}}{let t=e.match(/^bytes(\d+)$/);if(t){let r=parseInt(t[1]);return(0,F.assertArgument)(0!==r&&r<=32&&t[1]===String(r),"invalid bytes width","type",e),function(t){let i,n,a=(0,U.getBytes)(t);return(0,F.assertArgument)(a.length===r,`invalid length for ${e}`,"value",t),(n=(i=(0,U.getBytes)(t)).length%32)?(0,U.concat)([i,el.slice(n)]):(0,U.hexlify)(i)}}}switch(e){case"address":return function(e){return(0,U.zeroPadValue)((0,b.getAddress)(e),32)};case"bool":return function(e){return e?eh:em};case"bytes":return function(e){return(0,_.keccak256)(e)};case"string":return function(e){return(0,M.id)(e)}}return null}function ew(e,t){return`${e}(${t.map(({name:e,type:t})=>t+" "+e).join(",")})`}function ev(e){let t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}class eS{primaryType;#B;get types(){return JSON.parse(this.#B)}#C;#O;constructor(e){this.#C=new Map,this.#O=new Map;const t=new Map,r=new Map,i=new Map,n={};for(const a in Object.keys(e).forEach(a=>{n[a]=e[a].map(({name:t,type:r})=>{let{base:i,index:n}=ev(r);return"int"!==i||e.int||(i="int256"),"uint"!==i||e.uint||(i="uint256"),{name:t,type:i+(n||"")}}),t.set(a,new Set),r.set(a,[]),i.set(a,new Set)}),this.#B=JSON.stringify(n),n){const i=new Set;for(const o of n[a]){(0,F.assertArgument)(!i.has(o.name),`duplicate variable name ${JSON.stringify(o.name)} in ${JSON.stringify(a)}`,"types",e),i.add(o.name);const n=ev(o.type).base;(0,F.assertArgument)(n!==a,`circular type reference to ${JSON.stringify(n)}`,"types",e),eA(n)||((0,F.assertArgument)(r.has(n),`unknown type ${JSON.stringify(n)}`,"types",e),r.get(n).push(a),t.get(a).add(n))}}const a=Array.from(r.keys()).filter(e=>0===r.get(e).length);for(const[o,s]of((0,F.assertArgument)(0!==a.length,"missing primary type","types",e),(0,F.assertArgument)(1===a.length,`ambiguous primary types or unused types: ${a.map(e=>JSON.stringify(e)).join(", ")}`,"types",e),(0,eu.defineProperties)(this,{primaryType:a[0]}),!function n(a,o){for(let s of((0,F.assertArgument)(!o.has(a),`circular type reference to ${JSON.stringify(a)}`,"types",e),o.add(a),t.get(a)))if(r.has(s))for(let e of(n(s,o),o))i.get(e).add(s);o.delete(a)}(this.primaryType,new Set),i)){const e=Array.from(s);e.sort(),this.#C.set(o,ew(o,n[o])+e.map(e=>ew(e,n[e])).join(""))}}getEncoder(e){let t=this.#O.get(e);return t||(t=this.#D(e),this.#O.set(e,t)),t}#D(e){{let t=eA(e);if(t)return t}let t=ev(e).array;if(t){let e=t.prefix,r=this.getEncoder(e);return i=>{(0,F.assertArgument)(-1===t.count||t.count===i.length,`array length mismatch; expected length ${t.count}`,"value",i);let n=i.map(r);return this.#C.has(e)&&(n=n.map(_.keccak256)),(0,_.keccak256)((0,U.concat)(n))}}let r=this.types[e];if(r){let t=(0,M.id)(this.#C.get(e));return e=>{let i=r.map(({name:t,type:r})=>{let i=this.getEncoder(r)(e[t]);return this.#C.has(r)?(0,_.keccak256)(i):i});return i.unshift(t),(0,U.concat)(i)}}(0,F.assertArgument)(!1,`unknown type: ${e}`,"type",e)}encodeType(e){let t=this.#C.get(e);return(0,F.assertArgument)(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return(0,_.keccak256)(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(eA(e))return r(e,t);let i=ev(e).array;if(i)return(0,F.assertArgument)(-1===i.count||i.count===t.length,`array length mismatch; expected length ${i.count}`,"value",t),t.map(e=>this._visit(i.prefix,e,r));let n=this.types[e];if(n)return n.reduce((e,{name:i,type:n})=>(e[i]=this._visit(n,t[i],r),e),{});(0,F.assertArgument)(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new eS(e)}static getPrimaryType(e){return eS.from(e).primaryType}static hashStruct(e,t,r){return eS.from(t).hashStruct(e,r)}static hashDomain(e){let t=[];for(let r in e){if(null==e[r])continue;let i=eb[r];(0,F.assertArgument)(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:i})}return t.sort((e,t)=>eg.indexOf(e.name)-eg.indexOf(t.name)),eS.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return(0,U.concat)(["0x1901",eS.hashDomain(e),eS.from(t).hash(r)])}static hash(e,t,r){return(0,_.keccak256)(eS.encode(e,t,r))}static async resolveNames(e,t,r,i){for(let t in e=Object.assign({},e))null==e[t]&&delete e[t];let n={};e.verifyingContract&&!(0,U.isHexString)(e.verifyingContract,20)&&(n[e.verifyingContract]="0x");let a=eS.from(t);for(let e in a.visit(r,(e,t)=>("address"!==e||(0,U.isHexString)(t,20)||(n[t]="0x"),t)),n)n[e]=await i(e);return e.verifyingContract&&n[e.verifyingContract]&&(e.verifyingContract=n[e.verifyingContract]),r=a.visit(r,(e,t)=>"address"===e&&n[t]?n[t]:t),{domain:e,value:r}}static getPayload(e,t,r){eS.hashDomain(e);let i={},n=[];eg.forEach(t=>{let r=e[t];null!=r&&(i[t]=ex[t](r),n.push({name:t,type:eb[t]}))});let a=eS.from(t),o=Object.assign({},t=a.types);return(0,F.assertArgument)(null==o.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),o.EIP712Domain=n,a.encode(r),{types:o,domain:i,primaryType:a.primaryType,message:a.visit(r,(e,t)=>{if(e.match(/^bytes(\d*)/))return(0,U.hexlify)((0,U.getBytes)(t));if(e.match(/^u?int/))return(0,Y.getBigInt)(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return(0,F.assertArgument)("string"==typeof t,"invalid string","value",t),t}(0,F.assertArgument)(!1,"unsupported type","type",e)})}}}function eT(e,t,r,i){return Q(eS.hash(e,t,r),i)}function eE(e){let t=new Uint8Array((e=atob(e)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return(0,U.getBytes)(t)}function ek(e){let t=(0,U.getBytes)(e),r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return btoa(r)}function eP(e){return async function(t,r){let i;(0,F.assert)(null==r||!r.cancelled,"request cancelled before sending","CANCELLED");let n=t.url.split(":")[0].toLowerCase();(0,F.assert)("http"===n||"https"===n,`unsupported protocol ${n}`,"UNSUPPORTED_OPERATION",{info:{protocol:n},operation:"request"}),(0,F.assert)("https"===n||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let a=null,o=new AbortController,s=setTimeout(()=>{a=(0,F.makeError)("request timeout","TIMEOUT"),o.abort()},t.timeout);r&&r.addListener(()=>{a=(0,F.makeError)("request cancelled","CANCELLED"),o.abort()});let u=Object.assign({},e,{method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:o.signal});try{i=await fetch(t.url,u)}catch(e){if(clearTimeout(s),a)throw a;throw e}clearTimeout(s);let l={};i.headers.forEach((e,t)=>{l[t.toLowerCase()]=e});let c=await i.arrayBuffer(),d=null==c?null:new Uint8Array(c);return{statusCode:i.status,statusMessage:i.statusText,headers:l,body:d}}}eP({});let e_=eP(),eI=RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),eN=RegExp("^ipfs://(ipfs/)?(.*)$","i"),eR=!1;async function eB(e,t){try{var r;let t=e.match(eI);if(!t)throw Error("invalid data");return new eL(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?eE(t[3]):(r=t[3],(0,L.toUtf8Bytes)(r.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))))}catch(t){return new eL(599,"BAD REQUEST (invalid data: URI)",{},null,new eF(e))}}function eC(e){return async function(t,r){try{let r=t.match(eN);if(!r)throw Error("invalid link");return new eF(`${e}${r[2]}`)}catch(e){return new eL(599,"BAD REQUEST (invalid IPFS URI)",{},null,new eF(t))}}}let eO={data:eB,ipfs:eC("https://gateway.ipfs.io/ipfs/")},eD=new WeakMap;class eM{#M;#U;constructor(e){this.#M=[],this.#U=!1,eD.set(e,()=>{if(!this.#U){for(let e of(this.#U=!0,this.#M))setTimeout(()=>{e()},0);this.#M=[]}})}addListener(e){(0,F.assert)(!this.#U,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#M.push(e)}get cancelled(){return this.#U}checkSignal(){(0,F.assert)(!this.cancelled,"cancelled","CANCELLED",{})}}function eU(e){if(null==e)throw Error("missing signal; should not happen");return e.checkSignal(),e}class eF{#F;#L;#q;#K;#W;#V;#G;#z;#j;#H;#X;#Q;#J;#Y;#Z;get url(){return this.#V}set url(e){this.#V=String(e)}get body(){return null==this.#G?null:new Uint8Array(this.#G)}set body(e){if(null==e)this.#G=void 0,this.#z=void 0;else if("string"==typeof e)this.#G=(0,L.toUtf8Bytes)(e),this.#z="text/plain";else if(e instanceof Uint8Array)this.#G=e,this.#z="application/octet-stream";else if("object"==typeof e)this.#G=(0,L.toUtf8Bytes)(JSON.stringify(e)),this.#z="application/json";else throw Error("invalid body")}hasBody(){return null!=this.#G}get method(){return this.#K?this.#K:this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),this.#K=String(e).toUpperCase()}get headers(){let e=Object.assign({},this.#q);return this.#j&&(e.authorization=`Basic ${ek((0,L.toUtf8Bytes)(this.#j))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&this.#z&&(e["content-type"]=this.#z),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#q[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#q={}}[Symbol.iterator](){let e=this.headers,t=Object.keys(e),r=0;return{next:()=>{if(r<t.length){let i=t[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#j||null}setCredentials(e,t){(0,F.assertArgument)(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#j=`${e}:${t}`}get allowGzip(){return this.#L}set allowGzip(e){this.#L=!!e}get allowInsecureAuthentication(){return!!this.#F}set allowInsecureAuthentication(e){this.#F=!!e}get timeout(){return this.#W}set timeout(e){(0,F.assertArgument)(e>=0,"timeout must be non-zero","timeout",e),this.#W=e}get preflightFunc(){return this.#H||null}set preflightFunc(e){this.#H=e}get processFunc(){return this.#X||null}set processFunc(e){this.#X=e}get retryFunc(){return this.#Q||null}set retryFunc(e){this.#Q=e}get getUrlFunc(){return this.#Z||e_}set getUrlFunc(e){this.#Z=e}constructor(e){this.#V=String(e),this.#F=!1,this.#L=!0,this.#q={},this.#K="",this.#W=3e5,this.#Y={slotInterval:250,maxAttempts:12},this.#Z=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#G?(0,U.hexlify)(this.#G):"null"}>`}setThrottleParams(e){null!=e.slotInterval&&(this.#Y.slotInterval=e.slotInterval),null!=e.maxAttempts&&(this.#Y.maxAttempts=e.maxAttempts)}async #$(e,t,r,i,n){var a;if(e>=this.#Y.maxAttempts)return n.makeServerError("exceeded maximum retry limit");(0,F.assert)(eq()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await (a=r,new Promise(e=>setTimeout(e,a)));let o=this.clone(),s=(o.url.split(":")[0]||"").toLowerCase();if(s in eO){let e=await eO[s](o.url,eU(i.#J));if(e instanceof eL){let t=e;if(this.processFunc){eU(i.#J);try{t=await this.processFunc(o,t)}catch(e){(null==e.throttle||"number"!=typeof e.stall)&&t.makeServerError("error in post-processing function",e).assertOk()}}return t}o=e}this.preflightFunc&&(o=await this.preflightFunc(o));let u=await this.getUrlFunc(o,eU(i.#J)),l=new eL(u.statusCode,u.statusMessage,u.headers,u.body,i);if(301===l.statusCode||302===l.statusCode){try{let r=l.headers.location||"";return o.redirect(r).#$(e+1,t,0,i,l)}catch(e){}return l}if(429===l.statusCode&&(null==this.retryFunc||await this.retryFunc(o,l,e))){let r=l.headers["retry-after"],n=this.#Y.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"==typeof r&&r.match(/^[1-9][0-9]*$/)&&(n=parseInt(r)),o.clone().#$(e+1,t,n,i,l)}if(this.processFunc){eU(i.#J);try{l=await this.processFunc(o,l)}catch(n){(null==n.throttle||"number"!=typeof n.stall)&&l.makeServerError("error in post-processing function",n).assertOk();let r=this.#Y.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return n.stall>=0&&(r=n.stall),o.clone().#$(e+1,t,r,i,l)}}return l}send(){return(0,F.assert)(null==this.#J,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#J=new eM(this),this.#$(0,eq()+this.timeout,0,this,new eL(0,"",{},null,this))}cancel(){(0,F.assert)(null!=this.#J,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});let e=eD.get(this);if(!e)throw Error("missing signal; should not happen");e()}redirect(e){let t=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();(0,F.assert)("GET"===this.method&&("https"!==t||"http"!==r)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});let i=new eF(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,i.#q=Object.assign({},this.#q),this.#G&&(i.#G=new Uint8Array(this.#G)),i.#z=this.#z,i}clone(){let e=new eF(this.url);return e.#K=this.#K,this.#G&&(e.#G=this.#G),e.#z=this.#z,e.#q=Object.assign({},this.#q),e.#j=this.#j,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#H=this.#H,e.#X=this.#X,e.#Q=this.#Q,e.#Y=Object.assign({},this.#Y),e.#Z=this.#Z,e}static lockConfig(){eR=!0}static getGateway(e){return eO[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw Error(`cannot intercept ${e}; use registerGetUrl`);if(eR)throw Error("gateways locked");eO[e]=t}static registerGetUrl(e){if(eR)throw Error("gateways locked");e_=e}static createGetUrlFunc(e){return eP(e)}static createDataGateway(){return eB}static createIpfsGatewayFunc(e){return eC(e)}}class eL{#ee;#et;#q;#G;#er;#ei;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#G?(0,U.hexlify)(this.#G):"null"}>`}get statusCode(){return this.#ee}get statusMessage(){return this.#et}get headers(){return Object.assign({},this.#q)}get body(){return null==this.#G?null:new Uint8Array(this.#G)}get bodyText(){try{return null==this.#G?"":(0,L.toUtf8String)(this.#G)}catch(e){(0,F.assert)(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){(0,F.assert)(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){let e=this.headers,t=Object.keys(e),r=0;return{next:()=>{if(r<t.length){let i=t[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,r,i,n){this.#ee=e,this.#et=t,this.#q=Object.keys(r).reduce((e,t)=>(e[t.toLowerCase()]=String(r[t]),e),{}),this.#G=null==i?null:new Uint8Array(i),this.#er=n||null,this.#ei={message:""}}makeServerError(e,t){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);let i=new eL(599,r,this.headers,this.body,this.#er||void 0);return i.#ei={message:e,error:t},i}throwThrottleError(e,t){null==t?t=-1:(0,F.assertArgument)(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);let r=Error(e||"throttling requests");throw(0,eu.defineProperties)(r,{stall:t,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=this.#G}get request(){return this.#er}ok(){return""===this.#ei.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#ei;""===e&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let i=null;try{this.#G&&(i=(0,L.toUtf8String)(this.#G))}catch(e){}(0,F.assert)(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:r,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function eq(){return new Date().getTime()}let eK=new Set;function eW(e){eK.has(e)||(eK.add(e),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${e} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}var eV=e.i(360738);class eG{name;constructor(e){(0,eu.defineProperties)(this,{name:e})}clone(){return new eG(this.name)}}class ez extends eG{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){null==e&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const r={effectiveBlock:e};function i(e,i){let n=(t||{})[e];null==n&&(n=i),(0,F.assertArgument)("number"==typeof n,`invalud value for ${e}`,"costs",t),r[e]=n}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),(0,eu.defineProperties)(this,r)}clone(){return new ez(this.effectiveBlock,this)}}class ej extends eG{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),(0,eu.defineProperties)(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==t?1:t})}clone(){return new ej(this.address,this.targetNetwork)}}class eH extends eG{#en;get feeDataFunc(){return this.#en}constructor(e){super("org.ethers.plugins.network.FeeData"),this.#en=e}async getFeeData(e){return await this.#en(e)}clone(){return new eH(this.#en)}}class eX extends eG{#V;#ea;get url(){return this.#V}get processFunc(){return this.#ea}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#V=e,this.#ea=t}clone(){return this}}let eQ=new Map;class eJ{#eo;#es;#eu;constructor(e,t){this.#eo=e,this.#es=(0,Y.getBigInt)(t),this.#eu=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#eo}set name(e){this.#eo=e}get chainId(){return this.#es}set chainId(e){this.#es=(0,Y.getBigInt)(e,"chainId")}matches(e){if(null==e)return!1;if("string"==typeof e){try{return this.chainId===(0,Y.getBigInt)(e)}catch(e){}return this.name===e}if("number"==typeof e||"bigint"==typeof e){try{return this.chainId===(0,Y.getBigInt)(e)}catch(e){}return!1}if("object"==typeof e){if(null!=e.chainId){try{return this.chainId===(0,Y.getBigInt)(e.chainId)}catch(e){}return!1}if(null!=e.name)return this.name===e.name}return!1}get plugins(){return Array.from(this.#eu.values())}attachPlugin(e){if(this.#eu.get(e.name))throw Error(`cannot replace existing plugin: ${e.name} `);return this.#eu.set(e.name,e.clone()),this}getPlugin(e){return this.#eu.get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){let e=new eJ(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){let t=this.getPlugin("org.ethers.plugins.network.GasCost")||new ez,r=t.txBase;if(null==e.to&&(r+=t.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)"00"===e.data.substring(i,i+2)?r+=t.txDataZero:r+=t.txDataNonzero;if(e.accessList){let i=(0,eV.accessListify)(e.accessList);for(let e in i)r+=t.txAccessListAddress+t.txAccessListStorageKey*i[e].storageKeys.length}return r}static from(e){if(function(){e$||(e$=!0,e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",0xaa36a7,{ensNetwork:0xaa36a7}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("filecoin",314,{}),e("filecoin-calibration",314159,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("linea-sepolia",59141,{}),e("matic",137,{ensNetwork:1,plugins:[eZ("https://gasstation.polygon.technology/v2")]}),e("matic-amoy",80002,{}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[eZ("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",0xaa37dc,{}),e("xdai",100,{ensNetwork:1}));function e(e,t,r){let i=function(){let i=new eJ(e,t);return null!=r.ensNetwork&&i.attachPlugin(new ej(null,r.ensNetwork)),i.attachPlugin(new ez),(r.plugins||[]).forEach(e=>{i.attachPlugin(e)}),i};eJ.register(e,i),eJ.register(t,i),r.altNames&&r.altNames.forEach(e=>{eJ.register(e,i)})}}(),null==e)return eJ.from("mainnet");if("number"==typeof e&&(e=BigInt(e)),"string"==typeof e||"bigint"==typeof e){let t=eQ.get(e);if(t)return t();if("bigint"==typeof e)return new eJ("unknown",e);(0,F.assertArgument)(!1,"unknown network","network",e)}if("function"==typeof e.clone)return e.clone();if("object"==typeof e){(0,F.assertArgument)("string"==typeof e.name&&"number"==typeof e.chainId,"invalid network object name or chainId","network",e);let t=new eJ(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&t.attachPlugin(new ej(e.ensAddress,e.ensNetwork)),t}(0,F.assertArgument)(!1,"invalid network","network",e)}static register(e,t){"number"==typeof e&&(e=BigInt(e));let r=eQ.get(e);r&&(0,F.assertArgument)(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),eQ.set(e,t)}}function eY(e,t){let r=String(e);if(!r.match(/^[0-9.]+$/))throw Error(`invalid gwei value: ${e}`);let i=r.split(".");if(1===i.length&&i.push(""),2!==i.length)throw Error(`invalid gwei value: ${e}`);for(;i[1].length<t;)i[1]+="0";if(i[1].length>9){let e=BigInt(i[1].substring(0,9));!i[1].substring(9).match(/^0+$/)&&e++,i[1]=e.toString()}return BigInt(i[0]+i[1])}function eZ(e){return new eX(e,async(e,t,r)=>{let i;r.setHeader("User-Agent","ethers");try{let[t,n]=await Promise.all([r.send(),e()]),a=(i=t).bodyJson.standard;return{gasPrice:n.gasPrice,maxFeePerGas:eY(a.maxFee,9),maxPriorityFeePerGas:eY(a.maxPriorityFee,9)}}catch(e){(0,F.assert)(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:e})}})}let e$=!1;function e0(e){return{address:(0,b.getAddress)(e.address),nonce:(0,Y.getBigInt)(null!=e.nonce?e.nonce:0),chainId:(0,Y.getBigInt)(null!=e.chainId?e.chainId:0),signature:O.Signature.from(e.signature)}}function e1(e,t,r){let i=0;for(let n=0;n<r;n++)i=256*i+e[t+n];return i}function e2(e,t,r,i){let n=[];for(;r<t+1+i;){let a=e5(e,r);n.push(a.result),r+=a.consumed,(0,F.assert)(r<=t+1+i,"child data too short","BUFFER_OVERRUN",{buffer:e,length:i,offset:t})}return{consumed:1+i,result:n}}function e5(e,t){(0,F.assert)(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});let r=t=>{(0,F.assert)(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){let i=e[t]-247;r(t+1+i);let n=e1(e,t+1,i);return r(t+1+i+n),e2(e,t,t+1+i,i+n)}if(e[t]>=192){let i=e[t]-192;return r(t+1+i),e2(e,t,t+1,i)}if(e[t]>=184){let i=e[t]-183;r(t+1+i);let n=e1(e,t+1,i);r(t+1+i+n);let a=(0,U.hexlify)(e.slice(t+1+i,t+1+i+n));return{consumed:1+i+n,result:a}}if(e[t]>=128){let i=e[t]-128;r(t+1+i);let n=(0,U.hexlify)(e.slice(t+1,t+1+i));return{consumed:1+i,result:n}}return{consumed:1,result:function(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}(e[t])}}function e6(e){let t=(0,U.getBytes)(e,"data"),r=e5(t,0);return(0,F.assertArgument)(r.consumed===t.length,"unexpected junk after rlp payload","data",e),r.result}let e3=BigInt(0),e4=BigInt(2),e8=BigInt(27),e7=BigInt(28),e9=BigInt(35),te=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),tt=Symbol.for("nodejs.util.inspect.custom");function tr(e,t){let r=e.toString(16);for(;r.length<2;)r="0"+r;return"0x"+(r+=(0,N.sha256)(t).substring(4))}function ti(e){return"0x"===e?null:(0,b.getAddress)(e)}function tn(e,t){try{return(0,eV.accessListify)(e)}catch(r){(0,F.assertArgument)(!1,r.message,t,e)}}function ta(e,t){return"0x"===e?0:(0,Y.getNumber)(e,t)}function to(e,t){if("0x"===e)return e3;let r=(0,Y.getBigInt)(e,t);return(0,F.assertArgument)(r<=te,"value exceeds uint size",t,r),r}function ts(e,t){let r=(0,Y.getBigInt)(e,"value"),i=(0,Y.toBeArray)(r);return(0,F.assertArgument)(i.length<=32,"value too large",`tx.${t}`,r),i}function tu(e){return(0,eV.accessListify)(e).map(e=>[e.address,e.storageKeys])}function tl(e,t){let r;try{if(r=ta(t[0],"yParity"),0!==r&&1!==r)throw Error("bad yParity")}catch(e){(0,F.assertArgument)(!1,"invalid yParity","yParity",t[0])}let i=(0,U.zeroPadValue)(t[1],32),n=(0,U.zeroPadValue)(t[2],32);e.signature=O.Signature.from({r:i,s:n,yParity:r})}class tc{#el;#ec;#t;#ed;#ef;#ep;#eh;#em;#eb;#es;#eg;#ey;#ex;#eA;#ew;#ev;#eS;#eT;get type(){return this.#el}set type(e){switch(e){case null:this.#el=null;break;case 0:case"legacy":this.#el=0;break;case 1:case"berlin":case"eip-2930":this.#el=1;break;case 2:case"london":case"eip-1559":this.#el=2;break;case 3:case"cancun":case"eip-4844":this.#el=3;break;case 4:case"pectra":case"eip-7702":this.#el=4;break;default:(0,F.assertArgument)(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){let e=this.#ec;return null==e&&3===this.type?x.ZeroAddress:e}set to(e){this.#ec=null==e?null:(0,b.getAddress)(e)}get nonce(){return this.#ed}set nonce(e){this.#ed=(0,Y.getNumber)(e,"value")}get gasLimit(){return this.#ef}set gasLimit(e){this.#ef=(0,Y.getBigInt)(e)}get gasPrice(){let e=this.#ep;return null==e&&(0===this.type||1===this.type)?e3:e}set gasPrice(e){this.#ep=null==e?null:(0,Y.getBigInt)(e,"gasPrice")}get maxPriorityFeePerGas(){let e=this.#eh;return null==e?2===this.type||3===this.type?e3:null:e}set maxPriorityFeePerGas(e){this.#eh=null==e?null:(0,Y.getBigInt)(e,"maxPriorityFeePerGas")}get maxFeePerGas(){let e=this.#em;return null==e?2===this.type||3===this.type?e3:null:e}set maxFeePerGas(e){this.#em=null==e?null:(0,Y.getBigInt)(e,"maxFeePerGas")}get data(){return this.#t}set data(e){this.#t=(0,U.hexlify)(e)}get value(){return this.#eb}set value(e){this.#eb=(0,Y.getBigInt)(e,"value")}get chainId(){return this.#es}set chainId(e){this.#es=(0,Y.getBigInt)(e)}get signature(){return this.#eg||null}set signature(e){this.#eg=null==e?null:O.Signature.from(e)}isValid(){let e=this.signature;if(e&&!e.isValid())return!1;let t=this.authorizationList;if(t){for(let e of t)if(!e.signature.isValid())return!1}return!0}get accessList(){let e=this.#ey||null;return null==e?1===this.type||2===this.type||3===this.type?[]:null:e}set accessList(e){this.#ey=null==e?null:(0,eV.accessListify)(e)}get authorizationList(){let e=this.#eS||null;return null==e&&4===this.type?[]:e}set authorizationList(e){this.#eS=null==e?null:e.map(e=>e0(e))}get maxFeePerBlobGas(){let e=this.#ex;return null==e&&3===this.type?e3:e}set maxFeePerBlobGas(e){this.#ex=null==e?null:(0,Y.getBigInt)(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#eA;return null==e&&3===this.type?[]:e}set blobVersionedHashes(e){if(null!=e){(0,F.assertArgument)(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)(0,F.assertArgument)((0,U.isHexString)(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}this.#eA=e}get blobs(){return null==this.#ev?null:this.#ev.map(e=>Object.assign({},e))}set blobs(e){if(null==e){this.#ev=null;return}let t=[],r=[];for(let i=0;i<e.length;i++){let n=e[i];if((0,U.isBytesLike)(n)){(0,F.assert)(this.#ew,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let e=(0,U.getBytes)(n);if((0,F.assertArgument)(e.length<=131072,"blob is too large",`blobs[${i}]`,n),131072!==e.length){let t=new Uint8Array(131072);t.set(e),e=t}let a=this.#ew.blobToKzgCommitment(e),o=(0,U.hexlify)(this.#ew.computeBlobKzgProof(e,a));t.push({data:(0,U.hexlify)(e),commitment:(0,U.hexlify)(a),proof:o}),r.push(tr(1,a))}else{let e=(0,U.hexlify)(n.data),i=(0,U.hexlify)(n.commitment),a=(0,U.hexlify)(n.proof);t.push({data:e,commitment:i,proof:a}),r.push(tr(1,i))}}this.#ev=t,this.#eA=r}get kzg(){return this.#ew}set kzg(e){if(null==e)this.#ew=null;else this.#ew={blobToKzgCommitment:t=>{if("computeBlobProof"in e){if("blobToKzgCommitment"in e&&"function"==typeof e.blobToKzgCommitment)return(0,U.getBytes)(e.blobToKzgCommitment((0,U.hexlify)(t)))}else if("blobToKzgCommitment"in e&&"function"==typeof e.blobToKzgCommitment)return(0,U.getBytes)(e.blobToKzgCommitment(t));if("blobToKZGCommitment"in e&&"function"==typeof e.blobToKZGCommitment)return(0,U.getBytes)(e.blobToKZGCommitment((0,U.hexlify)(t)));(0,F.assertArgument)(!1,"unsupported KZG library","kzg",e)},computeBlobKzgProof:(t,r)=>"computeBlobProof"in e&&"function"==typeof e.computeBlobProof?(0,U.getBytes)(e.computeBlobProof((0,U.hexlify)(t),(0,U.hexlify)(r))):"computeBlobKzgProof"in e&&"function"==typeof e.computeBlobKzgProof?e.computeBlobKzgProof(t,r):"computeBlobKZGProof"in e&&"function"==typeof e.computeBlobKZGProof?(0,U.getBytes)(e.computeBlobKZGProof((0,U.hexlify)(t),(0,U.hexlify)(r))):void(0,F.assertArgument)(!1,"unsupported KZG library","kzg",e)}}get blobWrapperVersion(){return this.#eT}set blobWrapperVersion(e){this.#eT=e}constructor(){this.#el=null,this.#ec=null,this.#ed=0,this.#ef=e3,this.#ep=null,this.#eh=null,this.#em=null,this.#t="0x",this.#eb=e3,this.#es=e3,this.#eg=null,this.#ey=null,this.#ex=null,this.#eA=null,this.#ew=null,this.#ev=null,this.#eS=null,this.#eT=null}get hash(){return null==this.signature?null:(0,_.keccak256)(this.#eE(!0,!1))}get unsignedHash(){return(0,_.keccak256)(this.unsignedSerialized)}get from(){return null==this.signature?null:Q(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return null==this.signature?null:D.SigningKey.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return null!=this.signature}#eE(e,t){(0,F.assert)(!e||null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});let r=e?this.signature:null;switch(this.inferType()){case 0:return function(e,t){let r=[ts(e.nonce,"nonce"),ts(e.gasPrice||0,"gasPrice"),ts(e.gasLimit,"gasLimit"),e.to||"0x",ts(e.value,"value"),e.data],i=e3;if(e.chainId!=e3)i=(0,Y.getBigInt)(e.chainId,"tx.chainId"),(0,F.assertArgument)(!t||null==t.networkV||t.legacyChainId===i,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){let t=e.signature.legacyChainId;null!=t&&(i=t)}if(!t)return i!==e3&&(r.push((0,Y.toBeArray)(i)),r.push("0x"),r.push("0x")),(0,J.encodeRlp)(r);let n=BigInt(27+t.yParity);return i!==e3?n=O.Signature.getChainIdV(i,t.v):BigInt(t.v)!==n&&(0,F.assertArgument)(!1,"tx.chainId/sig.v mismatch","sig",t),r.push((0,Y.toBeArray)(n)),r.push((0,Y.toBeArray)(t.r)),r.push((0,Y.toBeArray)(t._s)),(0,J.encodeRlp)(r)}(this,r);case 1:let i;return i=[ts(this.chainId,"chainId"),ts(this.nonce,"nonce"),ts(this.gasPrice||0,"gasPrice"),ts(this.gasLimit,"gasLimit"),this.to||"0x",ts(this.value,"value"),this.data,tu(this.accessList||[])],r&&(i.push(ts(r.yParity,"recoveryParam")),i.push((0,Y.toBeArray)(r.r)),i.push((0,Y.toBeArray)(r.s))),(0,U.concat)(["0x01",(0,J.encodeRlp)(i)]);case 2:let n;return n=[ts(this.chainId,"chainId"),ts(this.nonce,"nonce"),ts(this.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ts(this.maxFeePerGas||0,"maxFeePerGas"),ts(this.gasLimit,"gasLimit"),this.to||"0x",ts(this.value,"value"),this.data,tu(this.accessList||[])],r&&(n.push(ts(r.yParity,"yParity")),n.push((0,Y.toBeArray)(r.r)),n.push((0,Y.toBeArray)(r.s))),(0,U.concat)(["0x02",(0,J.encodeRlp)(n)]);case 3:return function(e,t,r){let i=[ts(e.chainId,"chainId"),ts(e.nonce,"nonce"),ts(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ts(e.maxFeePerGas||0,"maxFeePerGas"),ts(e.gasLimit,"gasLimit"),e.to||x.ZeroAddress,ts(e.value,"value"),e.data,tu(e.accessList||[]),ts(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),function(e,t){(0,F.assertArgument)(Array.isArray(e),`invalid ${t}`,"value",e);for(let t=0;t<e.length;t++)(0,F.assertArgument)((0,U.isHexString)(e[t],32),"invalid ${ param } hash",`value[${t}]`,e[t]);return e}(e.blobVersionedHashes||[],"blobVersionedHashes")];if(t&&(i.push(ts(t.yParity,"yParity")),i.push((0,Y.toBeArray)(t.r)),i.push((0,Y.toBeArray)(t.s)),r)){if(null!=e.blobWrapperVersion){let t=(0,Y.toBeArray)(e.blobWrapperVersion),n=[];for(let{proof:e}of r){let t=(0,U.getBytes)(e),r=t.length/128;for(let e=0;e<t.length;e+=r)n.push(t.subarray(e,e+r))}return(0,U.concat)(["0x03",(0,J.encodeRlp)([i,t,r.map(e=>e.data),r.map(e=>e.commitment),n])])}return(0,U.concat)(["0x03",(0,J.encodeRlp)([i,r.map(e=>e.data),r.map(e=>e.commitment),r.map(e=>e.proof)])])}return(0,U.concat)(["0x03",(0,J.encodeRlp)(i)])}(this,r,t?this.blobs:null);case 4:let a=[ts(this.chainId,"chainId"),ts(this.nonce,"nonce"),ts(this.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ts(this.maxFeePerGas||0,"maxFeePerGas"),ts(this.gasLimit,"gasLimit"),this.to||"0x",ts(this.value,"value"),this.data,tu(this.accessList||[]),(this.authorizationList||[]).map(e=>[ts(e.chainId,"chainId"),e.address,ts(e.nonce,"nonce"),ts(e.signature.yParity,"yParity"),(0,Y.toBeArray)(e.signature.r),(0,Y.toBeArray)(e.signature._s)])];return r&&(a.push(ts(r.yParity,"yParity")),a.push((0,Y.toBeArray)(r.r)),a.push((0,Y.toBeArray)(r.s))),(0,U.concat)(["0x04",(0,J.encodeRlp)(a)])}(0,F.assert)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#eE(!0,!0)}get unsignedSerialized(){return this.#eE(!1,!1)}inferType(){let e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){let e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,r=null!=this.accessList,i=null!=this.#ex||this.#eA;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&(0,F.assert)(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),(0,F.assert)(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),(0,F.assert)(0!==this.type||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let n=[];return null!=this.type?n.push(this.type):this.authorizationList&&this.authorizationList.length?n.push(4):t?n.push(2):e?(n.push(1),r||n.push(0)):r?(n.push(1),n.push(2)):(i&&this.to||(n.push(0),n.push(1),n.push(2)),n.push(3)),n.sort(),n}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return tc.from(this)}toJSON(){let e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[tt](){return this.toString()}toString(){let e=[],t=t=>{let r=this[t];"string"==typeof r&&(r=JSON.stringify(r)),e.push(`${t}: ${r}`)};this.type&&t("type"),t("to"),t("data"),t("nonce"),t("gasLimit"),t("value"),null!=this.chainId&&t("chainId"),this.signature&&(t("from"),e.push(`signature: ${this.signature.toString()}`));let r=this.authorizationList;if(r){let t=[];for(let e of r){let r=[];r.push(`address: ${JSON.stringify(e.address)}`),null!=e.nonce&&r.push(`nonce: ${e.nonce}`),null!=e.chainId&&r.push(`chainId: ${e.chainId}`),e.signature&&r.push(`signature: ${e.signature.toString()}`),t.push(`Authorization { ${r.join(", ")} }`)}e.push(`authorizations: [ ${t.join(", ")} ]`)}return`Transaction { ${e.join(", ")} }`}static from(e){if(null==e)return new tc;if("string"==typeof e){let t=(0,U.getBytes)(e);if(t[0]>=127)return tc.from(function(e){let t=e6(e);(0,F.assertArgument)(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);let r={type:0,nonce:ta(t[0],"nonce"),gasPrice:to(t[1],"gasPrice"),gasLimit:to(t[2],"gasLimit"),to:ti(t[3]),value:to(t[4],"value"),data:(0,U.hexlify)(t[5]),chainId:e3};if(6===t.length)return r;let i=to(t[6],"v"),n=to(t[7],"r"),a=to(t[8],"s");if(n===e3&&a===e3)r.chainId=i;else{let e=(i-e9)/e4;e<e3&&(e=e3),r.chainId=e,(0,F.assertArgument)(e!==e3||i===e8||i===e7,"non-canonical legacy v","v",t[6]),r.signature=O.Signature.from({r:(0,U.zeroPadValue)(t[7],32),s:(0,U.zeroPadValue)(t[8],32),v:i})}return r}(t));switch(t[0]){case 1:let r,i;return tc.from((r=e6((0,U.getBytes)(t).slice(1)),(0,F.assertArgument)(Array.isArray(r)&&(8===r.length||11===r.length),"invalid field count for transaction type: 1","data",(0,U.hexlify)(t)),i={type:1,chainId:to(r[0],"chainId"),nonce:ta(r[1],"nonce"),gasPrice:to(r[2],"gasPrice"),gasLimit:to(r[3],"gasLimit"),to:ti(r[4]),value:to(r[5],"value"),data:(0,U.hexlify)(r[6]),accessList:tn(r[7],"accessList")},8===r.length||tl(i,r.slice(8)),i));case 2:let n,a;return tc.from((n=e6((0,U.getBytes)(t).slice(1)),(0,F.assertArgument)(Array.isArray(n)&&(9===n.length||12===n.length),"invalid field count for transaction type: 2","data",(0,U.hexlify)(t)),a={type:2,chainId:to(n[0],"chainId"),nonce:ta(n[1],"nonce"),maxPriorityFeePerGas:to(n[2],"maxPriorityFeePerGas"),maxFeePerGas:to(n[3],"maxFeePerGas"),gasPrice:null,gasLimit:to(n[4],"gasLimit"),to:ti(n[5]),value:to(n[6],"value"),data:(0,U.hexlify)(n[7]),accessList:tn(n[8],"accessList")},9===n.length||tl(a,n.slice(9)),a));case 3:return tc.from(function(e){let t=e6((0,U.getBytes)(e).slice(1)),r="3",i=null,n=null;if(4===t.length&&Array.isArray(t[0])){r="3 (network format)";let e=t[1],i=t[2],a=t[3];(0,F.assertArgument)(Array.isArray(e),"invalid network format: blobs not an array","fields[1]",e),(0,F.assertArgument)(Array.isArray(i),"invalid network format: commitments not an array","fields[2]",i),(0,F.assertArgument)(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),(0,F.assertArgument)(e.length===i.length,"invalid network format: blobs/commitments length mismatch","fields",t),(0,F.assertArgument)(e.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",t),n=[];for(let r=0;r<t[1].length;r++)n.push({data:e[r],commitment:i[r],proof:a[r]});t=t[0]}else if(5===t.length&&Array.isArray(t[0])){r="3 (EIP-7594 network format)",i=(0,Y.getNumber)(t[1]);let e=t[2],a=t[3],o=t[4];(0,F.assertArgument)(1===i,`unsupported EIP-7594 network format version: ${i}`,"fields[1]",i),(0,F.assertArgument)(Array.isArray(e),"invalid EIP-7594 network format: blobs not an array","fields[2]",e),(0,F.assertArgument)(Array.isArray(a),"invalid EIP-7594 network format: commitments not an array","fields[3]",a),(0,F.assertArgument)(Array.isArray(o),"invalid EIP-7594 network format: proofs not an array","fields[4]",o),(0,F.assertArgument)(e.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",t),(0,F.assertArgument)(128*e.length===o.length,"invalid network format: blobs/proofs length mismatch","fields",t),n=[];for(let t=0;t<e.length;t++){let r=[];for(let e=0;e<128;e++)r.push(o[128*t+e]);n.push({data:e[t],commitment:a[t],proof:(0,U.concat)(r)})}t=t[0]}(0,F.assertArgument)(Array.isArray(t)&&(11===t.length||14===t.length),`invalid field count for transaction type: ${r}`,"data",(0,U.hexlify)(e));let a={type:3,chainId:to(t[0],"chainId"),nonce:ta(t[1],"nonce"),maxPriorityFeePerGas:to(t[2],"maxPriorityFeePerGas"),maxFeePerGas:to(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:to(t[4],"gasLimit"),to:ti(t[5]),value:to(t[6],"value"),data:(0,U.hexlify)(t[7]),accessList:tn(t[8],"accessList"),maxFeePerBlobGas:to(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10],blobWrapperVersion:i};n&&(a.blobs=n),(0,F.assertArgument)(null!=a.to,`invalid address for transaction type: ${r}`,"data",e),(0,F.assertArgument)(Array.isArray(a.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let t=0;t<a.blobVersionedHashes.length;t++)(0,F.assertArgument)((0,U.isHexString)(a.blobVersionedHashes[t],32),`invalid blobVersionedHash at index ${t}: must be length 32`,"data",e);return 11===t.length||tl(a,t.slice(11)),a}(t));case 4:let o,s;return tc.from((o=e6((0,U.getBytes)(t).slice(1)),(0,F.assertArgument)(Array.isArray(o)&&(10===o.length||13===o.length),"invalid field count for transaction type: 4","data",(0,U.hexlify)(t)),s={type:4,chainId:to(o[0],"chainId"),nonce:ta(o[1],"nonce"),maxPriorityFeePerGas:to(o[2],"maxPriorityFeePerGas"),maxFeePerGas:to(o[3],"maxFeePerGas"),gasPrice:null,gasLimit:to(o[4],"gasLimit"),to:ti(o[5]),value:to(o[6],"value"),data:(0,U.hexlify)(o[7]),accessList:tn(o[8],"accessList"),authorizationList:function(e,t){try{if(!Array.isArray(e))throw Error("authorizationList: invalid array");let t=[];for(let r=0;r<e.length;r++){let i=e[r];if(!Array.isArray(i))throw Error(`authorization[${r}]: invalid array`);if(6!==i.length)throw Error(`authorization[${r}]: wrong length`);if(!i[1])throw Error(`authorization[${r}]: null address`);t.push({address:ti(i[1]),nonce:to(i[2],"nonce"),chainId:to(i[0],"chainId"),signature:O.Signature.from({yParity:ta(i[3],"yParity"),r:(0,U.zeroPadValue)(i[4],32),s:(0,U.zeroPadValue)(i[5],32)})})}return t}catch(r){(0,F.assertArgument)(!1,r.message,t,e)}}(o[9],"authorizationList")},10===o.length||tl(s,o.slice(10)),s))}(0,F.assert)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}let t=new tc;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=O.Signature.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.authorizationList&&(t.authorizationList=e.authorizationList),null!=e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),null!=e.kzg&&(t.kzg=e.kzg),null!=e.blobWrapperVersion&&(t.blobWrapperVersion=e.blobWrapperVersion),null!=e.blobs&&(t.blobs=e.blobs),null!=e.hash&&((0,F.assertArgument)(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),(0,F.assertArgument)(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&((0,F.assertArgument)(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),(0,F.assertArgument)(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}var td=e.i(477808);let tf="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",tp=null,th=BigInt(0),tm=BigInt(58);function tb(e){let t=(0,U.getBytes)(e),r=(0,Y.toBigInt)(t),i="";for(;r;)i=tf[Number(r%tm)]+i,r/=tm;for(let e=0;e<t.length&&!t[e];e++)i=tf[0]+i;return i}function tg(e){let t=th;for(let r=0;r<e.length;r++)t*=tm,t+=function(e){if(null==tp){tp={};for(let e=0;e<tf.length;e++)tp[tf[e]]=BigInt(e)}let t=tp[e];return(0,F.assertArgument)(null!=t,"invalid base58 value","letter",e),t}(e[r]);return t}function ty(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):(0,F.assertArgument)(!1,"unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}class tx{name;constructor(e){(0,eu.defineProperties)(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw Error("unsupported coin")}async decodeAddress(e,t){throw Error("unsupported coin")}}let tA=RegExp("^(ipfs)://(.*)$","i"),tw=[RegExp("^(https)://(.*)$","i"),RegExp("^(data):(.*)$","i"),tA,RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class tv{provider;address;name;#ek;#eP;constructor(e,t,r){(0,eu.defineProperties)(this,{provider:e,address:t,name:r}),this.#ek=null,this.#eP=new S.Contract(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return null==this.#ek&&(this.#ek=(async()=>{try{return await this.#eP.supportsInterface("0x9061b923")}catch(e){if((0,F.isError)(e,"CALL_EXCEPTION"))return!1;throw this.#ek=null,e}})()),await this.#ek}async #e_(e,t){t=(t||[]).slice();let r=this.#eP.interface;t.unshift(j(this.name));let i=null;await this.supportsWildcard()&&(i=r.getFunction(e),(0,F.assert)(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[H(this.name,255),r.encodeFunctionData(i,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{let n=await this.#eP[e](...t);if(i)return r.decodeFunctionResult(i,n)[0];return n}catch(e){if(!(0,F.isError)(e,"CALL_EXCEPTION"))throw e}return null}async getAddress(e){if(null==e&&(e=60),60===e)try{let e=await this.#e_("addr(bytes32)");if(null==e||e===x.ZeroAddress)return null;return e}catch(e){if((0,F.isError)(e,"CALL_EXCEPTION"))return null;throw e}if(e>=0&&e<0x80000000){let t=e+0x80000000,r=await this.#e_("addr(bytes32,uint)",[t]);if((0,U.isHexString)(r,20))return(0,b.getAddress)(r)}let t=null;for(let r of this.provider.plugins)if(r instanceof tx&&r.supportsCoinType(e)){t=r;break}if(null==t)return null;let r=await this.#e_("addr(bytes32,uint)",[e]);if(null==r||"0x"===r)return null;let i=await t.decodeAddress(e,r);if(null!=i)return i;(0,F.assert)(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){let t=await this.#e_("text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){let e=await this.#e_("contenthash(bytes32)");if(null==e||"0x"===e)return null;let t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){let e="e3010170"===t[1]?"ipfs":"ipns",r=parseInt(t[4],16);if(t[5].length===2*r)return`${e}://${tb("0x"+t[2])}`}let r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&64===r[1].length)return`bzz://${r[1]}`;(0,F.assert)(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){let e=[{type:"name",value:this.name}];try{let t=await this.getText("avatar");if(null==t)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let r=0;r<tw.length;r++){let i=t.match(tw[r]);if(null==i)continue;let n=i[1].toLowerCase();switch(n){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{let r=ty(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:r}),{linkage:e,url:r}}case"erc721":case"erc1155":{let r="erc721"===n?"tokenURI(uint256)":"uri(uint256)";e.push({type:n,value:t});let a=await this.getAddress();if(null==a)return e.push({type:"!owner",value:""}),{url:null,linkage:e};let o=(i[2]||"").split("/");if(2!==o.length)return e.push({type:`!${n}caip`,value:i[2]||""}),{url:null,linkage:e};let s=o[1],u=new S.Contract(o[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===n){let t=await u.ownerOf(s);if(a!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===n){let t=await u.balanceOf(a,s);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let l=await u[r](s);if(null==l||"0x"===l)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:l}),"erc1155"===n&&(l=l.replace("{id}",(0,Y.toBeHex)(s,32).substring(2)),e.push({type:"metadata-url-expanded",value:l})),l.match(/^ipfs:/i)&&(l=ty(l)),e.push({type:"metadata-url",value:l});let c={},d=await new eF(l).send();d.assertOk();try{c=d.bodyJson}catch(t){try{e.push({type:"!metadata",value:d.bodyText})}catch(r){let t=d.body;t&&e.push({type:"!metadata",value:(0,U.hexlify)(t)})}return{url:null,linkage:e}}if(!c)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(c)});let f=c.image;if("string"!=typeof f)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(f.match(/^(https:\/\/|data:)/i));else{let t=f.match(tA);if(null==t)return e.push({type:"!imageUrl-ipfs",value:f}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:f}),f=ty(f)}return e.push({type:"url",value:f}),{linkage:e,url:f}}}}}catch(e){}return{linkage:e,url:null}}static async getEnsAddress(e){let t=await e.getNetwork(),r=t.getPlugin("org.ethers.plugins.network.Ens");return(0,F.assert)(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),r.address}static async #eI(e,t){let r=await tv.getEnsAddress(e);try{let i=new S.Contract(r,["function resolver(bytes32) view returns (address)"],e),n=await i.resolver(j(t),{enableCcipRead:!0});if(n===x.ZeroAddress)return null;return n}catch(e){throw e}}static async fromName(e,t){let r=t;for(;;){if(""===r||"."===r||"eth"!==t&&"eth"===r)return null;let i=await tv.#eI(e,r);if(null!=i){let n=new tv(e,i,t);if(r!==t&&!await n.supportsWildcard())return null;return n}r=r.split(".").slice(1).join(".")}}}let tS=BigInt(0);function tT(e,t){return function(r){return null==r?t:e(r)}}function tE(e,t){return r=>{if(t&&null==r)return null;if(!Array.isArray(r))throw Error("not an array");return r.map(t=>e(t))}}function tk(e,t){return r=>{let i={};for(let n in e){let a=n;if(t&&n in t&&!(a in r)){for(let e of t[n])if(e in r){a=e;break}}try{let t=e[n](r[a]);void 0!==t&&(i[n]=t)}catch(t){let e=t instanceof Error?t.message:"not-an-error";(0,F.assert)(!1,`invalid value for value.${n} (${e})`,"BAD_DATA",{value:r})}}return i}}function tP(e){return(0,F.assertArgument)((0,U.isHexString)(e,!0),"invalid data","value",e),e}function t_(e){return(0,F.assertArgument)((0,U.isHexString)(e,32),"invalid hash","value",e),e}let tI=tk({address:b.getAddress,blockHash:t_,blockNumber:Y.getNumber,data:tP,index:Y.getNumber,removed:tT(function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}(0,F.assertArgument)(!1,`invalid boolean; ${JSON.stringify(e)}`,"value",e)},!1),topics:tE(t_),transactionHash:t_,transactionIndex:Y.getNumber},{index:["logIndex"]}),tN=tk({hash:tT(t_),parentHash:t_,parentBeaconBlockRoot:tT(t_,null),number:Y.getNumber,timestamp:Y.getNumber,nonce:tT(tP),difficulty:Y.getBigInt,gasLimit:Y.getBigInt,gasUsed:Y.getBigInt,stateRoot:tT(t_,null),receiptsRoot:tT(t_,null),blobGasUsed:tT(Y.getBigInt,null),excessBlobGas:tT(Y.getBigInt,null),miner:tT(b.getAddress),prevRandao:tT(t_,null),extraData:tP,baseFeePerGas:tT(Y.getBigInt)},{prevRandao:["mixHash"]}),tR=tk({transactionIndex:Y.getNumber,blockNumber:Y.getNumber,transactionHash:t_,address:b.getAddress,topics:tE(t_),data:tP,index:Y.getNumber,blockHash:t_},{index:["logIndex"]}),tB=tk({to:tT(b.getAddress,null),from:tT(b.getAddress,null),contractAddress:tT(b.getAddress,null),index:Y.getNumber,root:tT(U.hexlify),gasUsed:Y.getBigInt,blobGasUsed:tT(Y.getBigInt,null),logsBloom:tT(tP),blockHash:t_,hash:t_,logs:tE(function(e){return tR(e)}),blockNumber:Y.getNumber,cumulativeGasUsed:Y.getBigInt,effectiveGasPrice:tT(Y.getBigInt),blobGasPrice:tT(Y.getBigInt,null),status:tT(Y.getNumber),type:tT(Y.getNumber,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function tC(e){e.to&&(0,Y.getBigInt)(e.to)===tS&&(e.to="0x0000000000000000000000000000000000000000");let t=tk({hash:t_,index:tT(Y.getNumber,void 0),type:e=>"0x"===e||null==e?0:(0,Y.getNumber)(e),accessList:tT(eV.accessListify,null),blobVersionedHashes:tT(tE(t_,!0),null),authorizationList:tT(tE(e=>{let t;if(e.signature)t=e.signature;else{let r=e.yParity;"0x1b"===r?r=0:"0x1c"===r&&(r=1),t=Object.assign({},e,{yParity:r})}return{address:(0,b.getAddress)(e.address),chainId:(0,Y.getBigInt)(e.chainId),nonce:(0,Y.getBigInt)(e.nonce),signature:O.Signature.from(t)}},!1),null),blockHash:tT(t_,null),blockNumber:tT(Y.getNumber,null),transactionIndex:tT(Y.getNumber,null),from:b.getAddress,gasPrice:tT(Y.getBigInt),maxPriorityFeePerGas:tT(Y.getBigInt),maxFeePerGas:tT(Y.getBigInt),maxFeePerBlobGas:tT(Y.getBigInt,null),gasLimit:Y.getBigInt,to:tT(b.getAddress,null),value:Y.getBigInt,nonce:Y.getNumber,data:tP,creates:tT(b.getAddress,null),chainId:tT(Y.getBigInt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(null==t.to&&null==t.creates&&(t.creates=(0,g.getCreateAddress)(t)),(1===e.type||2===e.type)&&null==e.accessList&&(t.accessList=[]),e.signature?t.signature=O.Signature.from(e.signature):t.signature=O.Signature.from(e),null==t.chainId){let e=t.signature.legacyChainId;null!=e&&(t.chainId=e)}return t.blockHash&&(0,Y.getBigInt)(t.blockHash)===tS&&(t.blockHash=null),t}var tO=e.i(851047);function tD(e){return JSON.parse(JSON.stringify(e))}class tM{#eN;#eR;#eB;#eC;constructor(e){this.#eN=e,this.#eR=null,this.#eB=4e3,this.#eC=-2}get pollingInterval(){return this.#eB}set pollingInterval(e){this.#eB=e}async #eO(){try{let e=await this.#eN.getBlockNumber();if(-2===this.#eC){this.#eC=e;return}if(e!==this.#eC){for(let t=this.#eC+1;t<=e;t++){if(null==this.#eR)return;await this.#eN.emit("block",t)}this.#eC=e}}catch(e){}null!=this.#eR&&(this.#eR=this.#eN._setTimeout(this.#eO.bind(this),this.#eB))}start(){this.#eR||(this.#eR=this.#eN._setTimeout(this.#eO.bind(this),this.#eB),this.#eO())}stop(){this.#eR&&(this.#eN._clearTimeout(this.#eR),this.#eR=null)}pause(e){this.stop(),e&&(this.#eC=-2)}resume(){this.start()}}class tU{#eN;#eO;#eD;constructor(e){this.#eN=e,this.#eD=!1,this.#eO=e=>{this._poll(e,this.#eN)}}async _poll(e,t){throw Error("sub-classes must override this")}start(){this.#eD||(this.#eD=!0,this.#eO(-2),this.#eN.on("block",this.#eO))}stop(){this.#eD&&(this.#eD=!1,this.#eN.off("block",this.#eO))}pause(e){this.stop()}resume(){this.start()}}class tF extends tU{#eM;#eU;constructor(e,t){super(e),this.#eM=t,this.#eU=-2}pause(e){e&&(this.#eU=-2),super.pause(e)}async _poll(e,t){let r=await t.getBlock(this.#eM);null!=r&&(-2===this.#eU?this.#eU=r.number:r.number>this.#eU&&(t.emit(this.#eM,r.number),this.#eU=r.number))}}class tL extends tU{#k;constructor(e,t){super(e),this.#k=tD(t)}async _poll(e,t){throw Error("@TODO")}}class tq extends tU{#eF;constructor(e,t){super(e),this.#eF=t}async _poll(e,t){let r=await t.getTransactionReceipt(this.#eF);r&&t.emit(this.#eF,r)}}class tK{#eN;#k;#eR;#eD;#eC;constructor(e,t){this.#eN=e,this.#k=tD(t),this.#eR=this.#eO.bind(this),this.#eD=!1,this.#eC=-2}async #eO(e){if(-2===this.#eC)return;let t=tD(this.#k);t.fromBlock=this.#eC+1,t.toBlock=e;let r=await this.#eN.getLogs(t);if(0===r.length){this.#eC<e-60&&(this.#eC=e-60);return}for(let e of r)this.#eN.emit(this.#k,e),this.#eC=e.blockNumber}start(){this.#eD||(this.#eD=!0,-2===this.#eC&&this.#eN.getBlockNumber().then(e=>{this.#eC=e}),this.#eN.on("block",this.#eR))}stop(){this.#eD&&(this.#eD=!1,this.#eN.off("block",this.#eR))}pause(e){this.stop(),e&&(this.#eC=-2)}resume(){this.start()}}let tW=BigInt(2);function tV(e){return e&&"function"==typeof e.then}function tG(e,t){return e+":"+JSON.stringify(t,(e,t)=>{if(null==t)return"null";if("bigint"==typeof t)return`bigint:${t.toString()}`;if("string"==typeof t)return t.toLowerCase();if("object"==typeof t&&!Array.isArray(t)){let e=Object.keys(t);return e.sort(),e.reduce((e,r)=>(e[r]=t[r],e),{})}return t})}class tz{name;constructor(e){(0,eu.defineProperties)(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function tj(e){return(e=Array.from(new Set(e).values())).sort(),e}async function tH(e,t){if(null==e)throw Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"==typeof e)switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if((0,U.isHexString)(e,32)){let t=e.toLowerCase();return{type:"transaction",tag:tG("tx",{hash:t}),hash:t}}if(e.orphan){let t=e;return{type:"orphan",tag:tG("orphan",t),filter:JSON.parse(JSON.stringify(t))}}if(e.address||e.topics){let r=e,i={topics:(r.topics||[]).map(e=>null==e?null:Array.isArray(e)?tj(e.map(e=>e.toLowerCase())):e.toLowerCase())};if(r.address){let e=[],n=[],a=r=>{(0,U.isHexString)(r)?e.push(r):n.push((async()=>{e.push(await (0,y.resolveAddress)(r,t))})())};Array.isArray(r.address)?r.address.forEach(a):a(r.address),n.length&&await Promise.all(n),i.address=tj(e.map(e=>e.toLowerCase()))}return{filter:i,tag:tG("event",i),type:"event"}}(0,F.assertArgument)(!1,"unknown ProviderEvent","event",e)}function tX(){return new Date().getTime()}let tQ={cacheTimeout:250,pollingInterval:4e3};class tJ{#eL;#eu;#eq;#eK;#eW;#eV;#eG;#ez;#ej;#eH;#eX;#c;constructor(e,t){if(this.#c=Object.assign({},tQ,t||{}),"any"===e)this.#eV=!0,this.#eW=null;else if(e){const t=eJ.from(e);this.#eV=!1,this.#eW=Promise.resolve(t),setTimeout(()=>{this.emit("network",t,null)},0)}else this.#eV=!1,this.#eW=null;this.#ez=-1,this.#eG=new Map,this.#eL=new Map,this.#eu=new Map,this.#eq=null,this.#eK=!1,this.#ej=1,this.#eH=new Map,this.#eX=!1}get pollingInterval(){return this.#c.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#eu.values())}attachPlugin(e){if(this.#eu.get(e.name))throw Error(`cannot replace existing plugin: ${e.name} `);return this.#eu.set(e.name,e.connect(this)),this}getPlugin(e){return this.#eu.get(e)||null}get disableCcipRead(){return this.#eX}set disableCcipRead(e){this.#eX=!!e}async #eQ(e){let t=this.#c.cacheTimeout;if(t<0)return await this._perform(e);let r=tG(e.method,e),i=this.#eG.get(r);return i||(i=this._perform(e),this.#eG.set(r,i),setTimeout(()=>{this.#eG.get(r)===i&&this.#eG.delete(r)},t)),await i}async ccipReadFetch(e,t,r){if(this.disableCcipRead||0===r.length||null==e.to)return null;let i=e.to.toLowerCase(),n=t.toLowerCase(),a=[];for(let t=0;t<r.length;t++){let o,s=r[t],u=new eF(s.replace("{sender}",i).replace("{data}",n));-1===s.indexOf("{data}")&&(u.body={data:n,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:t,urls:r});let l="unknown error";try{o=await u.send()}catch(e){a.push(e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:e}});continue}try{let e=o.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:e}),e.data;e.message&&(l=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:e})}catch(e){}(0,F.assert)(o.statusCode<400||o.statusCode>=500,`response not found during CCIP fetch: ${l}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:s,errorMessage:l}}),a.push(l)}(0,F.assert)(!1,`error encountered during CCIP fetch: ${a.map(e=>JSON.stringify(e)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:a}})}_wrapBlock(e,t){let r;return new tO.Block(((r=tN(e)).transactions=e.transactions.map(e=>"string"==typeof e?e:tC(e)),r),this)}_wrapLog(e,t){return new tO.Log(tI(e),this)}_wrapTransactionReceipt(e,t){return new tO.TransactionReceipt(tB(e),this)}_wrapTransactionResponse(e,t){return new tO.TransactionResponse(tC(e),this)}_detectNetwork(){(0,F.assert)(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){(0,F.assert)(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){let e=(0,Y.getNumber)(await this.#eQ({method:"getBlockNumber"}),"%response");return this.#ez>=0&&(this.#ez=e),e}_getAddress(e){return(0,y.resolveAddress)(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}return(0,U.isHexString)(e)?(0,U.isHexString)(e,32)?e:(0,Y.toQuantity)(e):("bigint"==typeof e&&(e=(0,Y.getNumber)(e,"blockTag")),"number"==typeof e)?e>=0?(0,Y.toQuantity)(e):this.#ez>=0?(0,Y.toQuantity)(this.#ez+e):this.getBlockNumber().then(t=>(0,Y.toQuantity)(t+e)):void(0,F.assertArgument)(!1,"invalid blockTag","blockTag",e)}_getFilter(e){let t,r,i=(e.topics||[]).map(e=>null==e?null:Array.isArray(e)?tj(e.map(e=>e.toLowerCase())):e.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,a=(e,t,r)=>{let a;switch(e.length){case 0:break;case 1:a=e[0];break;default:e.sort(),a=e}if(n&&(null!=t||null!=r))throw Error("invalid filter");let o={};return a&&(o.address=a),i.length&&(o.topics=i),t&&(o.fromBlock=t),r&&(o.toBlock=r),n&&(o.blockHash=n),o},o=[];if(e.address)if(Array.isArray(e.address))for(let t of e.address)o.push(this._getAddress(t));else o.push(this._getAddress(e.address));return"fromBlock"in e&&(t=this._getBlockTag(e.fromBlock)),("toBlock"in e&&(r=this._getBlockTag(e.toBlock)),o.filter(e=>"string"!=typeof e).length||null!=t&&"string"!=typeof t||null!=r&&"string"!=typeof r)?Promise.all([Promise.all(o),t,r]).then(e=>a(e[0],e[1],e[2])):a(o,t,r)}_getTransactionRequest(e){let t=(0,tO.copyRequest)(e),r=[];if(["to","from"].forEach(e=>{if(null==t[e])return;let i=(0,y.resolveAddress)(t[e],this);tV(i)?r.push(async function(){t[e]=await i}()):t[e]=i}),null!=t.blockTag){let e=this._getBlockTag(t.blockTag);tV(e)?r.push(async function(){t.blockTag=await e}()):t.blockTag=e}return r.length?async function(){return await Promise.all(r),t}():t}async getNetwork(){if(null==this.#eW){let e=(async()=>{try{let e=await this._detectNetwork();return this.emit("network",e,null),e}catch(t){throw this.#eW===e&&(this.#eW=null),t}})();return this.#eW=e,(await e).clone()}let e=this.#eW,[t,r]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==r.chainId&&(this.#eV?(this.emit("network",r,t),this.#eW===e&&(this.#eW=Promise.resolve(r))):(0,F.assert)(!1,`network changed: ${t.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){let e=await this.getNetwork(),t=async()=>{let{_block:t,gasPrice:r,priorityFee:i}=await (0,eu.resolveProperties)({_block:this.#eJ("latest",!1),gasPrice:(async()=>{try{let e=await this.#eQ({method:"getGasPrice"});return(0,Y.getBigInt)(e,"%response")}catch(e){}return null})(),priorityFee:(async()=>{try{let e=await this.#eQ({method:"getPriorityFee"});return(0,Y.getBigInt)(e,"%response")}catch(e){}return null})()}),n=null,a=null,o=this._wrapBlock(t,e);return o&&o.baseFeePerGas&&(a=null!=i?i:BigInt("1000000000"),n=o.baseFeePerGas*tW+a),new tO.FeeData(r,n,a)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){let e=new eF(r.url),i=await r.processFunc(t,this,e);return new tO.FeeData(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return tV(t)&&(t=await t),(0,Y.getBigInt)(await this.#eQ({method:"estimateGas",transaction:t}),"%response")}async #eY(e,t,r){(0,F.assert)(r<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});let i=(0,tO.copyRequest)(e);try{return(0,U.hexlify)(await this._perform({method:"call",transaction:i,blockTag:t}))}catch(e){if(!this.disableCcipRead&&(0,F.isCallException)(e)&&e.data&&r>=0&&"latest"===t&&null!=i.to&&"0x556f1830"===(0,U.dataSlice)(e.data,0,4)){let n,a=e.data,o=await (0,y.resolveAddress)(i.to,this);try{n=function(e){let t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};(0,F.assert)((0,U.dataLength)(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});let r=(0,U.dataSlice)(e,0,32);(0,F.assert)((0,U.dataSlice)(r,0,12)===(0,U.dataSlice)(t0,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=(0,U.dataSlice)(r,12);try{let r=[],i=(0,Y.getNumber)((0,U.dataSlice)(e,32,64)),n=(0,Y.getNumber)((0,U.dataSlice)(e,i,i+32)),a=(0,U.dataSlice)(e,i+32);for(let e=0;e<n;e++){let t=function(e,t){try{let r=tY(e,t);if(r)return(0,L.toUtf8String)(r)}catch(e){}return null}(a,32*e);if(null==t)throw Error("abort");r.push(t)}t.urls=r}catch(e){(0,F.assert)(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{let r=tY(e,64);if(null==r)throw Error("abort");t.calldata=r}catch(e){(0,F.assert)(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}(0,F.assert)((0,U.dataSlice)(e,100,128)===(0,U.dataSlice)(t0,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=(0,U.dataSlice)(e,96,100);try{let r=tY(e,128);if(null==r)throw Error("abort");t.extraData=r}catch(e){(0,F.assert)(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(e=>t[e]),t}((0,U.dataSlice)(e.data,4))}catch(e){(0,F.assert)(!1,e.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:a}})}(0,F.assert)(n.sender.toLowerCase()===o.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:a,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:n.errorArgs}});let s=await this.ccipReadFetch(i,n.calldata,n.urls);(0,F.assert)(null!=s,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:e.data,errorArgs:n.errorArgs}});let u={to:o,data:(0,U.concat)([n.selector,function(e){let t=[],r=0;for(let i=0;i<e.length;i++)t.push(t$),r+=32;for(let i=0;i<e.length;i++){let n=(0,U.getBytes)(e[i]);t[i]=tZ(r),t.push(tZ(n.length)),t.push(function(e){if(e.length%32==0)return e;let t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}(n)),r+=32+32*Math.ceil(n.length/32)}return(0,U.concat)(t)}([s,n.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{let e=await this.#eY(u,t,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:e}),e}catch(e){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:e}),e}}throw e}}async #eZ(e){let{value:t}=await (0,eu.resolveProperties)({network:this.getNetwork(),value:e});return t}async call(e){let{tx:t,blockTag:r}=await (0,eu.resolveProperties)({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#eZ(this.#eY(t,r,e.enableCcipRead?0:-1))}async #e$(e,t,r){let i=this._getAddress(t),n=this._getBlockTag(r);return("string"!=typeof i||"string"!=typeof n)&&([i,n]=await Promise.all([i,n])),await this.#eZ(this.#eQ(Object.assign(e,{address:i,blockTag:n})))}async getBalance(e,t){return(0,Y.getBigInt)(await this.#e$({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return(0,Y.getNumber)(await this.#e$({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return(0,U.hexlify)(await this.#e$({method:"getCode"},e,t))}async getStorage(e,t,r){let i=(0,Y.getBigInt)(t,"position");return(0,U.hexlify)(await this.#e$({method:"getStorage",position:i},e,r))}async broadcastTransaction(e){let{blockNumber:t,hash:r,network:i}=await (0,eu.resolveProperties)({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),n=tc.from(e);if(n.hash!==r)throw Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(n,i).replaceableTransaction(t)}async #eJ(e,t){if((0,U.isHexString)(e,32))return await this.#eQ({method:"getBlock",blockHash:e,includeTransactions:t});let r=this._getBlockTag(e);return"string"!=typeof r&&(r=await r),await this.#eQ({method:"getBlock",blockTag:r,includeTransactions:t})}async getBlock(e,t){let{network:r,params:i}=await (0,eu.resolveProperties)({network:this.getNetwork(),params:this.#eJ(e,!!t)});return null==i?null:this._wrapBlock(i,r)}async getTransaction(e){let{network:t,params:r}=await (0,eu.resolveProperties)({network:this.getNetwork(),params:this.#eQ({method:"getTransaction",hash:e})});return null==r?null:this._wrapTransactionResponse(r,t)}async getTransactionReceipt(e){let{network:t,params:r}=await (0,eu.resolveProperties)({network:this.getNetwork(),params:this.#eQ({method:"getTransactionReceipt",hash:e})});if(null==r)return null;if(null==r.gasPrice&&null==r.effectiveGasPrice){let t=await this.#eQ({method:"getTransaction",hash:e});if(null==t)throw Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(r,t)}async getTransactionResult(e){let{result:t}=await (0,eu.resolveProperties)({network:this.getNetwork(),result:this.#eQ({method:"getTransactionResult",hash:e})});return null==t?null:(0,U.hexlify)(t)}async getLogs(e){let t=this._getFilter(e);tV(t)&&(t=await t);let{network:r,params:i}=await (0,eu.resolveProperties)({network:this.getNetwork(),params:this.#eQ({method:"getLogs",filter:t})});return i.map(e=>this._wrapLog(e,r))}_getProvider(e){(0,F.assert)(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await tv.fromName(this,e)}async getAvatar(e){let t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){let t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){let t=j((e=(0,b.getAddress)(e)).substring(2).toLowerCase()+".addr.reverse");try{let r=await tv.getEnsAddress(this),i=new S.Contract(r,["function resolver(bytes32) view returns (address)"],this),n=await i.resolver(t);if(null==n||n===x.ZeroAddress)return null;let a=new S.Contract(n,["function name(bytes32) view returns (string)"],this),o=await a.name(t);if(await this.resolveName(o)!==e)return null;return o}catch(e){if((0,F.isError)(e,"BAD_DATA")&&"0x"===e.value||(0,F.isError)(e,"CALL_EXCEPTION"))return null;throw e}}async waitForTransaction(e,t,r){let i=null!=t?t:1;return 0===i?this.getTransactionReceipt(e):new Promise(async(t,n)=>{let a=null,o=async r=>{try{let n=await this.getTransactionReceipt(e);if(null!=n&&r-n.blockNumber+1>=i){t(n),a&&(clearTimeout(a),a=null);return}}catch(e){console.log("EEE",e)}this.once("block",o)};null!=r&&(a=setTimeout(()=>{null!=a&&(a=null,this.off("block",o),n((0,F.makeError)("timeout","TIMEOUT",{reason:"timeout"})))},r)),o(await this.getBlockNumber())})}async waitForBlock(e){(0,F.assert)(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){let t=this.#eH.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#eH.delete(e))}_setTimeout(e,t){null==t&&(t=0);let r=this.#ej++,i=()=>{this.#eH.delete(r),e()};if(this.paused)this.#eH.set(r,{timer:null,func:i,time:t});else{let e=setTimeout(i,t);this.#eH.set(r,{timer:e,func:i,time:tX()})}return r}_forEachSubscriber(e){for(let t of this.#eL.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new tz(e.type);case"block":{let e=new tM(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new tF(this,e.type);case"event":return new tK(this,e.filter);case"transaction":return new tq(this,e.hash);case"orphan":return new tL(this,e.filter)}throw Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(let r of this.#eL.values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=t,r.started&&t.start(),null!=this.#eq&&t.pause(this.#eq);break}}async #e0(e,t){let r=await tH(e,this);return"event"===r.type&&t&&t.length>0&&!0===t[0].removed&&(r=await tH({orphan:"drop-log",log:t[0]},this)),this.#eL.get(r.tag)||null}async #e1(e){let t=await tH(e,this),r=t.tag,i=this.#eL.get(r);if(!i){let e=this._getSubscriber(t);i={subscriber:e,tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#eL.set(r,i)}return i}async on(e,t){let r=await this.#e1(e);return r.listeners.push({listener:t,once:!1}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#eq&&r.subscriber.pause(this.#eq)),this}async once(e,t){let r=await this.#e1(e);return r.listeners.push({listener:t,once:!0}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#eq&&r.subscriber.pause(this.#eq)),this}async emit(e,...t){let r=await this.#e0(e,t);if(!r||0===r.listeners.length)return!1;let i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:r,once:i})=>{let n=new td.EventPayload(this,i?null:r,e);try{r.call(this,...t,n)}catch(e){}return!i}),0===r.listeners.length&&(r.started&&r.subscriber.stop(),this.#eL.delete(r.tag)),i>0}async listenerCount(e){if(e){let t=await this.#e0(e);return t?t.listeners.length:0}let t=0;for(let{listeners:e}of this.#eL.values())t+=e.length;return t}async listeners(e){if(e){let t=await this.#e0(e);return t?t.listeners.map(({listener:e})=>e):[]}let t=[];for(let{listeners:e}of this.#eL.values())t=t.concat(e.map(({listener:e})=>e));return t}async off(e,t){let r=await this.#e0(e);if(!r)return this;if(t){let e=r.listeners.map(({listener:e})=>e).indexOf(t);e>=0&&r.listeners.splice(e,1)}return t&&0!==r.listeners.length||(r.started&&r.subscriber.stop(),this.#eL.delete(r.tag)),this}async removeAllListeners(e){if(e){let{tag:t,started:r,subscriber:i}=await this.#e1(e);r&&i.stop(),this.#eL.delete(t)}else for(let[e,{started:t,subscriber:r}]of this.#eL)t&&r.stop(),this.#eL.delete(e);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#eK}destroy(){for(let e of(this.removeAllListeners(),this.#eH.keys()))this._clearTimeout(e);this.#eK=!0}get paused(){return null!=this.#eq}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#ez=-1,null!=this.#eq){if(!!e==this.#eq)return;(0,F.assert)(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}for(let t of(this._forEachSubscriber(t=>t.pause(e)),this.#eq=!!e,this.#eH.values()))t.timer&&clearTimeout(t.timer),t.time=tX()-t.time}resume(){if(null!=this.#eq)for(let e of(this._forEachSubscriber(e=>e.resume()),this.#eq=null,this.#eH.values())){let t=e.time;t<0&&(t=0),e.time=tX(),setTimeout(e.func,t)}}}function tY(e,t){if("0x"===e)return null;try{let r=(0,Y.getNumber)((0,U.dataSlice)(e,t,t+32)),i=(0,Y.getNumber)((0,U.dataSlice)(e,r,r+32));return(0,U.dataSlice)(e,r+32,r+32+i)}catch(e){}return null}function tZ(e){let t=(0,Y.toBeArray)(e);if(t.length>32)throw Error("internal; should not happen");let r=new Uint8Array(32);return r.set(t,32-t.length),r}let t$=new Uint8Array([]),t0="0x0000000000000000000000000000000000000000000000000000000000000000";function t1(e,t){if(e.provider)return e.provider;(0,F.assert)(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function t2(e,t){let r=(0,tO.copyRequest)(t);if(null!=r.to&&(r.to=(0,y.resolveAddress)(r.to,e)),null!=r.from){let t=r.from;r.from=Promise.all([e.getAddress(),(0,y.resolveAddress)(t,e)]).then(([e,t])=>((0,F.assertArgument)(e.toLowerCase()===t.toLowerCase(),"transaction from mismatch","tx.from",t),e))}else r.from=e.getAddress();return await (0,eu.resolveProperties)(r)}class t5{provider;constructor(e){(0,eu.defineProperties)(this,{provider:e||null})}async getNonce(e){return t1(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await t2(this,e)}async populateTransaction(e){let t=t1(this,"populateTransaction"),r=await t2(this,e);null==r.nonce&&(r.nonce=await this.getNonce("pending")),null==r.gasLimit&&(r.gasLimit=await this.estimateGas(r));let i=await this.provider.getNetwork();if(null!=r.chainId){let t=(0,Y.getBigInt)(r.chainId);(0,F.assertArgument)(t===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;let n=null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas;if(null!=r.gasPrice&&(2===r.type||n)?(0,F.assertArgument)(!1,"eip-1559 transaction do not support gasPrice","tx",e):(0===r.type||1===r.type)&&n&&(0,F.assertArgument)(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(2===r.type||null==r.type)&&null!=r.maxFeePerGas&&null!=r.maxPriorityFeePerGas)r.type=2;else if(0===r.type||1===r.type){let e=await t.getFeeData();(0,F.assert)(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==r.gasPrice&&(r.gasPrice=e.gasPrice)}else{let e=await t.getFeeData();if(null==r.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,null!=r.gasPrice){let e=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=e,r.maxPriorityFeePerGas=e}else null==r.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?((0,F.assert)(!n,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==r.gasPrice&&(r.gasPrice=e.gasPrice),r.type=0):(0,F.assert)(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(2===r.type||3===r.type||4===r.type)&&(null==r.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}return await (0,eu.resolveProperties)(r)}async populateAuthorization(e){let t=Object.assign({},e);return null==t.chainId&&(t.chainId=(await t1(this,"getNetwork").getNetwork()).chainId),null==t.nonce&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return t1(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return t1(this,"call").call(await this.populateCall(e))}async resolveName(e){let t=t1(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){let t=t1(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;let i=tc.from(r);return await t.broadcastTransaction(await this.signTransaction(i))}authorize(e){(0,F.assert)(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}class t6 extends t5{address;constructor(e,t){super(t),(0,eu.defineProperties)(this,{address:e})}async getAddress(){return this.address}connect(e){return new t6(this.address,e)}#e2(e,t){(0,F.assert)(!1,`VoidSigner cannot sign ${e}`,"UNSUPPORTED_OPERATION",{operation:t})}async signTransaction(e){this.#e2("transactions","signTransaction")}async signMessage(e){this.#e2("messages","signMessage")}async signTypedData(e,t,r){this.#e2("typed-data","signTypedData")}}class t3{#eN;#e5;#eR;#eD;#e6;#e3;constructor(e){this.#eN=e,this.#e5=null,this.#eR=this.#eO.bind(this),this.#eD=!1,this.#e6=null,this.#e3=!1}_subscribe(e){throw Error("subclasses must override this")}_emitResults(e,t){throw Error("subclasses must override this")}_recover(e){throw Error("subclasses must override this")}async #eO(e){try{null==this.#e5&&(this.#e5=this._subscribe(this.#eN));let e=null;try{e=await this.#e5}catch(e){if(!(0,F.isError)(e,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==e.operation)throw e}if(null==e){this.#e5=null,this.#eN._recoverSubscriber(this,this._recover(this.#eN));return}let t=await this.#eN.getNetwork();if(this.#e6||(this.#e6=t),this.#e6.chainId!==t.chainId)throw Error("chaid changed");if(this.#e3)return;let r=await this.#eN.send("eth_getFilterChanges",[e]);await this._emitResults(this.#eN,r)}catch(e){console.log("@TODO",e)}this.#eN.once("block",this.#eR)}#e4(){let e=this.#e5;e&&(this.#e5=null,e.then(e=>{this.#eN.destroyed||this.#eN.send("eth_uninstallFilter",[e])}))}start(){this.#eD||(this.#eD=!0,this.#eO(-2))}stop(){this.#eD&&(this.#eD=!1,this.#e3=!0,this.#e4(),this.#eN.off("block",this.#eR))}pause(e){e&&this.#e4(),this.#eN.off("block",this.#eR)}resume(){this.start()}}class t4 extends t3{#e8;constructor(e,t){super(e),this.#e8=function(e){return JSON.parse(JSON.stringify(e))}(t)}_recover(e){return new tK(e,this.#e8)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e8])}async _emitResults(e,t){for(let r of t)e.emit(this.#e8,e._wrapLog(r,e._network))}}class t8 extends t3{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(let r of t)e.emit("pending",r)}}let t7="bigint,boolean,function,number,string,symbol".split(/,/g);function t9(e){if(null==e||t7.indexOf(typeof e)>=0||"function"==typeof e.getAddress)return e;if(Array.isArray(e))return e.map(t9);if("object"==typeof e)return Object.keys(e).reduce((t,r)=>(t[r]=e[r],t),{});throw Error(`should not happen: ${e} (${typeof e})`)}function re(e){return e?e.toLowerCase():e}function rt(e){return e&&"number"==typeof e.pollingInterval}let rr={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1048576,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class ri extends t5{address;constructor(e,t){super(e),t=(0,b.getAddress)(t),(0,eu.defineProperties)(this,{address:t})}connect(e){(0,F.assert)(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){let t=t9(e),r=[];if(t.from){let i=t.from;r.push((async()=>{let r=await (0,y.resolveAddress)(i,this.provider);(0,F.assertArgument)(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=r})())}else t.from=this.address;if(null==t.gasLimit&&r.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),null!=t.to){let e=t.to;r.push((async()=>{t.to=await (0,y.resolveAddress)(e,this.provider)})())}r.length&&await Promise.all(r);let i=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(e){let t=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise((e,i)=>{let n=[1e3,100],a=0,o=async()=>{try{let i=await this.provider.getTransaction(r);if(null!=i)return void e(i.replaceableTransaction(t))}catch(e){if((0,F.isError)(e,"CANCELLED")||(0,F.isError)(e,"BAD_DATA")||(0,F.isError)(e,"NETWORK_ERROR")||(0,F.isError)(e,"UNSUPPORTED_OPERATION")){null==e.info&&(e.info={}),e.info.sendTransactionHash=r,i(e);return}if((0,F.isError)(e,"INVALID_ARGUMENT")&&(a++,null==e.info&&(e.info={}),e.info.sendTransactionHash=r,a>10))return void i(e);this.provider.emit("error",(0,F.makeError)("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:e}))}this.provider._setTimeout(()=>{o()},n.pop()||4e3)};o()})}async signTransaction(e){let t=t9(e);if(t.from){let r=await (0,y.resolveAddress)(t.from,this.provider);(0,F.assertArgument)(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=r}else t.from=this.address;let r=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){let t="string"==typeof e?(0,L.toUtf8Bytes)(e):e;return await this.provider.send("personal_sign",[(0,U.hexlify)(t),this.address.toLowerCase()])}async signTypedData(e,t,r){let i=t9(r),n=await eS.resolveNames(e,t,i,async e=>{let t=await (0,y.resolveAddress)(e);return(0,F.assertArgument)(null!=t,"TypedData does not support null address","value",e),t});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(eS.getPayload(n.domain,t,n.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){let t="string"==typeof e?(0,L.toUtf8Bytes)(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),(0,U.hexlify)(t)])}}class rn extends tJ{#c;#e7;#e9;#te;#tt;#e6;#tr;#ti(){if(this.#te)return;let e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#te=setTimeout(()=>{this.#te=null;let e=this.#e9;for(this.#e9=[];e.length;){let t=[e.shift()];for(;e.length&&t.length!==this.#c.batchMaxCount;)if(t.push(e.shift()),JSON.stringify(t.map(e=>e.payload)).length>this.#c.batchMaxSize){e.unshift(t.pop());break}(async()=>{let e=1===t.length?t[0].payload:t.map(e=>e.payload);this.emit("debug",{action:"sendRpcPayload",payload:e});try{let r=await this._send(e);for(let{resolve:e,reject:i,payload:n}of(this.emit("debug",{action:"receiveRpcResult",result:r}),t)){if(this.destroyed){i((0,F.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n.method}));continue}let t=r.filter(e=>e.id===n.id)[0];if(null==t){let e=(0,F.makeError)("missing response for request","BAD_DATA",{value:r,info:{payload:n}});this.emit("error",e),i(e);continue}if("error"in t){i(this.getRpcError(n,t));continue}e(t.result)}}catch(e){for(let{reject:r}of(this.emit("debug",{action:"receiveRpcError",error:e}),t))r(e)}})()}},e)}constructor(e,t){super(e,t),this.#e7=1,this.#c=Object.assign({},rr,t||{}),this.#e9=[],this.#te=null,this.#e6=null,this.#tr=null;{let e=null;const t=new Promise(t=>{e=t});this.#tt={promise:t,resolve:e}}const r=this._getOption("staticNetwork");"boolean"==typeof r?((0,F.assertArgument)(!r||"any"!==e,"staticNetwork cannot be used on special network 'any'","options",t),r&&null!=e&&(this.#e6=eJ.from(e))):r&&((0,F.assertArgument)(null==e||r.matches(e),"staticNetwork MUST match network object","options",t),this.#e6=r)}_getOption(e){return this.#c[e]}get _network(){return(0,F.assert)(this.#e6,"network is not available yet","NETWORK_ERROR"),this.#e6}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&(0,Y.getBigInt)(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){let r=await this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}let t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){let e=this._getOption("staticNetwork");if(e){if(!0!==e)return e;else if(this.#e6)return this.#e6}return this.#tr||(this.ready?this.#tr=(async()=>{try{let e=eJ.from((0,Y.getBigInt)(await this.send("eth_chainId",[])));return this.#tr=null,e}catch(e){throw this.#tr=null,e}})():this.#tr=(async()=>{let e,t={id:this.#e7++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:t});try{e=(await this._send(t))[0],this.#tr=null}catch(e){throw this.#tr=null,this.emit("debug",{action:"receiveRpcError",error:e}),e}if(this.emit("debug",{action:"receiveRpcResult",result:e}),"result"in e)return eJ.from((0,Y.getBigInt)(e.result));throw this.getRpcError(t,e)})()),await this.#tr}_start(){null!=this.#tt&&null!=this.#tt.resolve&&(this.#tt.resolve(),this.#tt=null,(async()=>{for(;null==this.#e6&&!this.destroyed;)try{this.#e6=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",(0,F.makeError)("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await new Promise(e=>{setTimeout(e,1e3)})}this.#ti()})())}async _waitUntilReady(){if(null!=this.#tt)return await this.#tt.promise}_getSubscriber(e){return"pending"===e.type?new t8(this):"event"===e.type?this._getOption("polling")?new tK(this,e.filter):new t4(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new tz("orphan"):super._getSubscriber(e)}get ready(){return null==this.#tt}getRpcTransaction(e){let t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(r=>{if(null==e[r])return;let i=r;"gasLimit"===r&&(i="gas"),t[i]=(0,Y.toQuantity)((0,Y.getBigInt)(e[r],`tx.${r}`))}),["from","to","data"].forEach(r=>{null!=e[r]&&(t[r]=(0,U.hexlify)(e[r]))}),e.accessList&&(t.accessList=(0,eV.accessListify)(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map(e=>e.toLowerCase())),e.authorizationList&&(t.authorizationList=e.authorizationList.map(e=>{let t=e0(e);return{address:t.address,nonce:(0,Y.toQuantity)(t.nonce),chainId:(0,Y.toQuantity)(t.chainId),yParity:(0,Y.toQuantity)(t.signature.yParity),r:(0,Y.toQuantity)(t.signature.r),s:(0,Y.toQuantity)(t.signature.s)}})),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[re(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[re(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[re(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[re(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(re):e.filter.address=re(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){let r,{method:i}=e,{error:n}=t;if("eth_estimateGas"===i&&n.message){let t=n.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i))return(0,F.makeError)("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:n}});if(t.match(/nonce/i)&&t.match(/too low/i))return(0,F.makeError)("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:n}})}if("eth_call"===i||"eth_estimateGas"===i){let t=function e(t){if(null==t)return null;if("string"==typeof t.message&&t.message.match(/revert/i)&&(0,U.isHexString)(t.data))return{message:t.message,data:t.data};if("object"==typeof t){for(let r in t){let i=e(t[r]);if(i)return i}return null}if("string"==typeof t)try{return e(JSON.parse(t))}catch(e){}return null}(n),r=d.AbiCoder.getBuiltinCallException("eth_call"===i?"call":"estimateGas",e.params[0],t?t.data:null);return r.info={error:n,payload:e},r}let a=JSON.stringify((!function e(t,r){if(null!=t){if("string"==typeof t.message&&r.push(t.message),"object"==typeof t)for(let i in t)e(t[i],r);if("string"==typeof t)try{return e(JSON.parse(t),r)}catch(e){}}}(n,r=[]),r));if("string"==typeof n.message&&n.message.match(/user denied|ethers-user-denied/i))return(0,F.makeError)("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:e,error:n}});if("eth_sendRawTransaction"===i||"eth_sendTransaction"===i){let t=e.params[0];if(a.match(/insufficient funds|base fee exceeds gas limit/i))return(0,F.makeError)("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:n}});if(a.match(/nonce/i)&&a.match(/too low/i))return(0,F.makeError)("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:n}});if(a.match(/replacement transaction/i)&&a.match(/underpriced/i))return(0,F.makeError)("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:n}});if(a.match(/only replay-protected/i))return(0,F.makeError)("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:t,info:{error:n}}})}let o=!!a.match(/the method .* does not exist/i);return(!o&&n&&n.details&&n.details.startsWith("Unauthorized method:")&&(o=!0),o)?(0,F.makeError)("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:n,payload:e}}):(0,F.makeError)("could not coalesce error","UNKNOWN_ERROR",{error:n,payload:e})}send(e,t){if(this.destroyed)return Promise.reject((0,F.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));let r=this.#e7++,i=new Promise((i,n)=>{this.#e9.push({resolve:i,reject:n,payload:{method:e,params:t,id:r,jsonrpc:"2.0"}})});return this.#ti(),i}async getSigner(e){null==e&&(e=0);let t=this.send("eth_accounts",[]);if("number"==typeof e){let r=await t;if(e>=r.length)throw Error("no such account");return new ri(this,r[e])}let{accounts:r}=await (0,eu.resolveProperties)({network:this.getNetwork(),accounts:t});for(let t of(e=(0,b.getAddress)(e),r))if((0,b.getAddress)(t)===e)return new ri(this,e);throw Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(e=>new ri(this,e))}destroy(){for(let{payload:e,reject:t}of(this.#te&&(clearTimeout(this.#te),this.#te=null),this.#e9))t((0,F.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#e9=[],super.destroy()}}class ra extends rn{#tn;constructor(e,t){super(e,t);let r=this._getOption("pollingInterval");null==r&&(r=rr.pollingInterval),this.#tn=r}_getSubscriber(e){let t=super._getSubscriber(e);return rt(t)&&(t.pollingInterval=this.#tn),t}get pollingInterval(){return this.#tn}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw Error("invalid interval");this.#tn=e,this._forEachSubscriber(e=>{rt(e)&&(e.pollingInterval=this.#tn)})}}class ro extends ra{#ta;constructor(e,t,r){null==e&&(e="http://localhost:8545"),super(t,r),"string"==typeof e?this.#ta=new eF(e):this.#ta=e.clone()}_getConnection(){return this.#ta.clone()}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){let t=this._getConnection();t.body=JSON.stringify(e),t.setHeader("content-type","application/json");let r=await t.send();r.assertOk();let i=r.bodyJson;return Array.isArray(i)||(i=[i]),i}}e.s(["JsonRpcApiPollingProvider",()=>ra,"JsonRpcApiProvider",()=>rn,"JsonRpcProvider",()=>ro,"JsonRpcSigner",()=>ri],972072);let rs="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";class ru extends ro{apiKey;constructor(e,t){null==e&&(e="mainnet");const r=eJ.from(e);null==t&&(t=rs),super(ru.getRequest(r,t),r,{polling:!0,staticNetwork:r}),(0,eu.defineProperties)(this,{apiKey:t})}_getProvider(e){try{return new ru(e,this.apiKey)}catch(e){}return super._getProvider(e)}static getRequest(e,t){null==t&&(t=rs);let r=new eF(`https://${function(e){switch(e){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"sepolia":return"rpc.ankr.com/eth_sepolia";case"arbitrum":return"rpc.ankr.com/arbitrum";case"base":return"rpc.ankr.com/base";case"base-goerli":return"rpc.ankr.com/base_goerli";case"base-sepolia":return"rpc.ankr.com/base_sepolia";case"bnb":return"rpc.ankr.com/bsc";case"bnbt":return"rpc.ankr.com/bsc_testnet_chapel";case"filecoin":return"rpc.ankr.com/filecoin";case"filecoin-calibration":return"rpc.ankr.com/filecoin_testnet";case"matic":return"rpc.ankr.com/polygon";case"matic-mumbai":return"rpc.ankr.com/polygon_mumbai";case"optimism":return"rpc.ankr.com/optimism";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia"}(0,F.assertArgument)(!1,"unsupported network","network",e)}(e.name)}/${t}`);return r.allowGzip=!0,t===rs&&(r.retryFunc=async(e,t,r)=>(eW("AnkrProvider"),!0)),r}getRpcError(e,t){return"eth_sendRawTransaction"===e.method&&t&&t.error&&"INTERNAL_ERROR: could not replace existing tx"===t.error.message&&(t.error.message="replacement transaction underpriced"),super.getRpcError(e,t)}isCommunityResource(){return this.apiKey===rs}}let rl="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class rc extends ro{apiKey;constructor(e,t){null==e&&(e="mainnet");const r=eJ.from(e);null==t&&(t=rl),super(rc.getRequest(r,t),r,{staticNetwork:r}),(0,eu.defineProperties)(this,{apiKey:t})}_getProvider(e){try{return new rc(e,this.apiKey)}catch(e){}return super._getProvider(e)}async _perform(e){if("getTransactionResult"===e.method){let t,{trace:r,tx:i}=await (0,eu.resolveProperties)({trace:this.send("trace_transaction",[e.hash]),tx:this.getTransaction(e.hash)});if(null==r||null==i)return null;let n=!1;try{t=r[0].result.output,n="Reverted"===r[0].error}catch(e){}if(t)return(0,F.assert)(!n,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:t,reason:null,transaction:i,invocation:null,revert:null}),t;(0,F.assert)(!1,"could not parse trace result","BAD_DATA",{value:r})}return await super._perform(e)}isCommunityResource(){return this.apiKey===rl}static getRequest(e,t){null==t&&(t=rl);let r=new eF(`https://${function(e){switch(e){case"mainnet":return"eth-mainnet.g.alchemy.com";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"arbitrum-sepolia":return"arb-sepolia.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"base-sepolia":return"base-sepolia.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-amoy":return"polygon-amoy.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com";case"optimism-sepolia":return"opt-sepolia.g.alchemy.com"}(0,F.assertArgument)(!1,"unsupported network","network",e)}(e.name)}/v2/${t}`);return r.allowGzip=!0,t===rl&&(r.retryFunc=async(e,t,r)=>(eW("alchemy"),!0)),r}}function rd(e){switch(e){case"mainnet":return"39f1d67cedf8b7831010a665328c9197";case"arbitrum":return"0550c209db33c3abf4cc927e1e18cea1";case"bnb":return"98b5a77e531614387366f6fc5da097f8";case"matic":return"cd9d4d70377471aa7c142ec4a4205249"}(0,F.assertArgument)(!1,"unsupported network","network",e)}class rf extends ro{apiKey;constructor(e,t){null==e&&(e="mainnet");const r=eJ.from(e);null==t&&(t=rd(r.name)),super(rf.getRequest(r,t),r,{staticNetwork:r}),(0,eu.defineProperties)(this,{apiKey:t})}_getProvider(e){try{return new rf(e,this.apiKey)}catch(e){}return super._getProvider(e)}isCommunityResource(){return this.apiKey===rd(this._network.name)}static getRequest(e,t){null==t&&(t=rd(e.name));let r=new eF(`https://${function(e){switch(e){case"mainnet":return"ethereum-mainnet.core.chainstack.com";case"arbitrum":return"arbitrum-mainnet.core.chainstack.com";case"bnb":return"bsc-mainnet.core.chainstack.com";case"matic":return"polygon-mainnet.core.chainstack.com"}(0,F.assertArgument)(!1,"unsupported network","network",e)}(e.name)}/${t}`);return r.allowGzip=!0,t===rd(e.name)&&(r.retryFunc=async(e,t,r)=>(eW("ChainstackProvider"),!0)),r}}class rp extends ro{constructor(e){null==e&&(e="mainnet");const t=eJ.from(e);(0,F.assertArgument)("mainnet"===t.name,"unsupported network","network",e),super("https://cloudflare-eth.com/",t,{staticNetwork:t})}}let rh="1 11155111 17000 560048 2741 11124 33111 33139 42170 42161 421614 43114 43113 8453 84532 80069 80094 199 1029 81457 168587773 56 97 42220 11142220 252 2523 100 999 737373 747474 59144 59141 5000 5003 43521 143 10143 1287 1284 1285 10 11155420 204 5611 80002 137 534352 534351 1329 1328 146 14601 988 2201 1923 1924 167013 167000 130 1301 480 4801 51 50 324 300".split(/ /g),rm="org.ethers.plugins.provider.Etherscan";class rb extends eG{baseUrl;constructor(e){super(rm),(0,eu.defineProperties)(this,{baseUrl:e})}clone(){return new rb(this.baseUrl)}}let rg=["enableCcipRead"],ry=1;class rx extends tJ{network;apiKey;#to;constructor(e,t){super();const r=eJ.from(e);(0,F.assertArgument)(rh.indexOf(`${r.chainId}`)>=0,"unsupported network","network",r),this.#to=r.getPlugin(rm),(0,eu.defineProperties)(this,{apiKey:null!=t?t:null,network:r})}getBaseUrl(){if(this.#to)return this.#to.baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"holesky":return"https://api-holesky.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"base":return"https://api.basescan.org";case"base-sepolia":return"https://api-sepolia.basescan.org";case"bnb":return"https://api.bscscan.com";case"bnbt":return"https://api-testnet.bscscan.com";case"matic":return"https://api.polygonscan.com";case"matic-amoy":return"https://api-amoy.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}(0,F.assertArgument)(!1,"unsupported network","network",this.network)}getUrl(e,t){let r=Object.keys(t).reduce((e,r)=>{let i=t[r];return null!=i&&(e+=`&${r}=${i}`),e},"");return this.apiKey&&(r+=`&apikey=${this.apiKey}`),`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}&module=${e}${r}`}getPostUrl(){return`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t.chainid=this.network.chainId,t}async detectNetwork(){return this.network}async fetch(e,t,r){let i=ry++,n=r?this.getPostUrl():this.getUrl(e,t),a=r?this.getPostData(e,t):null;this.emit("debug",{action:"sendRequest",id:i,url:n,payload:a});let o=new eF(n);o.setThrottleParams({slotInterval:1e3}),o.retryFunc=(e,t,r)=>(this.isCommunityResource()&&eW("Etherscan"),Promise.resolve(!0)),o.processFunc=async(t,r)=>{let n=r.hasBody()?JSON.parse((0,L.toUtf8String)(r.body)):{},a=("string"==typeof n.result?n.result:"").toLowerCase().indexOf("rate limit")>=0;return"proxy"===e?n&&0==n.status&&"NOTOK"==n.message&&a&&(this.emit("debug",{action:"receiveError",id:i,reason:"proxy-NOTOK",error:n}),r.throwThrottleError(n.result,2e3)):a&&(this.emit("debug",{action:"receiveError",id:i,reason:"null result",error:n.result}),r.throwThrottleError(n.result,2e3)),r},a&&(o.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),o.body=Object.keys(a).map(e=>`${e}=${a[e]}`).join("&"));let s=await o.send();try{s.assertOk()}catch(e){this.emit("debug",{action:"receiveError",id:i,error:e,reason:"assertOk"}),(0,F.assert)(!1,"response error","SERVER_ERROR",{request:o,response:s})}s.hasBody()||(this.emit("debug",{action:"receiveError",id:i,error:"missing body",reason:"null body"}),(0,F.assert)(!1,"missing response","SERVER_ERROR",{request:o,response:s}));let u=JSON.parse((0,L.toUtf8String)(s.body));return"proxy"===e?("2.0"!=u.jsonrpc&&(this.emit("debug",{action:"receiveError",id:i,result:u,reason:"invalid JSON-RPC"}),(0,F.assert)(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:o,response:s,info:{result:u}})),u.error&&(this.emit("debug",{action:"receiveError",id:i,result:u,reason:"JSON-RPC error"}),(0,F.assert)(!1,"error response","SERVER_ERROR",{request:o,response:s,info:{result:u}}))):0==u.status&&("No records found"===u.message||"No transactions found"===u.message)||1==u.status&&("string"!=typeof u.message||u.message.match(/^OK/))||(this.emit("debug",{action:"receiveError",id:i,result:u}),(0,F.assert)(!1,"error response","SERVER_ERROR",{request:o,response:s,info:{result:u}})),this.emit("debug",{action:"receiveRequest",id:i,result:u}),u.result}_getTransactionPostData(e){let t={};for(let r in e){if(rg.indexOf(r)>=0||null==e[r])continue;let i=e[r];if(("type"!==r||0!==i)&&("blockTag"!==r||"latest"!==i)){if(({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0})[r])i=(0,Y.toQuantity)(i);else if("accessList"===r)i="["+(0,eV.accessListify)(i).map(e=>`{address:"${e.address}",storageKeys:["${e.storageKeys.join('","')}"]}`).join(",")+"]";else if("blobVersionedHashes"===r){if(0===i.length)continue;(0,F.assert)(!1,"Etherscan API does not support blobVersionedHashes","UNSUPPORTED_OPERATION",{operation:"_getTransactionPostData",info:{transaction:e}})}else i=(0,U.hexlify)(i);t[r]=i}}return t}_checkError(e,t,r){let i="";if((0,F.isError)(t,"SERVER_ERROR")){try{i=t.info.result.error.message}catch(e){}if(!i)try{i=t.info.message}catch(e){}}if("estimateGas"===e.method&&!i.match(/revert/i)&&i.match(/insufficient funds/i)&&(0,F.assert)(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.transaction}),("call"===e.method||"estimateGas"===e.method)&&i.match(/execution reverted/i)){let r="";try{r=t.info.result.error.data}catch(e){}let i=d.AbiCoder.getBuiltinCallException(e.method,e.transaction,r);throw i.info={request:e,error:t},i}if(i&&"broadcastTransaction"===e.method){let t=tc.from(e.signedTransaction);i.match(/replacement/i)&&i.match(/underpriced/i)&&(0,F.assert)(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t}),i.match(/insufficient funds/)&&(0,F.assert)(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t}),i.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&(0,F.assert)(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:t})}throw t}async _detectNetwork(){return this.network}async _perform(e){switch(e.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if("mainnet"===this.network.name)return"1000000000";if("optimism"===this.network.name)return"1000000";throw Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:e.address,tag:e.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:e.address,tag:e.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:e.address,tag:e.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:e.address,position:e.position,tag:e.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:e.signedTransaction},!0).catch(t=>this._checkError(e,t,e.signedTransaction));case"getBlock":if("blockTag"in e)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:e.blockTag,boolean:e.includeTransactions?"true":"false"});(0,F.assert)(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:e.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:e.hash});case"call":{if("latest"!==e.blockTag)throw Error("EtherscanProvider does not support blockTag for call");let t=this._getTransactionPostData(e.transaction);t.module="proxy",t.action="eth_call";try{return await this.fetch("proxy",t,!0)}catch(t){return this._checkError(e,t,e.transaction)}}case"estimateGas":{let t=this._getTransactionPostData(e.transaction);t.module="proxy",t.action="eth_estimateGas";try{return await this.fetch("proxy",t,!0)}catch(t){return this._checkError(e,t,e.transaction)}}}return super._perform(e)}async getNetwork(){return this.network}async getEtherPrice(){return"mainnet"!==this.network.name?0:parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract(e){var t;let r=this._getAddress(e);(t=r)&&"function"==typeof t.then&&(r=await r);try{let e=await this.fetch("contract",{action:"getabi",address:r}),t=JSON.parse(e);return new S.Contract(r,t,this)}catch(e){return null}}isCommunityResource(){return null==this.apiKey}}let rA=("u">typeof self?self:"u">typeof window?window:e.g).WebSocket;class rw{#eN;#k;get filter(){return JSON.parse(this.#k)}#ts;#tu;#tl;constructor(e,t){this.#eN=e,this.#k=JSON.stringify(t),this.#ts=null,this.#tu=null,this.#tl=null}start(){this.#ts=this.#eN.send("eth_subscribe",this.filter).then(e=>(this.#eN._register(e,this),e))}stop(){this.#ts.then(e=>{this.#eN.destroyed||this.#eN.send("eth_unsubscribe",[e])}),this.#ts=null}pause(e){(0,F.assert)(e,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),this.#tu=!!e}resume(){this.#tu=null}_handleMessage(e){if(null!=this.#ts&&null===this.#tu){let t=this.#tl;t=null==t?this._emit(this.#eN,e):t.then(async()=>{await this._emit(this.#eN,e)}),this.#tl=t.then(()=>{this.#tl===t&&(this.#tl=null)})}}async _emit(e,t){throw Error("sub-classes must implemente this; _emit")}}class rv extends rw{constructor(e){super(e,["newHeads"])}async _emit(e,t){e.emit("block",parseInt(t.number))}}class rS extends rw{constructor(e){super(e,["newPendingTransactions"])}async _emit(e,t){e.emit("pending",t)}}class rT extends rw{#tc;get logFilter(){return JSON.parse(this.#tc)}constructor(e,t){super(e,["logs",t]),this.#tc=JSON.stringify(t)}async _emit(e,t){e.emit(this.logFilter,e._wrapLog(t,e._network))}}class rE extends rn{#td;#eL;#tf;constructor(e,t){const r=Object.assign({},null!=t?t:{});(0,F.assertArgument)(null==r.batchMaxCount||1===r.batchMaxCount,"sockets-based providers do not support batches","options.batchMaxCount",t),r.batchMaxCount=1,null==r.staticNetwork&&(r.staticNetwork=!0),super(e,r),this.#td=new Map,this.#eL=new Map,this.#tf=new Map}_getSubscriber(e){switch(e.type){case"close":return new tz("close");case"block":return new rv(this);case"pending":return new rS(this);case"event":return new rT(this,e.filter);case"orphan":if("drop-log"===e.filter.orphan)return new tz("drop-log")}return super._getSubscriber(e)}_register(e,t){this.#eL.set(e,t);let r=this.#tf.get(e);if(r){for(let e of r)t._handleMessage(e);this.#tf.delete(e)}}async _send(e){(0,F.assertArgument)(!Array.isArray(e),"WebSocket does not support batch send","payload",e);let t=new Promise((t,r)=>{this.#td.set(e.id,{payload:e,resolve:t,reject:r})});return await this._waitUntilReady(),await this._write(JSON.stringify(e)),[await t]}async _processMessage(e){let t=JSON.parse(e);if(t&&"object"==typeof t&&"id"in t){let e=this.#td.get(t.id);if(null==e)return void this.emit("error",(0,F.makeError)("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:t}));this.#td.delete(t.id),e.resolve(t)}else{if(!t||"eth_subscription"!==t.method)return void this.emit("error",(0,F.makeError)("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:t}));let e=t.params.subscription,r=this.#eL.get(e);if(r)r._handleMessage(t.params.result);else{let r=this.#tf.get(e);null==r&&(r=[],this.#tf.set(e,r)),r.push(t.params.result)}}}async _write(e){throw Error("sub-classes must override this")}}class rk extends rE{#ta;#tp;get websocket(){if(null==this.#tp)throw Error("websocket closed");return this.#tp}constructor(e,t,r){super(t,r),"string"==typeof e?(this.#ta=()=>new rA(e),this.#tp=this.#ta()):"function"==typeof e?(this.#ta=e,this.#tp=e()):(this.#ta=null,this.#tp=e),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(e){console.log("failed to start WebsocketProvider",e)}},this.websocket.onmessage=e=>{this._processMessage(e.data)}}async _write(e){this.websocket.send(e)}async destroy(){null!=this.#tp&&(this.#tp.close(),this.#tp=null),super.destroy()}}let rP="84842078b09946638c03157f83405213";class r_ extends rk{projectId;projectSecret;constructor(e,t){const r=new rI(e,t),i=r._getConnection();(0,F.assert)(!i.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"}),super(i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),r._network),(0,eu.defineProperties)(this,{projectId:r.projectId,projectSecret:r.projectSecret})}isCommunityResource(){return this.projectId===rP}}class rI extends ro{projectId;projectSecret;constructor(e,t,r){null==e&&(e="mainnet");const i=eJ.from(e);null==t&&(t=rP),null==r&&(r=null),super(rI.getRequest(i,t,r),i,{staticNetwork:i}),(0,eu.defineProperties)(this,{projectId:t,projectSecret:r})}_getProvider(e){try{return new rI(e,this.projectId,this.projectSecret)}catch(e){}return super._getProvider(e)}isCommunityResource(){return this.projectId===rP}static getWebSocketProvider(e,t){return new r_(e,t)}static getRequest(e,t,r){null==t&&(t=rP),null==r&&(r=null);let i=new eF(`https://${function(e){switch(e){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":case"base-goerli":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bsc-mainnet.infura.io";case"bnbt":return"bsc-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}(0,F.assertArgument)(!1,"unsupported network","network",e)}(e.name)}/v3/${t}`);return i.allowGzip=!0,r&&i.setCredentials("",r),t===rP&&(i.retryFunc=async(e,t,r)=>(eW("InfuraProvider"),!0)),i}}let rN="919b412a057b5e9c9b6dce193c5a60242d6efadb";class rR extends ro{token;constructor(e,t){null==e&&(e="mainnet");const r=eJ.from(e);null==t&&(t=rN),super(rR.getRequest(r,t),r,{staticNetwork:r}),(0,eu.defineProperties)(this,{token:t})}_getProvider(e){try{return new rR(e,this.token)}catch(e){}return super._getProvider(e)}isCommunityResource(){return this.token===rN}static getRequest(e,t){null==t&&(t=rN);let r=new eF(`https://${function(e){switch(e){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"sepolia":return"ethers.ethereum-sepolia.quiknode.pro";case"holesky":return"ethers.ethereum-holesky.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"arbitrum-sepolia":return"ethers.arbitrum-sepolia.quiknode.pro";case"base":return"ethers.base-mainnet.quiknode.pro";case"base-goerli":return"ethers.base-goerli.quiknode.pro";case"base-spolia":return"ethers.base-sepolia.quiknode.pro";case"bnb":return"ethers.bsc.quiknode.pro";case"bnbt":return"ethers.bsc-testnet.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro";case"optimism-sepolia":return"ethers.optimism-sepolia.quiknode.pro";case"xdai":return"ethers.xdai.quiknode.pro"}(0,F.assertArgument)(!1,"unsupported network","network",e)}(e.name)}/${t}`);return r.allowGzip=!0,t===rN&&(r.retryFunc=async(e,t,r)=>(eW("QuickNodeProvider"),!0)),r}}let rB=BigInt("1"),rC=BigInt("2");function rO(){return new Date().getTime()}function rD(e){return JSON.stringify(e,(e,t)=>"bigint"==typeof t?{type:"bigint",value:t.toString()}:t)}let rM={stallTimeout:400,priority:1,weight:1},rU={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};async function rF(e,t){for(;(e.blockNumber<0||e.blockNumber<t)&&(e._updateNumber||(e._updateNumber=(async()=>{try{let t=await e.provider.getBlockNumber();t>e.blockNumber&&(e.blockNumber=t)}catch(t){e.blockNumber=-2,e._lastFatalError=t,e._lastFatalErrorTimestamp=rO()}e._updateNumber=null})()),await e._updateNumber,e.outOfSync++,!e._lastFatalError););}function rL(e){if(null==e)return"null";if(Array.isArray(e))return"["+e.map(rL).join(",")+"]";if("object"==typeof e&&"function"==typeof e.toJSON)return rL(e.toJSON());switch(typeof e){case"boolean":case"symbol":return e.toString();case"bigint":case"number":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{let t=Object.keys(e);return t.sort(),"{"+t.map(t=>`${JSON.stringify(t)}:${rL(e[t])}`).join(",")+"}"}}throw console.log("Could not serialize",e),Error("Hmm...")}function rq(e,t){if("error"in t){let e=t.error;return{tag:(0,F.isError)(e,"CALL_EXCEPTION")?rL(Object.assign({},e,{shortMessage:void 0,reason:void 0,info:void 0})):rL(e),value:e}}let r=t.result;return{tag:rL(r),value:r}}function rK(e,t){let r=new Map;for(let{value:e,tag:i,weight:n}of t){let t=r.get(i)||{value:e,weight:0};t.weight+=n,r.set(i,t)}let i=null;for(let t of r.values())t.weight>=e&&(!i||t.weight>i.weight)&&(i=t);if(i)return i.value}function rW(e,t){let r=0,i=new Map,n=null,a=[];for(let{value:e,tag:o,weight:s}of t)if(e instanceof Error){let t=i.get(o)||{value:e,weight:0};t.weight+=s,i.set(o,t),(null==n||t.weight>n.weight)&&(n=t)}else a.push(BigInt(e)),r+=s;if(r<e)return n&&n.weight>=e?n.value:void 0;a.sort((e,t)=>e<t?-1:+(t>e));let o=Math.floor(a.length/2);return a.length%2?a[o]:(a[o-1]+a[o]+rB)/rC}function rV(e,t){let r=rK(e,t);if(void 0!==r)return r;for(let e of t)if(e.value)return e.value}class rG extends tJ{quorum;eventQuorum;eventWorkers;#th;#tm;#tb;constructor(e,t,r){super(t,r),this.#th=e.map(e=>e instanceof tJ?Object.assign({provider:e},rM,rU):Object.assign({},rM,e,rU)),this.#tm=-2,this.#tb=null,r&&null!=r.quorum?this.quorum=r.quorum:this.quorum=Math.ceil(this.#th.reduce((e,t)=>e+=t.weight,0)/2),this.eventQuorum=1,this.eventWorkers=1,(0,F.assertArgument)(this.quorum<=this.#th.reduce((e,t)=>e+t.weight,0),"quorum exceed provider weight","quorum",this.quorum)}get providerConfigs(){return this.#th.map(e=>{let t=Object.assign({},e);for(let e in t)"_"===e[0]&&delete t[e];return t})}async _detectNetwork(){return eJ.from((0,Y.getBigInt)(await this._perform({method:"chainId"})))}async _translatePerform(e,t){switch(t.method){case"broadcastTransaction":return await e.broadcastTransaction(t.signedTransaction);case"call":return await e.call(Object.assign({},t.transaction,{blockTag:t.blockTag}));case"chainId":return(await e.getNetwork()).chainId;case"estimateGas":return await e.estimateGas(t.transaction);case"getBalance":return await e.getBalance(t.address,t.blockTag);case"getBlock":{let r="blockHash"in t?t.blockHash:t.blockTag;return await e.getBlock(r,t.includeTransactions)}case"getBlockNumber":return await e.getBlockNumber();case"getCode":return await e.getCode(t.address,t.blockTag);case"getGasPrice":return(await e.getFeeData()).gasPrice;case"getPriorityFee":return(await e.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await e.getLogs(t.filter);case"getStorage":return await e.getStorage(t.address,t.position,t.blockTag);case"getTransaction":return await e.getTransaction(t.hash);case"getTransactionCount":return await e.getTransactionCount(t.address,t.blockTag);case"getTransactionReceipt":return await e.getTransactionReceipt(t.hash);case"getTransactionResult":return await e.getTransactionResult(t.hash)}}#tg(e){let t=Array.from(e).map(e=>e.config),r=this.#th.slice();for(let e=r.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1)),i=r[e];r[e]=r[t],r[t]=i}for(let e of(r.sort((e,t)=>e.priority-t.priority),r))if(!e._lastFatalError&&-1===t.indexOf(e))return e;return null}#ty(e,t){let r=this.#tg(e);if(null==r)return null;let i={config:r,result:null,didBump:!1,perform:null,staller:null},n=rO();return i.perform=(async()=>{try{r.requests++,i.result={result:await this._translatePerform(r.provider,t)}}catch(e){r.errorResponses++,i.result={error:e}}let e=rO()-n;r._totalTime+=e,r.rollingDuration=.95*r.rollingDuration+.05*e,i.perform=null})(),i.staller=(async()=>{var e;await (e=r.stallTimeout,new Promise(t=>{setTimeout(t,e)})),i.staller=null})(),e.add(i),i}async #tx(){let e=this.#tb;if(!e){let t=[];this.#th.forEach(e=>{t.push((async()=>{await rF(e,0),e._lastFatalError||(e._network=await e.provider.getNetwork())})())}),this.#tb=e=(async()=>{await Promise.all(t);let e=null;for(let t of this.#th){if(t._lastFatalError)continue;let r=t._network;null==e?e=r.chainId:r.chainId!==e&&(0,F.assert)(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})()}await e}async #tA(e,t){let r=[];for(let i of e)if(null!=i.result){let{tag:e,value:n}=rq(t.method,i.result);r.push({tag:e,value:n,weight:i.config.weight})}if(!(r.reduce((e,t)=>e+t.weight,0)<this.quorum)){switch(t.method){case"getBlockNumber":{-2===this.#tm&&(this.#tm=Math.ceil((0,Y.getNumber)(rW(this.quorum,this.#th.filter(e=>!e._lastFatalError).map(e=>({value:e.blockNumber,tag:(0,Y.getNumber)(e.blockNumber).toString(),weight:e.weight}))))));let e=function(e,t){let r;if(1===e)return(0,Y.getNumber)(rW(e,t),"%internal");let i=new Map,n=(e,t)=>{let r=i.get(e)||{result:e,weight:0};r.weight+=t,i.set(e,r)};for(let{weight:e,value:r}of t){let t=(0,Y.getNumber)(r);n(t-1,e),n(t,e),n(t+1,e)}let a=0;for(let{weight:t,result:n}of i.values())t>=e&&(t>a||null!=r&&t===a&&n>r)&&(a=t,r=n);return r}(this.quorum,r);if(void 0===e)return;return e>this.#tm&&(this.#tm=e),this.#tm}case"getGasPrice":case"getPriorityFee":case"estimateGas":return rW(this.quorum,r);case"getBlock":if("blockTag"in t&&"pending"===t.blockTag)return rV(this.quorum,r);return rK(this.quorum,r);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return rK(this.quorum,r);case"broadcastTransaction":return rV(this.quorum,r)}(0,F.assert)(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${rD(t.method)})`})}}async #tw(e,t){if(0===e.size)throw Error("no runners?!");let r=[],i=0;for(let t of e){if(t.perform&&r.push(t.perform),t.staller){r.push(t.staller);continue}!t.didBump&&(t.didBump=!0,i++)}let n=await this.#tA(e,t);if(void 0!==n){if(n instanceof Error)throw n;return n}for(let r=0;r<i;r++)this.#ty(e,t);return(0,F.assert)(r.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:t,results:Array.from(e).map(e=>rD(e.result))}}),await Promise.race(r),await this.#tw(e,t)}async _perform(e){if("broadcastTransaction"===e.method){let t=this.#th.map(e=>null),r=this.#th.map(async({provider:r,weight:i},n)=>{try{let a=await r._perform(e);t[n]=Object.assign(rq(e.method,{result:a}),{weight:i})}catch(r){t[n]=Object.assign(rq(e.method,{error:r}),{weight:i})}});for(;;){for(let{value:e}of t.filter(e=>null!=e))if(!(e instanceof Error))return e;let e=rK(this.quorum,t.filter(e=>null!=e));if((0,F.isError)(e,"INSUFFICIENT_FUNDS"))throw e;let i=r.filter((e,r)=>null==t[r]);if(0===i.length)break;await Promise.race(i)}let i=rV(this.quorum,t);if((0,F.assert)(void 0!==i,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:e,results:t.map(rD)}}),i instanceof Error)throw i;return i}await this.#tx();let t=new Set,r=0;for(;;){let i=this.#ty(t,e);if(null==i||(r+=i.config.weight)>=this.quorum)break}let i=await this.#tw(t,e);for(let e of t)e.perform&&null==e.result&&e.config.lateResponses++;return i}async destroy(){for(let{provider:e}of this.#th)e.destroy();super.destroy()}}let rz="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");function rj(e,t){null==t&&(t={});let r=e=>"-"!==t[e]&&("string"==typeof t.exclusive?e===t.exclusive:!Array.isArray(t.exclusive)||-1!==t.exclusive.indexOf(e));if("string"==typeof e&&e.match(/^https?:/))return new ro(e);if("string"==typeof e&&e.match(/^wss?:/)||e&&"function"==typeof e.send&&"function"==typeof e.close)return new rk(e);let i=null;try{i=eJ.from(e)}catch(e){}let n=[];if(r("publicPolygon")&&i&&("matic"===i.name?n.push(new ro("https://polygon-rpc.com/",i,{staticNetwork:i})):"matic-amoy"===i.name&&n.push(new ro("https://rpc-amoy.polygon.technology/",i,{staticNetwork:i}))),r("alchemy"))try{n.push(new rc(e,t.alchemy))}catch(e){}if(r("ankr")&&null!=t.ankr)try{n.push(new ru(e,t.ankr))}catch(e){}if(r("chainstack"))try{n.push(new rf(e,t.chainstack))}catch(e){}if(r("cloudflare"))try{n.push(new rp(e))}catch(e){}if(r("etherscan"))try{n.push(new rx(e,t.etherscan))}catch(e){}if(r("infura"))try{let r,i=t.infura;"object"==typeof i&&(r=i.projectSecret,i=i.projectId),n.push(new rI(e,i,r))}catch(e){}if(r("quicknode"))try{let r=t.quicknode;n.push(new rR(e,r))}catch(e){}if((0,F.assert)(n.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),1===n.length)return n[0];let a=Math.floor(n.length/2);return a>2&&(a=2),i&&-1!==rz.indexOf(i.name)&&(a=1),t&&t.quorum&&(a=t.quorum),new rG(n,void 0,{quorum:a})}class rH extends t5{signer;#tv;#tS;constructor(e){super(e.provider),(0,eu.defineProperties)(this,{signer:e}),this.#tv=null,this.#tS=0}async getAddress(){return this.signer.getAddress()}connect(e){return new rH(this.signer.connect(e))}async getNonce(e){if("pending"===e){null==this.#tv&&(this.#tv=super.getNonce("pending"));let e=this.#tS;return await this.#tv+e}return super.getNonce(e)}increment(){this.#tS++}reset(){this.#tS=0,this.#tv=null}async sendTransaction(e){let t=this.getNonce("pending");return this.increment(),(e=await this.signer.populateTransaction(e)).nonce=await t,await this.signer.sendTransaction(e)}signTransaction(e){return this.signer.signTransaction(e)}signMessage(e){return this.signer.signMessage(e)}signTypedData(e,t,r){return this.signer.signTypedData(e,t,r)}}class rX extends ra{#er;#tT;constructor(e,t,r){const i=Object.assign({},null!=r?r:{},{batchMaxCount:1});(0,F.assertArgument)(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,i),this.#tT=null,r&&r.providerInfo&&(this.#tT=r.providerInfo),this.#er=async(t,r)=>{let i={method:t,params:r};this.emit("debug",{action:"sendEip1193Request",payload:i});try{let t=await e.request(i);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(t){let e=Error(t.message);throw e.code=t.code,e.data=t.data,e.payload=i,this.emit("debug",{action:"receiveEip1193Error",error:e}),e}}}get providerInfo(){return this.#tT}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){(0,F.assertArgument)(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{let t=await this.#er(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);let t=await this.send("eth_accounts",[]);return"number"==typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter(t=>t.toLowerCase()===e).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await this.#er("eth_requestAccounts",[])}catch(t){let e=t.payload;throw this.getRpcError(e,{id:e.id,error:t})}return await super.getSigner(e)}static async discover(e){if(null==e&&(e={}),e.provider)return new rX(e.provider);let t=e.window?e.window:"u">typeof window?window:null;if(null==t)return null;let r=e.anyProvider;if(r&&t.ethereum)return new rX(t.ethereum);if(!("addEventListener"in t&&"dispatchEvent"in t&&"removeEventListener"in t))return null;let i=e.timeout?e.timeout:300;return 0===i?null:await new Promise((n,a)=>{let o=[],s=e=>{o.push(e.detail),r&&u()},u=()=>{if(clearTimeout(l),o.length)if(e&&e.filter){let t=e.filter(o.map(e=>Object.assign({},e.info)));if(null==t)n(null);else if(t instanceof rX)n(t);else{let e=null;if(t.uuid&&(e=o.filter(e=>t.uuid===e.info.uuid)[0]),e){let{provider:t,info:r}=e;n(new rX(t,void 0,{providerInfo:r}))}else a((0,F.makeError)("filter returned unknown info","UNSUPPORTED_OPERATION",{value:t}))}}else{let{provider:e,info:t}=o[0];n(new rX(e,void 0,{providerInfo:t}))}else n(null);t.removeEventListener("eip6963:announceProvider",s)},l=setTimeout(()=>{u()},i);t.addEventListener("eip6963:announceProvider",s),t.dispatchEvent(new Event("eip6963:requestProvider"))})}}class rQ extends ro{apiKey;constructor(e,t){null==e&&(e="mainnet");const r=eJ.from(e);null==t&&(t=null),super(rQ.getRequest(r),r,{staticNetwork:r}),(0,eu.defineProperties)(this,{apiKey:t})}_getProvider(e){try{return new rQ(e,this.apiKey)}catch(e){}return super._getProvider(e)}isCommunityResource(){return null===this.apiKey}getRpcRequest(e){let t=super.getRpcRequest(e);return t&&"eth_estimateGas"===t.method&&1==t.args.length&&(t.args=t.args.slice(),t.args.push("latest")),t}getRpcError(e,t){let r=t?t.error:null;if(r&&-32015===r.code&&!(0,U.isHexString)(r.data||"",!0)){let e={"assert(false)":"01","arithmetic underflow or overflow":"11","division or modulo by zero":"12","out-of-bounds array access; popping on an empty array":"31","out-of-bounds access of an array or bytesN":"32"},t="";"VM execution error."===r.message?t=e[r.data]||"":e[r.message||""]&&(t=e[r.message||""]),t&&(r.message+=` (reverted: ${r.data})`,r.data="0x4e487b7100000000000000000000000000000000000000000000000000000000000000"+t)}else r&&-32e3===r.code&&"wrong transaction nonce"===r.message&&(r.message+=" (nonce too low)");return super.getRpcError(e,t)}static getRequest(e){let t=new eF(function(e){switch(e){case"mainnet":return"https://eth.blockscout.com/api/eth-rpc";case"sepolia":return"https://eth-sepolia.blockscout.com/api/eth-rpc";case"holesky":return"https://eth-holesky.blockscout.com/api/eth-rpc";case"classic":return"https://etc.blockscout.com/api/eth-rpc";case"arbitrum":return"https://arbitrum.blockscout.com/api/eth-rpc";case"base":return"https://base.blockscout.com/api/eth-rpc";case"base-sepolia":return"https://base-sepolia.blockscout.com/api/eth-rpc";case"matic":return"https://polygon.blockscout.com/api/eth-rpc";case"optimism":return"https://optimism.blockscout.com/api/eth-rpc";case"optimism-sepolia":return"https://optimism-sepolia.blockscout.com/api/eth-rpc";case"xdai":return"https://gnosis.blockscout.com/api/eth-rpc"}(0,F.assertArgument)(!1,"unsupported network","network",e)}(e.name));return t.allowGzip=!0,t}}let rJ="62e1ad51b37b8e00394bda3b";class rY extends ro{applicationId;applicationSecret;constructor(e,t,r){null==e&&(e="mainnet");const i=eJ.from(e);null==t&&(t=rJ),null==r&&(r=null),super(rY.getRequest(i,t,r),i,{staticNetwork:i}),(0,eu.defineProperties)(this,{applicationId:t,applicationSecret:r})}_getProvider(e){try{return new rY(e,this.applicationId,this.applicationSecret)}catch(e){}return super._getProvider(e)}static getRequest(e,t,r){null==t&&(t=rJ);let i=new eF(`https://${function(e){switch(e){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}(0,F.assertArgument)(!1,"unsupported network","network",e)}(e.name)}/v1/lb/${t}`);return i.allowGzip=!0,r&&i.setCredentials("",r),t===rJ&&(i.retryFunc=async(e,t,r)=>(eW("PocketProvider"),!0)),i}isCommunityResource(){return this.applicationId===rJ}}let rZ,r$=BigInt(-1),r0=BigInt(0),r1=BigInt(1),r2=BigInt(5),r5={},r6="0000";for(;r6.length<80;)r6+=r6;function r3(e){let t=r6;for(;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e))}function r4(e,t,r){let i=BigInt(t.width);if(t.signed){let t=r1<<i-r1;(0,F.assert)(null==r||e>=-t&&e<t,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:e}),e=e>r0?(0,Y.fromTwos)((0,Y.mask)(e,i),i):-(0,Y.fromTwos)((0,Y.mask)(-e,i),i)}else{let t=r1<<i;(0,F.assert)(null==r||e>=0&&e<t,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:e}),e=(e%t+t)%t&t-r1}return e}function r8(e){"number"==typeof e&&(e=`fixed128x${e}`);let t=!0,r=128,i=18;if("string"==typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{let n=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);(0,F.assertArgument)(n,"invalid fixed format","format",e),t="u"!==n[1],r=parseInt(n[2]),i=parseInt(n[3])}else if(e){let n=e,a=(e,t,r)=>null==n[e]?r:((0,F.assertArgument)(typeof n[e]===t,"invalid fixed format ("+e+" not "+t+")","format."+e,n[e]),n[e]);t=a("signed","boolean",t),r=a("width","number",r),i=a("decimals","number",i)}(0,F.assertArgument)(r%8==0,"invalid FixedNumber width (not byte aligned)","format.width",r),(0,F.assertArgument)(i<=80,"invalid FixedNumber decimals (too large)","format.decimals",i);let n=(t?"":"u")+"fixed"+String(r)+"x"+String(i);return{signed:t,width:r,decimals:i,name:n}}class r7{format;#tE;#tk;#tP;_value;constructor(e,t,r){(0,F.assertPrivate)(e,r5,"FixedNumber"),this.#tk=t,this.#tE=r;const i=function(e,t){let r="";e<r0&&(r="-",e*=r$);let i=e.toString();if(0===t)return r+i;for(;i.length<=t;)i=r6+i;let n=i.length-t;for(i=i.substring(0,n)+"."+i.substring(n);"0"===i[0]&&"."!==i[1];)i=i.substring(1);for(;"0"===i[i.length-1]&&"."!==i[i.length-2];)i=i.substring(0,i.length-1);return r+i}(t,r.decimals);(0,eu.defineProperties)(this,{format:r.name,_value:i}),this.#tP=r3(r.decimals)}get signed(){return this.#tE.signed}get width(){return this.#tE.width}get decimals(){return this.#tE.decimals}get value(){return this.#tk}#t_(e){(0,F.assertArgument)(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#tI(e,t){return new r7(r5,e=r4(e,this.#tE,t),this.#tE)}#tN(e,t){return this.#t_(e),this.#tI(this.#tk+e.#tk,t)}addUnsafe(e){return this.#tN(e)}add(e){return this.#tN(e,"add")}#tR(e,t){return this.#t_(e),this.#tI(this.#tk-e.#tk,t)}subUnsafe(e){return this.#tR(e)}sub(e){return this.#tR(e,"sub")}#tB(e,t){return this.#t_(e),this.#tI(this.#tk*e.#tk/this.#tP,t)}mulUnsafe(e){return this.#tB(e)}mul(e){return this.#tB(e,"mul")}mulSignal(e){this.#t_(e);let t=this.#tk*e.#tk;return(0,F.assert)(t%this.#tP===r0,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#tI(t/this.#tP,"mulSignal")}#tC(e,t){return(0,F.assert)(e.#tk!==r0,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#t_(e),this.#tI(this.#tk*this.#tP/e.#tk,t)}divUnsafe(e){return this.#tC(e)}div(e){return this.#tC(e,"div")}divSignal(e){(0,F.assert)(e.#tk!==r0,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#t_(e);let t=this.#tk*this.#tP;return(0,F.assert)(t%e.#tk===r0,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#tI(t/e.#tk,"divSignal")}cmp(e){let t=this.value,r=e.value,i=this.decimals-e.decimals;return(i>0?r*=r3(i):i<0&&(t*=r3(-i)),t<r)?-1:+(t>r)}eq(e){return 0===this.cmp(e)}lt(e){return 0>this.cmp(e)}lte(e){return 0>=this.cmp(e)}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#tk;return this.#tk<r0&&(e-=this.#tP-r1),e=this.#tk/this.#tP*this.#tP,this.#tI(e,"floor")}ceiling(){let e=this.#tk;return this.#tk>r0&&(e+=this.#tP-r1),e=this.#tk/this.#tP*this.#tP,this.#tI(e,"ceiling")}round(e){if(null==e&&(e=0),e>=this.decimals)return this;let t=this.decimals-e,r=r2*r3(t-1),i=this.value+r,n=r3(t);return r4(i=i/n*n,this.#tE,"round"),new r7(r5,i,this.#tE)}isZero(){return this.#tk===r0}isNegative(){return this.#tk<r0}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return r7.fromString(this.toString(),e)}static fromValue(e,t,r){let i=null==t?0:(0,Y.getNumber)(t),n=r8(r),a=(0,Y.getBigInt)(e,"value"),o=i-n.decimals;if(o>0){let t=r3(o);(0,F.assert)(a%t===r0,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),a/=t}else o<0&&(a*=r3(-o));return r4(a,n,"fromValue"),new r7(r5,a,n)}static fromString(e,t){let r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);(0,F.assertArgument)(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);let i=r8(t),n=r[2]||"0",a=r[3]||"";for(;a.length<i.decimals;)a+=r6;(0,F.assert)(a.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),a=a.substring(0,i.decimals);let o=BigInt(r[1]+n+a);return r4(o,i,"fromString"),new r7(r5,o,i)}static fromBytes(e,t){let r=(0,Y.toBigInt)((0,U.getBytes)(e,"value")),i=r8(t);return i.signed&&(r=(0,Y.fromTwos)(r,i.width)),r4(r,i,"fromBytes"),new r7(r5,r,i)}}let r9=["wei","kwei","mwei","gwei","szabo","finney","ether"];function ie(e,t){let r=18;if("string"==typeof t){let e=r9.indexOf(t);(0,F.assertArgument)(e>=0,"invalid unit","unit",t),r=3*e}else null!=t&&(r=(0,Y.getNumber)(t,"unit"));return r7.fromValue(e,r,{decimals:r,width:512}).toString()}function it(e,t){(0,F.assertArgument)("string"==typeof e,"value must be a string","value",e);let r=18;if("string"==typeof t){let e=r9.indexOf(t);(0,F.assertArgument)(e>=0,"invalid unit","unit",t),r=3*e}else null!=t&&(r=(0,Y.getNumber)(t,"unit"));return r7.fromString(e,{decimals:r,width:512}).value}function ir(e){return ie(e,18)}function ii(e){return it(e,18)}function ia(e){let t=(0,U.getBytes)(e,"randomBytes");t[6]=15&t[6]|64,t[8]=63&t[8]|128;let r=(0,U.hexlify)(t);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}e.s(["formatEther",()=>ir,"formatUnits",()=>ie,"parseEther",()=>ii,"parseUnits",()=>it],501058);let io=" !#$%&'()*+,-./<=>?@[]^_`{|}~",is=/^[a-z]*$/i;function iu(e,t){let r=97;return e.reduce((e,i)=>(i===t?r++:i.match(is)?e.push(String.fromCharCode(r)+i):(r=97,e.push(i)),e),[])}function il(e){return(0,F.assertArgument)("0"===e[0],"unsupported auwl data","data",e),function(e,t){for(let r=io.length-1;r>=0;r--)e=e.split(io[r]).join(t.substring(2*r,2*r+2));let r=[],i=e.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(e,t,i,n)=>{if(i)for(let e=parseInt(i);e>=0;e--)r.push(";");else r.push(t.toLowerCase());return""});if(i)throw Error(`leftovers: ${JSON.stringify(i)}`);return iu(iu(r,";"),":")}(e.substring(1+2*io.length),e.substring(1,1+2*io.length))}class ic{locale;constructor(e){(0,eu.defineProperties)(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}class id extends ic{#t;#tO;constructor(e,t,r){super(e),this.#t=t,this.#tO=r,this.#tD=null}get _data(){return this.#t}_decodeWords(){return il(this.#t)}#tD;#tM(){if(null==this.#tD){let e=this._decodeWords();if((0,M.id)(e.join("\n")+"\n")!==this.#tO)throw Error(`BIP39 Wordlist for ${this.locale} FAILED`);this.#tD=e}return this.#tD}getWord(e){let t=this.#tM();return(0,F.assertArgument)(e>=0&&e<t.length,`invalid word index: ${e}`,"index",e),t[e]}getWordIndex(e){return this.#tM().indexOf(e)}}let ip=null;class ih extends id{constructor(){super("en","0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO","0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60")}static wordlist(){return null==ip&&(ip=new ih),ip}}function im(e){return(1<<e)-1<<8-e&255}function ib(e,t){(0,F.assertNormalize)("NFKD"),null==t&&(t=ih.wordlist());let r=t.split(e);(0,F.assertArgument)(r.length%3==0&&r.length>=12&&r.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");let i=new Uint8Array(Math.ceil(11*r.length/8)),n=0;for(let e=0;e<r.length;e++){let a=t.getWordIndex(r[e].normalize("NFKD"));(0,F.assertArgument)(a>=0,`invalid mnemonic word at index ${e}`,"mnemonic","[ REDACTED ]");for(let e=0;e<11;e++)a&1<<10-e&&(i[n>>3]|=1<<7-n%8),n++}let a=32*r.length/3,o=im(r.length/3),s=(0,U.getBytes)((0,N.sha256)(i.slice(0,a/8)))[0]&o;return(0,F.assertArgument)(s===(i[i.length-1]&o),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),(0,U.hexlify)(i.slice(0,a/8))}function ig(e,t){(0,F.assertArgument)(e.length%4==0&&e.length>=16&&e.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),null==t&&(t=ih.wordlist());let r=[0],i=11;for(let t=0;t<e.length;t++)i>8?(r[r.length-1]<<=8,r[r.length-1]|=e[t],i-=8):(r[r.length-1]<<=i,r[r.length-1]|=e[t]>>8-i,r.push(e[t]&((1<<8-i)-1&255)),i+=3);let n=e.length/4,a=parseInt((0,N.sha256)(e).substring(2,4),16)&im(n);return r[r.length-1]<<=n,r[r.length-1]|=a>>8-n,t.join(r.map(e=>t.getWord(e)))}let iy={};class ix{phrase;password;wordlist;entropy;constructor(e,t,r,i,n){null==i&&(i=""),null==n&&(n=ih.wordlist()),(0,F.assertPrivate)(e,iy,"Mnemonic"),(0,eu.defineProperties)(this,{phrase:r,password:i,wordlist:n,entropy:t})}computeSeed(){let e=(0,L.toUtf8Bytes)("mnemonic"+this.password,"NFKD");return(0,R.pbkdf2)((0,L.toUtf8Bytes)(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,r){let i=ib(e,r);return e=ig((0,U.getBytes)(i),r),new ix(iy,i,e,t,r)}static fromEntropy(e,t,r){let i=(0,U.getBytes)(e,"entropy"),n=ig(i,r);return new ix(iy,(0,U.hexlify)(i),n,t,r)}static entropyToPhrase(e,t){return ig((0,U.getBytes)(e,"entropy"),t)}static phraseToEntropy(e,t){return ib(e,t)}static isValidMnemonic(e,t){try{return ib(e,t),!0}catch(e){}return!1}}class iA extends t5{address;#tU;constructor(e,t){super(t),(0,F.assertArgument)(e&&"function"==typeof e.sign,"invalid private key","privateKey","[ REDACTED ]"),this.#tU=e;const r=X(this.signingKey.publicKey);(0,eu.defineProperties)(this,{address:r})}get signingKey(){return this.#tU}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(e){return new iA(this.#tU,e)}async signTransaction(e){e=(0,tO.copyRequest)(e);let{to:t,from:r}=await (0,eu.resolveProperties)({to:e.to?(0,y.resolveAddress)(e.to,this):void 0,from:e.from?(0,y.resolveAddress)(e.from,this):void 0});null!=t&&(e.to=t),null!=r&&(e.from=r),null!=e.from&&((0,F.assertArgument)((0,b.getAddress)(e.from)===this.address,"transaction from address mismatch","tx.from",e.from),delete e.from);let i=tc.from(e);return i.signature=this.signingKey.sign(i.unsignedHash),i.serialized}async signMessage(e){return this.signMessageSync(e)}signMessageSync(e){return this.signingKey.sign(ee(e)).serialized}authorizeSync(e){(0,F.assertArgument)("string"==typeof e.address,"invalid address for authorizeSync","auth.address",e);let t=this.signingKey.sign(Z(e));return Object.assign({},{address:(0,b.getAddress)(e.address),nonce:(0,Y.getBigInt)(e.nonce||0),chainId:(0,Y.getBigInt)(e.chainId||0)},{signature:t})}async authorize(e){return e=Object.assign({},e,{address:await (0,y.resolveAddress)(e.address,this)}),this.authorizeSync(await this.populateAuthorization(e))}async signTypedData(e,t,r){let i=await eS.resolveNames(e,t,r,async e=>{(0,F.assert)(null!=this.provider,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:e}});let t=await this.provider.resolveName(e);return(0,F.assert)(null!=t,"unconfigured ENS name","UNCONFIGURED_NAME",{value:e}),t});return this.signingKey.sign(eS.hash(i.domain,t,i.value)).serialized}}var iw=function(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)},iv=function(e,t,r,i,n){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r};let iS={16:10,24:12,32:14},iT=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],iE=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],ik=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],iP=[0xc66363a5,0xf87c7c84,0xee777799,0xf67b7b8d,0xfff2f20d,0xd66b6bbd,0xde6f6fb1,0x91c5c554,0x60303050,0x2010103,0xce6767a9,0x562b2b7d,0xe7fefe19,0xb5d7d762,0x4dababe6,0xec76769a,0x8fcaca45,0x1f82829d,0x89c9c940,0xfa7d7d87,0xeffafa15,0xb25959eb,0x8e4747c9,0xfbf0f00b,0x41adadec,0xb3d4d467,0x5fa2a2fd,0x45afafea,0x239c9cbf,0x53a4a4f7,0xe4727296,0x9bc0c05b,0x75b7b7c2,0xe1fdfd1c,0x3d9393ae,0x4c26266a,0x6c36365a,0x7e3f3f41,0xf5f7f702,0x83cccc4f,0x6834345c,0x51a5a5f4,0xd1e5e534,0xf9f1f108,0xe2717193,0xabd8d873,0x62313153,0x2a15153f,0x804040c,0x95c7c752,0x46232365,0x9dc3c35e,0x30181828,0x379696a1,0xa05050f,0x2f9a9ab5,0xe070709,0x24121236,0x1b80809b,0xdfe2e23d,0xcdebeb26,0x4e272769,0x7fb2b2cd,0xea75759f,0x1209091b,0x1d83839e,0x582c2c74,0x341a1a2e,0x361b1b2d,0xdc6e6eb2,0xb45a5aee,0x5ba0a0fb,0xa45252f6,0x763b3b4d,0xb7d6d661,0x7db3b3ce,0x5229297b,0xdde3e33e,0x5e2f2f71,0x13848497,0xa65353f5,0xb9d1d168,0,0xc1eded2c,0x40202060,0xe3fcfc1f,0x79b1b1c8,0xb65b5bed,0xd46a6abe,0x8dcbcb46,0x67bebed9,0x7239394b,0x944a4ade,0x984c4cd4,0xb05858e8,0x85cfcf4a,0xbbd0d06b,0xc5efef2a,0x4faaaae5,0xedfbfb16,0x864343c5,0x9a4d4dd7,0x66333355,0x11858594,0x8a4545cf,0xe9f9f910,0x4020206,0xfe7f7f81,0xa05050f0,0x783c3c44,0x259f9fba,0x4ba8a8e3,0xa25151f3,0x5da3a3fe,0x804040c0,0x58f8f8a,0x3f9292ad,0x219d9dbc,0x70383848,0xf1f5f504,0x63bcbcdf,0x77b6b6c1,0xafdada75,0x42212163,0x20101030,0xe5ffff1a,0xfdf3f30e,0xbfd2d26d,0x81cdcd4c,0x180c0c14,0x26131335,0xc3ecec2f,0xbe5f5fe1,0x359797a2,0x884444cc,0x2e171739,0x93c4c457,0x55a7a7f2,0xfc7e7e82,0x7a3d3d47,0xc86464ac,0xba5d5de7,0x3219192b,0xe6737395,0xc06060a0,0x19818198,0x9e4f4fd1,0xa3dcdc7f,0x44222266,0x542a2a7e,0x3b9090ab,0xb888883,0x8c4646ca,0xc7eeee29,0x6bb8b8d3,0x2814143c,0xa7dede79,0xbc5e5ee2,0x160b0b1d,0xaddbdb76,0xdbe0e03b,0x64323256,0x743a3a4e,0x140a0a1e,0x924949db,0xc06060a,0x4824246c,0xb85c5ce4,0x9fc2c25d,0xbdd3d36e,0x43acacef,0xc46262a6,0x399191a8,0x319595a4,0xd3e4e437,0xf279798b,0xd5e7e732,0x8bc8c843,0x6e373759,0xda6d6db7,0x18d8d8c,0xb1d5d564,0x9c4e4ed2,0x49a9a9e0,0xd86c6cb4,0xac5656fa,0xf3f4f407,0xcfeaea25,0xca6565af,0xf47a7a8e,0x47aeaee9,0x10080818,0x6fbabad5,0xf0787888,0x4a25256f,0x5c2e2e72,0x381c1c24,0x57a6a6f1,0x73b4b4c7,0x97c6c651,0xcbe8e823,0xa1dddd7c,0xe874749c,0x3e1f1f21,0x964b4bdd,0x61bdbddc,0xd8b8b86,0xf8a8a85,0xe0707090,0x7c3e3e42,0x71b5b5c4,0xcc6666aa,0x904848d8,0x6030305,0xf7f6f601,0x1c0e0e12,0xc26161a3,0x6a35355f,0xae5757f9,0x69b9b9d0,0x17868691,0x99c1c158,0x3a1d1d27,0x279e9eb9,0xd9e1e138,0xebf8f813,0x2b9898b3,0x22111133,0xd26969bb,0xa9d9d970,0x78e8e89,0x339494a7,0x2d9b9bb6,0x3c1e1e22,0x15878792,0xc9e9e920,0x87cece49,0xaa5555ff,0x50282878,0xa5dfdf7a,0x38c8c8f,0x59a1a1f8,0x9898980,0x1a0d0d17,0x65bfbfda,0xd7e6e631,0x844242c6,0xd06868b8,0x824141c3,0x299999b0,0x5a2d2d77,0x1e0f0f11,0x7bb0b0cb,0xa85454fc,0x6dbbbbd6,0x2c16163a],i_=[0xa5c66363,0x84f87c7c,0x99ee7777,0x8df67b7b,0xdfff2f2,0xbdd66b6b,0xb1de6f6f,0x5491c5c5,0x50603030,0x3020101,0xa9ce6767,0x7d562b2b,0x19e7fefe,0x62b5d7d7,0xe64dabab,0x9aec7676,0x458fcaca,0x9d1f8282,0x4089c9c9,0x87fa7d7d,0x15effafa,0xebb25959,0xc98e4747,0xbfbf0f0,0xec41adad,0x67b3d4d4,0xfd5fa2a2,0xea45afaf,0xbf239c9c,0xf753a4a4,0x96e47272,0x5b9bc0c0,0xc275b7b7,0x1ce1fdfd,0xae3d9393,0x6a4c2626,0x5a6c3636,0x417e3f3f,0x2f5f7f7,0x4f83cccc,0x5c683434,0xf451a5a5,0x34d1e5e5,0x8f9f1f1,0x93e27171,0x73abd8d8,0x53623131,0x3f2a1515,0xc080404,0x5295c7c7,0x65462323,0x5e9dc3c3,0x28301818,0xa1379696,0xf0a0505,0xb52f9a9a,0x90e0707,0x36241212,0x9b1b8080,0x3ddfe2e2,0x26cdebeb,0x694e2727,0xcd7fb2b2,0x9fea7575,0x1b120909,0x9e1d8383,0x74582c2c,0x2e341a1a,0x2d361b1b,0xb2dc6e6e,0xeeb45a5a,0xfb5ba0a0,0xf6a45252,0x4d763b3b,0x61b7d6d6,0xce7db3b3,0x7b522929,0x3edde3e3,0x715e2f2f,0x97138484,0xf5a65353,0x68b9d1d1,0,0x2cc1eded,0x60402020,0x1fe3fcfc,0xc879b1b1,0xedb65b5b,0xbed46a6a,0x468dcbcb,0xd967bebe,0x4b723939,0xde944a4a,0xd4984c4c,0xe8b05858,0x4a85cfcf,0x6bbbd0d0,0x2ac5efef,0xe54faaaa,0x16edfbfb,0xc5864343,0xd79a4d4d,0x55663333,0x94118585,0xcf8a4545,0x10e9f9f9,0x6040202,0x81fe7f7f,0xf0a05050,0x44783c3c,0xba259f9f,0xe34ba8a8,0xf3a25151,0xfe5da3a3,0xc0804040,0x8a058f8f,0xad3f9292,0xbc219d9d,0x48703838,0x4f1f5f5,0xdf63bcbc,0xc177b6b6,0x75afdada,0x63422121,0x30201010,0x1ae5ffff,0xefdf3f3,0x6dbfd2d2,0x4c81cdcd,0x14180c0c,0x35261313,0x2fc3ecec,0xe1be5f5f,0xa2359797,0xcc884444,0x392e1717,0x5793c4c4,0xf255a7a7,0x82fc7e7e,0x477a3d3d,0xacc86464,0xe7ba5d5d,0x2b321919,0x95e67373,0xa0c06060,0x98198181,0xd19e4f4f,0x7fa3dcdc,0x66442222,0x7e542a2a,0xab3b9090,0x830b8888,0xca8c4646,0x29c7eeee,0xd36bb8b8,0x3c281414,0x79a7dede,0xe2bc5e5e,0x1d160b0b,0x76addbdb,0x3bdbe0e0,0x56643232,0x4e743a3a,0x1e140a0a,0xdb924949,0xa0c0606,0x6c482424,0xe4b85c5c,0x5d9fc2c2,0x6ebdd3d3,0xef43acac,0xa6c46262,0xa8399191,0xa4319595,0x37d3e4e4,0x8bf27979,0x32d5e7e7,0x438bc8c8,0x596e3737,0xb7da6d6d,0x8c018d8d,0x64b1d5d5,0xd29c4e4e,0xe049a9a9,0xb4d86c6c,0xfaac5656,0x7f3f4f4,0x25cfeaea,0xafca6565,0x8ef47a7a,0xe947aeae,0x18100808,0xd56fbaba,0x88f07878,0x6f4a2525,0x725c2e2e,0x24381c1c,0xf157a6a6,0xc773b4b4,0x5197c6c6,0x23cbe8e8,0x7ca1dddd,0x9ce87474,0x213e1f1f,0xdd964b4b,0xdc61bdbd,0x860d8b8b,0x850f8a8a,0x90e07070,0x427c3e3e,0xc471b5b5,0xaacc6666,0xd8904848,0x5060303,0x1f7f6f6,0x121c0e0e,0xa3c26161,0x5f6a3535,0xf9ae5757,0xd069b9b9,0x91178686,0x5899c1c1,0x273a1d1d,0xb9279e9e,0x38d9e1e1,0x13ebf8f8,0xb32b9898,0x33221111,0xbbd26969,0x70a9d9d9,0x89078e8e,0xa7339494,0xb62d9b9b,0x223c1e1e,0x92158787,0x20c9e9e9,0x4987cece,0xffaa5555,0x78502828,0x7aa5dfdf,0x8f038c8c,0xf859a1a1,0x80098989,0x171a0d0d,0xda65bfbf,0x31d7e6e6,0xc6844242,0xb8d06868,0xc3824141,0xb0299999,0x775a2d2d,0x111e0f0f,0xcb7bb0b0,0xfca85454,0xd66dbbbb,0x3a2c1616],iI=[0x63a5c663,0x7c84f87c,0x7799ee77,0x7b8df67b,0xf20dfff2,0x6bbdd66b,0x6fb1de6f,0xc55491c5,0x30506030,0x1030201,0x67a9ce67,0x2b7d562b,0xfe19e7fe,0xd762b5d7,0xabe64dab,0x769aec76,0xca458fca,0x829d1f82,0xc94089c9,0x7d87fa7d,0xfa15effa,0x59ebb259,0x47c98e47,0xf00bfbf0,0xadec41ad,0xd467b3d4,0xa2fd5fa2,0xafea45af,0x9cbf239c,0xa4f753a4,0x7296e472,0xc05b9bc0,0xb7c275b7,0xfd1ce1fd,0x93ae3d93,0x266a4c26,0x365a6c36,0x3f417e3f,0xf702f5f7,0xcc4f83cc,0x345c6834,0xa5f451a5,0xe534d1e5,0xf108f9f1,0x7193e271,0xd873abd8,0x31536231,0x153f2a15,0x40c0804,0xc75295c7,0x23654623,0xc35e9dc3,0x18283018,0x96a13796,0x50f0a05,0x9ab52f9a,0x7090e07,0x12362412,0x809b1b80,0xe23ddfe2,0xeb26cdeb,0x27694e27,0xb2cd7fb2,0x759fea75,0x91b1209,0x839e1d83,0x2c74582c,0x1a2e341a,0x1b2d361b,0x6eb2dc6e,0x5aeeb45a,0xa0fb5ba0,0x52f6a452,0x3b4d763b,0xd661b7d6,0xb3ce7db3,0x297b5229,0xe33edde3,0x2f715e2f,0x84971384,0x53f5a653,0xd168b9d1,0,0xed2cc1ed,0x20604020,0xfc1fe3fc,0xb1c879b1,0x5bedb65b,0x6abed46a,0xcb468dcb,0xbed967be,0x394b7239,0x4ade944a,0x4cd4984c,0x58e8b058,0xcf4a85cf,0xd06bbbd0,0xef2ac5ef,0xaae54faa,0xfb16edfb,0x43c58643,0x4dd79a4d,0x33556633,0x85941185,0x45cf8a45,0xf910e9f9,0x2060402,0x7f81fe7f,0x50f0a050,0x3c44783c,0x9fba259f,0xa8e34ba8,0x51f3a251,0xa3fe5da3,0x40c08040,0x8f8a058f,0x92ad3f92,0x9dbc219d,0x38487038,0xf504f1f5,0xbcdf63bc,0xb6c177b6,0xda75afda,0x21634221,0x10302010,0xff1ae5ff,0xf30efdf3,0xd26dbfd2,0xcd4c81cd,0xc14180c,0x13352613,0xec2fc3ec,0x5fe1be5f,0x97a23597,0x44cc8844,0x17392e17,0xc45793c4,0xa7f255a7,0x7e82fc7e,0x3d477a3d,0x64acc864,0x5de7ba5d,0x192b3219,0x7395e673,0x60a0c060,0x81981981,0x4fd19e4f,0xdc7fa3dc,0x22664422,0x2a7e542a,0x90ab3b90,0x88830b88,0x46ca8c46,0xee29c7ee,0xb8d36bb8,0x143c2814,0xde79a7de,0x5ee2bc5e,0xb1d160b,0xdb76addb,0xe03bdbe0,0x32566432,0x3a4e743a,0xa1e140a,0x49db9249,0x60a0c06,0x246c4824,0x5ce4b85c,0xc25d9fc2,0xd36ebdd3,0xacef43ac,0x62a6c462,0x91a83991,0x95a43195,0xe437d3e4,0x798bf279,0xe732d5e7,0xc8438bc8,0x37596e37,0x6db7da6d,0x8d8c018d,0xd564b1d5,0x4ed29c4e,0xa9e049a9,0x6cb4d86c,0x56faac56,0xf407f3f4,0xea25cfea,0x65afca65,0x7a8ef47a,0xaee947ae,0x8181008,0xbad56fba,0x7888f078,0x256f4a25,0x2e725c2e,0x1c24381c,0xa6f157a6,0xb4c773b4,0xc65197c6,0xe823cbe8,0xdd7ca1dd,0x749ce874,0x1f213e1f,0x4bdd964b,0xbddc61bd,0x8b860d8b,0x8a850f8a,0x7090e070,0x3e427c3e,0xb5c471b5,0x66aacc66,0x48d89048,0x3050603,0xf601f7f6,0xe121c0e,0x61a3c261,0x355f6a35,0x57f9ae57,0xb9d069b9,0x86911786,0xc15899c1,0x1d273a1d,0x9eb9279e,0xe138d9e1,0xf813ebf8,0x98b32b98,0x11332211,0x69bbd269,0xd970a9d9,0x8e89078e,0x94a73394,0x9bb62d9b,0x1e223c1e,0x87921587,0xe920c9e9,0xce4987ce,0x55ffaa55,0x28785028,0xdf7aa5df,0x8c8f038c,0xa1f859a1,0x89800989,0xd171a0d,0xbfda65bf,0xe631d7e6,0x42c68442,0x68b8d068,0x41c38241,0x99b02999,0x2d775a2d,0xf111e0f,0xb0cb7bb0,0x54fca854,0xbbd66dbb,0x163a2c16],iN=[0x6363a5c6,0x7c7c84f8,0x777799ee,0x7b7b8df6,0xf2f20dff,0x6b6bbdd6,0x6f6fb1de,0xc5c55491,0x30305060,0x1010302,0x6767a9ce,0x2b2b7d56,0xfefe19e7,0xd7d762b5,0xababe64d,0x76769aec,0xcaca458f,0x82829d1f,0xc9c94089,0x7d7d87fa,0xfafa15ef,0x5959ebb2,0x4747c98e,0xf0f00bfb,0xadadec41,0xd4d467b3,0xa2a2fd5f,0xafafea45,0x9c9cbf23,0xa4a4f753,0x727296e4,0xc0c05b9b,0xb7b7c275,0xfdfd1ce1,0x9393ae3d,0x26266a4c,0x36365a6c,0x3f3f417e,0xf7f702f5,0xcccc4f83,0x34345c68,0xa5a5f451,0xe5e534d1,0xf1f108f9,0x717193e2,0xd8d873ab,0x31315362,0x15153f2a,0x4040c08,0xc7c75295,0x23236546,0xc3c35e9d,0x18182830,0x9696a137,0x5050f0a,0x9a9ab52f,0x707090e,0x12123624,0x80809b1b,0xe2e23ddf,0xebeb26cd,0x2727694e,0xb2b2cd7f,0x75759fea,0x9091b12,0x83839e1d,0x2c2c7458,0x1a1a2e34,0x1b1b2d36,0x6e6eb2dc,0x5a5aeeb4,0xa0a0fb5b,0x5252f6a4,0x3b3b4d76,0xd6d661b7,0xb3b3ce7d,0x29297b52,0xe3e33edd,0x2f2f715e,0x84849713,0x5353f5a6,0xd1d168b9,0,0xeded2cc1,0x20206040,0xfcfc1fe3,0xb1b1c879,0x5b5bedb6,0x6a6abed4,0xcbcb468d,0xbebed967,0x39394b72,0x4a4ade94,0x4c4cd498,0x5858e8b0,0xcfcf4a85,0xd0d06bbb,0xefef2ac5,0xaaaae54f,0xfbfb16ed,0x4343c586,0x4d4dd79a,0x33335566,0x85859411,0x4545cf8a,0xf9f910e9,0x2020604,0x7f7f81fe,0x5050f0a0,0x3c3c4478,0x9f9fba25,0xa8a8e34b,0x5151f3a2,0xa3a3fe5d,0x4040c080,0x8f8f8a05,0x9292ad3f,0x9d9dbc21,0x38384870,0xf5f504f1,0xbcbcdf63,0xb6b6c177,0xdada75af,0x21216342,0x10103020,0xffff1ae5,0xf3f30efd,0xd2d26dbf,0xcdcd4c81,0xc0c1418,0x13133526,0xecec2fc3,0x5f5fe1be,0x9797a235,0x4444cc88,0x1717392e,0xc4c45793,0xa7a7f255,0x7e7e82fc,0x3d3d477a,0x6464acc8,0x5d5de7ba,0x19192b32,0x737395e6,0x6060a0c0,0x81819819,0x4f4fd19e,0xdcdc7fa3,0x22226644,0x2a2a7e54,0x9090ab3b,0x8888830b,0x4646ca8c,0xeeee29c7,0xb8b8d36b,0x14143c28,0xdede79a7,0x5e5ee2bc,0xb0b1d16,0xdbdb76ad,0xe0e03bdb,0x32325664,0x3a3a4e74,0xa0a1e14,0x4949db92,0x6060a0c,0x24246c48,0x5c5ce4b8,0xc2c25d9f,0xd3d36ebd,0xacacef43,0x6262a6c4,0x9191a839,0x9595a431,0xe4e437d3,0x79798bf2,0xe7e732d5,0xc8c8438b,0x3737596e,0x6d6db7da,0x8d8d8c01,0xd5d564b1,0x4e4ed29c,0xa9a9e049,0x6c6cb4d8,0x5656faac,0xf4f407f3,0xeaea25cf,0x6565afca,0x7a7a8ef4,0xaeaee947,0x8081810,0xbabad56f,0x787888f0,0x25256f4a,0x2e2e725c,0x1c1c2438,0xa6a6f157,0xb4b4c773,0xc6c65197,0xe8e823cb,0xdddd7ca1,0x74749ce8,0x1f1f213e,0x4b4bdd96,0xbdbddc61,0x8b8b860d,0x8a8a850f,0x707090e0,0x3e3e427c,0xb5b5c471,0x6666aacc,0x4848d890,0x3030506,0xf6f601f7,0xe0e121c,0x6161a3c2,0x35355f6a,0x5757f9ae,0xb9b9d069,0x86869117,0xc1c15899,0x1d1d273a,0x9e9eb927,0xe1e138d9,0xf8f813eb,0x9898b32b,0x11113322,0x6969bbd2,0xd9d970a9,0x8e8e8907,0x9494a733,0x9b9bb62d,0x1e1e223c,0x87879215,0xe9e920c9,0xcece4987,0x5555ffaa,0x28287850,0xdfdf7aa5,0x8c8c8f03,0xa1a1f859,0x89898009,0xd0d171a,0xbfbfda65,0xe6e631d7,0x4242c684,0x6868b8d0,0x4141c382,0x9999b029,0x2d2d775a,0xf0f111e,0xb0b0cb7b,0x5454fca8,0xbbbbd66d,0x16163a2c],iR=[0x51f4a750,0x7e416553,0x1a17a4c3,0x3a275e96,0x3bab6bcb,0x1f9d45f1,0xacfa58ab,0x4be30393,0x2030fa55,0xad766df6,0x88cc7691,0xf5024c25,0x4fe5d7fc,0xc52acbd7,0x26354480,0xb562a38f,0xdeb15a49,0x25ba1b67,0x45ea0e98,0x5dfec0e1,0xc32f7502,0x814cf012,0x8d4697a3,0x6bd3f9c6,0x38f5fe7,0x15929c95,0xbf6d7aeb,0x955259da,0xd4be832d,0x587421d3,0x49e06929,0x8ec9c844,0x75c2896a,0xf48e7978,0x99583e6b,0x27b971dd,0xbee14fb6,0xf088ad17,0xc920ac66,0x7dce3ab4,0x63df4a18,0xe51a3182,0x97513360,0x62537f45,0xb16477e0,0xbb6bae84,0xfe81a01c,0xf9082b94,0x70486858,0x8f45fd19,0x94de6c87,0x527bf8b7,0xab73d323,0x724b02e2,0xe31f8f57,0x6655ab2a,0xb2eb2807,0x2fb5c203,0x86c57b9a,0xd33708a5,0x302887f2,0x23bfa5b2,0x2036aba,0xed16825c,0x8acf1c2b,0xa779b492,0xf307f2f0,0x4e69e2a1,0x65daf4cd,0x605bed5,0xd134621f,0xc4a6fe8a,0x342e539d,0xa2f355a0,0x58ae132,0xa4f6eb75,0xb83ec39,0x4060efaa,0x5e719f06,0xbd6e1051,0x3e218af9,0x96dd063d,0xdd3e05ae,0x4de6bd46,0x91548db5,0x71c45d05,0x406d46f,0x605015ff,0x1998fb24,0xd6bde997,0x894043cc,0x67d99e77,0xb0e842bd,0x7898b88,0xe7195b38,0x79c8eedb,0xa17c0a47,0x7c420fe9,0xf8841ec9,0,0x9808683,0x322bed48,0x1e1170ac,0x6c5a724e,0xfd0efffb,0xf853856,0x3daed51e,0x362d3927,0xa0fd964,0x685ca621,0x9b5b54d1,0x24362e3a,0xc0a67b1,0x9357e70f,0xb4ee96d2,0x1b9b919e,0x80c0c54f,0x61dc20a2,0x5a774b69,0x1c121a16,0xe293ba0a,0xc0a02ae5,0x3c22e043,0x121b171d,0xe090d0b,0xf28bc7ad,0x2db6a8b9,0x141ea9c8,0x57f11985,0xaf75074c,0xee99ddbb,0xa37f60fd,0xf701269f,0x5c72f5bc,0x44663bc5,0x5bfb7e34,0x8b432976,0xcb23c6dc,0xb6edfc68,0xb8e4f163,0xd731dcca,0x42638510,0x13972240,0x84c61120,0x854a247d,0xd2bb3df8,0xaef93211,0xc729a16d,0x1d9e2f4b,0xdcb230f3,0xd8652ec,0x77c1e3d0,0x2bb3166c,0xa970b999,0x119448fa,0x47e96422,0xa8fc8cc4,0xa0f03f1a,0x567d2cd8,0x223390ef,0x87494ec7,0xd938d1c1,0x8ccaa2fe,0x98d40b36,0xa6f581cf,0xa57ade28,0xdab78e26,0x3fadbfa4,0x2c3a9de4,0x5078920d,0x6a5fcc9b,0x547e4662,0xf68d13c2,0x90d8b8e8,0x2e39f75e,0x82c3aff5,0x9f5d80be,0x69d0937c,0x6fd52da9,0xcf2512b3,0xc8ac993b,0x10187da7,0xe89c636e,0xdb3bbb7b,0xcd267809,0x6e5918f4,0xec9ab701,0x834f9aa8,0xe6956e65,0xaaffe67e,0x21bccf08,0xef15e8e6,0xbae79bd9,0x4a6f36ce,0xea9f09d4,0x29b07cd6,0x31a4b2af,0x2a3f2331,0xc6a59430,0x35a266c0,0x744ebc37,0xfc82caa6,0xe090d0b0,0x33a7d815,0xf104984a,0x41ecdaf7,0x7fcd500e,0x1791f62f,0x764dd68d,0x43efb04d,0xccaa4d54,0xe49604df,0x9ed1b5e3,0x4c6a881b,0xc12c1fb8,0x4665517f,0x9d5eea04,0x18c355d,0xfa877473,0xfb0b412e,0xb3671d5a,0x92dbd252,0xe9105633,0x6dd64713,0x9ad7618c,0x37a10c7a,0x59f8148e,0xeb133c89,0xcea927ee,0xb761c935,0xe11ce5ed,0x7a47b13c,0x9cd2df59,0x55f2733f,0x1814ce79,0x73c737bf,0x53f7cdea,0x5ffdaa5b,0xdf3d6f14,0x7844db86,0xcaaff381,0xb968c43e,0x3824342c,0xc2a3405f,0x161dc372,0xbce2250c,0x283c498b,0xff0d9541,0x39a80171,0x80cb3de,0xd8b4e49c,0x6456c190,0x7bcb8461,0xd532b670,0x486c5c74,0xd0b85742],iB=[0x5051f4a7,0x537e4165,0xc31a17a4,0x963a275e,0xcb3bab6b,0xf11f9d45,0xabacfa58,0x934be303,0x552030fa,0xf6ad766d,0x9188cc76,0x25f5024c,0xfc4fe5d7,0xd7c52acb,0x80263544,0x8fb562a3,0x49deb15a,0x6725ba1b,0x9845ea0e,0xe15dfec0,0x2c32f75,0x12814cf0,0xa38d4697,0xc66bd3f9,0xe7038f5f,0x9515929c,0xebbf6d7a,0xda955259,0x2dd4be83,0xd3587421,0x2949e069,0x448ec9c8,0x6a75c289,0x78f48e79,0x6b99583e,0xdd27b971,0xb6bee14f,0x17f088ad,0x66c920ac,0xb47dce3a,0x1863df4a,0x82e51a31,0x60975133,0x4562537f,0xe0b16477,0x84bb6bae,0x1cfe81a0,0x94f9082b,0x58704868,0x198f45fd,0x8794de6c,0xb7527bf8,0x23ab73d3,0xe2724b02,0x57e31f8f,0x2a6655ab,0x7b2eb28,0x32fb5c2,0x9a86c57b,0xa5d33708,0xf2302887,0xb223bfa5,0xba02036a,0x5ced1682,0x2b8acf1c,0x92a779b4,0xf0f307f2,0xa14e69e2,0xcd65daf4,0xd50605be,0x1fd13462,0x8ac4a6fe,0x9d342e53,0xa0a2f355,0x32058ae1,0x75a4f6eb,0x390b83ec,0xaa4060ef,0x65e719f,0x51bd6e10,0xf93e218a,0x3d96dd06,0xaedd3e05,0x464de6bd,0xb591548d,0x571c45d,0x6f0406d4,0xff605015,0x241998fb,0x97d6bde9,0xcc894043,0x7767d99e,0xbdb0e842,0x8807898b,0x38e7195b,0xdb79c8ee,0x47a17c0a,0xe97c420f,0xc9f8841e,0,0x83098086,0x48322bed,0xac1e1170,0x4e6c5a72,0xfbfd0eff,0x560f8538,0x1e3daed5,0x27362d39,0x640a0fd9,0x21685ca6,0xd19b5b54,0x3a24362e,0xb10c0a67,0xf9357e7,0xd2b4ee96,0x9e1b9b91,0x4f80c0c5,0xa261dc20,0x695a774b,0x161c121a,0xae293ba,0xe5c0a02a,0x433c22e0,0x1d121b17,0xb0e090d,0xadf28bc7,0xb92db6a8,0xc8141ea9,0x8557f119,0x4caf7507,0xbbee99dd,0xfda37f60,0x9ff70126,0xbc5c72f5,0xc544663b,0x345bfb7e,0x768b4329,0xdccb23c6,0x68b6edfc,0x63b8e4f1,0xcad731dc,0x10426385,0x40139722,0x2084c611,0x7d854a24,0xf8d2bb3d,0x11aef932,0x6dc729a1,0x4b1d9e2f,0xf3dcb230,0xec0d8652,0xd077c1e3,0x6c2bb316,0x99a970b9,0xfa119448,0x2247e964,0xc4a8fc8c,0x1aa0f03f,0xd8567d2c,0xef223390,0xc787494e,0xc1d938d1,0xfe8ccaa2,0x3698d40b,0xcfa6f581,0x28a57ade,0x26dab78e,0xa43fadbf,0xe42c3a9d,0xd507892,0x9b6a5fcc,0x62547e46,0xc2f68d13,0xe890d8b8,0x5e2e39f7,0xf582c3af,0xbe9f5d80,0x7c69d093,0xa96fd52d,0xb3cf2512,0x3bc8ac99,0xa710187d,0x6ee89c63,0x7bdb3bbb,0x9cd2678,0xf46e5918,0x1ec9ab7,0xa8834f9a,0x65e6956e,0x7eaaffe6,0x821bccf,0xe6ef15e8,0xd9bae79b,0xce4a6f36,0xd4ea9f09,0xd629b07c,0xaf31a4b2,0x312a3f23,0x30c6a594,0xc035a266,0x37744ebc,0xa6fc82ca,0xb0e090d0,0x1533a7d8,0x4af10498,0xf741ecda,0xe7fcd50,0x2f1791f6,0x8d764dd6,0x4d43efb0,0x54ccaa4d,0xdfe49604,0xe39ed1b5,0x1b4c6a88,0xb8c12c1f,0x7f466551,0x49d5eea,0x5d018c35,0x73fa8774,0x2efb0b41,0x5ab3671d,0x5292dbd2,0x33e91056,0x136dd647,0x8c9ad761,0x7a37a10c,0x8e59f814,0x89eb133c,0xeecea927,0x35b761c9,0xede11ce5,0x3c7a47b1,0x599cd2df,0x3f55f273,0x791814ce,0xbf73c737,0xea53f7cd,0x5b5ffdaa,0x14df3d6f,0x867844db,0x81caaff3,0x3eb968c4,0x2c382434,0x5fc2a340,0x72161dc3,0xcbce225,0x8b283c49,0x41ff0d95,0x7139a801,0xde080cb3,0x9cd8b4e4,0x906456c1,0x617bcb84,0x70d532b6,0x74486c5c,0x42d0b857],iC=[0xa75051f4,0x65537e41,0xa4c31a17,0x5e963a27,0x6bcb3bab,0x45f11f9d,0x58abacfa,0x3934be3,0xfa552030,0x6df6ad76,0x769188cc,0x4c25f502,0xd7fc4fe5,0xcbd7c52a,0x44802635,0xa38fb562,0x5a49deb1,0x1b6725ba,0xe9845ea,0xc0e15dfe,0x7502c32f,0xf012814c,0x97a38d46,0xf9c66bd3,0x5fe7038f,0x9c951592,0x7aebbf6d,0x59da9552,0x832dd4be,0x21d35874,0x692949e0,0xc8448ec9,0x896a75c2,0x7978f48e,1047239e3,0x71dd27b9,0x4fb6bee1,0xad17f088,0xac66c920,0x3ab47dce,0x4a1863df,0x3182e51a,0x33609751,0x7f456253,0x77e0b164,0xae84bb6b,0xa01cfe81,0x2b94f908,0x68587048,0xfd198f45,0x6c8794de,0xf8b7527b,0xd323ab73,0x2e2724b,0x8f57e31f,0xab2a6655,0x2807b2eb,0xc2032fb5,0x7b9a86c5,0x8a5d337,0x87f23028,0xa5b223bf,0x6aba0203,0x825ced16,0x1c2b8acf,0xb492a779,0xf2f0f307,0xe2a14e69,0xf4cd65da,0xbed50605,0x621fd134,0xfe8ac4a6,0x539d342e,0x55a0a2f3,0xe132058a,0xeb75a4f6,0xec390b83,0xefaa4060,0x9f065e71,0x1051bd6e,0x8af93e21,0x63d96dd,0x5aedd3e,0xbd464de6,0x8db59154,0x5d0571c4,0xd46f0406,0x15ff6050,0xfb241998,0xe997d6bd,0x43cc8940,0x9e7767d9,0x42bdb0e8,0x8b880789,0x5b38e719,0xeedb79c8,0xa47a17c,0xfe97c42,0x1ec9f884,0,0x86830980,0xed48322b,0x70ac1e11,0x724e6c5a,0xfffbfd0e,0x38560f85,0xd51e3dae,0x3927362d,0xd9640a0f,0xa621685c,0x54d19b5b,0x2e3a2436,0x67b10c0a,0xe70f9357,0x96d2b4ee,0x919e1b9b,0xc54f80c0,0x20a261dc,0x4b695a77,0x1a161c12,0xba0ae293,0x2ae5c0a0,0xe0433c22,0x171d121b,0xd0b0e09,0xc7adf28b,0xa8b92db6,0xa9c8141e,0x198557f1,0x74caf75,0xddbbee99,0x60fda37f,0x269ff701,0xf5bc5c72,0x3bc54466,0x7e345bfb,0x29768b43,0xc6dccb23,0xfc68b6ed,0xf163b8e4,0xdccad731,0x85104263,0x22401397,0x112084c6,0x247d854a,0x3df8d2bb,0x3211aef9,0xa16dc729,0x2f4b1d9e,0x30f3dcb2,0x52ec0d86,0xe3d077c1,0x166c2bb3,0xb999a970,0x48fa1194,0x642247e9,0x8cc4a8fc,0x3f1aa0f0,0x2cd8567d,0x90ef2233,0x4ec78749,0xd1c1d938,0xa2fe8cca,0xb3698d4,0x81cfa6f5,0xde28a57a,0x8e26dab7,0xbfa43fad,0x9de42c3a,0x920d5078,0xcc9b6a5f,0x4662547e,0x13c2f68d,0xb8e890d8,0xf75e2e39,0xaff582c3,0x80be9f5d,0x937c69d0,0x2da96fd5,0x12b3cf25,0x993bc8ac,0x7da71018,0x636ee89c,0xbb7bdb3b,0x7809cd26,0x18f46e59,0xb701ec9a,0x9aa8834f,0x6e65e695,0xe67eaaff,0xcf0821bc,0xe8e6ef15,0x9bd9bae7,0x36ce4a6f,0x9d4ea9f,0x7cd629b0,0xb2af31a4,0x23312a3f,0x9430c6a5,0x66c035a2,0xbc37744e,0xcaa6fc82,0xd0b0e090,0xd81533a7,0x984af104,0xdaf741ec,0x500e7fcd,0xf62f1791,0xd68d764d,0xb04d43ef,0x4d54ccaa,0x4dfe496,0xb5e39ed1,0x881b4c6a,0x1fb8c12c,0x517f4665,0xea049d5e,0x355d018c,0x7473fa87,0x412efb0b,0x1d5ab367,0xd25292db,0x5633e910,0x47136dd6,0x618c9ad7,0xc7a37a1,0x148e59f8,0x3c89eb13,0x27eecea9,0xc935b761,0xe5ede11c,0xb13c7a47,0xdf599cd2,0x733f55f2,0xce791814,0x37bf73c7,0xcdea53f7,0xaa5b5ffd,0x6f14df3d,0xdb867844,0xf381caaf,0xc43eb968,0x342c3824,0x405fc2a3,0xc372161d,0x250cbce2,0x498b283c,0x9541ff0d,0x17139a8,0xb3de080c,0xe49cd8b4,0xc1906456,0x84617bcb,0xb670d532,0x5c74486c,0x5742d0b8],iO=[0xf4a75051,0x4165537e,0x17a4c31a,0x275e963a,0xab6bcb3b,0x9d45f11f,0xfa58abac,0xe303934b,0x30fa5520,0x766df6ad,0xcc769188,0x24c25f5,0xe5d7fc4f,0x2acbd7c5,0x35448026,0x62a38fb5,0xb15a49de,0xba1b6725,0xea0e9845,0xfec0e15d,0x2f7502c3,0x4cf01281,0x4697a38d,0xd3f9c66b,0x8f5fe703,0x929c9515,0x6d7aebbf,0x5259da95,0xbe832dd4,0x7421d358,0xe0692949,0xc9c8448e,0xc2896a75,0x8e7978f4,0x583e6b99,0xb971dd27,0xe14fb6be,0x88ad17f0,0x20ac66c9,0xce3ab47d,0xdf4a1863,0x1a3182e5,0x51336097,0x537f4562,0x6477e0b1,0x6bae84bb,0x81a01cfe,0x82b94f9,0x48685870,0x45fd198f,0xde6c8794,0x7bf8b752,0x73d323ab,0x4b02e272,0x1f8f57e3,0x55ab2a66,0xeb2807b2,0xb5c2032f,0xc57b9a86,0x3708a5d3,679998e3,0xbfa5b223,0x36aba02,0x16825ced,0xcf1c2b8a,0x79b492a7,0x7f2f0f3,0x69e2a14e,0xdaf4cd65,0x5bed506,0x34621fd1,0xa6fe8ac4,0x2e539d34,0xf355a0a2,0x8ae13205,0xf6eb75a4,0x83ec390b,0x60efaa40,0x719f065e,0x6e1051bd,0x218af93e,0xdd063d96,0x3e05aedd,0xe6bd464d,0x548db591,0xc45d0571,0x6d46f04,0x5015ff60,0x98fb2419,0xbde997d6,0x4043cc89,0xd99e7767,0xe842bdb0,0x898b8807,0x195b38e7,0xc8eedb79,0x7c0a47a1,0x420fe97c,0x841ec9f8,0,0x80868309,0x2bed4832,0x1170ac1e,0x5a724e6c,0xefffbfd,0x8538560f,0xaed51e3d,0x2d392736,0xfd9640a,0x5ca62168,0x5b54d19b,0x362e3a24,0xa67b10c,0x57e70f93,0xee96d2b4,0x9b919e1b,0xc0c54f80,0xdc20a261,0x774b695a,0x121a161c,0x93ba0ae2,0xa02ae5c0,0x22e0433c,0x1b171d12,0x90d0b0e,0x8bc7adf2,0xb6a8b92d,0x1ea9c814,0xf1198557,0x75074caf,0x99ddbbee,0x7f60fda3,0x1269ff7,0x72f5bc5c,0x663bc544,0xfb7e345b,0x4329768b,0x23c6dccb,0xedfc68b6,0xe4f163b8,0x31dccad7,0x63851042,0x97224013,0xc6112084,0x4a247d85,0xbb3df8d2,0xf93211ae,0x29a16dc7,0x9e2f4b1d,0xb230f3dc,0x8652ec0d,0xc1e3d077,0xb3166c2b,0x70b999a9,0x9448fa11,0xe9642247,0xfc8cc4a8,0xf03f1aa0,0x7d2cd856,0x3390ef22,0x494ec787,0x38d1c1d9,0xcaa2fe8c,0xd40b3698,0xf581cfa6,0x7ade28a5,0xb78e26da,0xadbfa43f,0x3a9de42c,0x78920d50,0x5fcc9b6a,0x7e466254,0x8d13c2f6,0xd8b8e890,0x39f75e2e,0xc3aff582,0x5d80be9f,0xd0937c69,0xd52da96f,0x2512b3cf,0xac993bc8,0x187da710,0x9c636ee8,0x3bbb7bdb,0x267809cd,0x5918f46e,0x9ab701ec,0x4f9aa883,0x956e65e6,0xffe67eaa,0xbccf0821,0x15e8e6ef,0xe79bd9ba,0x6f36ce4a,0x9f09d4ea,0xb07cd629,0xa4b2af31,0x3f23312a,0xa59430c6,0xa266c035,0x4ebc3774,0x82caa6fc,0x90d0b0e0,0xa7d81533,0x4984af1,0xecdaf741,0xcd500e7f,0x91f62f17,0x4dd68d76,0xefb04d43,0xaa4d54cc,0x9604dfe4,0xd1b5e39e,0x6a881b4c,0x2c1fb8c1,0x65517f46,0x5eea049d,0x8c355d01,0x877473fa,0xb412efb,0x671d5ab3,0xdbd25292,0x105633e9,0xd647136d,0xd7618c9a,0xa10c7a37,0xf8148e59,0x133c89eb,0xa927eece,0x61c935b7,0x1ce5ede1,0x47b13c7a,0xd2df599c,0xf2733f55,0x14ce7918,0xc737bf73,0xf7cdea53,0xfdaa5b5f,0x3d6f14df,0x44db8678,0xaff381ca,0x68c43eb9,0x24342c38,0xa3405fc2,0x1dc37216,0xe2250cbc,0x3c498b28,0xd9541ff,0xa8017139,0xcb3de08,0xb4e49cd8,0x56c19064,0xcb84617b,0x32b670d5,0x6c5c7448,0xb85742d0],iD=[0,0xe090d0b,0x1c121a16,0x121b171d,0x3824342c,0x362d3927,0x24362e3a,0x2a3f2331,0x70486858,0x7e416553,0x6c5a724e,0x62537f45,0x486c5c74,0x4665517f,0x547e4662,0x5a774b69,0xe090d0b0,0xee99ddbb,0xfc82caa6,0xf28bc7ad,0xd8b4e49c,0xd6bde997,0xc4a6fe8a,0xcaaff381,0x90d8b8e8,0x9ed1b5e3,0x8ccaa2fe,0x82c3aff5,0xa8fc8cc4,0xa6f581cf,0xb4ee96d2,0xbae79bd9,0xdb3bbb7b,0xd532b670,0xc729a16d,0xc920ac66,0xe31f8f57,0xed16825c,0xff0d9541,0xf104984a,0xab73d323,0xa57ade28,0xb761c935,0xb968c43e,0x9357e70f,0x9d5eea04,0x8f45fd19,0x814cf012,0x3bab6bcb,0x35a266c0,0x27b971dd,0x29b07cd6,0x38f5fe7,0xd8652ec,0x1f9d45f1,0x119448fa,0x4be30393,0x45ea0e98,0x57f11985,0x59f8148e,0x73c737bf,0x7dce3ab4,0x6fd52da9,0x61dc20a2,0xad766df6,0xa37f60fd,0xb16477e0,0xbf6d7aeb,0x955259da,0x9b5b54d1,0x894043cc,0x87494ec7,0xdd3e05ae,0xd33708a5,0xc12c1fb8,0xcf2512b3,0xe51a3182,0xeb133c89,0xf9082b94,0xf701269f,0x4de6bd46,0x43efb04d,0x51f4a750,0x5ffdaa5b,0x75c2896a,0x7bcb8461,0x69d0937c,0x67d99e77,0x3daed51e,0x33a7d815,0x21bccf08,0x2fb5c203,0x58ae132,0xb83ec39,0x1998fb24,0x1791f62f,0x764dd68d,0x7844db86,0x6a5fcc9b,0x6456c190,0x4e69e2a1,0x4060efaa,0x527bf8b7,0x5c72f5bc,0x605bed5,0x80cb3de,0x1a17a4c3,0x141ea9c8,0x3e218af9,0x302887f2,0x223390ef,0x2c3a9de4,0x96dd063d,0x98d40b36,0x8acf1c2b,0x84c61120,0xaef93211,0xa0f03f1a,0xb2eb2807,0xbce2250c,0xe6956e65,0xe89c636e,0xfa877473,0xf48e7978,0xdeb15a49,0xd0b85742,0xc2a3405f,0xccaa4d54,0x41ecdaf7,0x4fe5d7fc,0x5dfec0e1,0x53f7cdea,0x79c8eedb,0x77c1e3d0,0x65daf4cd,0x6bd3f9c6,0x31a4b2af,0x3fadbfa4,0x2db6a8b9,0x23bfa5b2,0x9808683,0x7898b88,0x15929c95,0x1b9b919e,0xa17c0a47,0xaf75074c,0xbd6e1051,0xb3671d5a,0x99583e6b,0x97513360,0x854a247d,0x8b432976,0xd134621f,0xdf3d6f14,0xcd267809,0xc32f7502,0xe9105633,0xe7195b38,0xf5024c25,0xfb0b412e,0x9ad7618c,0x94de6c87,0x86c57b9a,0x88cc7691,0xa2f355a0,0xacfa58ab,0xbee14fb6,0xb0e842bd,0xea9f09d4,0xe49604df,0xf68d13c2,0xf8841ec9,0xd2bb3df8,0xdcb230f3,0xcea927ee,0xc0a02ae5,0x7a47b13c,0x744ebc37,0x6655ab2a,0x685ca621,0x42638510,0x4c6a881b,0x5e719f06,0x5078920d,0xa0fd964,0x406d46f,0x161dc372,0x1814ce79,0x322bed48,0x3c22e043,0x2e39f75e,0x2030fa55,0xec9ab701,0xe293ba0a,0xf088ad17,0xfe81a01c,0xd4be832d,0xdab78e26,0xc8ac993b,0xc6a59430,0x9cd2df59,0x92dbd252,0x80c0c54f,0x8ec9c844,0xa4f6eb75,0xaaffe67e,0xb8e4f163,0xb6edfc68,0xc0a67b1,0x2036aba,0x10187da7,0x1e1170ac,0x342e539d,0x3a275e96,0x283c498b,0x26354480,0x7c420fe9,0x724b02e2,0x605015ff,0x6e5918f4,0x44663bc5,0x4a6f36ce,0x587421d3,0x567d2cd8,0x37a10c7a,0x39a80171,0x2bb3166c,0x25ba1b67,0xf853856,0x18c355d,0x13972240,0x1d9e2f4b,0x47e96422,0x49e06929,0x5bfb7e34,0x55f2733f,0x7fcd500e,0x71c45d05,0x63df4a18,0x6dd64713,0xd731dcca,0xd938d1c1,0xcb23c6dc,0xc52acbd7,0xef15e8e6,0xe11ce5ed,0xf307f2f0,0xfd0efffb,0xa779b492,0xa970b999,0xbb6bae84,0xb562a38f,0x9f5d80be,0x91548db5,0x834f9aa8,0x8d4697a3],iM=[0,0xb0e090d,0x161c121a,0x1d121b17,0x2c382434,0x27362d39,0x3a24362e,0x312a3f23,0x58704868,0x537e4165,0x4e6c5a72,0x4562537f,0x74486c5c,0x7f466551,0x62547e46,0x695a774b,0xb0e090d0,0xbbee99dd,0xa6fc82ca,0xadf28bc7,0x9cd8b4e4,0x97d6bde9,0x8ac4a6fe,0x81caaff3,0xe890d8b8,0xe39ed1b5,0xfe8ccaa2,0xf582c3af,0xc4a8fc8c,0xcfa6f581,0xd2b4ee96,0xd9bae79b,0x7bdb3bbb,0x70d532b6,0x6dc729a1,0x66c920ac,0x57e31f8f,0x5ced1682,0x41ff0d95,0x4af10498,0x23ab73d3,0x28a57ade,0x35b761c9,0x3eb968c4,0xf9357e7,0x49d5eea,0x198f45fd,0x12814cf0,0xcb3bab6b,0xc035a266,0xdd27b971,0xd629b07c,0xe7038f5f,0xec0d8652,0xf11f9d45,0xfa119448,0x934be303,0x9845ea0e,0x8557f119,0x8e59f814,0xbf73c737,0xb47dce3a,0xa96fd52d,0xa261dc20,0xf6ad766d,0xfda37f60,0xe0b16477,0xebbf6d7a,0xda955259,0xd19b5b54,0xcc894043,0xc787494e,0xaedd3e05,0xa5d33708,0xb8c12c1f,0xb3cf2512,0x82e51a31,0x89eb133c,0x94f9082b,0x9ff70126,0x464de6bd,0x4d43efb0,0x5051f4a7,0x5b5ffdaa,0x6a75c289,0x617bcb84,0x7c69d093,0x7767d99e,0x1e3daed5,0x1533a7d8,0x821bccf,0x32fb5c2,0x32058ae1,0x390b83ec,0x241998fb,0x2f1791f6,0x8d764dd6,0x867844db,0x9b6a5fcc,0x906456c1,0xa14e69e2,0xaa4060ef,0xb7527bf8,0xbc5c72f5,0xd50605be,0xde080cb3,0xc31a17a4,0xc8141ea9,0xf93e218a,0xf2302887,0xef223390,0xe42c3a9d,0x3d96dd06,0x3698d40b,0x2b8acf1c,0x2084c611,0x11aef932,0x1aa0f03f,0x7b2eb28,0xcbce225,0x65e6956e,0x6ee89c63,0x73fa8774,0x78f48e79,0x49deb15a,0x42d0b857,0x5fc2a340,0x54ccaa4d,0xf741ecda,0xfc4fe5d7,0xe15dfec0,0xea53f7cd,0xdb79c8ee,0xd077c1e3,0xcd65daf4,0xc66bd3f9,0xaf31a4b2,0xa43fadbf,0xb92db6a8,0xb223bfa5,0x83098086,0x8807898b,0x9515929c,0x9e1b9b91,0x47a17c0a,0x4caf7507,0x51bd6e10,0x5ab3671d,0x6b99583e,0x60975133,0x7d854a24,0x768b4329,0x1fd13462,0x14df3d6f,0x9cd2678,0x2c32f75,0x33e91056,0x38e7195b,0x25f5024c,0x2efb0b41,0x8c9ad761,0x8794de6c,0x9a86c57b,0x9188cc76,0xa0a2f355,0xabacfa58,0xb6bee14f,0xbdb0e842,0xd4ea9f09,0xdfe49604,0xc2f68d13,0xc9f8841e,0xf8d2bb3d,0xf3dcb230,0xeecea927,0xe5c0a02a,0x3c7a47b1,0x37744ebc,0x2a6655ab,0x21685ca6,0x10426385,0x1b4c6a88,0x65e719f,0xd507892,0x640a0fd9,0x6f0406d4,0x72161dc3,0x791814ce,0x48322bed,0x433c22e0,0x5e2e39f7,0x552030fa,0x1ec9ab7,0xae293ba,0x17f088ad,0x1cfe81a0,0x2dd4be83,0x26dab78e,0x3bc8ac99,0x30c6a594,0x599cd2df,0x5292dbd2,0x4f80c0c5,0x448ec9c8,0x75a4f6eb,0x7eaaffe6,0x63b8e4f1,0x68b6edfc,0xb10c0a67,0xba02036a,0xa710187d,0xac1e1170,0x9d342e53,0x963a275e,0x8b283c49,0x80263544,0xe97c420f,0xe2724b02,0xff605015,0xf46e5918,0xc544663b,0xce4a6f36,0xd3587421,0xd8567d2c,0x7a37a10c,0x7139a801,0x6c2bb316,0x6725ba1b,0x560f8538,0x5d018c35,0x40139722,0x4b1d9e2f,0x2247e964,0x2949e069,0x345bfb7e,0x3f55f273,0xe7fcd50,0x571c45d,0x1863df4a,0x136dd647,0xcad731dc,0xc1d938d1,0xdccb23c6,0xd7c52acb,0xe6ef15e8,0xede11ce5,0xf0f307f2,0xfbfd0eff,0x92a779b4,0x99a970b9,0x84bb6bae,0x8fb562a3,0xbe9f5d80,0xb591548d,0xa8834f9a,0xa38d4697],iU=[0,0xd0b0e09,0x1a161c12,0x171d121b,0x342c3824,0x3927362d,0x2e3a2436,0x23312a3f,0x68587048,0x65537e41,0x724e6c5a,0x7f456253,0x5c74486c,0x517f4665,0x4662547e,0x4b695a77,0xd0b0e090,0xddbbee99,0xcaa6fc82,0xc7adf28b,0xe49cd8b4,0xe997d6bd,0xfe8ac4a6,0xf381caaf,0xb8e890d8,0xb5e39ed1,0xa2fe8cca,0xaff582c3,0x8cc4a8fc,0x81cfa6f5,0x96d2b4ee,0x9bd9bae7,0xbb7bdb3b,0xb670d532,0xa16dc729,0xac66c920,0x8f57e31f,0x825ced16,0x9541ff0d,0x984af104,0xd323ab73,0xde28a57a,0xc935b761,0xc43eb968,0xe70f9357,0xea049d5e,0xfd198f45,0xf012814c,0x6bcb3bab,0x66c035a2,0x71dd27b9,0x7cd629b0,0x5fe7038f,0x52ec0d86,0x45f11f9d,0x48fa1194,0x3934be3,0xe9845ea,0x198557f1,0x148e59f8,0x37bf73c7,0x3ab47dce,0x2da96fd5,0x20a261dc,0x6df6ad76,0x60fda37f,0x77e0b164,0x7aebbf6d,0x59da9552,0x54d19b5b,0x43cc8940,0x4ec78749,0x5aedd3e,0x8a5d337,0x1fb8c12c,0x12b3cf25,0x3182e51a,0x3c89eb13,0x2b94f908,0x269ff701,0xbd464de6,0xb04d43ef,0xa75051f4,0xaa5b5ffd,0x896a75c2,0x84617bcb,0x937c69d0,0x9e7767d9,0xd51e3dae,0xd81533a7,0xcf0821bc,0xc2032fb5,0xe132058a,0xec390b83,0xfb241998,0xf62f1791,0xd68d764d,0xdb867844,0xcc9b6a5f,0xc1906456,0xe2a14e69,0xefaa4060,0xf8b7527b,0xf5bc5c72,0xbed50605,0xb3de080c,0xa4c31a17,0xa9c8141e,0x8af93e21,0x87f23028,0x90ef2233,0x9de42c3a,0x63d96dd,0xb3698d4,0x1c2b8acf,0x112084c6,0x3211aef9,0x3f1aa0f0,0x2807b2eb,0x250cbce2,0x6e65e695,0x636ee89c,0x7473fa87,0x7978f48e,0x5a49deb1,0x5742d0b8,0x405fc2a3,0x4d54ccaa,0xdaf741ec,0xd7fc4fe5,0xc0e15dfe,0xcdea53f7,0xeedb79c8,0xe3d077c1,0xf4cd65da,0xf9c66bd3,0xb2af31a4,0xbfa43fad,0xa8b92db6,0xa5b223bf,0x86830980,0x8b880789,0x9c951592,0x919e1b9b,0xa47a17c,0x74caf75,0x1051bd6e,0x1d5ab367,1047239e3,0x33609751,0x247d854a,0x29768b43,0x621fd134,0x6f14df3d,0x7809cd26,0x7502c32f,0x5633e910,0x5b38e719,0x4c25f502,0x412efb0b,0x618c9ad7,0x6c8794de,0x7b9a86c5,0x769188cc,0x55a0a2f3,0x58abacfa,0x4fb6bee1,0x42bdb0e8,0x9d4ea9f,0x4dfe496,0x13c2f68d,0x1ec9f884,0x3df8d2bb,0x30f3dcb2,0x27eecea9,0x2ae5c0a0,0xb13c7a47,0xbc37744e,0xab2a6655,0xa621685c,0x85104263,0x881b4c6a,0x9f065e71,0x920d5078,0xd9640a0f,0xd46f0406,0xc372161d,0xce791814,0xed48322b,0xe0433c22,0xf75e2e39,0xfa552030,0xb701ec9a,0xba0ae293,0xad17f088,0xa01cfe81,0x832dd4be,0x8e26dab7,0x993bc8ac,0x9430c6a5,0xdf599cd2,0xd25292db,0xc54f80c0,0xc8448ec9,0xeb75a4f6,0xe67eaaff,0xf163b8e4,0xfc68b6ed,0x67b10c0a,0x6aba0203,0x7da71018,0x70ac1e11,0x539d342e,0x5e963a27,0x498b283c,0x44802635,0xfe97c42,0x2e2724b,0x15ff6050,0x18f46e59,0x3bc54466,0x36ce4a6f,0x21d35874,0x2cd8567d,0xc7a37a1,0x17139a8,0x166c2bb3,0x1b6725ba,0x38560f85,0x355d018c,0x22401397,0x2f4b1d9e,0x642247e9,0x692949e0,0x7e345bfb,0x733f55f2,0x500e7fcd,0x5d0571c4,0x4a1863df,0x47136dd6,0xdccad731,0xd1c1d938,0xc6dccb23,0xcbd7c52a,0xe8e6ef15,0xe5ede11c,0xf2f0f307,0xfffbfd0e,0xb492a779,0xb999a970,0xae84bb6b,0xa38fb562,0x80be9f5d,0x8db59154,0x9aa8834f,0x97a38d46],iF=[0,0x90d0b0e,0x121a161c,0x1b171d12,0x24342c38,0x2d392736,0x362e3a24,0x3f23312a,0x48685870,0x4165537e,0x5a724e6c,0x537f4562,0x6c5c7448,0x65517f46,0x7e466254,0x774b695a,0x90d0b0e0,0x99ddbbee,0x82caa6fc,0x8bc7adf2,0xb4e49cd8,0xbde997d6,0xa6fe8ac4,0xaff381ca,0xd8b8e890,0xd1b5e39e,0xcaa2fe8c,0xc3aff582,0xfc8cc4a8,0xf581cfa6,0xee96d2b4,0xe79bd9ba,0x3bbb7bdb,0x32b670d5,0x29a16dc7,0x20ac66c9,0x1f8f57e3,0x16825ced,0xd9541ff,0x4984af1,0x73d323ab,0x7ade28a5,0x61c935b7,0x68c43eb9,0x57e70f93,0x5eea049d,0x45fd198f,0x4cf01281,0xab6bcb3b,0xa266c035,0xb971dd27,0xb07cd629,0x8f5fe703,0x8652ec0d,0x9d45f11f,0x9448fa11,0xe303934b,0xea0e9845,0xf1198557,0xf8148e59,0xc737bf73,0xce3ab47d,0xd52da96f,0xdc20a261,0x766df6ad,0x7f60fda3,0x6477e0b1,0x6d7aebbf,0x5259da95,0x5b54d19b,0x4043cc89,0x494ec787,0x3e05aedd,0x3708a5d3,0x2c1fb8c1,0x2512b3cf,0x1a3182e5,0x133c89eb,0x82b94f9,0x1269ff7,0xe6bd464d,0xefb04d43,0xf4a75051,0xfdaa5b5f,0xc2896a75,0xcb84617b,0xd0937c69,0xd99e7767,0xaed51e3d,0xa7d81533,0xbccf0821,0xb5c2032f,0x8ae13205,0x83ec390b,0x98fb2419,0x91f62f17,0x4dd68d76,0x44db8678,0x5fcc9b6a,0x56c19064,0x69e2a14e,0x60efaa40,0x7bf8b752,0x72f5bc5c,0x5bed506,0xcb3de08,0x17a4c31a,0x1ea9c814,0x218af93e,679998e3,0x3390ef22,0x3a9de42c,0xdd063d96,0xd40b3698,0xcf1c2b8a,0xc6112084,0xf93211ae,0xf03f1aa0,0xeb2807b2,0xe2250cbc,0x956e65e6,0x9c636ee8,0x877473fa,0x8e7978f4,0xb15a49de,0xb85742d0,0xa3405fc2,0xaa4d54cc,0xecdaf741,0xe5d7fc4f,0xfec0e15d,0xf7cdea53,0xc8eedb79,0xc1e3d077,0xdaf4cd65,0xd3f9c66b,0xa4b2af31,0xadbfa43f,0xb6a8b92d,0xbfa5b223,0x80868309,0x898b8807,0x929c9515,0x9b919e1b,0x7c0a47a1,0x75074caf,0x6e1051bd,0x671d5ab3,0x583e6b99,0x51336097,0x4a247d85,0x4329768b,0x34621fd1,0x3d6f14df,0x267809cd,0x2f7502c3,0x105633e9,0x195b38e7,0x24c25f5,0xb412efb,0xd7618c9a,0xde6c8794,0xc57b9a86,0xcc769188,0xf355a0a2,0xfa58abac,0xe14fb6be,0xe842bdb0,0x9f09d4ea,0x9604dfe4,0x8d13c2f6,0x841ec9f8,0xbb3df8d2,0xb230f3dc,0xa927eece,0xa02ae5c0,0x47b13c7a,0x4ebc3774,0x55ab2a66,0x5ca62168,0x63851042,0x6a881b4c,0x719f065e,0x78920d50,0xfd9640a,0x6d46f04,0x1dc37216,0x14ce7918,0x2bed4832,0x22e0433c,0x39f75e2e,0x30fa5520,0x9ab701ec,0x93ba0ae2,0x88ad17f0,0x81a01cfe,0xbe832dd4,0xb78e26da,0xac993bc8,0xa59430c6,0xd2df599c,0xdbd25292,0xc0c54f80,0xc9c8448e,0xf6eb75a4,0xffe67eaa,0xe4f163b8,0xedfc68b6,0xa67b10c,0x36aba02,0x187da710,0x1170ac1e,0x2e539d34,0x275e963a,0x3c498b28,0x35448026,0x420fe97c,0x4b02e272,0x5015ff60,0x5918f46e,0x663bc544,0x6f36ce4a,0x7421d358,0x7d2cd856,0xa10c7a37,0xa8017139,0xb3166c2b,0xba1b6725,0x8538560f,0x8c355d01,0x97224013,0x9e2f4b1d,0xe9642247,0xe0692949,0xfb7e345b,0xf2733f55,0xcd500e7f,0xc45d0571,0xdf4a1863,0xd647136d,0x31dccad7,0x38d1c1d9,0x23c6dccb,0x2acbd7c5,0x15e8e6ef,0x1ce5ede1,0x7f2f0f3,0xefffbfd,0x79b492a7,0x70b999a9,0x6bae84bb,0x62a38fb5,0x5d80be9f,0x548db591,0x4f9aa883,0x4697a38d];function iL(e){let t=[];for(let r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}class iq{get key(){return iw(this,t,"f").slice()}constructor(e){let n;if(t.set(this,void 0),r.set(this,void 0),i.set(this,void 0),!(this instanceof iq))throw Error("AES must be instanitated with `new`");iv(this,t,new Uint8Array(e),"f");const a=iS[this.key.length];if(null==a)throw TypeError("invalid key size (must be 16, 24 or 32 bytes)");iv(this,i,[],"f"),iv(this,r,[],"f");for(let e=0;e<=a;e++)iw(this,i,"f").push([0,0,0,0]),iw(this,r,"f").push([0,0,0,0]);const o=(a+1)*4,s=this.key.length/4,u=iL(this.key);for(let e=0;e<s;e++)n=e>>2,iw(this,i,"f")[n][e%4]=u[e],iw(this,r,"f")[a-n][e%4]=u[e];let l=0,c=s,d;for(;c<o;){if(d=u[s-1],u[0]^=iE[d>>16&255]<<24^iE[d>>8&255]<<16^iE[255&d]<<8^iE[d>>24&255]^iT[l]<<24,l+=1,8!=s)for(let e=1;e<s;e++)u[e]^=u[e-1];else{for(let e=1;e<s/2;e++)u[e]^=u[e-1];d=u[s/2-1],u[s/2]^=iE[255&d]^iE[d>>8&255]<<8^iE[d>>16&255]<<16^iE[d>>24&255]<<24;for(let e=s/2+1;e<s;e++)u[e]^=u[e-1]}let e=0,t,n;for(;e<s&&c<o;)t=c>>2,n=c%4,iw(this,i,"f")[t][n]=u[e],iw(this,r,"f")[a-t][n]=u[e++],c++}for(let e=1;e<a;e++)for(let t=0;t<4;t++)d=iw(this,r,"f")[e][t],iw(this,r,"f")[e][t]=iD[d>>24&255]^iM[d>>16&255]^iU[d>>8&255]^iF[255&d]}encrypt(e){if(16!=e.length)throw TypeError("invalid plaintext size (must be 16 bytes)");let t=iw(this,i,"f").length-1,r=[0,0,0,0],n=iL(e);for(let e=0;e<4;e++)n[e]^=iw(this,i,"f")[0][e];for(let e=1;e<t;e++){for(let t=0;t<4;t++)r[t]=iP[n[t]>>24&255]^i_[n[(t+1)%4]>>16&255]^iI[n[(t+2)%4]>>8&255]^iN[255&n[(t+3)%4]]^iw(this,i,"f")[e][t];n=r.slice()}let a=new Uint8Array(16),o=0;for(let e=0;e<4;e++)o=iw(this,i,"f")[t][e],a[4*e]=(iE[n[e]>>24&255]^o>>24)&255,a[4*e+1]=(iE[n[(e+1)%4]>>16&255]^o>>16)&255,a[4*e+2]=(iE[n[(e+2)%4]>>8&255]^o>>8)&255,a[4*e+3]=(iE[255&n[(e+3)%4]]^o)&255;return a}decrypt(e){if(16!=e.length)throw TypeError("invalid ciphertext size (must be 16 bytes)");let t=iw(this,r,"f").length-1,i=[0,0,0,0],n=iL(e);for(let e=0;e<4;e++)n[e]^=iw(this,r,"f")[0][e];for(let e=1;e<t;e++){for(let t=0;t<4;t++)i[t]=iR[n[t]>>24&255]^iB[n[(t+3)%4]>>16&255]^iC[n[(t+2)%4]>>8&255]^iO[255&n[(t+1)%4]]^iw(this,r,"f")[e][t];n=i.slice()}let a=new Uint8Array(16),o=0;for(let e=0;e<4;e++)o=iw(this,r,"f")[t][e],a[4*e]=(ik[n[e]>>24&255]^o>>24)&255,a[4*e+1]=(ik[n[(e+3)%4]>>16&255]^o>>16)&255,a[4*e+2]=(ik[n[(e+2)%4]>>8&255]^o>>8)&255,a[4*e+3]=(ik[255&n[(e+1)%4]]^o)&255;return a}}t=new WeakMap,r=new WeakMap,i=new WeakMap;class iK{constructor(e,t,r){if(r&&!(this instanceof r))throw Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new iq(t)},name:{enumerable:!0,value:e}})}}var iW=function(e,t,r,i,n){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r},iV=function(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)};class iG extends iK{constructor(e,t){if(super("ECC",e,iG),n.set(this,void 0),a.set(this,void 0),t){if(t.length%16)throw TypeError("invalid iv size (must be 16 bytes)");iW(this,n,new Uint8Array(t),"f")}else iW(this,n,new Uint8Array(16),"f");iW(this,a,this.iv,"f")}get iv(){return new Uint8Array(iV(this,n,"f"))}encrypt(e){if(e.length%16)throw TypeError("invalid plaintext size (must be multiple of 16 bytes)");let t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){for(let t=0;t<16;t++)iV(this,a,"f")[t]^=e[r+t];iW(this,a,this.aes.encrypt(iV(this,a,"f")),"f"),t.set(iV(this,a,"f"),r)}return t}decrypt(e){if(e.length%16)throw TypeError("invalid ciphertext size (must be multiple of 16 bytes)");let t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){let i=this.aes.decrypt(e.subarray(r,r+16));for(let n=0;n<16;n++)t[r+n]=i[n]^iV(this,a,"f")[n],iV(this,a,"f")[n]=e[r+n]}return t}}n=new WeakMap,a=new WeakMap;new WeakMap,new WeakMap,new WeakSet;var iz=function(e,t,r,i,n){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r},ij=function(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)};class iH extends iK{constructor(e,t){super("CTR",e,iH),o.set(this,void 0),s.set(this,void 0),u.set(this,void 0),iz(this,u,new Uint8Array(16),"f"),ij(this,u,"f").fill(0),iz(this,o,ij(this,u,"f"),"f"),iz(this,s,16,"f"),null==t&&(t=1),"number"==typeof t?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(ij(this,u,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)ij(this,u,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(16!==e.length)throw TypeError("invalid counter initial Uint8Array value length");ij(this,u,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(255===ij(this,u,"f")[e])ij(this,u,"f")[e]=0;else{ij(this,u,"f")[e]++;break}}encrypt(e){var t,r;let i=new Uint8Array(e);for(let e=0;e<i.length;e++)16===ij(this,s,"f")&&(iz(this,o,this.aes.encrypt(ij(this,u,"f")),"f"),iz(this,s,0,"f"),this.increment()),i[e]^=ij(this,o,"f")[iz(this,s,(r=ij(this,s,"f"),t=r++,r),"f"),t];return i}decrypt(e){return this.encrypt(e)}}function iX(e){return"string"!=typeof e||e.startsWith("0x")||(e="0x"+e),(0,U.getBytesCopy)(e)}function iQ(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function iJ(e){return"string"==typeof e?(0,L.toUtf8Bytes)(e,"NFKC"):(0,U.getBytesCopy)(e)}function iY(e,t){let r=t.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);(0,F.assertArgument)(null!=r,"invalid path","path",t);let i=r[1],n=r[3],a="!"===r[4],o=e;for(let e of i.toLowerCase().split(".")){if(Array.isArray(o)){if(!e.match(/^[0-9]+$/))break;o=o[parseInt(e)]}else if("object"==typeof o){let t=null;for(let r in o)if(r.toLowerCase()===e){t=o[r];break}o=t}else o=null;if(null==o)break}if((0,F.assertArgument)(!a||null!=o,"missing required value","path",i),n&&null!=o){if("int"===n){if("string"==typeof o&&o.match(/^-?[0-9]+$/))return parseInt(o);else if(Number.isSafeInteger(o))return o}if("number"===n&&"string"==typeof o&&o.match(/^-?[0-9.]*$/))return parseFloat(o);if("data"===n&&"string"==typeof o)return iX(o);if("array"===n&&Array.isArray(o)||n===typeof o)return o;(0,F.assertArgument)(!1,`wrong type found for ${n} `,"path",i)}return o}o=new WeakMap,s=new WeakMap,u=new WeakMap,new WeakMap,new WeakMap,new WeakMap;let iZ="m/44'/60'/0'/0/0";function i$(e){try{let t=JSON.parse(e),r=null!=t.version?parseInt(t.version):0;if(3===r)return!0}catch(e){}return!1}function i0(e,t){let r=(0,U.getBytes)(t),i=iY(e,"crypto.ciphertext:data!"),n=(0,U.hexlify)((0,_.keccak256)((0,U.concat)([r.slice(16,32),i]))).substring(2);(0,F.assertArgument)(n===iY(e,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");let a=function(e,t,r){if("aes-128-ctr"===iY(e,"crypto.cipher:string")){let i=new iH(t,iY(e,"crypto.cipherparams.iv:data!"));return(0,U.hexlify)(i.decrypt(r))}(0,F.assert)(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}(e,r.slice(0,16),i),o=X(a);if(e.address){let t=e.address.toLowerCase();t.startsWith("0x")||(t="0x"+t),(0,F.assertArgument)((0,b.getAddress)(t)===o,"keystore address/privateKey mismatch","address",e.address)}let s={address:o,privateKey:a};if("0.1"===iY(e,"x-ethers.version:string")){let t=r.slice(32,64),i=iY(e,"x-ethers.mnemonicCiphertext:data!"),n=new iH(t,iY(e,"x-ethers.mnemonicCounter:data!"));s.mnemonic={path:iY(e,"x-ethers.path:string")||iZ,locale:iY(e,"x-ethers.locale:string")||"en",entropy:(0,U.hexlify)((0,U.getBytes)(n.decrypt(i)))}}return s}function i1(e){let t=iY(e,"crypto.kdf:string");if(t&&"string"==typeof t){if("scrypt"===t.toLowerCase()){let r=iY(e,"crypto.kdfparams.salt:data!"),i=iY(e,"crypto.kdfparams.n:int!"),n=iY(e,"crypto.kdfparams.r:int!"),a=iY(e,"crypto.kdfparams.p:int!");(0,F.assertArgument)(i>0&&(i&i-1)==0,"invalid kdf.N","kdf.N",i),(0,F.assertArgument)(n>0&&a>0,"invalid kdf","kdf",t);let o=iY(e,"crypto.kdfparams.dklen:int!");return(0,F.assertArgument)(32===o,"invalid kdf.dklen","kdf.dflen",o),{name:"scrypt",salt:r,N:i,r:n,p:a,dkLen:64}}else if("pbkdf2"===t.toLowerCase()){let t=iY(e,"crypto.kdfparams.salt:data!"),r=iY(e,"crypto.kdfparams.prf:string!"),i=r.split("-").pop();(0,F.assertArgument)("sha256"===i||"sha512"===i,"invalid kdf.pdf","kdf.pdf",r);let n=iY(e,"crypto.kdfparams.c:int!"),a=iY(e,"crypto.kdfparams.dklen:int!");return(0,F.assertArgument)(32===a,"invalid kdf.dklen","kdf.dklen",a),{name:"pbkdf2",salt:t,count:n,dkLen:a,algorithm:i}}}(0,F.assertArgument)(!1,"unsupported key-derivation function","kdf",t)}function i2(e,t){let r=JSON.parse(e),i=iJ(t),n=i1(r);if("pbkdf2"===n.name){let{salt:e,count:t,dkLen:a,algorithm:o}=n;return i0(r,(0,R.pbkdf2)(i,e,t,a,o))}(0,F.assert)("scrypt"===n.name,"cannot be reached","UNKNOWN_ERROR",{params:n});let{salt:a,N:o,r:s,p:u,dkLen:l}=n;return i0(r,(0,B.scryptSync)(i,a,o,s,u,l))}function i5(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}async function i6(e,t,r){let i=JSON.parse(e),n=iJ(t),a=i1(i);if("pbkdf2"===a.name){r&&(r(0),await i5(0));let{salt:e,count:t,dkLen:o,algorithm:s}=a,u=(0,R.pbkdf2)(n,e,t,o,s);return r&&(r(1),await i5(0)),i0(i,u)}(0,F.assert)("scrypt"===a.name,"cannot be reached","UNKNOWN_ERROR",{params:a});let{salt:o,N:s,r:u,p:l,dkLen:c}=a;return i0(i,await (0,B.scrypt)(n,o,s,u,l,c,r))}function i3(e){let t=null!=e.salt?(0,U.getBytes)(e.salt,"options.salt"):(0,P.randomBytes)(32),r=131072,i=8,n=1;return e.scrypt&&(e.scrypt.N&&(r=e.scrypt.N),e.scrypt.r&&(i=e.scrypt.r),e.scrypt.p&&(n=e.scrypt.p)),(0,F.assertArgument)("number"==typeof r&&r>0&&Number.isSafeInteger(r)&&(BigInt(r)&BigInt(r-1))===BigInt(0),"invalid scrypt N parameter","options.N",r),(0,F.assertArgument)("number"==typeof i&&i>0&&Number.isSafeInteger(i),"invalid scrypt r parameter","options.r",i),(0,F.assertArgument)("number"==typeof n&&n>0&&Number.isSafeInteger(n),"invalid scrypt p parameter","options.p",n),{name:"scrypt",dkLen:32,salt:t,N:r,r:i,p:n}}function i4(e,t,r,i){let n=(0,U.getBytes)(r.privateKey,"privateKey"),a=null!=i.iv?(0,U.getBytes)(i.iv,"options.iv"):(0,P.randomBytes)(16);(0,F.assertArgument)(16===a.length,"invalid options.iv length","options.iv",i.iv);let o=null!=i.uuid?(0,U.getBytes)(i.uuid,"options.uuid"):(0,P.randomBytes)(16);(0,F.assertArgument)(16===o.length,"invalid options.uuid length","options.uuid",i.iv);let s=e.slice(0,16),u=e.slice(16,32),c=new iH(s,a),d=(0,U.getBytes)(c.encrypt(n)),f=(0,_.keccak256)((0,U.concat)([u,d])),p={address:r.address.substring(2).toLowerCase(),id:ia(o),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,U.hexlify)(a).substring(2)},ciphertext:(0,U.hexlify)(d).substring(2),kdf:"scrypt",kdfparams:{salt:(0,U.hexlify)(t.salt).substring(2),n:t.N,dklen:32,p:t.p,r:t.r},mac:f.substring(2)}};if(r.mnemonic){let t=null!=i.client?i.client:`ethers/${l.version}`,n=r.mnemonic.path||iZ,a=r.mnemonic.locale||"en",o=e.slice(32,64),s=(0,U.getBytes)(r.mnemonic.entropy,"account.mnemonic.entropy"),u=(0,P.randomBytes)(16),c=new iH(o,u),d=(0,U.getBytes)(c.encrypt(s)),f=new Date,h="UTC--"+(f.getUTCFullYear()+"-"+iQ(f.getUTCMonth()+1,2)+"-"+iQ(f.getUTCDate(),2)+"T"+iQ(f.getUTCHours(),2)+"-"+iQ(f.getUTCMinutes(),2)+"-"+iQ(f.getUTCSeconds(),2))+".0Z--"+p.address;p["x-ethers"]={client:t,gethFilename:h,path:n,locale:a,mnemonicCounter:(0,U.hexlify)(u).substring(2),mnemonicCiphertext:(0,U.hexlify)(d).substring(2),version:"0.1"}}return JSON.stringify(p)}function i8(e,t,r){null==r&&(r={});let i=iJ(t),n=i3(r),a=(0,B.scryptSync)(i,n.salt,n.N,n.r,n.p,64);return i4((0,U.getBytes)(a),n,e,r)}async function i7(e,t,r){null==r&&(r={});let i=iJ(t),n=i3(r),a=await (0,B.scrypt)(i,n.salt,n.N,n.r,n.p,64,r.progressCallback);return i4((0,U.getBytes)(a),n,e,r)}let i9="m/44'/60'/0'/0/0",ne=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),nt=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");function nr(e,t){let r="";for(;e;)r="0123456789abcdef"[e%16]+r,e=Math.trunc(e/16);for(;r.length<2*t;)r="0"+r;return"0x"+r}function ni(e){let t=(0,U.getBytes)(e),r=(0,U.dataSlice)((0,N.sha256)((0,N.sha256)(t)),0,4);return tb((0,U.concat)([t,r]))}let nn={};function na(e,t,r,i){let n=new Uint8Array(37);0x80000000&e?((0,F.assert)(null!=i,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),n.set((0,U.getBytes)(i),1)):n.set((0,U.getBytes)(r));for(let t=24;t>=0;t-=8)n[33+(t>>3)]=e>>24-t&255;let a=(0,U.getBytes)((0,k.computeHmac)("sha512",t,n));return{IL:a.slice(0,32),IR:a.slice(32)}}function no(e,t){let r=t.split("/");(0,F.assertArgument)(r.length>0,"invalid path","path",t),"m"===r[0]&&((0,F.assertArgument)(0===e.depth,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${e.depth}`,"path",t),r.shift());let i=e;for(let e=0;e<r.length;e++){let t=r[e];if(t.match(/^[0-9]+'$/)){let r=parseInt(t.substring(0,t.length-1));(0,F.assertArgument)(r<0x80000000,"invalid path index",`path[${e}]`,t),i=i.deriveChild(0x80000000+r)}else if(t.match(/^[0-9]+$/)){let r=parseInt(t);(0,F.assertArgument)(r<0x80000000,"invalid path index",`path[${e}]`,t),i=i.deriveChild(r)}else(0,F.assertArgument)(!1,"invalid path component",`path[${e}]`,t)}return i}class ns extends iA{publicKey;fingerprint;parentFingerprint;mnemonic;chainCode;path;index;depth;constructor(e,t,r,i,n,a,o,s,u){super(t,u),(0,F.assertPrivate)(e,nn,"HDNodeWallet"),(0,eu.defineProperties)(this,{publicKey:t.compressedPublicKey});const l=(0,U.dataSlice)((0,I.ripemd160)((0,N.sha256)(this.publicKey)),0,4);(0,eu.defineProperties)(this,{parentFingerprint:r,fingerprint:l,chainCode:i,path:n,index:a,depth:o}),(0,eu.defineProperties)(this,{mnemonic:s})}connect(e){return new ns(nn,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,e)}#tF(){let e={address:this.address,privateKey:this.privateKey},t=this.mnemonic;return this.path&&t&&"en"===t.wordlist.locale&&""===t.password&&(e.mnemonic={path:this.path,locale:"en",entropy:t.entropy}),e}async encrypt(e,t){return await i7(this.#tF(),e,{progressCallback:t})}encryptSync(e){return i8(this.#tF(),e)}get extendedKey(){return(0,F.assert)(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),ni((0,U.concat)(["0x0488ADE4",nr(this.depth,1),this.parentFingerprint,nr(this.index,4),this.chainCode,(0,U.concat)(["0x00",this.privateKey])]))}hasPath(){return null!=this.path}neuter(){return new nu(nn,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(e){let t=(0,Y.getNumber)(e,"index");(0,F.assertArgument)(t<=0xffffffff,"invalid index","index",t);let r=this.path;r&&(r+="/"+(0x7fffffff&t),0x80000000&t&&(r+="'"));let{IR:i,IL:n}=na(t,this.chainCode,this.publicKey,this.privateKey);return new ns(nn,new D.SigningKey((0,Y.toBeHex)(((0,Y.toBigInt)(n)+BigInt(this.privateKey))%nt,32)),this.fingerprint,(0,U.hexlify)(i),r,t,this.depth+1,this.mnemonic,this.provider)}derivePath(e){return no(this,e)}static #tL(e,t){(0,F.assertArgument)((0,U.isBytesLike)(e),"invalid seed","seed","[REDACTED]");let r=(0,U.getBytes)(e,"seed");(0,F.assertArgument)(r.length>=16&&r.length<=64,"invalid seed","seed","[REDACTED]");let i=(0,U.getBytes)((0,k.computeHmac)("sha512",ne,r));return new ns(nn,new D.SigningKey((0,U.hexlify)(i.slice(0,32))),"0x00000000",(0,U.hexlify)(i.slice(32)),"m",0,0,t,null)}static fromExtendedKey(e){let t=(0,Y.toBeArray)(tg(e));(0,F.assertArgument)(82===t.length||ni(t.slice(0,78))===e,"invalid extended key","extendedKey","[ REDACTED ]");let r=t[4],i=(0,U.hexlify)(t.slice(5,9)),n=parseInt((0,U.hexlify)(t.slice(9,13)).substring(2),16),a=(0,U.hexlify)(t.slice(13,45)),o=t.slice(45,78);switch((0,U.hexlify)(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":{let e=(0,U.hexlify)(o);return new nu(nn,X(e),e,i,a,null,n,r,null)}case"0x0488ade4":case"0x04358394 ":if(0!==o[0])break;return new ns(nn,new D.SigningKey(o.slice(1)),i,a,null,n,r,null,null)}(0,F.assertArgument)(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(e,t,r){null==e&&(e=""),null==t&&(t=i9),null==r&&(r=ih.wordlist());let i=ix.fromEntropy((0,P.randomBytes)(16),e,r);return ns.#tL(i.computeSeed(),i).derivePath(t)}static fromMnemonic(e,t){return t||(t=i9),ns.#tL(e.computeSeed(),e).derivePath(t)}static fromPhrase(e,t,r,i){null==t&&(t=""),null==r&&(r=i9),null==i&&(i=ih.wordlist());let n=ix.fromPhrase(e,t,i);return ns.#tL(n.computeSeed(),n).derivePath(r)}static fromSeed(e){return ns.#tL(e,null)}}class nu extends t6{publicKey;fingerprint;parentFingerprint;chainCode;path;index;depth;constructor(e,t,r,i,n,a,o,s,u){super(t,u),(0,F.assertPrivate)(e,nn,"HDNodeVoidWallet"),(0,eu.defineProperties)(this,{publicKey:r});const l=(0,U.dataSlice)((0,I.ripemd160)((0,N.sha256)(r)),0,4);(0,eu.defineProperties)(this,{publicKey:r,fingerprint:l,parentFingerprint:i,chainCode:n,path:a,index:o,depth:s})}connect(e){return new nu(nn,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,e)}get extendedKey(){return(0,F.assert)(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),ni((0,U.concat)(["0x0488B21E",nr(this.depth,1),this.parentFingerprint,nr(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return null!=this.path}deriveChild(e){let t=(0,Y.getNumber)(e,"index");(0,F.assertArgument)(t<=0xffffffff,"invalid index","index",t);let r=this.path;r&&(r+="/"+(0x7fffffff&t),0x80000000&t&&(r+="'"));let{IR:i,IL:n}=na(t,this.chainCode,this.publicKey,null),a=D.SigningKey.addPoints(n,this.publicKey,!0);return new nu(nn,X(a),a,this.fingerprint,(0,U.hexlify)(i),r,t,this.depth+1,this.provider)}derivePath(e){return no(this,e)}}function nl(e){let t=(0,Y.getNumber)(e,"index");return(0,F.assertArgument)(t>=0&&t<0x80000000,"invalid account index","index",t),`m/44'/60'/${t}'/0/0`}function nc(e){let t=(0,Y.getNumber)(e,"index");return(0,F.assertArgument)(t>=0&&t<0x80000000,"invalid account index","index",t),`m/44'/60'/0'/0/${t}`}function nd(e){try{if(JSON.parse(e).encseed)return!0}catch(e){}return!1}function nf(e,t){let r=JSON.parse(e),i=iJ(t),n=(0,b.getAddress)(iY(r,"ethaddr:string!")),a=iX(iY(r,"encseed:string!"));(0,F.assertArgument)(a&&a.length%16==0,"invalid encseed","json",e);let o=(0,U.getBytes)((0,R.pbkdf2)(i,i,2e3,32,"sha256")).slice(0,16),s=a.slice(0,16),u=a.slice(16),l=new iG(o,s),c=function(e){if(e.length<16)throw TypeError("PKCS#7 invalid length");let t=e[e.length-1];if(t>16)throw TypeError("PKCS#7 padding byte out of range");let r=e.length-t;for(let i=0;i<t;i++)if(e[r+i]!==t)throw TypeError("PKCS#7 invalid padding byte");return new Uint8Array(e.subarray(0,r))}((0,U.getBytes)(l.decrypt(u))),d="";for(let e=0;e<c.length;e++)d+=String.fromCharCode(c[e]);return{address:n,privateKey:(0,M.id)(d)}}function np(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}class nh extends iA{constructor(e,t){"string"!=typeof e||e.startsWith("0x")||(e="0x"+e),super("string"==typeof e?new D.SigningKey(e):e,t)}connect(e){return new nh(this.signingKey,e)}async encrypt(e,t){let r={address:this.address,privateKey:this.privateKey};return await i7(r,e,{progressCallback:t})}encryptSync(e){return i8({address:this.address,privateKey:this.privateKey},e)}static #tq(e){if((0,F.assertArgument)(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&"en"===e.mnemonic.locale){let t=ix.fromEntropy(e.mnemonic.entropy),r=ns.fromMnemonic(t,e.mnemonic.path);if(r.address===e.address&&r.privateKey===e.privateKey)return r;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}let t=new nh(e.privateKey);return(0,F.assertArgument)(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t}static async fromEncryptedJson(e,t,r){let i=null;return i$(e)?i=await i6(e,t,r):nd(e)&&(r&&(r(0),await np(0)),i=nf(e,t),r&&(r(1),await np(0))),nh.#tq(i)}static fromEncryptedJsonSync(e,t){let r=null;return i$(e)?r=i2(e,t):nd(e)?r=nf(e,t):(0,F.assertArgument)(!1,"invalid JSON wallet","json","[ REDACTED ]"),nh.#tq(r)}static createRandom(e){let t=ns.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){let r=ns.fromPhrase(e);return t?r.connect(t):r}}class nm extends id{#tK;constructor(e,t,r,i){super(e,t,i),this.#tK=r}get _accent(){return this.#tK}_decodeWords(){var e,t;let r;return e=this._data,t=this._accent,r=il(e).join(","),t.split(/,/g).forEach(e=>{let i=e.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);(0,F.assertArgument)(null!==i,"internal error parsing accents","accents",t);let n=0,a=function(e,t){let r=(1<<e)-1,i=[],n=0,a=0,o=0;for(let s=0;s<t.length;s++)for(n=n<<6|")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".indexOf(t[s]),a+=6;a>=e;){let t=n>>a-e;n&=(1<<a-e)-1,a-=e,0===t?o+=r:(i.push(t+o),o=0)}return i}(parseInt(i[3]),i[4]),o=parseInt(i[2]),s=RegExp(`([${i[1]}])`,"g");r=r.replace(s,(e,t)=>(0==--a[n]&&(t=String.fromCharCode(t.charCodeAt(0),o),n++),t))}),r.split(",")}}let nb={en:ih.wordlist()};e.s(["AbiCoder",()=>d.AbiCoder,"AbstractProvider",()=>tJ,"AbstractSigner",()=>t5,"AlchemyProvider",()=>rc,"AnkrProvider",()=>ru,"BaseContract",()=>S.BaseContract,"BaseWallet",()=>iA,"Block",()=>tO.Block,"BlockscoutProvider",()=>rQ,"BrowserProvider",()=>rX,"ChainstackProvider",()=>rf,"CloudflareProvider",()=>rp,"ConstructorFragment",()=>f.ConstructorFragment,"Contract",()=>S.Contract,"ContractEventPayload",()=>E.ContractEventPayload,"ContractFactory",()=>T.ContractFactory,"ContractTransactionReceipt",()=>E.ContractTransactionReceipt,"ContractTransactionResponse",()=>E.ContractTransactionResponse,"ContractUnknownEventPayload",()=>E.ContractUnknownEventPayload,"EnsPlugin",()=>ej,"EnsResolver",()=>tv,"ErrorDescription",()=>h.ErrorDescription,"ErrorFragment",()=>f.ErrorFragment,"EtherSymbol",()=>v.EtherSymbol,"EtherscanPlugin",()=>rb,"EtherscanProvider",()=>rx,"EventFragment",()=>f.EventFragment,"EventLog",()=>E.EventLog,"EventPayload",()=>td.EventPayload,"FallbackFragment",()=>f.FallbackFragment,"FallbackProvider",()=>rG,"FeeData",()=>tO.FeeData,"FeeDataNetworkPlugin",()=>eH,"FetchCancelSignal",()=>eM,"FetchRequest",()=>eF,"FetchResponse",()=>eL,"FetchUrlFeeDataNetworkPlugin",()=>eX,"FixedNumber",()=>r7,"Fragment",()=>f.Fragment,"FunctionFragment",()=>f.FunctionFragment,"GasCostPlugin",()=>ez,"HDNodeVoidWallet",()=>nu,"HDNodeWallet",()=>ns,"Indexed",()=>h.Indexed,"InfuraProvider",()=>rI,"InfuraWebSocketProvider",()=>r_,"Interface",()=>h.Interface,"IpcSocketProvider",()=>rZ,"JsonRpcApiProvider",()=>rn,"JsonRpcProvider",()=>ro,"JsonRpcSigner",()=>ri,"LangEn",()=>ih,"Log",()=>tO.Log,"LogDescription",()=>h.LogDescription,"MaxInt256",()=>A.MaxInt256,"MaxUint256",()=>A.MaxUint256,"MessagePrefix",()=>v.MessagePrefix,"MinInt256",()=>A.MinInt256,"Mnemonic",()=>ix,"MulticoinProviderPlugin",()=>tx,"N",()=>A.N,"NamedFragment",()=>f.NamedFragment,"Network",()=>eJ,"NetworkPlugin",()=>eG,"NonceManager",()=>rH,"ParamType",()=>f.ParamType,"PocketProvider",()=>rY,"QuickNodeProvider",()=>rR,"Result",()=>p.Result,"Signature",()=>O.Signature,"SigningKey",()=>D.SigningKey,"SocketBlockSubscriber",()=>rv,"SocketEventSubscriber",()=>rT,"SocketPendingSubscriber",()=>rS,"SocketProvider",()=>rE,"SocketSubscriber",()=>rw,"StructFragment",()=>f.StructFragment,"Transaction",()=>tc,"TransactionDescription",()=>h.TransactionDescription,"TransactionReceipt",()=>tO.TransactionReceipt,"TransactionResponse",()=>tO.TransactionResponse,"Typed",()=>m.Typed,"TypedDataEncoder",()=>eS,"UndecodedEventLog",()=>E.UndecodedEventLog,"UnmanagedSubscriber",()=>tz,"Utf8ErrorFuncs",()=>L.Utf8ErrorFuncs,"VoidSigner",()=>t6,"Wallet",()=>nh,"WebSocketProvider",()=>rk,"WeiPerEther",()=>A.WeiPerEther,"Wordlist",()=>ic,"WordlistOwl",()=>id,"WordlistOwlA",()=>nm,"ZeroAddress",()=>x.ZeroAddress,"ZeroHash",()=>w.ZeroHash,"accessListify",()=>eV.accessListify,"assert",()=>F.assert,"assertArgument",()=>F.assertArgument,"assertArgumentCount",()=>F.assertArgumentCount,"assertNormalize",()=>F.assertNormalize,"assertPrivate",()=>F.assertPrivate,"authorizationify",()=>e0,"checkResultErrors",()=>p.checkResultErrors,"computeAddress",()=>X,"computeHmac",()=>k.computeHmac,"concat",()=>U.concat,"copyRequest",()=>tO.copyRequest,"dataLength",()=>U.dataLength,"dataSlice",()=>U.dataSlice,"decodeBase58",()=>tg,"decodeBase64",()=>eE,"decodeBytes32String",()=>c.decodeBytes32String,"decodeRlp",()=>e6,"decryptCrowdsaleJson",()=>nf,"decryptKeystoreJson",()=>i6,"decryptKeystoreJsonSync",()=>i2,"defaultPath",0,i9,"defineProperties",()=>eu.defineProperties,"dnsEncode",()=>H,"encodeBase58",()=>tb,"encodeBase64",()=>ek,"encodeBytes32String",()=>c.encodeBytes32String,"encodeRlp",()=>J.encodeRlp,"encryptKeystoreJson",()=>i7,"encryptKeystoreJsonSync",()=>i8,"ensNormalize",()=>G,"formatEther",()=>ir,"formatUnits",()=>ie,"fromTwos",()=>Y.fromTwos,"getAccountPath",()=>nl,"getAddress",()=>b.getAddress,"getBigInt",()=>Y.getBigInt,"getBytes",()=>U.getBytes,"getBytesCopy",()=>U.getBytesCopy,"getCreate2Address",()=>g.getCreate2Address,"getCreateAddress",()=>g.getCreateAddress,"getDefaultProvider",()=>rj,"getIcapAddress",()=>b.getIcapAddress,"getIndexedAccountPath",()=>nc,"getNumber",()=>Y.getNumber,"getUint",()=>Y.getUint,"hashAuthorization",()=>Z,"hashMessage",()=>ee,"hexlify",()=>U.hexlify,"id",()=>M.id,"isAddress",()=>y.isAddress,"isAddressable",()=>y.isAddressable,"isBytesLike",()=>U.isBytesLike,"isCallException",()=>F.isCallException,"isCrowdsaleJson",()=>nd,"isError",()=>F.isError,"isHexString",()=>U.isHexString,"isKeystoreJson",()=>i$,"isValidName",()=>z,"keccak256",()=>_.keccak256,"lock",()=>C.lock,"makeError",()=>F.makeError,"mask",()=>Y.mask,"namehash",()=>j,"parseEther",()=>ii,"parseUnits",()=>it,"pbkdf2",()=>R.pbkdf2,"randomBytes",()=>P.randomBytes,"recoverAddress",()=>Q,"resolveAddress",()=>y.resolveAddress,"resolveProperties",()=>eu.resolveProperties,"ripemd160",()=>I.ripemd160,"scrypt",()=>B.scrypt,"scryptSync",()=>B.scryptSync,"sha256",()=>N.sha256,"sha512",()=>N.sha512,"showThrottleMessage",()=>eW,"solidityPacked",()=>ea,"solidityPackedKeccak256",()=>eo,"solidityPackedSha256",()=>es,"stripZerosLeft",()=>U.stripZerosLeft,"toBeArray",()=>Y.toBeArray,"toBeHex",()=>Y.toBeHex,"toBigInt",()=>Y.toBigInt,"toNumber",()=>Y.toNumber,"toQuantity",()=>Y.toQuantity,"toTwos",()=>Y.toTwos,"toUtf8Bytes",()=>L.toUtf8Bytes,"toUtf8CodePoints",()=>L.toUtf8CodePoints,"toUtf8String",()=>L.toUtf8String,"uuidV4",()=>ia,"verifyAuthorization",()=>$,"verifyMessage",()=>et,"verifyTypedData",()=>eT,"version",()=>l.version,"wordlists",0,nb,"zeroPadBytes",()=>U.zeroPadBytes,"zeroPadValue",()=>U.zeroPadValue],77021);var ng=e.i(77021);e.s(["ethers",0,ng],7836)},461025,e=>{"use strict";function t(e,t){let r=null,i=new Map,n=new Set;function a(n){let s;if(void 0===t)s=i.get(n);else for(let[e,r]of i)if(t(e,n)){s=r;break}if(void 0!==s)if(!r?.(s[1],n))return s[0];else a.remove(n);let u=e(n);return i.set(n,[u,Date.now()]),o("CREATE",n,u),u}function o(e,t,r){for(let i of n)i({type:e,param:t,atom:r})}return a.unstable_listen=e=>(n.add(e),()=>{n.delete(e)}),a.getParams=()=>i.keys(),a.remove=e=>{if(void 0===t){if(!i.has(e))return;let[t]=i.get(e);i.delete(e),o("REMOVE",e,t)}else for(let[r,[n]]of i)if(t(r,e)){i.delete(r),o("REMOVE",r,n);break}},a.setShouldRemove=e=>{if(r=e)for(let[e,[t,n]]of i)r(n,e)&&(i.delete(e),o("REMOVE",e,t))},a}e.s(["atomFamily",()=>t])},807392,e=>{"use strict";var t=e.i(639372);let r=(0,t.atom)(null),i=(0,t.atom)(null,(e,t,i)=>t(r,i)),n=(0,t.atom)(null,(e,t)=>t(r,null));e.s(["closeGlobalModalAtom",0,n,"globalModalContentAtom",0,r,"openGlobalModalAtom",0,i])},800473,569692,392335,582273,256709,e=>{"use strict";var t=e.i(639372),r=e.i(265172),i=e.i(741124),n=e.i(758219);let a=(0,t.atom)(!1),o=(0,t.atom)(null),s=(0,t.atom)(null),u=(0,t.atom)(e=>{let t=e(s);return t?.userId??null}),l=(0,t.atom)(null),c=(0,t.atom)(null),d=(0,t.atom)(new Map),f=(0,t.atom)(new Map),p=(0,t.atom)(new Map),h=(0,t.atom)(new Map),m=(0,t.atom)(new Map),b=(0,t.atom)(new Map),g=(0,t.atom)(new Map),y=(0,t.atom)(!1),x=(0,t.atom)(null),A=(0,r.atomWithStorage)("showFriendBanners",!1,void 0,{getOnInit:!0}),w=(0,r.atomWithStorage)("sharedPnlStyle","User",(0,n.safeSSRNoSyncStorage)(),{getOnInit:!0}),v=(0,r.atomWithStorage)("lobbyPnlTextColor","#EAEDFF",(0,n.safeSSRNoSyncStorage)(),{getOnInit:!0}),S=(0,r.atomWithStorage)("lobbyPnlPositiveColor","#2FE3AC",(0,n.safeSSRNoSyncStorage)(),{getOnInit:!0}),T=(0,r.atomWithStorage)("lobbyPnlNegativeColor","#EC397A",(0,n.safeSSRNoSyncStorage)(),{getOnInit:!0}),E=(0,r.atomWithStorage)("lobbyPnlShowRectangle",!0,(0,n.safeSSRNoSyncStorage)(),{getOnInit:!0}),k=(0,r.atomWithStorage)("lobbyPnlRectangleTextColor","#020307",(0,n.safeSSRNoSyncStorage)(),{getOnInit:!0}),P=(0,r.atomWithStorage)("lobbyPnlUseBoldFont",!1,(0,n.safeSSRNoSyncStorage)(),{getOnInit:!0}),_=(0,r.atomWithStorage)("lobbyPnlUseTextShadows",!0,(0,n.safeSSRNoSyncStorage)(),{getOnInit:!0});e.s(["SHARED_PNL_STYLES",0,["User","Chart","MVP","Podium"],"SHARED_PNL_STYLES_ICONS",0,{User:"ri-user-star-line",Chart:"ri-stock-line",MVP:"ri-trophy-line",Podium:"ri-bar-chart-horizontal-line"},"addFriendModalInitialTabAtom",0,x,"addFriendModalOpenAtom",0,y,"blockedFriendListAtom",0,h,"friendListAtom",0,d,"friendListInitializedAtom",0,a,"friendProfileDataAtom",0,o,"incomingFriendListAtom",0,f,"lobbyPnlNegativeColorAtom",0,T,"lobbyPnlPositiveColorAtom",0,S,"lobbyPnlRectangleTextColorAtom",0,k,"lobbyPnlShowRectangleAtom",0,E,"lobbyPnlTextColorAtom",0,v,"lobbyPnlUseBoldFontAtom",0,P,"lobbyPnlUseTextShadowsAtom",0,_,"relationshipToFriendAtom",0,m,"sentFriendListAtom",0,p,"sharedPnlStyleAtom",0,w,"sharedPresetsAtom",0,l,"sharedThemeAtom",0,c,"showFriendBannersAtom",0,A,"userIdToDataAtom",0,g,"userProfileAtom",0,s,"userProfileIdAtom",0,u,"usernameToDataAtom",0,b],569692);let I=(0,t.atom)(null),N=(0,t.atom)(new Map),R=(0,t.atom)(new Map),B=(0,t.atom)(new Map),C=(0,t.atom)(new Map),O=(0,t.atom)(null),D=(0,t.atom)(!1),M=(0,t.atom)([]),U=(0,r.atomWithStorage)("sharedSolWallets",null),F=(0,r.atomWithStorage)("sharedBnbWallets",null),L=(0,t.atom)(e=>{let t=e(U),r=e(F);return t&&r?new Set([...t,...r]):null}),q=(0,t.atom)(!1);e.s(["followedLobbyUserAtom",0,O,"followerIdsAtom",0,M,"friendLobbyDataAtom",0,C,"isLobbyPositionsDropdownOpenAtom",0,q,"lobbyInvitesAtom",0,R,"lobbyRequestsAtom",0,B,"lobbyUserMapAtom",0,N,"myLobbyInfoAtom",0,I,"pauseFollowedLobbyUserAtom",0,D,"sharedBnbWalletsAtom",0,F,"sharedSolWalletsAtom",0,U,"sharedWalletsAtom",0,L],392335);let K=(0,t.atom)(new Map),W=(0,t.atom)(new Map),V=(0,t.atom)(e=>{let t=e(K),r=e(W),i=new Map;for(let[e,r]of t.entries())i.set(e,r);for(let[e,t]of r.entries())i.set(e,t);return i}),G=(0,t.atom)(new Map),z=(0,t.atom)(new Map),j=(0,t.atom)(e=>"sol"===e(i.currentChainAtom)?e(G):e(z)),H=(0,t.atom)([]),X=(0,t.atom)(new Map),Q=(0,t.atom)(new Map),J=(0,t.atom)(e=>{let t=e(d),r=e(N),i=new Map;for(let[e,r]of t.entries())"meme"===r.currentPage&&r.currentChain&&r.currentSubpage&&"pairAddress"in r.currentSubpage&&i.set(r.currentSubpage.pairAddress,{chain:r.currentChain,pairAddress:r.currentSubpage.pairAddress});for(let[e,t]of r.entries())"meme"===t.currentPage&&t.currentChain&&t.currentSubpage&&"pairAddress"in t.currentSubpage&&i.set(t.currentSubpage.pairAddress,{chain:t.currentChain,pairAddress:t.currentSubpage.pairAddress});return i}),Y=(0,t.atom)(new Map);e.s(["alertPriceByPairAtom",0,(e,t)=>(0,r.selectAtom)(X,r=>r.get(e)?.get(t)??{price:0,ATH:0},(e,t)=>e.price===t.price&&e.ATH===t.ATH),"alertsMigratedAtom",0,Q,"friendLastActivityPairPriceAtom",0,Y,"isTokenMigratedAtom",0,(e,t,i)=>(0,r.selectAtom)(Q,r=>r.get(e)??{isMigrated:t,pairAddress:i},(e,t)=>e.isMigrated===t.isMigrated&&e.pairAddress===t.pairAddress),"lastActivityPairPriceAtom",0,(e,t)=>(0,r.selectAtom)(Y,r=>e?r.get(e)??t:t,(e,t)=>e===t),"lobbyAlertsAtom",0,H,"lobbyAlertsCurrentPriceAtom",0,X,"lobbyTransactionsAtom",0,j,"lobbyTransactionsAtomBnb",0,z,"lobbyTransactionsAtomSol",0,G,"lobbyWalletsAtomBnb",0,W,"lobbyWalletsAtomSol",0,K,"lobbyWalletsChainAgnosticAtom",0,V,"userLastActivityPairsAtom",0,J],800473);let Z=()=>{let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}};function $(){let e=[];return{enqueue(t){e.push(t)},drain(){let t=e;return e=[],t},clear(){e.length=0},length:()=>e.length}}e.s(["createAtomPromise",0,(e=null)=>{let r=(0,t.atom)(e),i=(0,t.atom)(Z());return{atom:(0,t.atom)(e=>e(r),(e,t,n)=>{let a=e(r),o="function"==typeof n?n(a):n;t(r,o),null!=o&&e(i).resolve(o)}),promiseAtom:(0,t.atom)(e=>{let t=e(r);return null!=t?Promise.resolve(t):e(i).promise}),promiseStateAtom:i}},"createPromiseState",0,Z],582273),e.s(["createQueue",()=>$],256709)},737620,e=>{"use strict";var t=e.i(639372),r=e.i(672464),i=e.i(271645);let n=(0,t.atom)(!1),a=(0,t.atom)(null),o=(0,t.atom)({}),s=(0,t.atom)(!1),u=(0,t.atom)(!1),l=(0,t.atom)(!1),c=(0,t.atom)(null),d=(0,t.atom)(!1),f=(0,t.atom)(""),p=(0,t.atom)(!1);e.s(["funderAddressSearchAtom",0,c,"initializedHolderDataAtom",0,s,"initializedTopTradersAtom",0,u,"isTrackedHolderDataLoadedAtom",0,l,"isTrackedWalletsSelectedAtom",0,n,"loadingTransactionsAtom",0,p,"makerAddressAtom",0,f,"pairChartLastBarAtom",0,o,"pauseTransactionsFeedAtom",0,d,"selectedBarAtom",0,a,"useSelectBarCallback",0,()=>{let e=(0,r.useSetAtom)(a),t=(0,r.useSetAtom)(n);return(0,i.useCallback)(r=>{r?(e({startTime:1e3*r.startTime,endTime:1e3*r.endTime}),t(!1)):e(null)},[e,t])}])},877710,e=>{"use strict";e.s(["MAX_TRANSACTIONS_PER_TRADER_BNB",()=>q,"accountUpdatesQueueBnb",()=>O,"allWatchedTraderTransactionsAtomBnb",()=>W,"chartTransactionsQueueBnb",()=>U,"devFundingAtomBnb",()=>g,"devTokensDataAtomBnb",()=>z,"fastTransactionsQueueBnb",()=>M,"graphPriceBnbTriggerAtom",()=>H,"kolTransactionsAtomBnb",()=>k,"lastTransactionAtomBnb",()=>x,"memePositionsAtomBnb",()=>T,"memePositionsQueueBnb",()=>D,"memeWarningModalAtomBnb",()=>J,"oneMinuteStatsAtomBnb",()=>w,"pairAtomBnb",()=>h,"pairPromiseAtomBnb",()=>m,"panelPriceBnbTriggerAtom",()=>j,"socialBubblesAtomBnb",()=>E,"supplementalDataAtomBnb",()=>y,"tokenAnalysisAtomBnb",()=>X,"tokenInfoAtomBnb",()=>v,"topTradersAtomBnb",()=>S,"trackedTransactionsAtomBnb",()=>V,"trackedWalletDisplayMapAtomBnb",()=>Y,"traderTransactionsMapBnb",()=>K,"traderTxCountFamilyBnb",()=>I,"traderWalletFundingFamilyBnb",()=>N,"transactionsFeedAtomBnb",()=>A,"useCleanupPairAtomsBnb",()=>Q,"useSetTraderTxCountBnb",()=>B,"useSetTraderWalletFundingBnb",()=>C,"userPairTransactionsAtomBnb",()=>G,"watchedTradersAtomBnb",()=>F,"watchedTradersTransactionsAtomBnb",()=>L]);var t=e.i(639372),r=e.i(672464),i=e.i(461025),n=e.i(750214),a=e.i(271645),o=e.i(645612),s=e.i(807392),u=e.i(667710),l=e.i(800473),c=e.i(582273),d=e.i(256709);e.i(318383);var f=e.i(104686),p=e.i(737620);let{atom:h,promiseAtom:m,promiseStateAtom:b}=(0,c.createAtomPromise)(),g=(0,t.atom)(null),y=(0,t.atom)(null),x=(0,t.atom)(null),A=(0,t.atom)(null),w=(0,t.atom)(null),v=(0,t.atom)(null),S=(0,t.atom)(null),T=(0,t.atom)(null),E=(0,t.atom)(null),k=(0,t.atom)(null),P=(0,i.atomFamily)(()=>(0,t.atom)(null)),_=(0,i.atomFamily)(()=>(0,t.atom)(null)),I=(0,i.atomFamily)(e=>(0,t.atom)(t=>t(P(e)))),N=(0,i.atomFamily)(e=>(0,t.atom)(t=>t(_(e)))),R=(0,t.atom)(new Set),B=()=>{let e=(0,r.useSetAtom)(R);return(0,n.useAtomCallback)((0,a.useCallback)((t,r,i,n)=>{r(P(i),n),e(e=>{if(e.has(i))return e;let t=new Set(e);return t.add(i),t})},[e]))},C=()=>{let e=(0,r.useSetAtom)(R);return(0,n.useAtomCallback)((0,a.useCallback)((t,r,i,n)=>{r(_(i),n),e(e=>{if(e.has(i))return e;let t=new Set(e);return t.add(i),t})},[e]))},O=(0,d.createQueue)(),D=(0,d.createQueue)(),M=(0,d.createQueue)(),U=(0,d.createQueue)(),F=(0,t.atom)(new Map),L=(0,t.atom)([]),q=200,K=new Map,W=(0,t.atom)([]),V=(0,t.atom)([]),G=(0,t.atom)([]),z=(0,t.atom)(null),j=(0,t.atom)(null),H=(0,t.atom)(null),X=(0,t.atom)(null),Q=()=>{let e=(0,r.useSetAtom)(y),t=(0,r.useSetAtom)(h),i=(0,r.useSetAtom)(b),u=(0,r.useSetAtom)(v),d=(0,r.useSetAtom)(S),m=(0,r.useSetAtom)(x),I=(0,r.useSetAtom)(A),N=(0,r.useSetAtom)(L),B=(0,r.useSetAtom)(W),C=(0,r.useSetAtom)(G),q=(0,r.useSetAtom)(E),Q=(0,r.useSetAtom)(k),Y=(0,r.useSetAtom)(T),Z=(0,r.useSetAtom)(o.holderDataAtomBnb),$=(0,r.useSetAtom)(p.loadingTransactionsAtom),ee=(0,r.useSetAtom)(p.makerAddressAtom),et=(0,r.useSetAtom)(j),er=(0,r.useSetAtom)(H),ei=(0,r.useSetAtom)(w),en=(0,r.useSetAtom)(f.pairDeployerAddressAtom),ea=(0,r.useSetAtom)(s.closeGlobalModalAtom),eo=(0,r.useSetAtom)(p.pairChartLastBarAtom),es=(0,r.useSetAtom)(z),eu=(0,r.useSetAtom)(F),el=(0,r.useSetAtom)(p.pauseTransactionsFeedAtom),ec=(0,r.useSetAtom)(X),ed=(0,r.useSetAtom)(f.devMigrationCountAtom),ef=(0,r.useSetAtom)(o.trackedHolderDataAtomBnb),ep=(0,r.useSetAtom)(p.isTrackedHolderDataLoadedAtom),eh=(0,r.useSetAtom)(g),em=(0,r.useSetAtom)(p.initializedHolderDataAtom),eb=(0,r.useSetAtom)(p.initializedTopTradersAtom),eg=(0,r.useSetAtom)(p.funderAddressSearchAtom),ey=(0,r.useSetAtom)(p.selectedBarAtom),ex=(0,r.useSetAtom)(J),eA=(0,n.useAtomCallback)((0,a.useCallback)(e=>e(R),[])),ew=(0,r.useSetAtom)(R),ev=(0,r.useSetAtom)(V),eS=(0,r.useSetAtom)(l.lobbyTransactionsAtomBnb);return(0,a.useCallback)(()=>{for(let r of(t(null),i((0,c.createPromiseState)()),e(null),m(null),I(null),u(null),d(null),O.clear(),D.clear(),M.clear(),U.clear(),N([]),B([]),ev([]),C([]),q(null),Q(null),Y(null),Z(null),ef(null),$(!1),ee(""),et(null),er(null),ei(null),en(null),ea(),eo({}),ep(!1),em(!1),eb(!1),eg(null),ey(null),ex({isOpen:!1,warnings:[],onProceed:null}),eA().keys()))P.remove(r),_.remove(r);ew(new Set),K.clear(),es(null),eu(new Map),el(!1),ec(null),ed(null),eh(null),eS(new Map)},[eA,eh,ed,es,er,Z,ea,m,$,ee,Y,ei,t,eo,en,i,et,el,ec,u,d,I,C,eu,N,B,e,ef,ep,em,eb,eg,ey,ew,q,Q,ex,ev])},J=(0,t.atom)({isOpen:!1,warnings:[],onProceed:null}),Y=(0,t.atom)(e=>{let t=e(u.trackedWalletsAtomBnb),r=new Map;for(let e of t){let t=e.emoji?`${e.emoji} ${e.name||e.trackedWalletAddress}`:e.name||e.trackedWalletAddress;r.set(e.trackedWalletAddress,t)}return r})},104686,110059,782080,125250,e=>{"use strict";e.s(["devFundingChainAwareAtom",()=>o,"devMigrationCountAtom",()=>l,"pairDeployerAddressAtom",()=>u,"tokenAnalysisChainAwareAtom",()=>s],104686);var t=e.i(639372),r=e.i(741124),i=e.i(564012),n=e.i(877710),a=e.i(472660);let o=(0,t.atom)(e=>{let t=e(r.currentChainAtom);switch(t){case"sol":return e(a.devFundingAtomSol);case"bnb":return e(n.devFundingAtomBnb);default:(0,i.assertUnreachable)(t)}},(e,t,o)=>{let s=e(r.currentChainAtom);switch(s){case"sol":t(a.devFundingAtomSol,o);break;case"bnb":t(n.devFundingAtomBnb,o);break;default:(0,i.assertUnreachable)(s)}}),s=(0,t.atom)(e=>{let t=e(r.currentChainAtom);switch(t){case"sol":return e(a.tokenAnalysisAtomSol);case"bnb":return e(n.tokenAnalysisAtomBnb);default:(0,i.assertUnreachable)(t)}},(e,t,o)=>{let s=e(r.currentChainAtom);switch(s){case"sol":t(a.tokenAnalysisAtomSol,o);break;case"bnb":t(n.tokenAnalysisAtomBnb,o);break;default:(0,i.assertUnreachable)(s)}}),u=(0,t.atom)(null),l=(0,t.atom)(null);e.s(["devTokensDataChainAwareAtom",()=>c],110059);let c=(0,t.atom)(e=>{let t=e(r.currentChainAtom);switch(t){case"sol":return e(a.devTokensDataAtomSol);case"bnb":return e(n.devTokensDataAtomBnb);default:(0,i.assertUnreachable)(t)}},(e,t,o)=>{let s=e(r.currentChainAtom);switch(s){case"sol":t(a.devTokensDataAtomSol,o);break;case"bnb":t(n.devTokensDataAtomBnb,o);break;default:(0,i.assertUnreachable)(s)}});e.s(["topTradersChainAwareAtom",()=>f,"topTradersFundingDataByWallet",()=>m],782080);var d=e.i(265172);let f=(0,t.atom)(e=>{let t=e(r.currentChainAtom);switch(t){case"sol":return e(a.topTradersAtomSol);case"bnb":return e(n.topTradersAtomBnb);default:(0,i.assertUnreachable)(t)}},(e,t,o)=>{let s=e(r.currentChainAtom);switch(s){case"sol":t(a.topTradersAtomSol,o);break;case"bnb":t(n.topTradersAtomBnb,o);break;default:(0,i.assertUnreachable)(s)}}),p=(0,t.atom)(e=>{let t=e(f),r=new Map;for(let e of t||[]){if(!e.walletFunding)continue;let t=e.walletFunding.fundingWalletAddress,i="amountSol"in e.walletFunding?e.walletFunding.amountSol:e.walletFunding.amountNative;if(r.has(t)){let e=r.get(t);e&&(e.walletCount+=1,e.amountSol+=i)}else r.set(t,{walletCount:1,amountSol:i})}return r}),h=(e,t)=>e===t||null!==e&&null!==t&&e.walletCount===t.walletCount&&e.amountSol===t.amountSol,m=e=>(0,d.selectAtom)(p,t=>e?t.get(e)??null:null,h);e.s(["trackedWalletDisplayMapChainAwareAtom",()=>b],125250);let b=(0,t.atom)(e=>{let t=e(r.currentChainAtom);switch(t){case"sol":return e(a.trackedWalletDisplayMapAtomSol);case"bnb":return e(n.trackedWalletDisplayMapAtomBnb);default:(0,i.assertUnreachable)(t)}})},887106,e=>{"use strict";var t=e.i(828073),r=e.i(375116);function i({protocol:e,liquidityToken:i}){return("Fourmeme V2"===e||"Binance"===e||"Flap"===e)&&i&&"0"!==i?Math.max(0,Math.min(100,Number((0,t.default)(100).minus((0,t.default)(i).minus(r.FOURMEME_T0).plus(r.FOURMEME_SALE_AMOUNT).div(r.FOURMEME_SALE_AMOUNT).times(100).toFixed(2))))):0}e.s(["default",()=>i])},205733,e=>{"use strict";e.s(["lastTransactionLoadedAtomBnb",()=>s,"pairAddressAtomBnb",()=>u,"pairBondingCurveCompleteAtomBnb",()=>x,"pairDevAddressAtomBnb",()=>h,"pairExtraAtomBnb",()=>g,"pairLoadedAtomBnb",()=>o,"pairProtocolAtomBnb",()=>b,"pairProtocolDetailsAtomBnb",()=>m,"pairSupplyAtomBnb",()=>p,"pairTokenAddressAtomBnb",()=>l,"pairTokenBalanceAtomBnb",()=>w,"pairTokenDecimalsAtomBnb",()=>f,"pairTokenImageAtomBnb",()=>d,"pairTokenTickerAtomBnb",()=>c,"pairTotalTokenBalanceAtomBnb",()=>v,"pairWithUpdatedLiquidityAtomBnb",()=>A]);var t=e.i(639372),r=e.i(887106);e.i(255730);var i=e.i(885438),n=e.i(233324),a=e.i(877710);let o=(0,t.atom)(e=>null!==e(a.pairAtomBnb)),s=(0,t.atom)(e=>null!==e(a.lastTransactionAtomBnb)),u=(0,t.atom)(e=>{let t=e(a.pairAtomBnb);return t?.pairAddress??""}),l=(0,t.atom)(e=>{let t=e(a.pairAtomBnb);return t?.tokenAddress??""}),c=(0,t.atom)(e=>{let t=e(a.pairAtomBnb);return t?.tokenTicker??""}),d=(0,t.atom)(e=>{let t=e(a.pairAtomBnb);return t?.tokenImage??""}),f=(0,t.atom)(e=>{let t=e(a.pairAtomBnb);return t?.decimals??0}),p=(0,t.atom)(e=>{let t=e(a.pairAtomBnb);return Number(t?.supply??"0")}),h=(0,t.atom)(e=>{let t=e(a.pairAtomBnb);return(0,n.getDevAddress)(t)}),m=(0,t.atom)(e=>{let t=e(a.pairAtomBnb);return t?.protocolDetails??null}),b=(0,t.atom)(e=>{let t=e(a.pairAtomBnb);return t?.protocol??""}),g=(0,t.atom)(e=>{let t=e(a.pairAtomBnb);return t?.extra??null});(0,t.atom)(e=>{let t=e(a.pairAtomBnb);return t?.token0??""}),(0,t.atom)(e=>{let t=e(a.pairAtomBnb);return t?.token1??""}),(0,t.atom)(e=>{let t=e(a.pairAtomBnb);return t?.fee??0});let y=(0,t.atom)(e=>{let t=e(a.pairAtomBnb),i=e(a.lastTransactionAtomBnb);return i&&t?(0,r.default)({liquidityToken:Number(i.liquidityToken),protocol:t.protocol??""}):0}),x=(0,t.atom)(e=>100===e(y)),A=(0,t.atom)(e=>{let t=e(a.pairAtomBnb),r=e(a.lastTransactionAtomBnb);return r&&t?{...t,liquidityBnb:r.liquidityBnb,liquidityToken:r.liquidityToken}:null}),w=(0,t.atom)(e=>{let t=e(a.pairAtomBnb);if(!t)return 0;let r=new Set(e(i.selectedEvmWalletsAtom)),n=e(i.monitoredEvmWalletsAtom).filter(e=>r.has(e.publicKey)),o=e(i.evmTokenAccountsAtom);return n.reduce((e,r)=>e+(0,i.findEvmTokenBalance)(o,r.publicKey,t.tokenAddress,t.decimals),0)}),v=(0,t.atom)(e=>{let t=e(a.pairAtomBnb);if(!t)return 0;let r=e(i.evmTokenAccountsAtom);return e(i.monitoredEvmWalletsAtom).reduce((e,n)=>e+(0,i.findEvmTokenBalance)(r,n.publicKey,t.tokenAddress,t.decimals),0)})},361884,(e,t,r)=>{var i=e.r(377684),n=e.r(877289);t.exports=function(e){return"symbol"==typeof e||n(e)&&"[object Symbol]"==i(e)}},9903,(e,t,r)=>{var i=e.r(45350),n=e.r(361884),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;t.exports=function(e,t){if(i(e))return!1;var r=typeof e;return!!("number"==r||"symbol"==r||"boolean"==r||null==e||n(e))||o.test(e)||!a.test(e)||null!=t&&e in Object(t)}},657588,(e,t,r)=>{var i=e.r(587547);function n(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var r=function(){var i=arguments,n=t?t.apply(this,i):i[0],a=r.cache;if(a.has(n))return a.get(n);var o=e.apply(this,i);return r.cache=a.set(n,o)||a,o};return r.cache=new(n.Cache||i),r}n.Cache=i,t.exports=n},688832,(e,t,r)=>{var i=e.r(657588);t.exports=function(e){var t=i(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}},902677,(e,t,r)=>{var i=e.r(688832),n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g;t.exports=i(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(n,function(e,r,i,n){t.push(i?n.replace(a,"$1"):r||e)}),t})},892708,(e,t,r)=>{t.exports=function(e,t){for(var r=-1,i=null==e?0:e.length,n=Array(i);++r<i;)n[r]=t(e[r],r,e);return n}},372537,(e,t,r)=>{var i=e.r(630353),n=e.r(892708),a=e.r(45350),o=e.r(361884),s=1/0,u=i?i.prototype:void 0,l=u?u.toString:void 0;t.exports=function e(t){if("string"==typeof t)return t;if(a(t))return n(t,e)+"";if(o(t))return l?l.call(t):"";var r=t+"";return"0"==r&&1/t==-s?"-0":r}},702922,(e,t,r)=>{var i=e.r(372537);t.exports=function(e){return null==e?"":i(e)}},186287,(e,t,r)=>{var i=e.r(45350),n=e.r(9903),a=e.r(902677),o=e.r(702922);t.exports=function(e,t){return i(e)?e:n(e,t)?[e]:a(o(e))}},2054,(e,t,r)=>{var i=e.r(361884),n=1/0;t.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-n?"-0":t}},333141,(e,t,r)=>{var i=e.r(186287),n=e.r(2054);t.exports=function(e,t){t=i(t,e);for(var r=0,a=t.length;null!=e&&r<a;)e=e[n(t[r++])];return r&&r==a?e:void 0}},482820,(e,t,r)=>{var i=e.r(333141);t.exports=function(e,t,r){var n=null==e?void 0:i(e,t);return void 0===n?r:n}},524251,(e,t,r)=>{var i=e.r(841920);t.exports=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(e){}}()},674548,(e,t,r)=>{var i=e.r(524251);t.exports=function(e,t,r){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},4300,(e,t,r)=>{var i=e.r(674548),n=e.r(25172),a=Object.prototype.hasOwnProperty;t.exports=function(e,t,r){var o=e[t];a.call(e,t)&&n(o,r)&&(void 0!==r||t in e)||i(e,t,r)}},942173,(e,t,r)=>{var i=e.r(4300),n=e.r(186287),a=e.r(66397),o=e.r(12447),s=e.r(2054);t.exports=function(e,t,r,u){if(!o(e))return e;t=n(t,e);for(var l=-1,c=t.length,d=c-1,f=e;null!=f&&++l<c;){var p=s(t[l]),h=r;if("__proto__"===p||"constructor"===p||"prototype"===p)break;if(l!=d){var m=f[p];void 0===(h=u?u(m,p,f):void 0)&&(h=o(m)?m:a(t[l+1])?[]:{})}i(f,p,h),f=f[p]}return e}},348707,(e,t,r)=>{var i=e.r(942173);t.exports=function(e,t,r){return null==e?e:i(e,t,r)}},151906,(e,t,r)=>{"use strict";var i=e.i(467034);Object.defineProperty(r,"__esModule",{value:!0}),r.toBigIntLE=function(e){{let t=i.Buffer.from(e);t.reverse();let r=t.toString("hex");return 0===r.length?BigInt(0):BigInt(`0x${r}`)}},r.toBigIntBE=function(e){{let t=e.toString("hex");return 0===t.length?BigInt(0):BigInt(`0x${t}`)}},r.toBufferLE=function(e,t){{let r=e.toString(16),n=i.Buffer.from(r.padStart(2*t,"0").slice(0,2*t),"hex");return n.reverse(),n}},r.toBufferBE=function(e,t){{let r=e.toString(16);return i.Buffer.from(r.padStart(2*t,"0").slice(0,2*t),"hex")}}},559136,150237,147618,80070,e=>{"use strict";let t=e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)});var r=e.i(467034),i=e.i(444610),n=e.i(151906);let a=e=>a=>{let o=(0,i.blob)(e,a),{encode:s,decode:u}=t(o);return o.decode=(e,t)=>{let i=u(e,t);return(0,n.toBigIntLE)(r.Buffer.from(i))},o.encode=(t,r,i)=>s((0,n.toBufferLE)(t,e),r,i),o},o=e=>a=>{let o=(0,i.blob)(e,a),{encode:s,decode:u}=t(o);return o.decode=(e,t)=>{let i=u(e,t);return(0,n.toBigIntBE)(r.Buffer.from(i))},o.encode=(t,r,i)=>s((0,n.toBufferBE)(t,e),r,i),o},s=a(8);o(8);let u=a(16);o(16),a(24),o(24),a(32),o(32),e.s(["u128",0,u,"u64",0,s],150237),new(e.i(828073)).default("1e+18"),e.s(["bool",0,e=>{let r=(0,i.u8)(e),{encode:n,decode:a}=t(r);return r.decode=(e,t)=>!!a(e,t),r.encode=(e,t,r)=>n(Number(e),t,r),r}],147618);var l=e.i(127261);e.s(["publicKey",0,e=>{let r=(0,i.blob)(32,e),{encode:n,decode:a}=t(r);return r.decode=(e,t)=>{let r=a(e,t);return new l.PublicKey(r)},r.encode=(e,t,r)=>n(e.toBuffer(),t,r),r}],80070),e.s([],559136)},422876,e=>{"use strict";var t=e.i(127261);let r=new t.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),i=new t.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),n=new t.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),a=new t.PublicKey("So11111111111111111111111111111111111111112");new t.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP"),e.s(["ASSOCIATED_TOKEN_PROGRAM_ID",0,n,"NATIVE_MINT",0,a,"TOKEN_2022_PROGRAM_ID",0,i,"TOKEN_PROGRAM_ID",0,r])},946865,20459,e=>{"use strict";e.s(["MINT_SIZE",()=>v,"MintLayout",()=>w,"getAssociatedTokenAddress",()=>T,"getAssociatedTokenAddressSync",()=>E,"unpackMint",()=>S],946865);var t,r,i,n,a=e.i(467034),o=e.i(444610);e.i(559136);var s=e.i(147618),u=e.i(80070),l=e.i(150237),c=e.i(127261),d=e.i(422876);class f extends Error{constructor(e){super(e)}}class p extends f{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class h extends f{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class m extends f{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class b extends f{constructor(){super(...arguments),this.name="TokenInvalidMintError"}}class g extends f{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}(t=i||(i={}))[t.Uninitialized=0]="Uninitialized",t[t.Mint=1]="Mint",t[t.Account=2]="Account",e.s(["ACCOUNT_SIZE",()=>x,"AccountLayout",()=>y],20459),(r=n||(n={}))[r.Uninitialized=0]="Uninitialized",r[r.Initialized=1]="Initialized",r[r.Frozen=2]="Frozen";let y=(0,o.struct)([(0,u.publicKey)("mint"),(0,u.publicKey)("owner"),(0,l.u64)("amount"),(0,o.u32)("delegateOption"),(0,u.publicKey)("delegate"),(0,o.u8)("state"),(0,o.u32)("isNativeOption"),(0,l.u64)("isNative"),(0,l.u64)("delegatedAmount"),(0,o.u32)("closeAuthorityOption"),(0,u.publicKey)("closeAuthority")]),x=y.span,A=(0,o.struct)([(0,o.u8)("m"),(0,o.u8)("n"),(0,s.bool)("isInitialized"),(0,u.publicKey)("signer1"),(0,u.publicKey)("signer2"),(0,u.publicKey)("signer3"),(0,u.publicKey)("signer4"),(0,u.publicKey)("signer5"),(0,u.publicKey)("signer6"),(0,u.publicKey)("signer7"),(0,u.publicKey)("signer8"),(0,u.publicKey)("signer9"),(0,u.publicKey)("signer10"),(0,u.publicKey)("signer11")]).span,w=(0,o.struct)([(0,o.u32)("mintAuthorityOption"),(0,u.publicKey)("mintAuthority"),(0,l.u64)("supply"),(0,o.u8)("decimals"),(0,s.bool)("isInitialized"),(0,o.u32)("freezeAuthorityOption"),(0,u.publicKey)("freezeAuthority")]),v=w.span;function S(e,t,r=d.TOKEN_PROGRAM_ID){if(!t)throw new p;if(!t.owner.equals(r))throw new h;if(t.data.length<v)throw new m;let n=w.decode(t.data.slice(0,v)),o=a.Buffer.alloc(0);if(t.data.length>v){if(t.data.length<=x||t.data.length===A)throw new m;if(t.data[x]!=i.Mint)throw new b;o=t.data.slice(x+1)}return{address:e,mintAuthority:n.mintAuthorityOption?n.mintAuthority:null,supply:n.supply,decimals:n.decimals,isInitialized:n.isInitialized,freezeAuthority:n.freezeAuthorityOption?n.freezeAuthority:null,tlvData:o}}async function T(e,t,r=!1,i=d.TOKEN_PROGRAM_ID,n=d.ASSOCIATED_TOKEN_PROGRAM_ID){if(!r&&!c.PublicKey.isOnCurve(t.toBuffer()))throw new g;let[a]=await c.PublicKey.findProgramAddress([t.toBuffer(),i.toBuffer(),e.toBuffer()],n);return a}function E(e,t,r=!1,i=d.TOKEN_PROGRAM_ID,n=d.ASSOCIATED_TOKEN_PROGRAM_ID){if(!r&&!c.PublicKey.isOnCurve(t.toBuffer()))throw new g;let[a]=c.PublicKey.findProgramAddressSync([t.toBuffer(),i.toBuffer(),e.toBuffer()],n);return a}},289492,143436,e=>{"use strict";e.s(["getTransferFeeConfig",()=>u],289492);var t,r,i=e.i(444610);e.i(559136);var n=e.i(80070),a=e.i(150237);(t=r||(r={}))[t.Uninitialized=0]="Uninitialized",t[t.TransferFeeConfig=1]="TransferFeeConfig",t[t.TransferFeeAmount=2]="TransferFeeAmount",t[t.MintCloseAuthority=3]="MintCloseAuthority",t[t.ConfidentialTransferMint=4]="ConfidentialTransferMint",t[t.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",t[t.DefaultAccountState=6]="DefaultAccountState",t[t.ImmutableOwner=7]="ImmutableOwner",t[t.MemoTransfer=8]="MemoTransfer",t[t.NonTransferable=9]="NonTransferable",t[t.InterestBearingConfig=10]="InterestBearingConfig",t[t.CpiGuard=11]="CpiGuard",t[t.PermanentDelegate=12]="PermanentDelegate",t[t.NonTransferableAccount=13]="NonTransferableAccount",t[t.TransferHook=14]="TransferHook",t[t.TransferHookAccount=15]="TransferHookAccount",t[t.MetadataPointer=18]="MetadataPointer",t[t.TokenMetadata=19]="TokenMetadata",t[t.GroupPointer=20]="GroupPointer",t[t.TokenGroup=21]="TokenGroup",t[t.GroupMemberPointer=22]="GroupMemberPointer",t[t.TokenGroupMember=23]="TokenGroupMember",t[t.ScaledUiAmountConfig=25]="ScaledUiAmountConfig",t[t.PausableConfig=26]="PausableConfig",t[t.PausableAccount=27]="PausableAccount";function o(e){return(0,i.struct)([(0,a.u64)("epoch"),(0,a.u64)("maximumFee"),(0,i.u16)("transferFeeBasisPoints")],e)}BigInt(1e4);let s=(0,i.struct)([(0,n.publicKey)("transferFeeConfigAuthority"),(0,n.publicKey)("withdrawWithheldAuthority"),(0,a.u64)("withheldAmount"),o("olderTransferFee"),o("newerTransferFee")]);function u(e){let t=function(e,t){let r=0;for(;r+2+2<=t.length;){let i=t.readUInt16LE(r),n=t.readUInt16LE(r+2),a=r+2+2;if(i==e)return t.slice(a,a+n);r=a+n}return null}(r.TransferFeeConfig,e.tlvData);return null!==t?s.decode(t):null}s.span,(0,i.struct)([(0,a.u64)("withheldAmount")]).span;var l="[big.js] ",c=l+"Invalid ",d=c+"decimal places",f=c+"rounding mode",p=l+"Division by zero",h={},m=void 0,b=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function g(e,t,r,i){var n=e.c;if(r===m&&(r=e.constructor.RM),0!==r&&1!==r&&2!==r&&3!==r)throw Error(f);if(t<1)i=3===r&&(i||!!n[0])||0===t&&(1===r&&n[0]>=5||2===r&&(n[0]>5||5===n[0]&&(i||n[1]!==m))),n.length=1,i?(e.e=e.e-t+1,n[0]=1):n[0]=e.e=0;else if(t<n.length){if(i=1===r&&n[t]>=5||2===r&&(n[t]>5||5===n[t]&&(i||n[t+1]!==m||1&n[t-1]))||3===r&&(i||!!n[0]),n.length=t,i){for(;++n[--t]>9;)if(n[t]=0,0===t){++e.e,n.unshift(1);break}}for(t=n.length;!n[--t];)n.pop()}return e}function y(e,t,r){var i=e.e,n=e.c.join(""),a=n.length;if(t)n=n.charAt(0)+(a>1?"."+n.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)n="0"+n;n="0."+n}else if(i>0)if(++i>a)for(i-=a;i--;)n+="0";else i<a&&(n=n.slice(0,i)+"."+n.slice(i));else a>1&&(n=n.charAt(0)+"."+n.slice(1));return e.s<0&&r?"-"+n:n}h.abs=function(){var e=new this.constructor(this);return e.s=1,e},h.cmp=function(e){var t,r=this.c,i=(e=new this.constructor(e)).c,n=this.s,a=e.s,o=this.e,s=e.e;if(!r[0]||!i[0])return r[0]?n:i[0]?-a:0;if(n!=a)return n;if(t=n<0,o!=s)return o>s^t?1:-1;for(n=-1,a=(o=r.length)<(s=i.length)?o:s;++n<a;)if(r[n]!=i[n])return r[n]>i[n]^t?1:-1;return o==s?0:o>s^t?1:-1},h.div=function(e){var t=this.constructor,r=this.c,i=(e=new t(e)).c,n=this.s==e.s?1:-1,a=t.DP;if(a!==~~a||a<0||a>1e6)throw Error(d);if(!i[0])throw Error(p);if(!r[0])return e.s=n,e.c=[e.e=0],e;var o,s,u,l,c,f=i.slice(),h=o=i.length,b=r.length,y=r.slice(0,o),x=y.length,A=e,w=A.c=[],v=0,S=a+(A.e=this.e-e.e)+1;for(A.s=n,n=S<0?0:S,f.unshift(0);x++<o;)y.push(0);do{for(u=0;u<10;u++){if(o!=(x=y.length))l=o>x?1:-1;else for(c=-1,l=0;++c<o;)if(i[c]!=y[c]){l=i[c]>y[c]?1:-1;break}if(l<0){for(s=x==o?i:f;x;){if(y[--x]<s[x]){for(c=x;c&&!y[--c];)y[c]=9;--y[c],y[x]+=10}y[x]-=s[x]}for(;!y[0];)y.shift()}else break}w[v++]=l?u:++u,y[0]&&l?y[x]=r[h]||0:y=[r[h]]}while((h++<b||y[0]!==m)&&n--)return!w[0]&&1!=v&&(w.shift(),A.e--,S--),v>S&&g(A,S,t.RM,y[0]!==m),A},h.eq=function(e){return 0===this.cmp(e)},h.gt=function(e){return this.cmp(e)>0},h.gte=function(e){return this.cmp(e)>-1},h.lt=function(e){return 0>this.cmp(e)},h.lte=function(e){return 1>this.cmp(e)},h.minus=h.sub=function(e){var t,r,i,n,a=this.constructor,o=this.s,s=(e=new a(e)).s;if(o!=s)return e.s=-s,this.plus(e);var u=this.c.slice(),l=this.e,c=e.c,d=e.e;if(!u[0]||!c[0])return c[0]?e.s=-s:u[0]?e=new a(this):e.s=1,e;if(o=l-d){for((n=o<0)?(o=-o,i=u):(d=l,i=c),i.reverse(),s=o;s--;)i.push(0);i.reverse()}else for(r=((n=u.length<c.length)?u:c).length,o=s=0;s<r;s++)if(u[s]!=c[s]){n=u[s]<c[s];break}if(n&&(i=u,u=c,c=i,e.s=-e.s),(s=(r=c.length)-(t=u.length))>0)for(;s--;)u[t++]=0;for(s=t;r>o;){if(u[--r]<c[r]){for(t=r;t&&!u[--t];)u[t]=9;--u[t],u[r]+=10}u[r]-=c[r]}for(;0===u[--s];)u.pop();for(;0===u[0];)u.shift(),--d;return u[0]||(e.s=1,u=[d=0]),e.c=u,e.e=d,e},h.mod=function(e){var t,r=this,i=r.constructor,n=r.s,a=(e=new i(e)).s;if(!e.c[0])throw Error(p);return(r.s=e.s=1,t=1==e.cmp(r),r.s=n,e.s=a,t)?new i(r):(n=i.DP,a=i.RM,i.DP=i.RM=0,r=r.div(e),i.DP=n,i.RM=a,this.minus(r.times(e)))},h.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},h.plus=h.add=function(e){var t,r,i,n=this.constructor;if(e=new n(e),this.s!=e.s)return e.s=-e.s,this.minus(e);var a=this.e,o=this.c,s=e.e,u=e.c;if(!o[0]||!u[0])return u[0]||(o[0]?e=new n(this):e.s=this.s),e;if(o=o.slice(),t=a-s){for(t>0?(s=a,i=u):(t=-t,i=o),i.reverse();t--;)i.push(0);i.reverse()}for(o.length-u.length<0&&(i=u,u=o,o=i),t=u.length,r=0;t;o[t]%=10)r=(o[--t]=o[t]+u[t]+r)/10|0;for(r&&(o.unshift(r),++s),t=o.length;0===o[--t];)o.pop();return e.c=o,e.e=s,e},h.pow=function(e){var t=this,r=new t.constructor("1"),i=r,n=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(c+"exponent");for(n&&(e=-e);1&e&&(i=i.times(t)),e>>=1;)t=t.times(t);return n?r.div(i):i},h.prec=function(e,t){if(e!==~~e||e<1||e>1e6)throw Error(c+"precision");return g(new this.constructor(this),e,t)},h.round=function(e,t){if(e===m)e=0;else if(e!==~~e||e<-1e6||e>1e6)throw Error(d);return g(new this.constructor(this),e+this.e+1,t)},h.sqrt=function(){var e,t,r,i=this.constructor,n=this.s,a=this.e,o=new i("0.5");if(!this.c[0])return new i(this);if(n<0)throw Error(l+"No square root");0===(n=Math.sqrt(+y(this,!0,!0)))||n===1/0?((t=this.c.join("")).length+a&1||(t+="0"),a=((a+1)/2|0)-(a<0||1&a),e=new i(((n=Math.sqrt(t))==1/0?"5e":(n=n.toExponential()).slice(0,n.indexOf("e")+1))+a)):e=new i(n+""),a=e.e+(i.DP+=4);do r=e,e=o.times(r.plus(this.div(r)));while(r.c.slice(0,a).join("")!==e.c.slice(0,a).join(""))return g(e,(i.DP-=4)+e.e+1,i.RM)},h.times=h.mul=function(e){var t,r=this.constructor,i=this.c,n=(e=new r(e)).c,a=i.length,o=n.length,s=this.e,u=e.e;if(e.s=this.s==e.s?1:-1,!i[0]||!n[0])return e.c=[e.e=0],e;for(e.e=s+u,a<o&&(t=i,i=n,n=t,u=a,a=o,o=u),t=Array(u=a+o);u--;)t[u]=0;for(s=o;s--;){for(o=0,u=a+s;u>s;)o=t[u]+n[s]*i[u-s-1]+o,t[u--]=o%10,o=o/10|0;t[u]=o}for(o?++e.e:t.shift(),s=t.length;!t[--s];)t.pop();return e.c=t,e},h.toExponential=function(e,t){var r=this,i=r.c[0];if(e!==m){if(e!==~~e||e<0||e>1e6)throw Error(d);for(r=g(new r.constructor(r),++e,t);r.c.length<e;)r.c.push(0)}return y(r,!0,!!i)},h.toFixed=function(e,t){var r=this,i=r.c[0];if(e!==m){if(e!==~~e||e<0||e>1e6)throw Error(d);for(r=g(new r.constructor(r),e+r.e+1,t),e=e+r.e+1;r.c.length<e;)r.c.push(0)}return y(r,!1,!!i)},h[Symbol.for("nodejs.util.inspect.custom")]=h.toJSON=h.toString=function(){var e=this.constructor;return y(this,this.e<=e.NE||this.e>=e.PE,!!this.c[0])},h.toNumber=function(){var e=+y(this,!0,!0);if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(l+"Imprecise conversion");return e},h.toPrecision=function(e,t){var r=this,i=r.constructor,n=r.c[0];if(e!==m){if(e!==~~e||e<1||e>1e6)throw Error(c+"precision");for(r=g(new i(r),e,t);r.c.length<e;)r.c.push(0)}return y(r,e<=r.e||r.e<=i.NE||r.e>=i.PE,!!n)},h.valueOf=function(){var e=this.constructor;if(!0===e.strict)throw Error(l+"valueOf disallowed");return y(this,this.e<=e.NE||this.e>=e.PE,!0)};var x=function e(){function t(r){if(!(this instanceof t))return r===m?e():new t(r);if(r instanceof t)this.s=r.s,this.e=r.e,this.c=r.c.slice();else{if("string"!=typeof r){if(!0===t.strict&&"bigint"!=typeof r)throw TypeError(c+"value");r=0===r&&1/r<0?"-0":String(r)}!function(e,t){var r,i,n;if(!b.test(t))throw Error(c+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(r=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(r<0&&(r=i),r+=+t.slice(i+1),t=t.substring(0,i)):r<0&&(r=t.length),n=t.length,i=0;i<n&&"0"==t.charAt(i);)++i;if(i==n)e.c=[e.e=0];else{for(;n>0&&"0"==t.charAt(--n););for(e.e=r-i-1,e.c=[],r=0;i<=n;)e.c[r++]=+t.charAt(i++)}}(this,r)}this.constructor=t}return t.prototype=h,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=!1,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}();e.s(["default",0,x],143436)},983607,(e,t,r)=>{t.exports&&(t.exports=function(e){return e.prototype.toFormat=function(e,t,r){if(!this.e&&0!==this.e)return this.toString();var i,n,a,o,s,u,l,c,d,f,p,h,m,b,g,y=this.format||{},x=this.constructor.format||{};if(e!=s?"object"==typeof e?(r=e,e=s):t!=s?"object"==typeof t?(r=t,t=s):"object"!=typeof r&&(r={}):r={}:r={},c=(i=this.toFixed(e,t).split("."))[0],d=i[1],u=(l=this.s<0?c.slice(1):c).length,(f=r.decimalSeparator)==s&&(f=y.decimalSeparator)==s&&(f=x.decimalSeparator)==s&&(f="."),(p=r.groupSeparator)==s&&(p=y.groupSeparator)==s&&(p=x.groupSeparator),p&&((h=r.groupSize)==s&&(h=y.groupSize)==s&&(h=x.groupSize)==s&&(h=0),(m=r.secondaryGroupSize)==s&&(m=y.secondaryGroupSize)==s&&(m=x.secondaryGroupSize)==s&&(m=0),m?(n=+m,u-=a=+h):(n=+h,a=+m),n>0&&u>0)){for(o=u%n||n,c=l.substr(0,o);o<u;o+=n)c+=p+l.substr(o,n);a>0&&(c+=p+l.slice(o)),this.s<0&&(c="-"+c)}return d?((b=r.fractionGroupSeparator)==s&&(b=y.fractionGroupSeparator)==s&&(b=x.fractionGroupSeparator),b&&((g=r.fractionGroupSize)==s&&(g=y.fractionGroupSize)==s&&(g=x.fractionGroupSize)==s&&(g=0),(g*=1)&&(d=d.replace(RegExp("\\d{"+g+"}\\B","g"),"$&"+b))),c+f+d):c},e.format={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"",fractionGroupSize:0},e})},651655,(e,t,r)=>{!function(r){"use strict";var i,n={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},a=!0,o="[DecimalError] ",s=o+"Invalid argument: ",u=o+"Exponent out of range: ",l=Math.floor,c=Math.pow,d=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,f=l(1286742750677284.5),p={};function h(e,t){var r,i,n,o,s,u,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),a?T(t,f):t;if(l=e.d,c=t.d,s=e.e,n=t.e,l=l.slice(),o=s-n){for(o<0?(i=l,o=-o,u=c.length):(i=c,n=s,u=l.length),o>(u=(s=Math.ceil(f/7))>u?s+1:u+1)&&(o=u,i.length=1),i.reverse();o--;)i.push(0);i.reverse()}for((u=l.length)-(o=c.length)<0&&(o=u,i=c,c=l,l=i),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/1e7|0,l[o]%=1e7;for(r&&(l.unshift(r),++n),u=l.length;0==l[--u];)l.pop();return t.d=l,t.e=n,a?T(t,f):t}function m(e,t,r){if(e!==~~e||e<t||e>r)throw Error(s+e)}function b(e){var t,r,i,n=e.length-1,a="",o=e[0];if(n>0){for(a+=o,t=1;t<n;t++)(r=7-(i=e[t]+"").length)&&(a+=w(r)),a+=i;(r=7-(i=(o=e[t])+"").length)&&(a+=w(r))}else if(0===o)return"0";for(;o%10==0;)o/=10;return a+o}p.absoluteValue=p.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},p.comparedTo=p.cmp=function(e){var t,r,i,n;if(e=new this.constructor(e),this.s!==e.s)return this.s||-e.s;if(this.e!==e.e)return this.e>e.e^this.s<0?1:-1;for(t=0,r=(i=this.d.length)<(n=e.d.length)?i:n;t<r;++t)if(this.d[t]!==e.d[t])return this.d[t]>e.d[t]^this.s<0?1:-1;return i===n?0:i>n^this.s<0?1:-1},p.decimalPlaces=p.dp=function(){var e=this.d.length-1,t=(e-this.e)*7;if(e=this.d[e])for(;e%10==0;e/=10)t--;return t<0?0:t},p.dividedBy=p.div=function(e){return g(this,new this.constructor(e))},p.dividedToIntegerBy=p.idiv=function(e){var t=this.constructor;return T(g(this,new t(e),0,1),t.precision)},p.equals=p.eq=function(e){return!this.cmp(e)},p.exponent=function(){return x(this)},p.greaterThan=p.gt=function(e){return this.cmp(e)>0},p.greaterThanOrEqualTo=p.gte=function(e){return this.cmp(e)>=0},p.isInteger=p.isint=function(){return this.e>this.d.length-2},p.isNegative=p.isneg=function(){return this.s<0},p.isPositive=p.ispos=function(){return this.s>0},p.isZero=function(){return 0===this.s},p.lessThan=p.lt=function(e){return 0>this.cmp(e)},p.lessThanOrEqualTo=p.lte=function(e){return 1>this.cmp(e)},p.logarithm=p.log=function(e){var t,r=this.constructor,n=r.precision,s=n+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(o+"NaN");if(this.s<1)throw Error(o+(this.s?"NaN":"-Infinity"));return this.eq(i)?new r(0):(a=!1,t=g(v(this,s),v(e,s),s),a=!0,T(t,n))},p.minus=p.sub=function(e){return e=new this.constructor(e),this.s==e.s?E(this,e):h(this,(e.s=-e.s,e))},p.modulo=p.mod=function(e){var t,r=this.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(o+"NaN");return this.s?(a=!1,t=g(this,e,0,1).times(e),a=!0,this.minus(t)):T(new r(this),i)},p.naturalExponential=p.exp=function(){return y(this)},p.naturalLogarithm=p.ln=function(){return v(this)},p.negated=p.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},p.plus=p.add=function(e){return e=new this.constructor(e),this.s==e.s?h(this,e):E(this,(e.s=-e.s,e))},p.precision=p.sd=function(e){var t,r,i;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(s+e);if(t=x(this)+1,r=7*(i=this.d.length-1)+1,i=this.d[i]){for(;i%10==0;i/=10)r--;for(i=this.d[0];i>=10;i/=10)r++}return e&&t>r?t:r},p.squareRoot=p.sqrt=function(){var e,t,r,i,n,s,u,c=this.constructor;if(this.s<1){if(!this.s)return new c(0);throw Error(o+"NaN")}for(e=x(this),a=!1,0==(n=Math.sqrt(+this))||n==1/0?(((t=b(this.d)).length+e)%2==0&&(t+="0"),n=Math.sqrt(t),e=l((e+1)/2)-(e<0||e%2),i=new c(t=n==1/0?"5e"+e:(t=n.toExponential()).slice(0,t.indexOf("e")+1)+e)):i=new c(n.toString()),n=u=(r=c.precision)+3;;)if(i=(s=i).plus(g(this,s,u+2)).times(.5),b(s.d).slice(0,u)===(t=b(i.d)).slice(0,u)){if(t=t.slice(u-3,u+1),n==u&&"4999"==t){if(T(s,r+1,0),s.times(s).eq(this)){i=s;break}}else if("9999"!=t)break;u+=4}return a=!0,T(i,r)},p.times=p.mul=function(e){var t,r,i,n,o,s,u,l,c,d=this.constructor,f=this.d,p=(e=new d(e)).d;if(!this.s||!e.s)return new d(0);for(e.s*=this.s,r=this.e+e.e,(l=f.length)<(c=p.length)&&(o=f,f=p,p=o,s=l,l=c,c=s),o=[],i=s=l+c;i--;)o.push(0);for(i=c;--i>=0;){for(t=0,n=l+i;n>i;)u=o[n]+p[i]*f[n-i-1]+t,o[n--]=u%1e7|0,t=u/1e7|0;o[n]=(o[n]+t)%1e7|0}for(;!o[--s];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,a?T(e,d.precision):e},p.toDecimalPlaces=p.todp=function(e,t){var r=this,i=r.constructor;return(r=new i(r),void 0===e)?r:(m(e,0,1e9),void 0===t?t=i.rounding:m(t,0,8),T(r,e+x(r)+1,t))},p.toExponential=function(e,t){var r,i=this,n=i.constructor;return void 0===e?r=k(i,!0):(m(e,0,1e9),void 0===t?t=n.rounding:m(t,0,8),r=k(i=T(new n(i),e+1,t),!0,e+1)),r},p.toFixed=function(e,t){var r,i,n=this.constructor;return void 0===e?k(this):(m(e,0,1e9),void 0===t?t=n.rounding:m(t,0,8),r=k((i=T(new n(this),e+x(this)+1,t)).abs(),!1,e+x(i)+1),this.isneg()&&!this.isZero()?"-"+r:r)},p.toInteger=p.toint=function(){var e=this.constructor;return T(new e(this),x(this)+1,e.rounding)},p.toNumber=function(){return+this},p.toPower=p.pow=function(e){var t,r,n,s,u,c,d=this,f=d.constructor,p=+(e=new f(e));if(!e.s)return new f(i);if(!(d=new f(d)).s){if(e.s<1)throw Error(o+"Infinity");return d}if(d.eq(i))return d;if(n=f.precision,e.eq(i))return T(d,n);if(c=(t=e.e)>=(r=e.d.length-1),u=d.s,c){if((r=p<0?-p:p)<=0x1fffffffffffff){for(s=new f(i),t=Math.ceil(n/7+4),a=!1;r%2&&P((s=s.times(d)).d,t),0!==(r=l(r/2));)P((d=d.times(d)).d,t);return a=!0,e.s<0?new f(i).div(s):T(s,n)}}else if(u<0)throw Error(o+"NaN");return u=u<0&&1&e.d[Math.max(t,r)]?-1:1,d.s=1,a=!1,s=e.times(v(d,n+12)),a=!0,(s=y(s)).s=u,s},p.toPrecision=function(e,t){var r,i,n=this,a=n.constructor;return void 0===e?(r=x(n),i=k(n,r<=a.toExpNeg||r>=a.toExpPos)):(m(e,1,1e9),void 0===t?t=a.rounding:m(t,0,8),r=x(n=T(new a(n),e,t)),i=k(n,e<=r||r<=a.toExpNeg,e)),i},p.toSignificantDigits=p.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(m(e,1,1e9),void 0===t?t=r.rounding:m(t,0,8)),T(new r(this),e,t)},p.toString=p.valueOf=p.val=p.toJSON=function(){var e=x(this),t=this.constructor;return k(this,e<=t.toExpNeg||e>=t.toExpPos)};var g=function(){function e(e,t){var r,i=0,n=e.length;for(e=e.slice();n--;)r=e[n]*t+i,e[n]=r%1e7|0,i=r/1e7|0;return i&&e.unshift(i),e}function t(e,t,r,i){var n,a;if(r!=i)a=r>i?1:-1;else for(n=a=0;n<r;n++)if(e[n]!=t[n]){a=e[n]>t[n]?1:-1;break}return a}function r(e,t,r){for(var i=0;r--;)e[r]-=i,i=+(e[r]<t[r]),e[r]=1e7*i+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(i,n,a,s){var u,l,c,d,f,p,h,m,b,g,y,A,w,v,S,E,k,P,_=i.constructor,I=i.s==n.s?1:-1,N=i.d,R=n.d;if(!i.s)return new _(i);if(!n.s)throw Error(o+"Division by zero");for(c=0,l=i.e-n.e,k=R.length,S=N.length,m=(h=new _(I)).d=[];R[c]==(N[c]||0);)++c;if(R[c]>(N[c]||0)&&--l,(A=null==a?a=_.precision:s?a+(x(i)-x(n))+1:a)<0)return new _(0);if(A=A/7+2|0,c=0,1==k)for(d=0,R=R[0],A++;(c<S||d)&&A--;c++)w=1e7*d+(N[c]||0),m[c]=w/R|0,d=w%R|0;else{for((d=1e7/(R[0]+1)|0)>1&&(R=e(R,d),N=e(N,d),k=R.length,S=N.length),v=k,g=(b=N.slice(0,k)).length;g<k;)b[g++]=0;(P=R.slice()).unshift(0),E=R[0],R[1]>=1e7/2&&++E;do d=0,(u=t(R,b,k,g))<0?(y=b[0],k!=g&&(y=1e7*y+(b[1]||0)),(d=y/E|0)>1?(d>=1e7&&(d=1e7-1),p=(f=e(R,d)).length,g=b.length,1==(u=t(f,b,p,g))&&(d--,r(f,k<p?P:R,p))):(0==d&&(u=d=1),f=R.slice()),(p=f.length)<g&&f.unshift(0),r(b,f,g),-1==u&&(g=b.length,(u=t(R,b,k,g))<1&&(d++,r(b,k<g?P:R,g))),g=b.length):0===u&&(d++,b=[0]),m[c++]=d,u&&b[0]?b[g++]=N[v]||0:(b=[N[v]],g=1);while((v++<S||void 0!==b[0])&&A--)}return m[0]||m.shift(),h.e=l,T(h,s?a+x(h)+1:a)}}();function y(e,t){var r,n,o,s,l,d=0,f=0,p=e.constructor,h=p.precision;if(x(e)>16)throw Error(u+x(e));if(!e.s)return new p(i);for(null==t?(a=!1,l=h):l=t,s=new p(.03125);e.abs().gte(.1);)e=e.times(s),f+=5;for(l+=Math.log(c(2,f))/Math.LN10*2+5|0,r=n=o=new p(i),p.precision=l;;){if(n=T(n.times(e),l),r=r.times(++d),b((s=o.plus(g(n,r,l))).d).slice(0,l)===b(o.d).slice(0,l)){for(;f--;)o=T(o.times(o),l);return p.precision=h,null==t?(a=!0,T(o,h)):o}o=s}}function x(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function A(e,t,r){if(t>e.LN10.sd())throw a=!0,r&&(e.precision=r),Error(o+"LN10 precision limit exceeded");return T(new e(e.LN10),t)}function w(e){for(var t="";e--;)t+="0";return t}function v(e,t){var r,n,s,u,l,c,d,f,p,h=1,m=e,y=m.d,w=m.constructor,S=w.precision;if(m.s<1)throw Error(o+(m.s?"NaN":"-Infinity"));if(m.eq(i))return new w(0);if(null==t?(a=!1,f=S):f=t,m.eq(10))return null==t&&(a=!0),A(w,f);if(w.precision=f+=10,n=(r=b(y)).charAt(0),!(15e14>Math.abs(u=x(m))))return d=A(w,f+2,S).times(u+""),m=v(new w(n+"."+r.slice(1)),f-10).plus(d),w.precision=S,null==t?(a=!0,T(m,S)):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=b((m=m.times(e)).d)).charAt(0),h++;for(u=x(m),n>1?(m=new w("0."+r),u++):m=new w(n+"."+r.slice(1)),c=l=m=g(m.minus(i),m.plus(i),f),p=T(m.times(m),f),s=3;;){if(l=T(l.times(p),f),b((d=c.plus(g(l,new w(s),f))).d).slice(0,f)===b(c.d).slice(0,f))return c=c.times(2),0!==u&&(c=c.plus(A(w,f+2,S).times(u+""))),c=g(c,new w(h),f),w.precision=S,null==t?(a=!0,T(c,S)):c;c=d,s+=2}}function S(e,t){var r,i,n;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(r<0&&(r=i),r+=+t.slice(i+1),t=t.substring(0,i)):r<0&&(r=t.length),i=0;48===t.charCodeAt(i);)++i;for(n=t.length;48===t.charCodeAt(n-1);)--n;if(t=t.slice(i,n)){if(n-=i,e.e=l((r=r-i-1)/7),e.d=[],i=(r+1)%7,r<0&&(i+=7),i<n){for(i&&e.d.push(+t.slice(0,i)),n-=7;i<n;)e.d.push(+t.slice(i,i+=7));i=7-(t=t.slice(i)).length}else i-=n;for(;i--;)t+="0";if(e.d.push(+t),a&&(e.e>f||e.e<-f))throw Error(u+r)}else e.s=0,e.e=0,e.d=[0];return e}function T(e,t,r){var i,n,o,s,d,p,h,m,b=e.d;for(s=1,o=b[0];o>=10;o/=10)s++;if((i=t-s)<0)i+=7,n=t,h=b[m=0];else{if((m=Math.ceil((i+1)/7))>=(o=b.length))return e;for(s=1,h=o=b[m];o>=10;o/=10)s++;i%=7,n=i-7+s}if(void 0!==r&&(d=h/(o=c(10,s-n-1))%10|0,p=t<0||void 0!==b[m+1]||h%o,p=r<4?(d||p)&&(0==r||r==(e.s<0?3:2)):d>5||5==d&&(4==r||p||6==r&&(i>0?n>0?h/c(10,s-n):0:b[m-1])%10&1||r==(e.s<0?8:7))),t<1||!b[0])return p?(o=x(e),b.length=1,t=t-o-1,b[0]=c(10,(7-t%7)%7),e.e=l(-t/7)||0):(b.length=1,b[0]=e.e=e.s=0),e;if(0==i?(b.length=m,o=1,m--):(b.length=m+1,o=c(10,7-i),b[m]=n>0?(h/c(10,s-n)%c(10,n)|0)*o:0),p)for(;;)if(0==m){1e7==(b[0]+=o)&&(b[0]=1,++e.e);break}else{if(b[m]+=o,1e7!=b[m])break;b[m--]=0,o=1}for(i=b.length;0===b[--i];)b.pop();if(a&&(e.e>f||e.e<-f))throw Error(u+x(e));return e}function E(e,t){var r,i,n,o,s,u,l,c,d,f,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),a?T(t,h):t;if(l=e.d,f=t.d,i=t.e,c=e.e,l=l.slice(),s=c-i){for((d=s<0)?(r=l,s=-s,u=f.length):(r=f,i=c,u=l.length),s>(n=Math.max(Math.ceil(h/7),u)+2)&&(s=n,r.length=1),r.reverse(),n=s;n--;)r.push(0);r.reverse()}else{for((d=(n=l.length)<(u=f.length))&&(u=n),n=0;n<u;n++)if(l[n]!=f[n]){d=l[n]<f[n];break}s=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),u=l.length,n=f.length-u;n>0;--n)l[u++]=0;for(n=f.length;n>s;){if(l[--n]<f[n]){for(o=n;o&&0===l[--o];)l[o]=1e7-1;--l[o],l[n]+=1e7}l[n]-=f[n]}for(;0===l[--u];)l.pop();for(;0===l[0];l.shift())--i;return l[0]?(t.d=l,t.e=i,a?T(t,h):t):new p(0)}function k(e,t,r){var i,n=x(e),a=b(e.d),o=a.length;return t?(r&&(i=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+w(i):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(n<0?"e":"e+")+n):n<0?(a="0."+w(-n-1)+a,r&&(i=r-o)>0&&(a+=w(i))):n>=o?(a+=w(n+1-o),r&&(i=r-n-1)>0&&(a=a+"."+w(i))):((i=n+1)<o&&(a=a.slice(0,i)+"."+a.slice(i)),r&&(i=r-o)>0&&(n+1===o&&(a+="."),a+=w(i))),e.s<0?"-"+a:a}function P(e,t){if(e.length>t)return e.length=t,!0}function _(e){if(!e||"object"!=typeof e)throw Error(o+"Object expected");var t,r,i,n=["precision",1,1e9,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<n.length;t+=3)if(void 0!==(i=e[r=n[t]]))if(l(i)===i&&i>=n[t+1]&&i<=n[t+2])this[r]=i;else throw Error(s+r+": "+i);if(void 0!==(i=e[r="LN10"]))if(i==Math.LN10)this[r]=new this(i);else throw Error(s+r+": "+i);return this}if((n=function e(t){var r,i,n;function a(e){if(!(this instanceof a))return new a(e);if(this.constructor=a,e instanceof a){this.s=e.s,this.e=e.e,this.d=(e=e.d)?e.slice():e;return}if("number"==typeof e){if(0*e!=0)throw Error(s+e);if(e>0)this.s=1;else if(e<0)e=-e,this.s=-1;else{this.s=0,this.e=0,this.d=[0];return}if(e===~~e&&e<1e7){this.e=0,this.d=[e];return}return S(this,e.toString())}if("string"!=typeof e)throw Error(s+e);if(45===e.charCodeAt(0)?(e=e.slice(1),this.s=-1):this.s=1,d.test(e))S(this,e);else throw Error(s+e)}if(a.prototype=p,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=_,void 0===t&&(t={}),t)for(r=0,n=["precision","rounding","toExpNeg","toExpPos","LN10"];r<n.length;)t.hasOwnProperty(i=n[r++])||(t[i]=this[i]);return a.config(t),a}(n)).default=n.Decimal=n,i=new n(1),"function"==typeof define&&define.amd){let t;e.r,void 0!==(t=n)&&e.v(t)}else t.exports?t.exports=n:(r||(r="u">typeof self&&self&&self.self==self?self:Function("return this")()),r.Decimal=n)}(e.e)},858352,(e,t,r)=>{var i=e.r(674548),n=e.r(25172);t.exports=function(e,t,r){(void 0===r||n(e[t],r))&&(void 0!==r||t in e)||i(e,t,r)}},536755,(e,t,r)=>{t.exports=function(e){return function(t,r,i){for(var n=-1,a=Object(t),o=i(t),s=o.length;s--;){var u=o[e?s:++n];if(!1===r(a[u],u,a))break}return t}}},98728,(e,t,r)=>{t.exports=e.r(536755)()},622781,(e,t,r)=>{var i=e.r(139088),n=r&&!r.nodeType&&r,a=n&&t&&!t.nodeType&&t,o=a&&a.exports===n?i.Buffer:void 0,s=o?o.allocUnsafe:void 0;t.exports=function(e,t){if(t)return e.slice();var r=e.length,i=s?s(r):new e.constructor(r);return e.copy(i),i}},425393,(e,t,r)=>{var i=e.r(263750);t.exports=function(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}},514712,(e,t,r)=>{var i=e.r(425393);t.exports=function(e,t){var r=t?i(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},776736,(e,t,r)=>{t.exports=function(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}},646352,(e,t,r)=>{var i=e.r(12447),n=Object.create;t.exports=function(){function e(){}return function(t){if(!i(t))return{};if(n)return n(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}()},962413,(e,t,r)=>{t.exports=e.r(825717)(Object.getPrototypeOf,Object)},992433,(e,t,r)=>{var i=e.r(646352),n=e.r(962413),a=e.r(763996);t.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:i(n(e))}},791072,(e,t,r)=>{var i=e.r(351095),n=e.r(877289);t.exports=function(e){return n(e)&&i(e)}},101320,(e,t,r)=>{var i=e.r(377684),n=e.r(962413),a=e.r(877289),o=Object.prototype,s=Function.prototype.toString,u=o.hasOwnProperty,l=s.call(Object);t.exports=function(e){if(!a(e)||"[object Object]"!=i(e))return!1;var t=n(e);if(null===t)return!0;var r=u.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&s.call(r)==l}},484305,(e,t,r)=>{t.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},372351,(e,t,r)=>{var i=e.r(4300),n=e.r(674548);t.exports=function(e,t,r,a){var o=!r;r||(r={});for(var s=-1,u=t.length;++s<u;){var l=t[s],c=a?a(r[l],e[l],l,r,e):void 0;void 0===c&&(c=e[l]),o?n(r,l,c):i(r,l,c)}return r}},513730,(e,t,r)=>{t.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},385689,(e,t,r)=>{var i=e.r(12447),n=e.r(763996),a=e.r(513730),o=Object.prototype.hasOwnProperty;t.exports=function(e){if(!i(e))return a(e);var t=n(e),r=[];for(var s in e)"constructor"==s&&(t||!o.call(e,s))||r.push(s);return r}},689695,(e,t,r)=>{var i=e.r(458877),n=e.r(385689),a=e.r(351095);t.exports=function(e){return a(e)?i(e,!0):n(e)}},837153,(e,t,r)=>{var i=e.r(372351),n=e.r(689695);t.exports=function(e){return i(e,n(e))}},720346,(e,t,r)=>{var i=e.r(858352),n=e.r(622781),a=e.r(514712),o=e.r(776736),s=e.r(992433),u=e.r(473250),l=e.r(45350),c=e.r(791072),d=e.r(356956),f=e.r(771223),p=e.r(12447),h=e.r(101320),m=e.r(3023),b=e.r(484305),g=e.r(837153);t.exports=function(e,t,r,y,x,A,w){var v=b(e,r),S=b(t,r),T=w.get(S);if(T)return void i(e,r,T);var E=A?A(v,S,r+"",e,t,w):void 0,k=void 0===E;if(k){var P=l(S),_=!P&&d(S),I=!P&&!_&&m(S);E=S,P||_||I?l(v)?E=v:c(v)?E=o(v):_?(k=!1,E=n(S,!0)):I?(k=!1,E=a(S,!0)):E=[]:h(S)||u(S)?(E=v,u(v)?E=g(v):(!p(v)||f(v))&&(E=s(S))):k=!1}k&&(w.set(S,E),x(E,S,y,A,w),w.delete(S)),i(e,r,E)}},5702,(e,t,r)=>{var i=e.r(901551),n=e.r(858352),a=e.r(98728),o=e.r(720346),s=e.r(12447),u=e.r(689695),l=e.r(484305);t.exports=function e(t,r,c,d,f){t!==r&&a(r,function(a,u){if(f||(f=new i),s(a))o(t,r,u,c,e,d,f);else{var p=d?d(l(t,u),a,u+"",t,r,f):void 0;void 0===p&&(p=a),n(t,u,p)}},u)}},653336,(e,t,r)=>{t.exports=function(e){return e}},987160,(e,t,r)=>{t.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},172953,(e,t,r)=>{var i=e.r(987160),n=Math.max;t.exports=function(e,t,r){return t=n(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=n(a.length-t,0),u=Array(s);++o<s;)u[o]=a[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=a[o];return l[t]=r(u),i(e,this,l)}}},556751,(e,t,r)=>{t.exports=function(e){return function(){return e}}},801647,(e,t,r)=>{var i=e.r(556751),n=e.r(524251),a=e.r(653336);t.exports=n?function(e,t){return n(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:a},851994,(e,t,r)=>{var i=Date.now;t.exports=function(e){var t=0,r=0;return function(){var n=i(),a=16-(n-r);if(r=n,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},184665,(e,t,r)=>{var i=e.r(801647);t.exports=e.r(851994)(i)},395059,(e,t,r)=>{var i=e.r(653336),n=e.r(172953),a=e.r(184665);t.exports=function(e,t){return a(n(e,t,i),e+"")}},170237,(e,t,r)=>{var i=e.r(25172),n=e.r(351095),a=e.r(66397),o=e.r(12447);t.exports=function(e,t,r){if(!o(r))return!1;var s=typeof t;return("number"==s?!!(n(r)&&a(t,r.length)):"string"==s&&t in r)&&i(r[t],e)}},483495,(e,t,r)=>{var i=e.r(395059),n=e.r(170237);t.exports=function(e){return i(function(t,r){var i=-1,a=r.length,o=a>1?r[a-1]:void 0,s=a>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(a--,o):void 0,s&&n(r[0],r[1],s)&&(o=a<3?void 0:o,a=1),t=Object(t);++i<a;){var u=r[i];u&&e(t,u,i,o)}return t})}},411595,(e,t,r)=>{var i=e.r(5702);t.exports=e.r(483495)(function(e,t,r){i(e,t,r)})},123424,e=>{"use strict";var t=e.i(467034),r=e.i(127261),i=e.i(422876);function n(e,r,a,s,u=i.TOKEN_PROGRAM_ID,l=i.ASSOCIATED_TOKEN_PROGRAM_ID){return o(e,r,a,s,t.Buffer.alloc(0),u,l)}function a(e,r,n,s,u=i.TOKEN_PROGRAM_ID,l=i.ASSOCIATED_TOKEN_PROGRAM_ID){return o(e,r,n,s,t.Buffer.from([1]),u,l)}function o(e,t,n,a,s,u=i.TOKEN_PROGRAM_ID,l=i.ASSOCIATED_TOKEN_PROGRAM_ID){let c=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:r.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({keys:c,programId:l,data:s})}e.s(["createAssociatedTokenAccountIdempotentInstruction",()=>a,"createAssociatedTokenAccountInstruction",()=>n])},761405,717725,858010,e=>{"use strict";var t,r,i=e.i(467034),n=e.i(444610),a=e.i(127261),o=e.i(422876);function s(e,t,r){if(r.length)for(let i of(e.push({pubkey:t,isSigner:!1,isWritable:!1}),r))e.push({pubkey:i instanceof a.PublicKey?i:i.publicKey,isSigner:!0,isWritable:!1});else e.push({pubkey:t,isSigner:!0,isWritable:!1});return e}e.s(["addSigners",()=>s],717725),(t=r||(r={}))[t.InitializeMint=0]="InitializeMint",t[t.InitializeAccount=1]="InitializeAccount",t[t.InitializeMultisig=2]="InitializeMultisig",t[t.Transfer=3]="Transfer",t[t.Approve=4]="Approve",t[t.Revoke=5]="Revoke",t[t.SetAuthority=6]="SetAuthority",t[t.MintTo=7]="MintTo",t[t.Burn=8]="Burn",t[t.CloseAccount=9]="CloseAccount",t[t.FreezeAccount=10]="FreezeAccount",t[t.ThawAccount=11]="ThawAccount",t[t.TransferChecked=12]="TransferChecked",t[t.ApproveChecked=13]="ApproveChecked",t[t.MintToChecked=14]="MintToChecked",t[t.BurnChecked=15]="BurnChecked",t[t.InitializeAccount2=16]="InitializeAccount2",t[t.SyncNative=17]="SyncNative",t[t.InitializeAccount3=18]="InitializeAccount3",t[t.InitializeMultisig2=19]="InitializeMultisig2",t[t.InitializeMint2=20]="InitializeMint2",t[t.GetAccountDataSize=21]="GetAccountDataSize",t[t.InitializeImmutableOwner=22]="InitializeImmutableOwner",t[t.AmountToUiAmount=23]="AmountToUiAmount",t[t.UiAmountToAmount=24]="UiAmountToAmount",t[t.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",t[t.TransferFeeExtension=26]="TransferFeeExtension",t[t.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",t[t.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",t[t.Reallocate=29]="Reallocate",t[t.MemoTransferExtension=30]="MemoTransferExtension",t[t.CreateNativeMint=31]="CreateNativeMint",t[t.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",t[t.InterestBearingMintExtension=33]="InterestBearingMintExtension",t[t.CpiGuardExtension=34]="CpiGuardExtension",t[t.InitializePermanentDelegate=35]="InitializePermanentDelegate",t[t.TransferHookExtension=36]="TransferHookExtension",t[t.MetadataPointerExtension=39]="MetadataPointerExtension",t[t.GroupPointerExtension=40]="GroupPointerExtension",t[t.GroupMemberPointerExtension=41]="GroupMemberPointerExtension",t[t.ScaledUiAmountExtension=43]="ScaledUiAmountExtension",t[t.PausableExtension=44]="PausableExtension",e.s(["TokenInstruction",()=>r],858010);let u=(0,n.struct)([(0,n.u8)("instruction")]);function l(e,t,n,c=[],d=o.TOKEN_PROGRAM_ID){let f=s([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],n,c),p=i.Buffer.alloc(u.span);return u.encode({instruction:r.CloseAccount},p),new a.TransactionInstruction({keys:f,programId:d,data:p})}e.s(["createCloseAccountInstruction",()=>l],761405)},548462,e=>{"use strict";var t=e.i(467034),r=e.i(444610),i=e.i(127261),n=e.i(422876),a=e.i(858010);let o=(0,r.struct)([(0,r.u8)("instruction")]);function s(e,r,u,l=n.TOKEN_PROGRAM_ID){let c=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:i.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],d=t.Buffer.alloc(o.span);return o.encode({instruction:a.TokenInstruction.InitializeAccount},d),new i.TransactionInstruction({keys:c,programId:l,data:d})}e.s(["createInitializeAccountInstruction",()=>s])},114175,e=>{"use strict";var t=e.i(467034),r=e.i(444610);e.i(559136);var i=e.i(150237),n=e.i(127261),a=e.i(422876),o=e.i(717725),s=e.i(858010);let u=(0,r.struct)([(0,r.u8)("instruction"),(0,i.u64)("amount")]);function l(e,r,i,c,d=[],f=a.TOKEN_PROGRAM_ID){let p=(0,o.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}],i,d),h=t.Buffer.alloc(u.span);return u.encode({instruction:s.TokenInstruction.Transfer,amount:BigInt(c)},h),new n.TransactionInstruction({keys:p,programId:f,data:h})}e.s(["createTransferInstruction",()=>l])},49498,e=>{"use strict";let t,r,i,n,a,o,s,u,l,c;var d,f=e.i(467034),p=e.i(581949),h=e.i(127261),m=e.i(482820),b=e.i(348707),g=e.i(946865),y=e.i(422876),x=e.i(289492),A=e.i(659341),w=e.i(143436),v=e.i(983607),S=e.i(651655),T=(e.i(411595),e.i(20459)),E=e.i(123424),k=e.i(761405),P=e.i(548462),_=e.i(114175),I=e.i(444610),N=Object.defineProperty,R=Object.defineProperties,B=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,M=(e,t,r)=>t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,U=(e,t)=>{for(var r in t||(t={}))O.call(t,r)&&M(e,r,t[r]);if(C)for(var r of C(t))D.call(t,r)&&M(e,r,t[r]);return e},F=(e,t)=>R(e,B(t)),L=(e,t)=>{var r={};for(var i in e)O.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&C)for(var i of C(e))0>t.indexOf(i)&&D.call(e,i)&&(r[i]=e[i]);return r},q=((t=q||{})[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Info=2]="Info",t[t.Debug=3]="Debug",t),K=class{constructor(e){this.logLevel=void 0!==e.logLevel?e.logLevel:0,this.name=e.name}set level(e){this.logLevel=e}get time(){return Date.now().toString()}get moduleName(){return this.name}isLogLevel(e){return e<=this.logLevel}error(...e){return this.isLogLevel(0)&&console.error(this.time,this.name,"sdk logger error",...e),this}logWithError(...e){throw Error(e.map(e=>"object"==typeof e?JSON.stringify(e):e).join(", "))}warning(...e){return this.isLogLevel(1)&&console.warn(this.time,this.name,"sdk logger warning",...e),this}info(...e){return this.isLogLevel(2)&&console.info(this.time,this.name,"sdk logger info",...e),this}debug(...e){return this.isLogLevel(3)&&console.debug(this.time,this.name,"sdk logger debug",...e),this}},W={},V={};function G(e){let t=(0,m.default)(W,e);if(!t){let r=(0,m.default)(V,e);t=new K({name:e,logLevel:r}),(0,b.default)(W,e,t)}return t}var z=G("Raydium_accountInfo_util");async function j(e,t,r){let{batchRequest:i,commitment:n="confirmed",chunkCount:a=100}=U({batchRequest:!1},r),o=t$(t,a),s=Array(o.length).fill([]);if(i){let t=t$(o.map(t=>({methodName:"getMultipleAccounts",args:e._buildArgs([t.map(e=>e.toBase58())],n,"base64")})),10);s=(await (await Promise.all(t.map(async t=>await e._rpcBatchRequest(t)))).flat()).map(e=>(e.error&&z.logWithError(`failed to get info for multiple accounts, RPC_ERROR, ${e.error.message}`),e.result.value.map(e=>{if(e){let{data:t,executable:r,lamports:i,owner:n,rentEpoch:a}=e;return 2!==t.length&&"base64"!==t[1]&&z.logWithError("info must be base64 encoded, RPC_ERROR"),{data:f.Buffer.from(t[0],"base64"),executable:r,lamports:i,owner:new h.PublicKey(n),rentEpoch:a}}return null})))}else try{s=await Promise.all(o.map(t=>e.getMultipleAccountsInfo(t,n)))}catch(e){e instanceof Error&&z.logWithError(`failed to get info for multiple accounts, RPC_ERROR, ${e.message}`)}return s.flat()}async function H(e,t,r){let i=await j(e,t.map(e=>e.pubkey),r);return t.map((e,t)=>F(U({},e),{accountInfo:i[t]}))}var X=((r=X||{})[r.Uninitialized=0]="Uninitialized",r[r.Mint=1]="Mint",r[r.Account=2]="Account",r),Q,J,Y="0123456789abcdef",Z="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",$="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",ee={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},et=!0,er="[DecimalError] ",ei=er+"Invalid argument: ",en=er+"Precision limit exceeded",ea=er+"crypto unavailable",eo="[object Decimal]",es=Math.floor,eu=Math.pow,el=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,ec=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,ed=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,ef=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ep=Z.length-1,eh=$.length-1,em={toStringTag:eo};function eb(e){var t,r,i,n=e.length-1,a="",o=e[0];if(n>0){for(a+=o,t=1;t<n;t++)(r=7-(i=e[t]+"").length)&&(a+=eP(r)),a+=i;(r=7-(i=(o=e[t])+"").length)&&(a+=eP(r))}else if(0===o)return"0";for(;o%10==0;)o/=10;return a+o}function eg(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ei+e)}function ey(e,t,r,i){var n,a,o,s;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=7,n=0):(n=Math.ceil((t+1)/7),t%=7),a=eu(10,7-t),s=e[n]%a|0,null==i?t<3?(0==t?s=s/100|0:1==t&&(s=s/10|0),o=r<4&&99999==s||r>3&&49999==s||5e4==s||0==s):o=(r<4&&s+1==a||r>3&&s+1==a/2)&&(e[n+1]/a/100|0)==eu(10,t-2)-1||(s==a/2||0==s)&&(e[n+1]/a/100|0)==0:t<4?(0==t?s=s/1e3|0:1==t?s=s/100|0:2==t&&(s=s/10|0),o=(i||r<4)&&9999==s||!i&&r>3&&4999==s):o=((i||r<4)&&s+1==a||!i&&r>3&&s+1==a/2)&&(e[n+1]/a/1e3|0)==eu(10,t-3)-1,o}function ex(e,t,r){for(var i,n,a=[0],o=0,s=e.length;o<s;){for(n=a.length;n--;)a[n]*=t;for(a[0]+=Y.indexOf(e.charAt(o++)),i=0;i<a.length;i++)a[i]>r-1&&(void 0===a[i+1]&&(a[i+1]=0),a[i+1]+=a[i]/r|0,a[i]%=r)}return a.reverse()}em.absoluteValue=em.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),ew(e)},em.ceil=function(){return ew(new this.constructor(this),this.e+1,2)},em.clampedTo=em.clamp=function(e,t){var r=this.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(ei+t);return 0>this.cmp(e)?e:this.cmp(t)>0?t:new r(this)},em.comparedTo=em.cmp=function(e){var t,r,i,n,a=this.d,o=(e=new this.constructor(e)).d,s=this.s,u=e.s;if(!a||!o)return s&&u?s!==u?s:a===o?0:!a^s<0?1:-1:NaN;if(!a[0]||!o[0])return a[0]?s:o[0]?-u:0;if(s!==u)return s;if(this.e!==e.e)return this.e>e.e^s<0?1:-1;for(i=a.length,n=o.length,t=0,r=i<n?i:n;t<r;++t)if(a[t]!==o[t])return a[t]>o[t]^s<0?1:-1;return i===n?0:i>n^s<0?1:-1},em.cosine=em.cos=function(){var e,t,r=this,i=r.constructor;return r.d?r.d[0]?(e=i.precision,t=i.rounding,i.precision=e+Math.max(r.e,r.sd())+7,i.rounding=1,r=function(e,t){var r,i,n;if(t.isZero())return t;(i=t.d.length)<32?n=(1/eM(4,r=Math.ceil(i/3))).toString():(r=16,n="2.3283064365386962890625e-10"),e.precision+=r,t=eD(e,1,t.times(n),new e(1));for(var a=r;a--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}(i,eU(i,r)),i.precision=e,i.rounding=t,ew(2==J||3==J?r.neg():r,e,t,!0)):new i(1):new i(NaN)},em.cubeRoot=em.cbrt=function(){var e,t,r,i,n,a,o,s,u,l,c=this.constructor;if(!this.isFinite()||this.isZero())return new c(this);for(et=!1,(a=this.s*eu(this.s*this,1/3))&&Math.abs(a)!=1/0?i=new c(a.toString()):(r=eb(this.d),(a=((e=this.e)-r.length+1)%3)&&(r+=1==a||-2==a?"0":"00"),a=eu(r,1/3),e=es((e+1)/3)-(e%3==(e<0?-1:2)),(i=new c(r=a==1/0?"5e"+e:(r=a.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=this.s),o=(e=c.precision)+3;;)if(i=eA((l=(u=(s=i).times(s).times(s)).plus(this)).plus(this).times(s),l.plus(u),o+2,1),eb(s.d).slice(0,o)===(r=eb(i.d)).slice(0,o))if("9999"!=(r=r.slice(o-3,o+1))&&(n||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(ew(i,e+1,1),t=!i.times(i).times(i).eq(this));break}else{if(!n&&(ew(s,e+1,0),s.times(s).times(s).eq(this))){i=s;break}o+=4,n=1}return et=!0,ew(i,e,c.rounding,t)},em.decimalPlaces=em.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-es(this.e/7))*7,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},em.dividedBy=em.div=function(e){return eA(this,new this.constructor(e))},em.dividedToIntegerBy=em.divToInt=function(e){var t=this.constructor;return ew(eA(this,new t(e),0,1,1),t.precision,t.rounding)},em.equals=em.eq=function(e){return 0===this.cmp(e)},em.floor=function(){return ew(new this.constructor(this),this.e+1,3)},em.greaterThan=em.gt=function(e){return this.cmp(e)>0},em.greaterThanOrEqualTo=em.gte=function(e){var t=this.cmp(e);return 1==t||0===t},em.hyperbolicCosine=em.cosh=function(){var e,t,r,i,n,a=this,o=a.constructor,s=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return s;r=o.precision,i=o.rounding,o.precision=r+Math.max(a.e,a.sd())+4,o.rounding=1,(n=a.d.length)<32?t=(1/eM(4,e=Math.ceil(n/3))).toString():(e=16,t="2.3283064365386962890625e-10"),a=eD(o,1,a.times(t),new o(1),!0);for(var u,l=e,c=new o(8);l--;)u=a.times(a),a=s.minus(u.times(c.minus(u.times(c))));return ew(a,o.precision=r,o.rounding=i,!0)},em.hyperbolicSine=em.sinh=function(){var e,t,r,i,n=this,a=n.constructor;if(!n.isFinite()||n.isZero())return new a(n);if(t=a.precision,r=a.rounding,a.precision=t+Math.max(n.e,n.sd())+4,a.rounding=1,(i=n.d.length)<3)n=eD(a,2,n,n,!0);else{e=(e=1.4*Math.sqrt(i))>16?16:0|e,n=eD(a,2,n=n.times(1/eM(5,e)),n,!0);for(var o,s=new a(5),u=new a(16),l=new a(20);e--;)o=n.times(n),n=n.times(s.plus(o.times(u.times(o).plus(l))))}return a.precision=t,a.rounding=r,ew(n,t,r,!0)},em.hyperbolicTangent=em.tanh=function(){var e,t,r=this.constructor;return this.isFinite()?this.isZero()?new r(this):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,eA(this.sinh(),this.cosh(),r.precision=e,r.rounding=t)):new r(this.s)},em.inverseCosine=em.acos=function(){var e,t=this,r=t.constructor,i=t.abs().cmp(1),n=r.precision,a=r.rounding;return -1!==i?0===i?t.isNeg()?eE(r,n,a):new r(0):new r(NaN):t.isZero()?eE(r,n+4,a).times(.5):(r.precision=n+6,r.rounding=1,t=t.asin(),e=eE(r,n+4,a).times(.5),r.precision=n,r.rounding=a,e.minus(t))},em.inverseHyperbolicCosine=em.acosh=function(){var e,t,r=this,i=r.constructor;return r.lte(1)?new i(r.eq(1)?0:NaN):r.isFinite()?(e=i.precision,t=i.rounding,i.precision=e+Math.max(Math.abs(r.e),r.sd())+4,i.rounding=1,et=!1,r=r.times(r).minus(1).sqrt().plus(r),et=!0,i.precision=e,i.rounding=t,r.ln()):new i(r)},em.inverseHyperbolicSine=em.asinh=function(){var e,t,r=this,i=r.constructor;return!r.isFinite()||r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,i.rounding=1,et=!1,r=r.times(r).plus(1).sqrt().plus(r),et=!0,i.precision=e,i.rounding=t,r.ln())},em.inverseHyperbolicTangent=em.atanh=function(){var e,t,r,i,n=this,a=n.constructor;return n.isFinite()?n.e>=0?new a(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(e=a.precision,t=a.rounding,Math.max(i=n.sd(),e)<-(2*n.e)-1?ew(new a(n),e,t,!0):(a.precision=r=i-n.e,n=eA(n.plus(1),new a(1).minus(n),r+e,1),a.precision=e+4,a.rounding=1,n=n.ln(),a.precision=e,a.rounding=t,n.times(.5))):new a(NaN)},em.inverseSine=em.asin=function(){var e,t,r,i,n=this,a=n.constructor;return n.isZero()?new a(n):(t=n.abs().cmp(1),r=a.precision,i=a.rounding,-1!==t?0===t?((e=eE(a,r+4,i).times(.5)).s=n.s,e):new a(NaN):(a.precision=r+6,a.rounding=1,n=n.div(new a(1).minus(n.times(n)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=i,n.times(2)))},em.inverseTangent=em.atan=function(){var e,t,r,i,n,a,o,s,u,l=this,c=l.constructor,d=c.precision,f=c.rounding;if(l.isFinite()){if(l.isZero())return new c(l);if(l.abs().eq(1)&&d+4<=eh)return(o=eE(c,d+4,f).times(.25)).s=l.s,o}else{if(!l.s)return new c(NaN);if(d+4<=eh)return(o=eE(c,d+4,f).times(.5)).s=l.s,o}for(c.precision=s=d+10,c.rounding=1,e=r=Math.min(28,s/7+2|0);e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(et=!1,t=Math.ceil(s/7),i=1,u=l.times(l),o=new c(l),n=l;-1!==e;)if(n=n.times(u),a=o.minus(n.div(i+=2)),n=n.times(u),void 0!==(o=a.plus(n.div(i+=2))).d[t])for(e=t;o.d[e]===a.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),et=!0,ew(o,c.precision=d,c.rounding=f,!0)},em.isFinite=function(){return!!this.d},em.isInteger=em.isInt=function(){return!!this.d&&es(this.e/7)>this.d.length-2},em.isNaN=function(){return!this.s},em.isNegative=em.isNeg=function(){return this.s<0},em.isPositive=em.isPos=function(){return this.s>0},em.isZero=function(){return!!this.d&&0===this.d[0]},em.lessThan=em.lt=function(e){return 0>this.cmp(e)},em.lessThanOrEqualTo=em.lte=function(e){return 1>this.cmp(e)},em.logarithm=em.log=function(e){var t,r,i,n,a,o,s,u=this.constructor,l=u.precision,c=u.rounding;if(null==e)e=new u(10),t=!0;else{if(r=(e=new u(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new u(NaN);t=e.eq(10)}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new u(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(t)if(r.length>1)n=!0;else{for(i=r[0];i%10==0;)i/=10;n=1!==i}if(et=!1,ey((s=eA(a=eB(this,o=l+5),t?eT(u,o+10):eB(e,o),o,1)).d,i=l,c))do if(o+=10,s=eA(a=eB(this,o),t?eT(u,o+10):eB(e,o),o,1),!n){+eb(s.d).slice(i+1,i+15)+1==1e14&&(s=ew(s,l+1,0));break}while(ey(s.d,i+=10,c))return et=!0,ew(s,l,c)},em.minus=em.sub=function(e){var t,r,i,n,a,o,s,u,l,c,d,f,p=this.constructor;if(e=new p(e),!this.d||!e.d)return this.s&&e.s?this.d?e.s=-e.s:e=new p(e.d||this.s!==e.s?this:NaN):e=new p(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.plus(e);if(l=this.d,f=e.d,s=p.precision,u=p.rounding,!l[0]||!f[0]){if(f[0])e.s=-e.s;else{if(!l[0])return new p(3===u?-0:0);e=new p(this)}return et?ew(e,s,u):e}if(r=es(e.e/7),c=es(this.e/7),l=l.slice(),a=c-r){for((d=a<0)?(t=l,a=-a,o=f.length):(t=f,r=c,o=l.length),a>(i=Math.max(Math.ceil(s/7),o)+2)&&(a=i,t.length=1),t.reverse(),i=a;i--;)t.push(0);t.reverse()}else{for((d=(i=l.length)<(o=f.length))&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}a=0}for(d&&(t=l,l=f,f=t,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(n=i;n&&0===l[--n];)l[n]=1e7-1;--l[n],l[i]+=1e7}l[i]-=f[i]}for(;0===l[--o];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(e.d=l,e.e=eS(l,r),et?ew(e,s,u):e):new p(3===u?-0:0)},em.modulo=em.mod=function(e){var t,r=this.constructor;return e=new r(e),this.d&&e.s&&(!e.d||e.d[0])?e.d&&(!this.d||this.d[0])?(et=!1,9==r.modulo?(t=eA(this,e.abs(),0,3,1),t.s*=e.s):t=eA(this,e,0,r.modulo,1),t=t.times(e),et=!0,this.minus(t)):ew(new r(this),r.precision,r.rounding):new r(NaN)},em.naturalExponential=em.exp=function(){return eR(this)},em.naturalLogarithm=em.ln=function(){return eB(this)},em.negated=em.neg=function(){var e=new this.constructor(this);return e.s=-e.s,ew(e)},em.plus=em.add=function(e){var t,r,i,n,a,o,s,u,l,c,d=this.constructor;if(e=new d(e),!this.d||!e.d)return this.s&&e.s?this.d||(e=new d(e.d||this.s===e.s?this:NaN)):e=new d(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.minus(e);if(l=this.d,c=e.d,s=d.precision,u=d.rounding,!l[0]||!c[0])return c[0]||(e=new d(this)),et?ew(e,s,u):e;if(a=es(this.e/7),i=es(e.e/7),l=l.slice(),n=a-i){for(n<0?(r=l,n=-n,o=c.length):(r=c,i=a,o=l.length),n>(o=(a=Math.ceil(s/7))>o?a+1:o+1)&&(n=o,r.length=1),r.reverse();n--;)r.push(0);r.reverse()}for((o=l.length)-(n=c.length)<0&&(n=o,r=c,c=l,l=r),t=0;n;)t=(l[--n]=l[n]+c[n]+t)/1e7|0,l[n]%=1e7;for(t&&(l.unshift(t),++i),o=l.length;0==l[--o];)l.pop();return e.d=l,e.e=eS(l,i),et?ew(e,s,u):e},em.precision=em.sd=function(e){var t;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(ei+e);return this.d?(t=ek(this.d),e&&this.e+1>t&&(t=this.e+1)):t=NaN,t},em.round=function(){var e=this.constructor;return ew(new e(this),this.e+1,e.rounding)},em.sine=em.sin=function(){var e,t,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+Math.max(r.e,r.sd())+7,i.rounding=1,r=function(e,t){var r,i=t.d.length;if(i<3)return t.isZero()?t:eD(e,2,t,t);r=(r=1.4*Math.sqrt(i))>16?16:0|r,t=eD(e,2,t=t.times(1/eM(5,r)),t);for(var n,a=new e(5),o=new e(16),s=new e(20);r--;)n=t.times(t),t=t.times(a.plus(n.times(o.times(n).minus(s))));return t}(i,eU(i,r)),i.precision=e,i.rounding=t,ew(J>2?r.neg():r,e,t,!0)):new i(NaN)},em.squareRoot=em.sqrt=function(){var e,t,r,i,n,a,o=this.d,s=this.e,u=this.s,l=this.constructor;if(1!==u||!o||!o[0])return new l(!u||u<0&&(!o||o[0])?NaN:o?this:1/0);for(et=!1,0==(u=Math.sqrt(+this))||u==1/0?(((t=eb(o)).length+s)%2==0&&(t+="0"),u=Math.sqrt(t),s=es((s+1)/2)-(s<0||s%2),i=new l(t=u==1/0?"5e"+s:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+s)):i=new l(u.toString()),r=(s=l.precision)+3;;)if(i=(a=i).plus(eA(this,a,r+2,1)).times(.5),eb(a.d).slice(0,r)===(t=eb(i.d)).slice(0,r))if("9999"!=(t=t.slice(r-3,r+1))&&(n||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(ew(i,s+1,1),e=!i.times(i).eq(this));break}else{if(!n&&(ew(a,s+1,0),a.times(a).eq(this))){i=a;break}r+=4,n=1}return et=!0,ew(i,s,l.rounding,e)},em.tangent=em.tan=function(){var e,t,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+10,i.rounding=1,(r=r.sin()).s=1,r=eA(r,new i(1).minus(r.times(r)).sqrt(),e+10,0),i.precision=e,i.rounding=t,ew(2==J||4==J?r.neg():r,e,t,!0)):new i(NaN)},em.times=em.mul=function(e){var t,r,i,n,a,o,s,u,l,c=this.constructor,d=this.d,f=(e=new c(e)).d;if(e.s*=this.s,!d||!d[0]||!f||!f[0])return new c(!e.s||d&&!d[0]&&!f||f&&!f[0]&&!d?NaN:!d||!f?e.s/0:0*e.s);for(r=es(this.e/7)+es(e.e/7),(u=d.length)<(l=f.length)&&(a=d,d=f,f=a,o=u,u=l,l=o),a=[],i=o=u+l;i--;)a.push(0);for(i=l;--i>=0;){for(t=0,n=u+i;n>i;)s=a[n]+f[i]*d[n-i-1]+t,a[n--]=s%1e7|0,t=s/1e7|0;a[n]=(a[n]+t)%1e7|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=eS(a,r),et?ew(e,c.precision,c.rounding):e},em.toBinary=function(e,t){return eF(this,2,e,t)},em.toDecimalPlaces=em.toDP=function(e,t){var r=this,i=r.constructor;return r=new i(r),void 0===e?r:(eg(e,0,1e9),void 0===t?t=i.rounding:eg(t,0,8),ew(r,e+r.e+1,t))},em.toExponential=function(e,t){var r,i=this,n=i.constructor;return void 0===e?r=ev(i,!0):(eg(e,0,1e9),void 0===t?t=n.rounding:eg(t,0,8),r=ev(i=ew(new n(i),e+1,t),!0,e+1)),i.isNeg()&&!i.isZero()?"-"+r:r},em.toFixed=function(e,t){var r,i,n=this.constructor;return void 0===e?r=ev(this):(eg(e,0,1e9),void 0===t?t=n.rounding:eg(t,0,8),r=ev(i=ew(new n(this),e+this.e+1,t),!1,e+i.e+1)),this.isNeg()&&!this.isZero()?"-"+r:r},em.toFraction=function(e){var t,r,i,n,a,o,s,u,l,c,d,f,p=this.d,h=this.constructor;if(!p)return new h(this);if(l=r=new h(1),i=u=new h(0),o=(a=(t=new h(i)).e=ek(p)-this.e-1)%7,t.d[0]=eu(10,o<0?7+o:o),null==e)e=a>0?t:l;else{if(!(s=new h(e)).isInt()||s.lt(l))throw Error(ei+s);e=s.gt(t)?a>0?t:l:s}for(et=!1,s=new h(eb(p)),c=h.precision,h.precision=a=7*p.length*2;d=eA(s,t,0,1,1),1!=(n=r.plus(d.times(i))).cmp(e);)r=i,i=n,n=l,l=u.plus(d.times(n)),u=n,n=t,t=s.minus(d.times(n)),s=n;return n=eA(e.minus(r),i,0,1,1),u=u.plus(n.times(l)),r=r.plus(n.times(i)),u.s=l.s=this.s,f=1>eA(l,i,a,1).minus(this).abs().cmp(eA(u,r,a,1).minus(this).abs())?[l,i]:[u,r],h.precision=c,et=!0,f},em.toHexadecimal=em.toHex=function(e,t){return eF(this,16,e,t)},em.toNearest=function(e,t){var r=this,i=r.constructor;if(r=new i(r),null==e){if(!r.d)return r;e=new i(1),t=i.rounding}else{if(e=new i(e),void 0===t?t=i.rounding:eg(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(et=!1,r=eA(r,e,0,t,1).times(e),et=!0,ew(r)):(e.s=r.s,r=e),r},em.toNumber=function(){return+this},em.toOctal=function(e,t){return eF(this,8,e,t)},em.toPower=em.pow=function(e){var t,r,i,n,a,o,s=this,u=s.constructor,l=+(e=new u(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new u(eu(+s,l));if((s=new u(s)).eq(1))return s;if(i=u.precision,a=u.rounding,e.eq(1))return ew(s,i,a);if((t=es(e.e/7))>=e.d.length-1&&(r=l<0?-l:l)<=0x1fffffffffffff)return n=e_(u,s,r,i),e.s<0?new u(1).div(n):ew(n,i,a);if((o=s.s)<0){if(t<e.d.length-1)return new u(NaN);if((1&e.d[t])==0&&(o=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=o,s}return(t=0!=(r=eu(+s,l))&&isFinite(r)?new u(r+"").e:es(l*(Math.log("0."+eb(s.d))/Math.LN10+s.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?o/0:0):(et=!1,u.rounding=s.s=1,r=Math.min(12,(t+"").length),(n=eR(e.times(eB(s,i+r)),i)).d&&ey((n=ew(n,i+5,1)).d,i,a)&&(t=i+10,+eb((n=ew(eR(e.times(eB(s,t+r)),t),t+5,1)).d).slice(i+1,i+15)+1==1e14&&(n=ew(n,i+1,0))),n.s=o,et=!0,u.rounding=a,ew(n,i,a))},em.toPrecision=function(e,t){var r,i=this,n=i.constructor;return void 0===e?r=ev(i,i.e<=n.toExpNeg||i.e>=n.toExpPos):(eg(e,1,1e9),void 0===t?t=n.rounding:eg(t,0,8),r=ev(i=ew(new n(i),e,t),e<=i.e||i.e<=n.toExpNeg,e)),i.isNeg()&&!i.isZero()?"-"+r:r},em.toSignificantDigits=em.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(eg(e,1,1e9),void 0===t?t=r.rounding:eg(t,0,8)),ew(new r(this),e,t)},em.toString=function(){var e=this.constructor,t=ev(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()&&!this.isZero()?"-"+t:t},em.truncated=em.trunc=function(){return ew(new this.constructor(this),this.e+1,1)},em.valueOf=em.toJSON=function(){var e=this.constructor,t=ev(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()?"-"+t:t};var eA=function(){function e(e,t,r){var i,n=0,a=e.length;for(e=e.slice();a--;)i=e[a]*t+n,e[a]=i%r|0,n=i/r|0;return n&&e.unshift(n),e}function t(e,t,r,i){var n,a;if(r!=i)a=r>i?1:-1;else for(n=a=0;n<r;n++)if(e[n]!=t[n]){a=e[n]>t[n]?1:-1;break}return a}function r(e,t,r,i){for(var n=0;r--;)e[r]-=n,n=+(e[r]<t[r]),e[r]=n*i+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(i,n,a,o,s,u){var l,c,d,f,p,h,m,b,g,y,x,A,w,v,S,T,E,k,P,_,I=i.constructor,N=i.s==n.s?1:-1,R=i.d,B=n.d;if(!R||!R[0]||!B||!B[0])return new I(!i.s||!n.s||(R?B&&R[0]==B[0]:!B)?NaN:R&&0==R[0]||!B?0*N:N/0);for(u?(p=1,c=i.e-n.e):(u=1e7,p=7,c=es(i.e/p)-es(n.e/p)),P=B.length,E=R.length,y=(g=new I(N)).d=[],d=0;B[d]==(R[d]||0);d++);if(B[d]>(R[d]||0)&&c--,null==a?(v=a=I.precision,o=I.rounding):v=s?a+(i.e-n.e)+1:a,v<0)y.push(1),h=!0;else{if(v=v/p+2|0,d=0,1==P){for(f=0,B=B[0],v++;(d<E||f)&&v--;d++)S=f*u+(R[d]||0),y[d]=S/B|0,f=S%B|0;h=f||d<E}else{for((f=u/(B[0]+1)|0)>1&&(B=e(B,f,u),R=e(R,f,u),P=B.length,E=R.length),T=P,A=(x=R.slice(0,P)).length;A<P;)x[A++]=0;(_=B.slice()).unshift(0),k=B[0],B[1]>=u/2&&++k;do f=0,(l=t(B,x,P,A))<0?(w=x[0],P!=A&&(w=w*u+(x[1]||0)),(f=w/k|0)>1?(f>=u&&(f=u-1),b=(m=e(B,f,u)).length,A=x.length,1==(l=t(m,x,b,A))&&(f--,r(m,P<b?_:B,b,u))):(0==f&&(l=f=1),m=B.slice()),(b=m.length)<A&&m.unshift(0),r(x,m,A,u),-1==l&&(A=x.length,(l=t(B,x,P,A))<1&&(f++,r(x,P<A?_:B,A,u))),A=x.length):0===l&&(f++,x=[0]),y[d++]=f,l&&x[0]?x[A++]=R[T]||0:(x=[R[T]],A=1);while((T++<E||void 0!==x[0])&&v--)h=void 0!==x[0]}y[0]||y.shift()}if(1==p)g.e=c,Q=h;else{for(d=1,f=y[0];f>=10;f/=10)d++;g.e=d+c*p-1,ew(g,s?a+g.e+1:a,o,h)}return g}}();function ew(e,t,r,i){var n,a,o,s,u,l,c,d,f,p=e.constructor;e:if(null!=t){if(!(d=e.d))return e;for(n=1,s=d[0];s>=10;s/=10)n++;if((a=t-n)<0)a+=7,o=t,u=(c=d[f=0])/eu(10,n-o-1)%10|0;else if((f=Math.ceil((a+1)/7))>=(s=d.length))if(i){for(;s++<=f;)d.push(0);c=u=0,n=1,a%=7,o=a-7+1}else break e;else{for(c=s=d[f],n=1;s>=10;s/=10)n++;a%=7,u=(o=a-7+n)<0?0:c/eu(10,n-o-1)%10|0}if(i=i||t<0||void 0!==d[f+1]||(o<0?c:c%eu(10,n-o-1)),l=r<4?(u||i)&&(0==r||r==(e.s<0?3:2)):u>5||5==u&&(4==r||i||6==r&&(a>0?o>0?c/eu(10,n-o):0:d[f-1])%10&1||r==(e.s<0?8:7)),t<1||!d[0])return d.length=0,l?(t-=e.e+1,d[0]=eu(10,(7-t%7)%7),e.e=-t||0):d[0]=e.e=0,e;if(0==a?(d.length=f,s=1,f--):(d.length=f+1,s=eu(10,7-a),d[f]=o>0?(c/eu(10,n-o)%eu(10,o)|0)*s:0),l)for(;;)if(0==f){for(a=1,o=d[0];o>=10;o/=10)a++;for(o=d[0]+=s,s=1;o>=10;o/=10)s++;a!=s&&(e.e++,1e7==d[0]&&(d[0]=1));break}else{if(d[f]+=s,1e7!=d[f])break;d[f--]=0,s=1}for(a=d.length;0===d[--a];)d.pop()}return et&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function ev(e,t,r){if(!e.isFinite())return eC(e);var i,n=e.e,a=eb(e.d),o=a.length;return t?(r&&(i=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+eP(i):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):n<0?(a="0."+eP(-n-1)+a,r&&(i=r-o)>0&&(a+=eP(i))):n>=o?(a+=eP(n+1-o),r&&(i=r-n-1)>0&&(a=a+"."+eP(i))):((i=n+1)<o&&(a=a.slice(0,i)+"."+a.slice(i)),r&&(i=r-o)>0&&(n+1===o&&(a+="."),a+=eP(i))),a}function eS(e,t){var r=e[0];for(t*=7;r>=10;r/=10)t++;return t}function eT(e,t,r){if(t>ep)throw et=!0,r&&(e.precision=r),Error(en);return ew(new e(Z),t,1,!0)}function eE(e,t,r){if(t>eh)throw Error(en);return ew(new e($),t,r,!0)}function ek(e){var t=e.length-1,r=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function eP(e){for(var t="";e--;)t+="0";return t}function e_(e,t,r,i){var n,a=new e(1),o=Math.ceil(i/7+4);for(et=!1;;){if(r%2&&eL((a=a.times(t)).d,o)&&(n=!0),0===(r=es(r/2))){r=a.d.length-1,n&&0===a.d[r]&&++a.d[r];break}eL((t=t.times(t)).d,o)}return et=!0,a}function eI(e){return 1&e.d[e.d.length-1]}function eN(e,t,r){for(var i,n=new e(t[0]),a=0;++a<t.length;)if((i=new e(t[a])).s)n[r](i)&&(n=i);else{n=i;break}return n}function eR(e,t){var r,i,n,a,o,s,u,l=0,c=0,d=0,f=e.constructor,p=f.rounding,h=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:0/0);for(null==t?(et=!1,u=h):u=t,s=new f(.03125);e.e>-2;)e=e.times(s),d+=5;for(u+=i=Math.log(eu(2,d))/Math.LN10*2+5|0,r=a=o=new f(1),f.precision=u;;){if(a=ew(a.times(e),u,1),r=r.times(++c),eb((s=o.plus(eA(a,r,u,1))).d).slice(0,u)===eb(o.d).slice(0,u)){for(n=d;n--;)o=ew(o.times(o),u,1);if(null!=t)return f.precision=h,o;if(!(l<3&&ey(o.d,u-i,p,l)))return ew(o,f.precision=h,p,et=!0);f.precision=u+=10,r=a=s=new f(1),c=0,l++}o=s}}function eB(e,t){var r,i,n,a,o,s,u,l,c,d,f,p=1,h=e,m=h.d,b=h.constructor,g=b.rounding,y=b.precision;if(h.s<0||!m||!m[0]||!h.e&&1==m[0]&&1==m.length)return new b(m&&!m[0]?-1/0:1!=h.s?NaN:m?0:h);if(null==t?(et=!1,c=y):c=t,b.precision=c+=10,i=(r=eb(m)).charAt(0),!(15e14>Math.abs(a=h.e)))return l=eT(b,c+2,y).times(a+""),h=eB(new b(i+"."+r.slice(1)),c-10).plus(l),b.precision=y,null==t?ew(h,y,g,et=!0):h;for(;i<7&&1!=i||1==i&&r.charAt(1)>3;)i=(r=eb((h=h.times(e)).d)).charAt(0),p++;for(a=h.e,i>1?(h=new b("0."+r),a++):h=new b(i+"."+r.slice(1)),d=h,u=o=h=eA(h.minus(1),h.plus(1),c,1),f=ew(h.times(h),c,1),n=3;;){if(o=ew(o.times(f),c,1),eb((l=u.plus(eA(o,new b(n),c,1))).d).slice(0,c)===eb(u.d).slice(0,c))if(u=u.times(2),0!==a&&(u=u.plus(eT(b,c+2,y).times(a+""))),u=eA(u,new b(p),c,1),null!=t)return b.precision=y,u;else{if(!ey(u.d,c-10,g,s))return ew(u,b.precision=y,g,et=!0);b.precision=c+=10,l=o=h=eA(d.minus(1),d.plus(1),c,1),f=ew(h.times(h),c,1),n=s=1}u=l,n+=2}}function eC(e){return String(e.s*e.s/0)}function eO(e,t){var r,i,n;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(r<0&&(r=i),r+=+t.slice(i+1),t=t.substring(0,i)):r<0&&(r=t.length),i=0;48===t.charCodeAt(i);i++);for(n=t.length;48===t.charCodeAt(n-1);--n);if(t=t.slice(i,n)){if(n-=i,e.e=r=r-i-1,e.d=[],i=(r+1)%7,r<0&&(i+=7),i<n){for(i&&e.d.push(+t.slice(0,i)),n-=7;i<n;)e.d.push(+t.slice(i,i+=7));i=7-(t=t.slice(i)).length}else i-=n;for(;i--;)t+="0";e.d.push(+t),et&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function eD(e,t,r,i,n){var a,o,s,u,l=e.precision,c=Math.ceil(l/7);for(et=!1,u=r.times(r),s=new e(i);;){if(o=eA(s.times(u),new e(t++*t++),l,1),s=n?i.plus(o):i.minus(o),i=eA(o.times(u),new e(t++*t++),l,1),void 0!==(o=s.plus(i)).d[c]){for(a=c;o.d[a]===s.d[a]&&a--;);if(-1==a)break}a=s,s=i,i=o,o=a}return et=!0,o.d.length=c+1,o}function eM(e,t){for(var r=e;--t;)r*=e;return r}function eU(e,t){var r,i=t.s<0,n=eE(e,e.precision,1),a=n.times(.5);if((t=t.abs()).lte(a))return J=i?4:1,t;if((r=t.divToInt(n)).isZero())J=i?3:2;else{if((t=t.minus(r.times(n))).lte(a))return J=eI(r)?i?2:3:i?4:1,t;J=eI(r)?i?1:4:i?3:2}return t.minus(n).abs()}function eF(e,t,r,i){var n,a,o,s,u,l,c,d,f,p=e.constructor,h=void 0!==r;if(h?(eg(r,1,1e9),void 0===i?i=p.rounding:eg(i,0,8)):(r=p.precision,i=p.rounding),e.isFinite()){for(o=(c=ev(e)).indexOf("."),h?(n=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):n=t,o>=0&&(c=c.replace(".",""),(f=new p(1)).e=c.length-o,f.d=ex(ev(f),10,n),f.e=f.d.length),a=u=(d=ex(c,10,n)).length;0==d[--u];)d.pop();if(d[0]){if(o<0?a--:((e=new p(e)).d=d,e.e=a,d=(e=eA(e,f,r,i,0,n)).d,a=e.e,l=Q),o=d[r],s=n/2,l=l||void 0!==d[r+1],l=i<4?(void 0!==o||l)&&(0===i||i===(e.s<0?3:2)):o>s||o===s&&(4===i||l||6===i&&1&d[r-1]||i===(e.s<0?8:7)),d.length=r,l)for(;++d[--r]>n-1;)d[r]=0,r||(++a,d.unshift(1));for(u=d.length;!d[u-1];--u);for(o=0,c="";o<u;o++)c+=Y.charAt(d[o]);if(h){if(u>1)if(16==t||8==t){for(o=16==t?4:3,--u;u%o;u++)c+="0";for(u=(d=ex(c,n,t)).length;!d[u-1];--u);for(o=1,c="1.";o<u;o++)c+=Y.charAt(d[o])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>u)for(a-=u;a--;)c+="0";else a<u&&(c=c.slice(0,a)+"."+c.slice(a))}else c=h?"0p+0":"0";c=(16==t?"0x":2==t?"0b":8==t?"0o":"")+c}else c=eC(e);return e.s<0?"-"+c:c}function eL(e,t){if(e.length>t)return e.length=t,!0}function eq(e){return new this(e).abs()}function eK(e){return new this(e).acos()}function eW(e){return new this(e).acosh()}function eV(e,t){return new this(e).plus(t)}function eG(e){return new this(e).asin()}function ez(e){return new this(e).asinh()}function ej(e){return new this(e).atan()}function eH(e){return new this(e).atanh()}function eX(e,t){e=new this(e),t=new this(t);var r,i=this.precision,n=this.rounding,a=i+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?eE(this,i,n):new this(0)).s=e.s:!e.d||t.isZero()?(r=eE(this,a,1).times(.5)).s=e.s:t.s<0?(this.precision=a,this.rounding=1,r=this.atan(eA(e,t,a,1)),t=eE(this,a,1),this.precision=i,this.rounding=n,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(eA(e,t,a,1)):(r=eE(this,a,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function eQ(e){return new this(e).cbrt()}function eJ(e){return ew(e=new this(e),e.e+1,2)}function eY(e,t,r){return new this(e).clamp(t,r)}function eZ(e){if(!e||"object"!=typeof e)throw Error(er+"Object expected");var t,r,i,n=!0===e.defaults,a=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(r=a[t],n&&(this[r]=ee[r]),void 0!==(i=e[r]))if(es(i)===i&&i>=a[t+1]&&i<=a[t+2])this[r]=i;else throw Error(ei+r+": "+i);if(r="crypto",n&&(this[r]=ee[r]),void 0!==(i=e[r]))if(!0===i||!1===i||0===i||1===i)if(i)if("u">typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(ea);else this[r]=!1;else throw Error(ei+r+": "+i);return this}function e$(e){return new this(e).cos()}function e0(e){return new this(e).cosh()}function e1(e,t){return new this(e).div(t)}function e2(e){return new this(e).exp()}function e5(e){return ew(e=new this(e),e.e+1,3)}function e6(){var e,t,r=new this(0);for(et=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return et=!0,new this(1/0);r=t}return et=!0,r.sqrt()}function e3(e){return e instanceof tb||e&&e.toStringTag===eo||!1}function e4(e){return new this(e).ln()}function e8(e,t){return new this(e).log(t)}function e7(e){return new this(e).log(2)}function e9(e){return new this(e).log(10)}function te(){return eN(this,arguments,"lt")}function tt(){return eN(this,arguments,"gt")}function tr(e,t){return new this(e).mod(t)}function ti(e,t){return new this(e).mul(t)}function tn(e,t){return new this(e).pow(t)}function ta(e){var t,r,i,n,a=0,o=new this(1),s=[];if(void 0===e?e=this.precision:eg(e,1,1e9),i=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(i));a<i;)(n=t[a])>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:s[a++]=n%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(i*=4);a<i;)(n=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,a):(s.push(n%1e7),a+=4);a=i/4}else throw Error(ea);else for(;a<i;)s[a++]=1e7*Math.random()|0;for(i=s[--a],e%=7,i&&e&&(n=eu(10,7-e),s[a]=(i/n|0)*n);0===s[a];a--)s.pop();if(a<0)r=0,s=[0];else{for(r=-1;0===s[0];r-=7)s.shift();for(i=1,n=s[0];n>=10;n/=10)i++;i<7&&(r-=7-i)}return o.e=r,o.d=s,o}function to(e){return ew(e=new this(e),e.e+1,this.rounding)}function ts(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function tu(e){return new this(e).sin()}function tl(e){return new this(e).sinh()}function tc(e){return new this(e).sqrt()}function td(e,t){return new this(e).sub(t)}function tf(){var e=0,t=arguments,r=new this(t[0]);for(et=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return et=!0,ew(r,this.precision,this.rounding)}function tp(e){return new this(e).tan()}function th(e){return new this(e).tanh()}function tm(e){return ew(e=new this(e),e.e+1,1)}em[Symbol.for("nodejs.util.inspect.custom")]=em.toString,em[Symbol.toStringTag]="Decimal";var tb=em.constructor=function e(t){var r,i,n;function a(e){var t,r,i;if(!(this instanceof a))return new a(e);if(this.constructor=a,e3(e)){this.s=e.s,et?!e.d||e.e>a.maxE?(this.e=NaN,this.d=null):e.e<a.minE?(this.e=0,this.d=[0]):(this.e=e.e,this.d=e.d.slice()):(this.e=e.e,this.d=e.d?e.d.slice():e.d);return}if("number"==(i=typeof e)){if(0===e){this.s=1/e<0?-1:1,this.e=0,this.d=[0];return}if(e<0?(e=-e,this.s=-1):this.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;et?t>a.maxE?(this.e=NaN,this.d=null):t<a.minE?(this.e=0,this.d=[0]):(this.e=t,this.d=[e]):(this.e=t,this.d=[e]);return}if(0*e!=0){e||(this.s=NaN),this.e=NaN,this.d=null;return}return eO(this,e.toString())}if("string"!==i)throw Error(ei+e);return 45===(r=e.charCodeAt(0))?(e=e.slice(1),this.s=-1):(43===r&&(e=e.slice(1)),this.s=1),ef.test(e)?eO(this,e):function(e,t){var r,i,n,a,o,s,u,l,c;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),ef.test(t))return eO(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(ec.test(t))r=16,t=t.toLowerCase();else if(el.test(t))r=2;else if(ed.test(t))r=8;else throw Error(ei+t);for((a=t.search(/p/i))>0?(u=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),o=(a=t.indexOf("."))>=0,i=e.constructor,o&&(a=(s=(t=t.replace(".","")).length)-a,n=e_(i,new i(r),a,2*a)),a=c=(l=ex(t,r,1e7)).length-1;0===l[a];--a)l.pop();return a<0?new i(0*e.s):(e.e=eS(l,c),e.d=l,et=!1,o&&(e=eA(e,n,4*s)),u&&(e=e.times(54>Math.abs(u)?eu(2,u):tb.pow(2,u))),et=!0,e)}(this,e)}if(a.prototype=em,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=eZ,a.clone=e,a.isDecimal=e3,a.abs=eq,a.acos=eK,a.acosh=eW,a.add=eV,a.asin=eG,a.asinh=ez,a.atan=ej,a.atanh=eH,a.atan2=eX,a.cbrt=eQ,a.ceil=eJ,a.clamp=eY,a.cos=e$,a.cosh=e0,a.div=e1,a.exp=e2,a.floor=e5,a.hypot=e6,a.ln=e4,a.log=e8,a.log10=e9,a.log2=e7,a.max=te,a.min=tt,a.mod=tr,a.mul=ti,a.pow=tn,a.random=ta,a.round=to,a.sign=ts,a.sin=tu,a.sinh=tl,a.sqrt=tc,a.sub=td,a.sum=tf,a.tan=tp,a.tanh=th,a.trunc=tm,void 0===t&&(t={}),t&&!0!==t.defaults)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<n.length;)t.hasOwnProperty(i=n[r++])||(t[i]=this[i]);return a.config(t),a}(ee);Z=new tb(Z),$=new tb($);var tg=v.default,ty=((i=ty||{})[i.ROUND_DOWN=0]="ROUND_DOWN",i[i.ROUND_HALF_UP=1]="ROUND_HALF_UP",i[i.ROUND_UP=2]="ROUND_UP",i);function tx(e){let t=G("Raydium_parseBigNumberish");if(e instanceof A.default)return e;if("string"==typeof e){if(e.match(/^-?[0-9]+$/))return new A.default(e);t.logWithError(`invalid BigNumberish string: ${e}`)}return"number"==typeof e?(e%1&&t.logWithError(`BigNumberish number underflow: ${e}`),(e>=0x1fffffffffffff||e<=-0x1fffffffffffff)&&t.logWithError(`BigNumberish number overflow: ${e}`),new A.default(String(e))):"bigint"==typeof e?new A.default(e.toString()):(t.error(`invalid BigNumberish value: ${e}`),new A.default(0))}var tA=G("module/fraction"),tw=tg(w.default),tv=tg(S.default),tS={0:tv.ROUND_DOWN,1:tv.ROUND_HALF_UP,2:tv.ROUND_UP},tT={0:w.default.roundDown,1:w.default.roundHalfUp,2:w.default.roundUp},tE=class{constructor(e,t=new A.default(1)){this.numerator=tx(e),this.denominator=tx(t)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new tE(this.denominator,this.numerator)}add(e){let t=e instanceof tE?e:new tE(tx(e));return this.denominator.eq(t.denominator)?new tE(this.numerator.add(t.numerator),this.denominator):new tE(this.numerator.mul(t.denominator).add(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}sub(e){let t=e instanceof tE?e:new tE(tx(e));return this.denominator.eq(t.denominator)?new tE(this.numerator.sub(t.numerator),this.denominator):new tE(this.numerator.mul(t.denominator).sub(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}mul(e){let t=e instanceof tE?e:new tE(tx(e));return new tE(this.numerator.mul(t.numerator),this.denominator.mul(t.denominator))}div(e){let t=e instanceof tE?e:new tE(tx(e));return new tE(this.numerator.mul(t.denominator),this.denominator.mul(t.numerator))}toSignificant(e,t={groupSeparator:""},r=1){Number.isInteger(e)||tA.logWithError(`${e} is not an integer.`),e<=0&&tA.logWithError(`${e} is not positive.`),tv.set({precision:e+1,rounding:tS[r]});let i=new tv(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return i.toFormat(i.decimalPlaces(),t)}toFixed(e,t={groupSeparator:""},r=1){return Number.isInteger(e)||tA.logWithError(`${e} is not an integer.`),e<0&&tA.logWithError(`${e} is negative.`),tw.DP=e,tw.RM=tT[r]||1,new tw(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)}isZero(){return this.numerator.isZero()}},tk=G("Raydium_amount"),tP=tg(w.default),t_=class extends tE{constructor(e,t,r=!0,i){let n=new A.default(0),a=tY.pow(new A.default(e.decimals));if(r)n=tx(t);else{let r=new A.default(0),i=new A.default(0);if("string"==typeof t||"number"==typeof t||"bigint"==typeof t){let[n,a]=function(e,t){let r="0",i="0";if(e.includes(".")){let n=e.split(".");2===n.length?([r,i]=n,i=i.padEnd(t,"0")):tk.logWithError(`invalid number string, num: ${e}`)}else r=e;return[r,i.slice(0,t)||i]}(t.toString(),e.decimals);r=tx(n),i=tx(a)}n=(r=r.mul(a)).add(i)}super(n,a),this.logger=G(i||"TokenAmount"),this.token=e}get raw(){return this.numerator}isZero(){return this.raw.isZero()}gt(e){return this.token.equals(e.token)||this.logger.logWithError("gt token not equals"),this.raw.gt(e.raw)}lt(e){return this.token.equals(e.token)||this.logger.logWithError("lt token not equals"),this.raw.lt(e.raw)}add(e){return this.token.equals(e.token)||this.logger.logWithError("add token not equals"),new t_(this.token,this.raw.add(e.raw))}subtract(e){return this.token.equals(e.token)||this.logger.logWithError("sub token not equals"),new t_(this.token,this.raw.sub(e.raw))}toSignificant(e=this.token.decimals,t,r=0){return super.toSignificant(e,t,r)}toFixed(e=this.token.decimals,t,r=0){return e>this.token.decimals&&this.logger.logWithError("decimals overflow"),super.toFixed(e,t,r)}toExact(e={groupSeparator:""}){return tP.DP=this.token.decimals,new tP(this.numerator.toString()).div(this.denominator.toString()).toFormat(e)}},tI={chainId:101,address:h.PublicKey.default.toBase58(),programId:y.TOKEN_PROGRAM_ID.toBase58(),decimals:9,symbol:"SOL",name:"solana",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}},tN={chainId:101,address:"So11111111111111111111111111111111111111112",programId:y.TOKEN_PROGRAM_ID.toBase58(),decimals:9,symbol:"WSOL",name:"Wrapped SOL",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}};function tR({pubkey:e,isSigner:t=!1,isWritable:r=!0}){return{pubkey:e,isWritable:r,isSigner:t}}tR({pubkey:y.TOKEN_PROGRAM_ID,isWritable:!1}),tR({pubkey:h.SystemProgram.programId,isWritable:!1}),tR({pubkey:h.SYSVAR_RENT_PUBKEY,isWritable:!1});function tB({publicKey:e,transformSol:t}){let r=tC(e.toString());if(r instanceof h.PublicKey)return t&&r.equals(tK)?tq:r;if(t&&r.toString()===tK.toBase58())return tq;if("string"==typeof r){if(r===h.PublicKey.default.toBase58())return h.PublicKey.default;try{return new h.PublicKey(r)}catch{}}throw Error("invalid public key")}function tC(e){try{return new h.PublicKey(e)}catch{return e}}var tO=new h.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),tD=new h.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),tM=new h.PublicKey("SysvarRent111111111111111111111111111111111"),tU=new h.PublicKey("SysvarC1ock11111111111111111111111111111111"),tF=new h.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),tL=(new h.PublicKey("Sysvar1nstructions1111111111111111111111111"),h.SystemProgram.programId),tq=(new h.PublicKey("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),new h.PublicKey("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),new h.PublicKey("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),new h.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),new h.PublicKey("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),new h.PublicKey("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),new h.PublicKey("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),new h.PublicKey("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),new h.PublicKey("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),new h.PublicKey("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),new h.PublicKey("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),new h.PublicKey("So11111111111111111111111111111111111111112")),tK=h.PublicKey.default;function tW(e){return tB({publicKey:e,transformSol:!0})}var tV=class{constructor({mint:e,decimals:t,symbol:r,name:i,skipMint:n=!1,isToken2022:a=!1}){if(e===tK.toBase58()||e instanceof h.PublicKey&&tK.equals(e)){this.decimals=tN.decimals,this.symbol=tN.symbol,this.name=tN.name,this.mint=new h.PublicKey(tN.address),this.isToken2022=!1;return}this.decimals=t,this.symbol=r||e.toString().substring(0,6),this.name=i||e.toString().substring(0,6),this.mint=n?h.PublicKey.default:tB({publicKey:e}),this.isToken2022=a}equals(e){return this===e||this.mint.equals(e.mint)}};tV.WSOL=new tV(F(U({},tN),{mint:tN.address}));var tG=class{constructor({decimals:e,symbol:t="UNKNOWN",name:r="UNKNOWN"}){this.decimals=e,this.symbol=t,this.name=r}equals(e){return this===e}};tG.SOL=new tG(tI);var tz=new tE(new A.default(100)),tj=class extends tE{toSignificant(e=5,t,r){return this.mul(tz).toSignificant(e,t,r)}toFixed(e=2,t,r){return this.mul(tz).toFixed(e,t,r)}},tH=G("Raydium_price"),tX=class extends tE{constructor(e){let{baseToken:t,quoteToken:r,numerator:i,denominator:n}=e;super(i,n),this.baseToken=t,this.quoteToken=r,this.scalar=new tE(function(e){return tY.pow(tx(e))}(t.decimals),function(e){return tY.pow(tx(e))}(r.decimals))}get raw(){return new tE(this.numerator,this.denominator)}get adjusted(){return super.mul(this.scalar)}invert(){return new tX({baseToken:this.quoteToken,quoteToken:this.baseToken,denominator:this.numerator,numerator:this.denominator})}mul(e){this.quoteToken!==e.baseToken&&tH.logWithError("mul token not equals");let t=super.mul(e);return new tX({baseToken:this.baseToken,quoteToken:e.quoteToken,denominator:t.denominator,numerator:t.numerator})}toSignificant(e=this.quoteToken.decimals,t,r){return this.adjusted.toSignificant(e,t,r)}toFixed(e=this.quoteToken.decimals,t,r){return this.adjusted.toFixed(e,t,r)}},tQ=new A.default(0),tJ=new A.default(1),tY=(new A.default(2),new A.default(3),new A.default(5),new A.default(10));function tZ(e,t,r){return e.mul(t).add(r).sub(new A.default(1)).div(r)}function t$(e,t=1,r=[]){let i=[...e];if(t<=0)return r;for(;i.length;)r.push(i.splice(0,t));return r}new A.default(100),new A.default(1e3),new A.default(1e4);var t0=((n=t0||{})[n.V0=0]="V0",n[n.LEGACY=1]="LEGACY",n),t1="CreateAccount",t2="ClmmOpenPosition",t5="ClmmIncreasePosition",t6="ClmmDecreasePosition",t3="ClmmSwapBaseIn",t4=G("Raydium_txUtil");function t8(e){let t=[],r=[];return e.microLamports&&(t.push(h.ComputeBudgetProgram.setComputeUnitPrice({microLamports:e.microLamports})),r.push("SetComputeUnitPrice")),e.units&&(t.push(h.ComputeBudgetProgram.setComputeUnitLimit({units:e.units})),r.push("SetComputeUnitLimit")),{instructions:t,instructionTypes:r}}async function t7(e,t){var r,i;return null==(i=await (null==(r=e.getLatestBlockhash)?void 0:r.call(e,{commitment:null!=t?t:"confirmed"})))?void 0:i.blockhash}async function t9(e,t){return e.getSignatureStatuses([t]),new Promise((r,i)=>{let n=setTimeout(i,6e4);e.onSignature(t,e=>{(clearTimeout(n),e.err)?i(Object.assign(e.err,{txId:t})):r("")},"confirmed")})}function re(e,t){e.length<1&&t4.logWithError(`no instructions provided: ${e.toString()}`),t.length<1&&t4.logWithError(`no signers provided:, ${t.toString()}`);let r=new h.Transaction;r.recentBlockhash="11111111111111111111111111111111",r.feePayer=t[0],r.add(...e);try{return f.Buffer.from(r.serialize({verifySignatures:!1})).toString("base64").length<1644}catch{return!1}}function rt(e,t){let[r,i]=h.PublicKey.findProgramAddressSync(e,t);return{publicKey:r,nonce:i}}function rr({instructions:e,payer:t,signers:r}){return re(e,[t,...r])}function ri({instructions:e,payer:t,lookupTableAddressAccount:r,recentBlockhash:i=h.Keypair.generate().publicKey.toString()}){let n=new h.TransactionMessage({payerKey:t,recentBlockhash:i,instructions:e}).compileToV0Message(Object.values(null!=r?r:{}));try{return f.Buffer.from(new h.VersionedTransaction(n).serialize()).toString("base64").length<1644}catch{return!1}}function rn(e){let t=[];return e.forEach(e=>{e instanceof h.Transaction&&(e.recentBlockhash||(e.recentBlockhash=y.TOKEN_PROGRAM_ID.toBase58()),e.feePayer||(e.feePayer=h.Keypair.generate().publicKey)),t.push((e=>{let t,r=e.serialize({requireAllSignatures:!1,verifySignatures:!1});e instanceof h.VersionedTransaction&&(t=r,r=f.Buffer.isBuffer(t)?t:t instanceof Uint8Array?f.Buffer.from(t.buffer,t.byteOffset,t.byteLength):f.Buffer.from(t));try{return r instanceof f.Buffer?r.toString("base64"):f.Buffer.from(r).toString("base64")}catch{return r.toString("base64")}})(e))}),console.log("simulate tx string:",t),t}function ra(e,t,r){return rt([e.toBuffer(),(null!=r?r:y.TOKEN_PROGRAM_ID).toBuffer(),t.toBuffer()],new h.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"))}var ro=new h.PublicKey("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),rs=new h.PublicKey("CBuCnLe26faBpcBP2fktp4rp8abpcAnTWft6ZrP5Q4T"),ru=new h.PublicKey("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),rl=new h.PublicKey("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),rc=(new h.PublicKey("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),new h.PublicKey("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX")),rd=new h.PublicKey("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),rf=new h.PublicKey("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),rp=(new h.PublicKey("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),new h.PublicKey("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo")),rh=new h.PublicKey("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),rm=new h.PublicKey("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),rb=new h.PublicKey("kN1kEznaF5Xbd8LYuqtEFcxzWSBk5Fv6ygX6SqEGJVy"),rg=(new h.PublicKey("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),new h.PublicKey("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5")),ry=new h.PublicKey("6FJon3QE27qgPVggARueB22hLvoh22VzJpXv4rBEoSLF"),rx=new h.PublicKey("CC12se5To1CdEuw7fDS27B7Geo5jJyL7t5UK2B44NgiH"),rA=new h.PublicKey("9HzJyW1qZsEiSfMUf6L2jo3CcTKAyBmSyKdwQeYisHrC"),rw=new h.PublicKey("DropEU8AvevN3UrXWXTMuz3rqnMczQVNjq3kcSdW2SQi"),rv=new h.PublicKey("CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C"),rS=new h.PublicKey("GpMZbSM2GgvTKHJirzeGfMFoaZ8UR2X7F4v8vHTvxFbL"),rT=(new h.PublicKey("DNXgeM9EiiaAbaWvwjHj9fQQLAX5ZsfHyvmYUNRAdNC8"),new h.PublicKey("CPMDWBwJDtYax9qW7AyRuVC19Cc4L4Vcy4n2BHAbHkCW"),new h.PublicKey("7rQ1QFNosMkUCuh7Z7fPbTHvh73b68sQYdirycEzJVuw"),new h.PublicKey("G11FKBRaAkHAKuLCgLM6K6NUc9rTjPAznRCjZifrTQe2"),new h.PublicKey("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE")),rE=(new h.PublicKey("DLockwT7X7sxtLmGH9g5kmfcjaBtncdbUmi738m5bvQC"),new h.PublicKey("3f7GcQFG397GAaEnv51zR6tsTVihYRydnydDD1cXekxH")),rk=(new h.PublicKey("7AFUeLVRjBfzqK3tTGw8hN48KLQWSk6DTE8xprWdPqix"),new h.PublicKey("LanMkFSVSncjWqWAM8MUHenZzt9xTcT3DcAp949ZwbF"));function rP(e,t,r,i){if(void 0===t)return{amount:e,fee:void 0,expirationTime:void 0};let n=F(U({},t),{olderTransferFee:{epoch:BigInt(t.olderTransferFee.epoch),maximumFee:BigInt(t.olderTransferFee.maximumFee),transferFeeBasisPoints:t.olderTransferFee.transferFeeBasisPoints},newerTransferFee:{epoch:BigInt(t.newerTransferFee.epoch),maximumFee:BigInt(t.newerTransferFee.maximumFee),transferFeeBasisPoints:t.newerTransferFee.transferFeeBasisPoints}}),a=r.epoch<n.newerTransferFee.epoch?n.olderTransferFee:n.newerTransferFee,o=new A.default(a.maximumFee.toString()),s=r.epoch<n.newerTransferFee.epoch?(Number(n.newerTransferFee.epoch)*r.slotsInEpoch-r.absoluteSlot)*400/1e3:void 0;if(i)if(1e4===a.transferFeeBasisPoints){let t=new A.default(a.maximumFee.toString());return{amount:e.add(t),fee:t,expirationTime:s}}else{let t=rI(e.mul(new A.default(1e4)),new A.default(1e4-a.transferFeeBasisPoints)),r=new A.default(a.maximumFee.toString()),i=t.sub(e).gt(r)?e.add(r):t,n=rI(i.mul(new A.default(a.transferFeeBasisPoints)),new A.default(1e4));return{amount:i,fee:n.gt(o)?o:n,expirationTime:s}}{let t=rI(e.mul(new A.default(a.transferFeeBasisPoints)),new A.default(1e4));return{amount:e,fee:t.gt(o)?o:t,expirationTime:s}}}function r_(e,t){return void 0===e?t:void 0===t?e:Math.min(e,t)}function rI(e,t){let{div:r,mod:i}=e.divmod(t);return i.gt(new A.default(0))?r.add(new A.default(1)):r}function rN(e,t){if(e.isZero())return new A.default(0);let r=e.div(t);return r.isZero()?new A.default(1):e.mod(t).gt(new A.default(0))?r.add(new A.default(1)):r}async function rR({connection:e,address:t}){let r=await j(e,[...new Set(t.map(e=>e.toString()))].map(e=>new h.PublicKey(e))),i={};for(let e=0;e<t.length;e++){let n=r[e],a=t[e];if(!n)continue;let o=new h.AddressLookupTableAccount({key:a,state:h.AddressLookupTableAccount.deserialize(n.data)});i[a.toString()]=o,rB[a.toString()]=o}return i}new h.PublicKey("495mQpkX8mHAv18yGsfubCXbFQ9Jok1L1BvMrV9KvCHr"),new h.PublicKey("7soRSLviCKHCKzCbRuVpZDif76NWLVqFtbjt8LpyxWSq"),new h.PublicKey("DG6kZFFCqxdtWXw53Zc28hLs3MTr28Efkm2FrsNERNSQ"),h.PublicKey.default,new h.PublicKey("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),h.PublicKey.default,new h.PublicKey("85BFyr98MbCUU9MVTEgzx1nbhWACbJqLzho6zd6DZcWL"),new h.PublicKey("EcLzTrNg9V7qhcdyXDe2qjtPkiGzDM2UbdRaeaadU5r2"),new h.PublicKey("Farm2hJLcqPtPg8M4rR6DMrsRNc5TPm5Cs4bVQrMe2T7"),new h.PublicKey("HWy1jotHpo6UqeQxx49dpYYdQB8wj9Qk9MdxwjLvDHB8"),new h.PublicKey("DDg4VmQaJV9ogWce7LpcjBA9bv22wRp5uaTPa5pGjijF"),new h.PublicKey("devi51mZmdwUJGU9hjN27vEz64Gps7uUefqxg27EAtH"),new h.PublicKey("DLockwT7X7sxtLmGH9g5kmfcjaBtncdbUmi738m5bvQC"),new h.PublicKey("8qmHNvu2Kr2C7U8mJL4Vz1vTDxMhVuXKREwU7TNoaVEo"),new h.PublicKey("BVChZ3XFEwTMUk1o9i3HAf91H6mFxSwa5X2wFAWhYPhU"),new h.PublicKey("3XMrhbv989VxAMi3DErLV9eJht1pHppW5LbKxe9fkEFR");var rB={AcL1Vo8oy1ULiavEcjSUcwfBSForXMudcZvDZy5nzJkU:new h.AddressLookupTableAccount({key:new h.PublicKey("AcL1Vo8oy1ULiavEcjSUcwfBSForXMudcZvDZy5nzJkU"),state:h.AddressLookupTableAccount.deserialize(f.Buffer.from("AQAAAP//////////I1rcEwAAAAAvAQYwun9CU6c5Ikm2pAj+D9IEnCOR45nK+SFTGSdpd6J6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbd9uHXZaGT2cvhRs7reawctIXtX1s3kTqM9YV+/wCpBt324e51j94YQl285GzN2rYa/E2DuQ0n/r35KNihi/wFSlNQ+F3IgtYUpVZyeIopbd8eq6vQpgZ4iEky9O72oAVKU1qZKSEGTSTocWDaOHx8NbXdvJK7geQfqEBBBUSNBqfVFxksXFEhjMlMPUrxf1ja7gibof1E49vZigAAAAAGp9UXGMd0yShWY5hpHV62i164o5tLbVxzVVshAAAAAIyXJY9OJInxuz0QKRSODYMLWhOZ2v8QhASOe9jb6fhZC3BlsePRfEU4nVJ/awTDzVi4bHMaoP21SbbRvAP4KUbIScv+6Yw2LHF/6K0ZjUPibbSWXCirYPGuuVl7zT789IUPLW4CpHr4JNCatp3ELXDLKMv6JJ+37le50lbBJ2LvBkX2T9y7AHdNGviJAqQNtlDUDCnauQRWybsLji6nPM8Qkw5asQRvCdB3MbX6IEBwytOrpM32l4jQygKG9TKgR0vZScQ2AsM/IHeQ7RajUkyhuZdc8SGiqQz/7H34torNR/Wir3sl0ruUrVxJWEZfUg+QLNAxxODdBi53/OP7Ioil1cqeBM9dtZC3FLov4yyxWRM/wcGStyJX/QfTnLBAHqkqWotPKVlShCVQqpP9W5W1rOao65IMk5QuQ2kMIOxzDMKAy2vjGSxQODgBz0QwGA+eP4ZjIjrIAQaXENv31QfLlOdXSRCkaybRniDHF4C8YcwhcvsqrOVuTP4B2Na+9wLdtrB31uz2rtlFI5kahdsnp/d1SrASDInYCtTYtdoke4kX+hoKWcEWM4Tle8pTUkUVv4BxS6fje/EzKBE4Qu/YsA/yfEEFGcr8Z57VKDw8uQzpiru7g4lvjnfapW62W030syevD8k07SGoxUHiuT/ai7gAHWWhDsVmg/C63ajgpkH7Sn3GdutArDTfyqOkdqv4/IPC/EFFy7mGkfDd2C57N5a/4jC+BbmJy7wQaSEZr0CQU88lPtUxIVvzGjC95b8Ooss2TqmkrayGKofkPMGQn7Ux+9lfwBSNfxwH8NgbpqC/7LNlV4I7nCvsXf3p+ohQk9NrAJb2KAFpUqEIJ9ZBV7BYDzHF/ORKYlgtvPnXjudZQ6CEo5OzUDaNIomTCCsvhD16TxJjsbgne1kGnQPCFSoaxUbq2V1bPMFQ3VYP6wDZ9bKStCFKx9A3tNbwZFC5ZGAN83MFK7XoTy+OmmcFEr6rLOjfSuTfPvHJkSVxW6Qllwkl67XcBi5v00u2gQsbu+38sp+rd5pA/LvyWj4P94ZGZwc1tE2P88xekCLcAwZGb+UhFzL/7K26csOb57yM5bvF9xJrLEObOkAAAAAn+HWRkdcPKyFFMnVwEoD7vnD0jCKFIU1sImubYCxNTSVzsKpaQX+fzNxrLAI3L14JQnJx/D6Uk2LADIHGqnGELzjEbkBDAlaM77NkXMPfqXNLSveCkWI7UEgNs31WEWB6XHSYI/v5DklHOb4QTtDOR804PVbi3fjloZeLR2F8d4FuZmMMO7ck3Fnkn2zEMG5gOmqsygb6PjTitArVl52NhcSznTxVnguaIJxiZkAnurDmn3MWR0PC2GLghp2KJqHCc6QQ85odeIjFHKOlRlJyeSXVJmL8vb1UgOzsbJPVP8p6zM4M3C1Sd7uWIHP33G42AP2Zg8ucn/n6meQjjD266JgCWdxZD6PXs9CsnIeL7SSG0/6lGb9xfP0ZcWkCXB/3hjxHYVXjra/GPOeXGk0fLLKjCbk+mgs2w6d2oCwimBipTzuoZ30GiI8ij8VRzD5CzMWtu2m21eDBIfjGAEo4pQeNNonKcqzV/cleX8ySZLOHsz8PtBCrLqF+VkLm9hOzIT+6i/nIf6keR4GWKMOD4AvqfpjHoD4DuhBpz8P28+DxkGrDXXr/nr20x291VPvcTU/b+b+o2kC9G0kcXeTlLjU6a2TQXWlZ4gBUdBl1jgT7mObSTpLblNiXZsLkbmVXZwvFKXua5cUKlWed/w30skmEUraTuQqtqr5fHZPW9n57EmeTif6LjHL2YJFZkQU+TrJmFzqzmF4/b8OwrPQAprl8mX3q4LUIdAS/a+11B6DWD1Xk2++Sn94dLC4xjkO4Wtlw8c4XuzciVbepHOmnoWzVu/0y3KCrLCSfQxQ3br8DJCoVzhgtPsS2nZZjsBGIZgnU0QpMv+2MnRsnKwdp1VsrCX84j/qvaZn4WhKunippgTbN2EUs0tPTP55Qfgj+nKmjtWW5IYs72FrEwJKYoNfsmqaF4o5pf4v9zgPwVwY/5I4XJKUL2L25m9kAQcW/K+H1RTFEUoj8Z4ajpOmAB/dG0COmCphVMW2CCMvnxhcGiSgPnpDuWu6qiJ7NG7ye5kvHgefgqPLeicspNJ5EpL3XiRNLM2tmJLI1awAwOyd6iHv0dCkMYRKaa6rcaZeYwmKCkckm0kM2JNmnmmAaBQQ7mwmIM0IMxX4f5W6j9PqZWcJxF7r17T/lQBAmcjoupRiJifbnXCNUv9GhpRF19WcBdeKbivRJVlGop6I2RS6lGImJ9udcI1S/0aGlEXX1ZwF14puK9ElWUainojZFYVHLHD6dIP2ESjqBzg3ol1/wB7+/ylGwd9LS7wSZ2A630CJSVKwH47K9P4bB8PEQP8BwjMFa7xQHOqZFP1XqaQ==","base64"))})},rC=class{constructor(e){this.instructions=[],this.endInstructions=[],this.lookupTableAddress=[],this.signers=[],this.instructionTypes=[],this.endInstructionTypes=[],this.connection=e.connection,this.feePayer=e.feePayer,this.signAllTransactions=e.signAllTransactions,this.owner=e.owner,this.cluster=e.cluster,this.blockhashCommitment=e.blockhashCommitment,this.loopMultiTxStatus=!!e.loopMultiTxStatus}get AllTxData(){return{instructions:this.instructions,endInstructions:this.endInstructions,signers:this.signers,instructionTypes:this.instructionTypes,endInstructionTypes:this.endInstructionTypes,lookupTableAddress:this.lookupTableAddress}}get allInstructions(){return[...this.instructions,...this.endInstructions]}async getComputeBudgetConfig(){var e;let t=(await p.default.get("https://solanacompass.com/api/fees?cacheFreshTime=300000")).data,{avg:r}=null!=(e=null==t?void 0:t[15])?e:{};if(r)return{units:6e5,microLamports:Math.min(Math.ceil(1e6*r/6e5),25e3)}}addCustomComputeBudget(e){if(e){let{instructions:t,instructionTypes:r}=t8(e);return this.instructions.unshift(...t),this.instructionTypes.unshift(...r),!0}return!1}addTipInstruction(e){var t;return!!e&&(this.endInstructions.push(h.SystemProgram.transfer({fromPubkey:null!=(t=e.feePayer)?t:this.feePayer,toPubkey:new h.PublicKey(e.address),lamports:BigInt(e.amount.toString())})),this.endInstructionTypes.push("TransferTip"),!0)}async calComputeBudget({config:e,defaultIns:t}){try{let r=e||await this.getComputeBudgetConfig();if(this.addCustomComputeBudget(r))return;t&&this.instructions.unshift(...t)}catch{t&&this.instructions.unshift(...t)}}addInstruction({instructions:e=[],endInstructions:t=[],signers:r=[],instructionTypes:i=[],endInstructionTypes:n=[],lookupTableAddress:a=[]}){return this.instructions.push(...e),this.endInstructions.push(...t),this.signers.push(...r),this.instructionTypes.push(...i),this.endInstructionTypes.push(...n),this.lookupTableAddress.push(...a.filter(e=>e!==h.PublicKey.default.toString())),this}async versionBuild({txVersion:e,extInfo:t}){return 0===e?await this.buildV0(U({},t||{})):this.build(t)}build(e){var t;let r=new h.Transaction;return this.allInstructions.length&&r.add(...this.allInstructions),r.feePayer=this.feePayer,(null==(t=this.owner)?void 0:t.signer)&&!this.signers.some(e=>e.publicKey.equals(this.owner.publicKey))&&this.signers.push(this.owner.signer),{builder:this,transaction:r,signers:this.signers,instructionTypes:[...this.instructionTypes,...this.endInstructionTypes],execute:async e=>{var t;let{recentBlockHash:i,skipPreflight:n=!0,sendAndConfirm:a,notSendToRpc:o}=e||{};if(r.recentBlockhash=null!=i?i:await t7(this.connection,this.blockhashCommitment),this.signers.length&&r.sign(...this.signers),rn([r]),null!=(t=this.owner)&&t.isKeyPair)return{txId:a?await (0,h.sendAndConfirmTransaction)(this.connection,r,this.signers.find(e=>e.publicKey.equals(this.owner.publicKey))?this.signers:[...this.signers,this.owner.signer],{skipPreflight:n}):await this.connection.sendRawTransaction(r.serialize(),{skipPreflight:n}),signedTx:r};if(this.signAllTransactions){let e=await this.signAllTransactions([r]);if(this.signers.length)for(let t of e)try{t.sign(...this.signers)}catch{}return{txId:o?"":await this.connection.sendRawTransaction(e[0].serialize(),{skipPreflight:n}),signedTx:e[0]}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:e||{}}}buildMultiTx(e){var t;let{extraPreBuildData:r=[],extInfo:i}=e,{transaction:n}=this.build(i),a=r.filter(e=>e.transaction.instructions.length>0),o=[n,...a.map(e=>e.transaction)],s=[this.signers,...a.map(e=>e.signers)],u=[...this.instructionTypes,...a.map(e=>e.instructionTypes).flat()];return null!=(t=this.owner)&&t.signer&&s.forEach(e=>{e.some(e=>e.publicKey.equals(this.owner.publicKey))||this.signers.push(this.owner.signer)}),{builder:this,transactions:o,signers:s,instructionTypes:u,execute:async e=>{var t;let{sequentially:r,onTxUpdate:i,skipTxCount:n=0,recentBlockHash:a,skipPreflight:u=!0}=e||{},l=null!=a?a:await t7(this.connection,this.blockhashCommitment);if(null!=(t=this.owner)&&t.isKeyPair){if(r){let e=[],t=0;for(let r of o){if(++t<=n)continue;let i=await (0,h.sendAndConfirmTransaction)(this.connection,r,this.signers.find(e=>e.publicKey.equals(this.owner.publicKey))?this.signers:[...this.signers,this.owner.signer],{skipPreflight:u});e.push(i)}return{txIds:e,signedTxs:o}}return{txIds:await await Promise.all(o.map(async e=>(e.recentBlockhash=l,await this.connection.sendRawTransaction(e.serialize(),{skipPreflight:u})))),signedTxs:o}}if(this.signAllTransactions){let e=o.map((e,t)=>(e.recentBlockhash=l,s[t].length&&e.sign(...s[t]),e));rn(e);let t=await this.signAllTransactions(e);if(r){let e=0,r=[],n=async()=>{if(!t[e])return;let a=await this.connection.sendRawTransaction(t[e].serialize(),{skipPreflight:u});r.push({txId:a,status:"sent",signedTx:t[e]}),null==i||i([...r]),e++;let o=!1,s=null,l=null,c=e=>{null!==s&&clearInterval(s),null!==l&&this.connection.removeSignatureListener(l);let t=r.findIndex(e=>e.txId===a);if(t>-1){if("error"===r[t].status||"success"===r[t].status)return;r[t].status=e.err?"error":"success"}null==i||i([...r]),e.err||n()};this.loopMultiTxStatus&&(s=setInterval(async()=>{var e;if(o)return void clearInterval(s);try{let t=await this.connection.getTransaction(a,{commitment:"confirmed",maxSupportedTransactionVersion:0});t&&(o=!0,clearInterval(s),c({err:(null==(e=t.meta)?void 0:e.err)||null}),console.log("tx status from getTransaction:",a))}catch(e){o=!0,clearInterval(s),console.error("getTransaction timeout:",e,a)}},2e3)),l=this.connection.onSignature(a,e=>{o?this.connection.removeSignatureListener(l):(o=!0,c(e))},"confirmed"),this.connection.getSignatureStatus(a)};return await n(),{txIds:r.map(e=>e.txId),signedTxs:t}}{let e=[];for(let r=0;r<t.length;r+=1){let i=await this.connection.sendRawTransaction(t[r].serialize(),{skipPreflight:u});e.push(i)}return{txIds:e,signedTxs:t}}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:i||{}}}async versionMultiBuild({extraPreBuildData:e,txVersion:t,extInfo:r}){return 0===t?await this.buildV0MultiTx({extraPreBuildData:e,buildProps:r||{}}):this.buildMultiTx({extraPreBuildData:e,extInfo:r})}async buildV0(e){var t;let r=e||{},{lookupTableCache:i={},lookupTableAddress:n=[],forerunCreate:a,recentBlockhash:o}=r,s=L(r,["lookupTableCache","lookupTableAddress","forerunCreate","recentBlockhash"]),u=U(U({},"devnet"===this.cluster?{}:rB),i),l=Array.from(new Set([...n,...this.lookupTableAddress])),c=[];for(let e of l)void 0===u[e]&&c.push(new h.PublicKey(e));for(let[e,t]of Object.entries(await rR({connection:this.connection,address:c})))u[e]=t;let d=a?h.PublicKey.default.toBase58():null!=o?o:await t7(this.connection,this.blockhashCommitment),f=new h.TransactionMessage({payerKey:this.feePayer,recentBlockhash:d,instructions:[...this.allInstructions]}).compileToV0Message(Object.values(u));(null==(t=this.owner)?void 0:t.signer)&&!this.signers.some(e=>e.publicKey.equals(this.owner.publicKey))&&this.signers.push(this.owner.signer);let p=new h.VersionedTransaction(f);return p.sign(this.signers),{builder:this,transaction:p,signers:this.signers,instructionTypes:[...this.instructionTypes,...this.endInstructionTypes],execute:async e=>{var t;let{skipPreflight:r=!0,sendAndConfirm:i,notSendToRpc:n}=e||{};if(rn([p]),null!=(t=this.owner)&&t.isKeyPair){let e=await this.connection.sendTransaction(p,{skipPreflight:r});return i&&await t9(this.connection,e),{txId:e,signedTx:p}}if(this.signAllTransactions){let e=await this.signAllTransactions([p]);if(this.signers.length)for(let t of e)try{t.sign(this.signers)}catch{}return{txId:n?"":await this.connection.sendTransaction(e[0],{skipPreflight:r}),signedTx:e[0]}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:s||{}}}async buildV0MultiTx(e){var t;let{extraPreBuildData:r=[],buildProps:i}=e,{transaction:n}=await this.buildV0(i),a=r.filter(e=>e.builder.instructions.length>0),o=[n,...a.map(e=>e.transaction)],s=[this.signers,...a.map(e=>e.signers)],u=[...this.instructionTypes,...a.map(e=>e.instructionTypes).flat()];return null!=(t=this.owner)&&t.signer&&s.forEach(e=>{e.some(e=>e.publicKey.equals(this.owner.publicKey))||this.signers.push(this.owner.signer)}),o.forEach(async(e,t)=>{e.sign(s[t])}),{builder:this,transactions:o,signers:s,instructionTypes:u,buildProps:i,execute:async e=>{var t;let{sequentially:r,onTxUpdate:i,recentBlockHash:n,skipPreflight:a=!0}=e||{};if(n&&o.forEach(e=>e.message.recentBlockhash=n),rn(o),null!=(t=this.owner)&&t.isKeyPair){if(r){let e=[];for(let t of o){let r=await this.connection.sendTransaction(t,{skipPreflight:a});await t9(this.connection,r),e.push(r)}return{txIds:e,signedTxs:o}}return{txIds:await Promise.all(o.map(async e=>await this.connection.sendTransaction(e,{skipPreflight:a}))),signedTxs:o}}if(this.signAllTransactions){let e=await this.signAllTransactions(o);if(r){let t=0,r=[],n=async()=>{if(!e[t])return;let o=await this.connection.sendTransaction(e[t],{skipPreflight:a});r.push({txId:o,status:"sent",signedTx:e[t]}),null==i||i([...r]),t++;let s=!1,u=null,l=null,c=e=>{null!==u&&clearInterval(u),null!==l&&this.connection.removeSignatureListener(l);let t=r.findIndex(e=>e.txId===o);if(t>-1){if("error"===r[t].status||"success"===r[t].status)return;r[t].status=e.err?"error":"success"}null==i||i([...r]),e.err||n()};this.loopMultiTxStatus&&(u=setInterval(async()=>{var e;if(s)return void clearInterval(u);try{let t=await this.connection.getTransaction(o,{commitment:"confirmed",maxSupportedTransactionVersion:0});t&&(s=!0,clearInterval(u),c({err:(null==(e=t.meta)?void 0:e.err)||null}),console.log("tx status from getTransaction:",o))}catch(e){s=!0,clearInterval(u),console.error("getTransaction timeout:",e,o)}},2e3)),l=this.connection.onSignature(o,e=>{s?this.connection.removeSignatureListener(l):(s=!0,c(e))},"confirmed"),this.connection.getSignatureStatus(o)};return n(),{txIds:[],signedTxs:e}}{let t=[];for(let r=0;r<e.length;r+=1){let i=await this.connection.sendTransaction(e[r],{skipPreflight:a});t.push(i)}return{txIds:t,signedTxs:e}}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:i||{}}}async sizeCheckBuild(e){var t;let r=e||{},{splitIns:i=[],computeBudgetConfig:n}=r,a=L(r,["splitIns","computeBudgetConfig"]),o=n?t8(n):{instructions:[],instructionTypes:[]},s=this.signers.reduce((e,t)=>F(U({},e),{[t.publicKey.toBase58()]:t}),{}),u=[],l=[],c=[],d=0;if(this.allInstructions.forEach(e=>{let t=[...c,e],r=n?[...o.instructions,...t]:t,a=[...new Set(t.map(e=>e.keys.filter(e=>e.isSigner).map(e=>e.pubkey.toString())).flat()).values()].map(e=>new h.PublicKey(e));if(e!==i[d]&&c.length<12&&(rr({instructions:r,payer:this.feePayer,signers:a})||rr({instructions:t,payer:this.feePayer,signers:a})))c.push(e);else{if(0===c.length)throw Error("item ins too big");d+=+(e===i[d]),rr({instructions:n?[...o.instructions,...c]:[...c],payer:this.feePayer,signers:a})?u.push(new h.Transaction().add(...o.instructions,...c)):u.push(new h.Transaction().add(...c)),l.push(Array.from(new Set(c.map(e=>e.keys.filter(e=>e.isSigner).map(e=>e.pubkey.toString())).flat())).map(e=>s[e]).filter(e=>void 0!==e)),c=[e]}}),c.length>0){let e=[...new Set(c.map(e=>e.keys.filter(e=>e.isSigner).map(e=>e.pubkey.toString())).flat()).values()].map(e=>s[e]).filter(e=>void 0!==e);rr({instructions:n?[...o.instructions,...c]:[...c],payer:this.feePayer,signers:e.map(e=>e.publicKey)})?u.push(new h.Transaction().add(...o.instructions,...c)):u.push(new h.Transaction().add(...c)),l.push(e)}return u.forEach(e=>e.feePayer=this.feePayer),null!=(t=this.owner)&&t.signer&&l.forEach(e=>{e.some(e=>e.publicKey.equals(this.owner.publicKey))||e.push(this.owner.signer)}),{builder:this,transactions:u,signers:l,instructionTypes:this.instructionTypes,execute:async e=>{var t;let{sequentially:r,onTxUpdate:i,skipTxCount:n=0,recentBlockHash:a,skipPreflight:o=!0}=e||{},s=null!=a?a:await t7(this.connection,this.blockhashCommitment);if(u.forEach(async(e,t)=>{e.recentBlockhash=s,l[t].length&&e.sign(...l[t])}),rn(u),null!=(t=this.owner)&&t.isKeyPair){if(r){let e=0,t=[];for(let r of u){if(++e<=n){t.push("tx skipped");continue}let i=await (0,h.sendAndConfirmTransaction)(this.connection,r,this.signers.find(e=>e.publicKey.equals(this.owner.publicKey))?this.signers:[...this.signers,this.owner.signer],{skipPreflight:o});t.push(i)}return{txIds:t,signedTxs:u}}return{txIds:await Promise.all(u.map(async e=>await this.connection.sendRawTransaction(e.serialize(),{skipPreflight:o}))),signedTxs:u}}if(this.signAllTransactions){let e=await this.signAllTransactions(u.slice(n,u.length)),t=[...u.slice(0,n),...e];if(r){let e=0,r=[],a=async()=>{if(!t[e])return;e<n&&(r.push({txId:"",status:"success",signedTx:t[e]}),null==i||i([...r]),e++,a());let s=await this.connection.sendRawTransaction(t[e].serialize(),{skipPreflight:o});r.push({txId:s,status:"sent",signedTx:t[e]}),null==i||i([...r]),e++;let u=!1,l=null,c=null,d=e=>{null!==l&&clearInterval(l),null!==c&&this.connection.removeSignatureListener(c);let t=r.findIndex(e=>e.txId===s);if(t>-1){if("error"===r[t].status||"success"===r[t].status)return;r[t].status=e.err?"error":"success"}null==i||i([...r]),e.err||a()};this.loopMultiTxStatus&&(l=setInterval(async()=>{var e;if(u)return void clearInterval(l);try{let t=await this.connection.getTransaction(s,{commitment:"confirmed",maxSupportedTransactionVersion:0});t&&(u=!0,clearInterval(l),d({err:(null==(e=t.meta)?void 0:e.err)||null}),console.log("tx status from getTransaction:",s))}catch(e){u=!0,clearInterval(l),console.error("getTransaction timeout:",e,s)}},2e3)),c=this.connection.onSignature(s,e=>{u?this.connection.removeSignatureListener(c):(u=!0,d(e))},"confirmed"),this.connection.getSignatureStatus(s)};return await a(),{txIds:r.map(e=>e.txId),signedTxs:t}}{let e=[];for(let r=0;r<t.length;r+=1){let i=await this.connection.sendRawTransaction(t[r].serialize(),{skipPreflight:o});e.push(i)}return{txIds:e,signedTxs:t}}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:a||{}}}async sizeCheckBuildV0(e){var t;let r=e||{},{computeBudgetConfig:i,splitIns:n=[],lookupTableCache:a={},lookupTableAddress:o=[]}=r,s=L(r,["computeBudgetConfig","splitIns","lookupTableCache","lookupTableAddress"]),u=U(U({},"devnet"===this.cluster?{}:rB),a),l=Array.from(new Set([...this.lookupTableAddress,...o])),c=[];for(let e of l)void 0===u[e]&&c.push(new h.PublicKey(e));for(let[e,t]of Object.entries(await rR({connection:this.connection,address:c})))u[e]=t;let d=i?t8(i):{instructions:[],instructionTypes:[]},f=await t7(this.connection,this.blockhashCommitment),p=this.signers.reduce((e,t)=>F(U({},e),{[t.publicKey.toBase58()]:t}),{}),m=[],b=[],g=[],y=0;if(this.allInstructions.forEach(e=>{let t=[...g,e],r=i?[...d.instructions,...t]:t;if(e!==n[y]&&g.length<12&&(ri({instructions:r,payer:this.feePayer,lookupTableAddressAccount:u})||ri({instructions:t,payer:this.feePayer,lookupTableAddressAccount:u})))g.push(e);else{if(0===g.length)throw Error("item ins too big");y+=+(e===n[y]);let t={};for(let e of[...new Set(l)])void 0!==u[e]&&(t[e]=u[e]);if(i&&ri({instructions:[...d.instructions,...g],payer:this.feePayer,lookupTableAddressAccount:u,recentBlockhash:f})){let e=new h.TransactionMessage({payerKey:this.feePayer,recentBlockhash:f,instructions:[...d.instructions,...g]}).compileToV0Message(Object.values(u));m.push(new h.VersionedTransaction(e))}else{let e=new h.TransactionMessage({payerKey:this.feePayer,recentBlockhash:f,instructions:[...g]}).compileToV0Message(Object.values(u));m.push(new h.VersionedTransaction(e))}b.push(Array.from(new Set(g.map(e=>e.keys.filter(e=>e.isSigner).map(e=>e.pubkey.toString())).flat())).map(e=>p[e]).filter(e=>void 0!==e)),g=[e]}}),g.length>0){let e=[...new Set(g.map(e=>e.keys.filter(e=>e.isSigner).map(e=>e.pubkey.toString())).flat()).values()].map(e=>p[e]).filter(e=>void 0!==e);if(i&&ri({instructions:[...d.instructions,...g],payer:this.feePayer,lookupTableAddressAccount:u,recentBlockhash:f})){let e=new h.TransactionMessage({payerKey:this.feePayer,recentBlockhash:f,instructions:[...d.instructions,...g]}).compileToV0Message(Object.values(u));m.push(new h.VersionedTransaction(e))}else{let e=new h.TransactionMessage({payerKey:this.feePayer,recentBlockhash:f,instructions:[...g]}).compileToV0Message(Object.values(u));m.push(new h.VersionedTransaction(e))}b.push(e)}return null!=(t=this.owner)&&t.signer&&b.forEach(e=>{e.some(e=>e.publicKey.equals(this.owner.publicKey))||e.push(this.owner.signer)}),{builder:this,transactions:m,buildProps:e,signers:b,instructionTypes:this.instructionTypes,execute:async e=>{var t;let{sequentially:r,onTxUpdate:i,skipTxCount:n=0,recentBlockHash:a,skipPreflight:o=!0}=e||{};if(m.map(async(e,t)=>{b[t].length&&e.sign(b[t]),a&&(e.message.recentBlockhash=a)}),rn(m),null!=(t=this.owner)&&t.isKeyPair){if(r){let e=0,t=[];for(let r of m){if(++e<=n){console.log("skip tx: ",e),t.push("tx skipped");continue}let i=await this.connection.sendTransaction(r,{skipPreflight:o});await t9(this.connection,i),t.push(i)}return{txIds:t,signedTxs:m}}return{txIds:await Promise.all(m.map(async e=>await this.connection.sendTransaction(e,{skipPreflight:o}))),signedTxs:m}}if(this.signAllTransactions){let e=await this.signAllTransactions(m.slice(n,m.length)),t=[...m.slice(0,n),...e];if(r){let e=0,r=[],a=async()=>{if(!t[e])return;if(e<n){r.push({txId:"",status:"success",signedTx:t[e]}),null==i||i([...r]),e++,a();return}let s=await this.connection.sendTransaction(t[e],{skipPreflight:o});r.push({txId:s,status:"sent",signedTx:t[e]}),null==i||i([...r]),e++;let u=!1,l=null,c=null,d=e=>{null!==l&&clearInterval(l),null!==c&&this.connection.removeSignatureListener(c);let t=r.findIndex(e=>e.txId===s);if(t>-1){if("error"===r[t].status||"success"===r[t].status)return;r[t].status=e.err?"error":"success"}null==i||i([...r]),e.err||a()};this.loopMultiTxStatus&&(l=setInterval(async()=>{var e;if(u)return void clearInterval(l);try{let t=await this.connection.getTransaction(s,{commitment:"confirmed",maxSupportedTransactionVersion:0});t&&(u=!0,clearInterval(l),d({err:(null==(e=t.meta)?void 0:e.err)||null}),console.log("tx status from getTransaction:",s))}catch(e){u=!0,clearInterval(l),console.error("getTransaction timeout:",e,s)}},2e3)),c=this.connection.onSignature(s,e=>{u?this.connection.removeSignatureListener(c):(u=!0,d(e))},"confirmed"),this.connection.getSignatureStatus(s)};return a(),{txIds:[],signedTxs:t}}{let e=[];for(let r=0;r<t.length;r+=1){let i=await this.connection.sendTransaction(t[r],{skipPreflight:o});e.push(i)}return{txIds:e,signedTxs:t}}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:s||{}}}},rO=new A.default(1e6),rD=((a=rD||{}).ALL="all",a.Strict="strict",a),rM=((o=rM||{}).All="all",o.Standard="standard",o.Concentrated="concentrated",o.AllFarm="allFarm",o.StandardFarm="standardFarm",o.ConcentratedFarm="concentratedFarm",o),rU={BASE_HOST:"https://api-v3.raydium.io",OWNER_BASE_HOST:"https://owner-v1.raydium.io",SERVICE_BASE_HOST:"https://service.raydium.io",MONITOR_BASE_HOST:"https://monitor.raydium.io",SERVICE_1_BASE_HOST:"https://service-v1.raydium.io",SEND_TRANSACTION:"/send-transaction",FARM_ARP:"/main/farm/info",FARM_ARP_LINE:"/main/farm-apr-tv",CLMM_CONFIG:"/main/clmm-config",CPMM_CONFIG:"/main/cpmm-config",VERSION:"/main/version",CHECK_AVAILABILITY:"/v3/main/AvailabilityCheckAPI",RPCS:"/main/rpcs",INFO:"/main/info",STAKE_POOLS:"/main/stake-pools",CHAIN_TIME:"/main/chain-time",TOKEN_LIST:"/mint/list",MINT_INFO_ID:"/mint/ids",JUP_TOKEN_LIST:"https://tokens.jup.ag/tokens?tags=lst,community",POOL_LIST:"/pools/info/list",POOL_SEARCH_BY_ID:"/pools/info/ids",POOL_SEARCH_MINT:"/pools/info/mint",POOL_SEARCH_LP:"/pools/info/lps",POOL_KEY_BY_ID:"/pools/key/ids",POOL_LIQUIDITY_LINE:"/pools/line/liquidity",POOL_POSITION_LINE:"/pools/line/position",FARM_INFO:"/farms/info/ids",FARM_LP_INFO:"/farms/info/lp",FARM_KEYS:"/farms/key/ids",OWNER_CREATED_FARM:"/create-pool/{owner}",OWNER_IDO:"/main/ido/{owner}",OWNER_STAKE_FARMS:"/position/stake/{owner}",OWNER_LOCK_POSITION:"/position/clmm-lock/{owner}",IDO_KEYS:"/ido/key/ids",SWAP_HOST:"https://transaction-v1.raydium.io",SWAP_COMPUTE:"/compute/",SWAP_TX:"/transaction/",MINT_PRICE:"/mint/price",MIGRATE_CONFIG:"/main/migrate-lp",PRIORITY_FEE:"/main/auto-fee",CPMM_LOCK:"https://dynamic-ipfs.raydium.io/lock/cpmm/position"};U({},rU);var rF="ray_tab_hash",rL="ray_req_hash",rq=async e=>{let t;var{logCount:r=1e3,removeLastLog:i}=e,n=L(e,["logCount","removeLastLog"]);let a=JSON.parse(localStorage.getItem(rL)||"[]").slice(0,r-1);i&&a.pop(),new Blob([JSON.stringify(n.data)]).size>1024&&(n.data=JSON.stringify(n.data).substring(0,200)+"..."),a.unshift(F(U({},n),{time:Date.now(),session:((t=sessionStorage.getItem(rF))||(t=`ray-${Date.now()}`,sessionStorage.setItem(rF,t)),t)}));try{localStorage.setItem(rL,JSON.stringify(a))}catch{if(i){let e=!1,t=JSON.stringify(n.data).substring(0,100);for(a[0].data=t+(t.length>100?"...":"");!e;){a.pop();let t=JSON.stringify(n.data).substring(0,100);a[0].data=t+(t.length>100?"...":"");try{localStorage.setItem(rL,JSON.stringify(a)),e=!0}catch{e=!1}}return new Promise(e=>e())}return rq(F(U({},n),{logCount:r,removeLastLog:!0}))}},rK=G("Raydium_Api"),rW=new Map,rV=(...e)=>e.map(e=>{try{return"object"==typeof e?JSON.stringify(e):e}catch{return e}}).join(", "),rG=class{constructor({scope:e,moduleName:t}){this.disabled=!1,this.scope=e,this.logger=G(t)}createTxBuilder(e){return this.scope.checkOwner(),new rC({connection:this.scope.connection,feePayer:e||this.scope.ownerPubKey,cluster:this.scope.cluster,owner:this.scope.owner,blockhashCommitment:this.scope.blockhashCommitment,loopMultiTxStatus:this.scope.loopMultiTxStatus,api:this.scope.api,signAllTransactions:this.scope.signAllTransactions})}logDebug(...e){this.logger.debug(rV(e))}logInfo(...e){this.logger.info(rV(e))}logAndCreateError(...e){throw Error(rV(e))}checkDisabled(){(this.disabled||!this.scope)&&this.logAndCreateError("module not working")}};function rz(e,...t){if(!(e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function rj(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}var rH=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),rX=(e,t)=>e<<32-t|e>>>t;function rQ(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}(e)),rz(e),e}new Uint8Array(new Uint32Array([0x11223344]).buffer)[0];var rJ=class{clone(){return this._cloneInto()}},rY=(e,t,r)=>e&t^~e&r,rZ=(e,t,r)=>e&t^e&r^t&r,r$=class extends rJ{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=rH(this.buffer)}update(e){rj(this);let{view:t,buffer:r,blockLen:i}=this,n=(e=rQ(e)).length;for(let a=0;a<n;){let o=Math.min(i-this.pos,n-a);if(o===i){let t=rH(e);for(;i<=n-a;a+=i)this.process(t,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){rj(this),function(e,t){rz(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:i,isLE:n}=this,{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(r,0),a=0);for(let e=a;e<i;e++)t[e]=0;(function(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);let n=BigInt(32),a=BigInt(0xffffffff),o=Number(r>>n&a),s=Number(r&a),u=4*!!i,l=4*!i;e.setUint32(t+u,o,i),e.setUint32(t+l,s,i)})(r,i-8,BigInt(8*this.length),n),this.process(r,0);let o=rH(e),s=this.outputLen;if(s%4)throw Error("_sha2: outputLen should be aligned to 32bit");let u=s/4,l=this.get();if(u>l.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)o.setUint32(4*e,l[e],n)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:i,finished:n,destroyed:a,pos:o}=this;return e.length=i,e.pos=o,e.finished=n,e.destroyed=a,i%t&&e.buffer.set(r),e}},r0=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),r1=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),r2=new Uint32Array(64),r5=class extends r${constructor(){super(64,32,8,!1),this.A=0|r1[0],this.B=0|r1[1],this.C=0|r1[2],this.D=0|r1[3],this.E=0|r1[4],this.F=0|r1[5],this.G=0|r1[6],this.H=0|r1[7]}get(){let{A:e,B:t,C:r,D:i,E:n,F:a,G:o,H:s}=this;return[e,t,r,i,n,a,o,s]}set(e,t,r,i,n,a,o,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|i,this.E=0|n,this.F=0|a,this.G=0|o,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)r2[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=r2[e-15],r=r2[e-2],i=rX(t,7)^rX(t,18)^t>>>3,n=rX(r,17)^rX(r,19)^r>>>10;r2[e]=n+r2[e-7]+i+r2[e-16]|0}let{A:r,B:i,C:n,D:a,E:o,F:s,G:u,H:l}=this;for(let e=0;e<64;e++){let t=l+(rX(o,6)^rX(o,11)^rX(o,25))+rY(o,s,u)+r0[e]+r2[e]|0,c=(rX(r,2)^rX(r,13)^rX(r,22))+rZ(r,i,n)|0;l=u,u=s,s=o,o=a+t|0,a=n,n=i,i=r,r=t+c|0}r=r+this.A|0,i=i+this.B|0,n=n+this.C|0,a=a+this.D|0,o=o+this.E|0,s=s+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,i,n,a,o,s,u,l)}roundClean(){r2.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},r6=(d=()=>new r5,(s=e=>d().update(rQ(e)).digest()).outputLen=(u=d()).outputLen,s.blockLen=u.blockLen,s.create=()=>d(),s),r3=I.Layout,r4=I.Structure,r8=(I.Union,I.BitStructure,I.UInt),r7=(I.Blob,I.greedy,I.u8),r9=I.u16,ie=(I.u24,I.u32),it=(I.u40,I.u48,I.nu64),ir=(I.u16be,I.u24be,I.u32be,I.u40be,I.u48be,I.nu64be,I.s8,I.s16,I.s24,I.s32);I.s40,I.s48,I.ns64,I.s16be,I.s24be,I.s32be,I.s40be,I.s48be,I.ns64be,I.f32,I.f32be,I.f64,I.f64be;var ii=I.seq,ia=(I.union,I.unionLayoutDiscriminator,I.blob),io=(I.cstr,I.utf8,I.bits),is=I.offset,iu=class extends r3{constructor(e,t,r){super(e,r),this.blob=ia(e),this.signed=t}decode(e,t=0){let r=new A.default(this.blob.decode(e,t),10,"le");return this.signed?r.fromTwos(8*this.span).clone():r}encode(e,t,r=0){return"number"==typeof e&&(e=new A.default(e)),this.signed&&(e=e.toTwos(8*this.span)),this.blob.encode(e.toArrayLike(f.Buffer,"le",this.span),t,r)}},il=class extends r3{constructor(e){super(8,e),this._lower=io(ie(),!1),this._upper=io(ie(),!1)}addBoolean(e){this._lower.fields.length<32?this._lower.addBoolean(e):this._upper.addBoolean(e)}decode(e,t=0){let r=this._lower.decode(e,t),i=this._upper.decode(e,t+this._lower.span);return U(U({},r),i)}encode(e,t,r=0){return this._lower.encode(e,t,r)+this._upper.encode(e,t,r+this._lower.span)}};function ic(e){return new r8(1,e)}function id(e){return new r8(4,e)}function ip(e){return new iu(8,!1,e)}function ih(e){return new iu(16,!1,e)}function im(e){return new iu(8,!0,e)}var ib=class extends r3{constructor(e,t,r,i){super(e.span,i),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}};function ig(e){return new ib(ia(32),e=>new h.PublicKey(e),e=>e.toBuffer(),e)}function iy(e){return new ib(r7(),ix,iA,e)}function ix(e){if(0===e)return!1;if(1===e)return!0;throw Error("Invalid bool: "+e)}function iA(e){return+!!e}var iw=class extends r4{decode(e,t){return super.decode(e,t)}};function iv(e,t,r){return new iw(e,t,r)}function iS(e,t,r){let i;return ii(e,"number"==typeof t?t:(0,A.isBN)(t)?t.toNumber():new Proxy(t,{get(e,t){if(!i){let t=Reflect.get(e,"count");Reflect.set(e,"count",i=(0,A.isBN)(t)?t.toNumber():t)}return Reflect.get(e,t)},set:(e,t,r)=>("count"===t&&(i=r),Reflect.set(e,t,r))}),r)}iv([ig("mint"),ig("owner"),ip("amount"),id("delegateOption"),ig("delegate"),ic("state"),id("isNativeOption"),ip("isNative"),ip("delegatedAmount"),id("closeAuthorityOption"),ig("closeAuthority")]);G("Raydium_Util");var iT=iv([ic("instruction")]),iE=iv([ic("instruction")]),ik=iv([ip("rewardState"),ip("rewardOpenTime"),ip("rewardEndTime"),ip("rewardLastUpdateTime"),ip("totalReward"),ip("totalRewardEmissioned"),ip("rewardClaimed"),ip("rewardPerSecond"),ih("accRewardPerShare"),ig("rewardVault"),ig("rewardMint"),ig("rewardSender"),ip("rewardType"),iS(ip(),15,"padding")]),iP=iv([ip("state"),ip("nonce"),ig("lpVault"),ig("rewardVault"),ig(),ig(),ip(),ip(),ip("totalReward"),ih("perShareReward"),ip("lastSlot"),ip("perSlotReward")]),i_=iv([ip("state"),ip("nonce"),ig("lpVault"),ig("rewardVaultA"),ip("totalRewardA"),ih("perShareRewardA"),ip("perSlotRewardA"),ic("option"),ig("rewardVaultB"),ia(7),ip("totalRewardB"),ih("perShareRewardB"),ip("perSlotRewardB"),ip("lastSlot"),ig()]),iI=iv([ip(),ip("state"),ip("nonce"),ip("validRewardTokenNum"),ih("rewardMultiplier"),ip("rewardPeriodMax"),ip("rewardPeriodMin"),ip("rewardPeriodExtend"),ig("lpMint"),ig("lpVault"),iS(ik,5,"rewardInfos"),ig("creator"),ig(),iS(ip(),32,"padding")]),iN=(new Proxy(iP,{get:(e,t,r)=>"decode"===t?(...t)=>{let r=e.decode(...t);return F(U({},r),{version:3,rewardInfos:[{rewardVault:r.rewardVault,totalReward:r.totalReward,perSlotReward:r.perSlotReward,perShareReward:r.perShareReward}]})}:Reflect.get(e,t,r)}),new Proxy(i_,{get:(e,t,r)=>"decode"===t?(...t)=>{let r=e.decode(...t);return F(U({},r),{version:5,rewardInfos:[{rewardVault:r.rewardVaultA,totalReward:r.totalRewardA,perSlotReward:r.perSlotRewardA,perShareReward:r.perShareRewardA},{rewardVault:r.rewardVaultB,totalReward:r.totalRewardB,perSlotReward:r.perSlotRewardB,perShareReward:r.perShareRewardB}]})}:Reflect.get(e,t,r)}),new Proxy(iI,{get:(e,t,r)=>"decode"===t?(...t)=>{let r=e.decode(...t);return F(U({},r),{version:6,rewardInfos:r.rewardInfos.map(e=>{var t;return F(U({},e),{rewardType:(null!=(t=Object.entries(iG).find(t=>String(t[1])===e.rewardType.toString()))?t:["Standard SPL"])[0]})})})}:Reflect.get(e,t,r)})),iR=iv([ip("isSet"),ip("rewardPerSecond"),ip("rewardOpenTime"),ip("rewardEndTime"),ip("rewardType")]),iB=iv([ic("instruction"),ip("nonce"),iS(iR,5,"rewardTimeInfo")]),iC=iv([ic("instruction"),ip("rewardReopenTime"),ip("rewardEndTime"),ip("rewardPerSecond")]),iO=iv([ic("instruction"),ip("isSet"),ip("rewardPerSecond"),ip("rewardOpenTime"),ip("rewardEndTime"),ip("rewardType")]),iD=(iv([ip("state"),ig("id"),ig("owner"),ip("deposited"),iS(ip(),1,"rewardDebts")]),iv([ip("state"),ig("id"),ig("owner"),ip("deposited"),iS(ih(),1,"rewardDebts"),ip(""),ip("voteLockedBalance"),iS(ip(),15)])),iM=(iv([ip("state"),ig("id"),ig("owner"),ip("deposited"),iS(ip(),2,"rewardDebts")]),iv([ip("state"),ig("id"),ig("owner"),ip("deposited"),iS(ih(),2,"rewardDebts"),iS(ip(),17)])),iU=iv([ip(),ip("state"),ig("id"),ig("owner"),ip("deposited"),iS(ih(),5,"rewardDebts"),iS(ip(),16)]),iF=iv([ic("instruction"),ip("amount")]),iL=iv([ig("mint"),ig("grantAuthority"),ip("baselineVoteWeightScaledFactor"),ip("maxExtraLockupVoteWeightScaledFactor"),ip("lockupSaturationSecs"),new iu(1,!0,"digitShift"),iS(ic(),7,"reserved1"),iS(ip(),7,"reserved2")]),iq=(iv([ia(8),ig("governanceProgramId"),ig("realm"),ig("realmGoverningTokenMint"),ig("realmAuthority"),iS(ic(),32,"reserved1"),iS(iL,4,"votingMints"),im("timeOffset"),ic("bump"),iS(ic(),7,"reserved2"),iS(ip(),11,"reserved3")]),iv([im("startTime"),im("endTime"),ic("kind"),iS(ic(),15,"reserved")])),iK=iv([iS(iq,1,"lockup"),ip("amountDeposited_native"),ip("amountInitiallyLockedNative"),iy("isUsed"),iy("allowClawback"),ic("votingMintConfigIdx"),iS(ic(),29,"reserved")]);iv([ia(8),ig("voterAuthority"),ig("registrar"),iS(iK,32,"deposits"),ic("voterBump"),ic("voterWweightRecordBump"),iS(ic(),94,"reserved")]),G("Raydium_farm_config");var iW=new h.PublicKey("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),iV=new h.PublicKey("FrspKwj8i3pNmKwXreTveC4fu7KL5ZbGeXdZBe2XViu1"),iG={"Standard SPL":0,"Option tokens":1},iz={[ro.toString()]:3,[rs.toString()]:4,[ru.toString()]:5,[rl.toString()]:6},ij=G("Raydium.farm.util");G("Raydium_farm_instruction");f.Buffer.from([6,24,245,52,243,255,148,25]),f.Buffer.from([185,131,167,186,159,125,19,67]),f.Buffer.from([242,35,198,137,82,225,242,182]),f.Buffer.from([183,18,70,156,148,109,161,34]),f.Buffer.from([45,185,3,36,109,190,115,169]);var iH=new A.default(0),iX=new A.default(1),iQ=new A.default(-1),iJ=new A.default(1).shln(64),iY=new A.default(1).shln(128),iZ=iJ.sub(iX),i$=iY.subn(1),i0=new A.default("4295048016"),i1=new A.default("79226673521066979257578248091"),i2=new A.default("4295048017"),i5=new A.default("79226673521066979257578248090"),i6=new A.default(10).pow(new A.default(6)),i3=((l=i3||{})[l.rate_500=500]="rate_500",l[l.rate_3000=3e3]="rate_3000",l[l.rate_10000=1e4]="rate_10000",l),i4={tvl:0,volumeQuote:0,mintAmountA:0,mintAmountB:0,rewardDefaultInfos:[],farmUpcomingCount:0,farmOngoingCount:0,farmFinishedCount:0,day:{volume:0,volumeQuote:0,volumeFee:0,apr:0,feeApr:0,priceMin:0,priceMax:0,rewardApr:[0]},week:{volume:0,volumeQuote:0,volumeFee:0,apr:0,feeApr:0,priceMin:0,priceMax:0,rewardApr:[0]},month:{volume:0,volumeQuote:0,volumeFee:0,apr:0,feeApr:0,priceMin:0,priceMax:0,rewardApr:[0]},pooltype:[]};function i8(e){let t=new ArrayBuffer(4);return new DataView(t).setInt32(0,e,!1),new Uint8Array(t)}function i7(e,t){let r=0;for(let i=e-1;i>=0&&!t.testn(i);i--)r++;return r}function i9(e,t){let r=0;for(let i=0;i<e&&!t.testn(i);i++)r++;return r}function ne(e,t){for(let r=0;r<e;r++)if(t.testn(r))return!1;return!0}new A.default("18446744073700000000"),f.Buffer.from("amm_config","utf8");var nt=f.Buffer.from("pool","utf8"),nr=f.Buffer.from("pool_vault","utf8"),ni=f.Buffer.from("pool_reward_vault","utf8"),nn=f.Buffer.from("position","utf8"),na=f.Buffer.from("tick_array","utf8"),no=f.Buffer.from("operation","utf8"),ns=f.Buffer.from("pool_tick_array_bitmap_extension","utf8"),nu=f.Buffer.from("observation","utf8");function nl(e,t,r){return rt([nr,t.toBuffer(),r.toBuffer()],e)}function nc(e,t,r){return rt([na,t.toBuffer(),i8(r)],e)}function nd(e,t,r,i){return rt([nn,t.toBuffer(),i8(r),i8(i)],e)}function nf(e,t){return rt([nn,t.toBuffer()],e)}function np(e){return rt([f.Buffer.from("metadata","utf8"),tF.toBuffer(),e.toBuffer()],tF)}function nh(e,t){return rt([ns,t.toBuffer()],e)}var nm=f.Buffer.from("locked_position","utf8");function nb(e,t){return rt([nm,t.toBuffer()],e)}function ng(e,t){return rt([nm,t.toBuffer()],e)}f.Buffer.from("support_mint","utf8");var ny=class{static getfeeGrowthInside(e,t,r){let i=new A.default(0),n=new A.default(0);e.tickCurrent>=t.tick?(i=t.feeGrowthOutsideX64A,n=t.feeGrowthOutsideX64B):(i=e.feeGrowthGlobalX64A.sub(t.feeGrowthOutsideX64A),n=e.feeGrowthGlobalX64B.sub(t.feeGrowthOutsideX64B));let a=new A.default(0),o=new A.default(0);return e.tickCurrent<r.tick?(a=r.feeGrowthOutsideX64A,o=r.feeGrowthOutsideX64B):(a=e.feeGrowthGlobalX64A.sub(r.feeGrowthOutsideX64A),o=e.feeGrowthGlobalX64B.sub(r.feeGrowthOutsideX64B)),{feeGrowthInsideX64A:nS.wrappingSubU128(nS.wrappingSubU128(e.feeGrowthGlobalX64A,i),a),feeGrowthInsideBX64:nS.wrappingSubU128(nS.wrappingSubU128(e.feeGrowthGlobalX64B,n),o)}}static GetPositionFees(e,t,r,i){let{feeGrowthInsideX64A:n,feeGrowthInsideBX64:a}=this.getfeeGrowthInside(e,r,i),o=nS.mulDivFloor(nS.wrappingSubU128(n,t.feeGrowthInsideLastX64A),t.liquidity,iJ),s=t.tokenFeesOwedA.add(o),u=nS.mulDivFloor(nS.wrappingSubU128(a,t.feeGrowthInsideLastX64B),t.liquidity,iJ);return{tokenFeeAmountA:s,tokenFeeAmountB:t.tokenFeesOwedB.add(u)}}static GetPositionFeesV2(e,t,r,i){let{feeGrowthInsideX64A:n,feeGrowthInsideBX64:a}=this.getfeeGrowthInside(e,r,i),o=nS.mulDivFloor(nS.wrappingSubU128(n,t.feeGrowthInsideLastX64A),t.liquidity,iJ),s=t.tokenFeesOwedA.add(o),u=nS.mulDivFloor(nS.wrappingSubU128(a,t.feeGrowthInsideLastX64B),t.liquidity,iJ);return{tokenFeeAmountA:s,tokenFeeAmountB:t.tokenFeesOwedB.add(u)}}static GetPositionRewardsV2(e,t,r,i){let n=[],a=this.getRewardGrowthInsideV2(e.tickCurrent,r,i,e.rewardInfos);for(let e=0;e<a.length;e++){let r=a[e],i=t.rewardInfos[e],o=nS.wrappingSubU128(r,i.growthInsideLastX64),s=nS.mulDivFloor(o,t.liquidity,iJ),u=i.rewardAmountOwed.add(s);n.push(u)}return n}static GetPositionRewards(e,t,r,i){let n=[],a=this.getRewardGrowthInside(e.tickCurrent,r,i,e.rewardInfos);for(let e=0;e<a.length;e++){let r=a[e],i=t.rewardInfos[e],o=nS.wrappingSubU128(r,i.growthInsideLastX64),s=nS.mulDivFloor(o,t.liquidity,iJ),u=i.rewardAmountOwed.add(s);n.push(u)}return n}static getRewardGrowthInside(e,t,r,i){let n=[];for(let a=0;a<i.length;a++){let o=new A.default(0);o=t.liquidityGross.eqn(0)?i[a].rewardGrowthGlobalX64:e<t.tick?i[a].rewardGrowthGlobalX64.sub(t.rewardGrowthsOutsideX64[a]):t.rewardGrowthsOutsideX64[a];let s=new A.default(0);r.liquidityGross.eqn(0)||(s=e<r.tick?r.rewardGrowthsOutsideX64[a]:i[a].rewardGrowthGlobalX64.sub(r.rewardGrowthsOutsideX64[a])),n.push(nS.wrappingSubU128(nS.wrappingSubU128(i[a].rewardGrowthGlobalX64,o),s))}return n}static getRewardGrowthInsideV2(e,t,r,i){let n=[];for(let a=0;a<i.length;a++){let o=new A.default(0);o=t.liquidityGross.eqn(0)?i[a].rewardGrowthGlobalX64:e<t.tick?i[a].rewardGrowthGlobalX64.sub(t.rewardGrowthsOutsideX64[a]):t.rewardGrowthsOutsideX64[a];let s=new A.default(0);r.liquidityGross.eqn(0)||(s=e<r.tick?r.rewardGrowthsOutsideX64[a]:i[a].rewardGrowthGlobalX64.sub(r.rewardGrowthsOutsideX64[a])),n.push(nS.wrappingSubU128(nS.wrappingSubU128(i[a].rewardGrowthGlobalX64,o),s))}return n}static getAmountsFromLiquidity({poolInfo:e,ownerPosition:t,liquidity:r,slippage:i,add:n,epochInfo:a}){var o,s,u,l;let c=nk.priceToSqrtPriceX64(new tb(e.price),e.mintA.decimals,e.mintB.decimals),d=nk.getSqrtPriceX64FromTick(t.tickLower),f=nk.getSqrtPriceX64FromTick(t.tickUpper),p=n?1+i:1-i,h=n_.getAmountsFromLiquidity(c,d,f,r,n),[m,b]=[rP(h.amountA,null==(o=e.mintA.extensions)?void 0:o.feeConfig,a,!0),rP(h.amountB,null==(s=e.mintB.extensions)?void 0:s.feeConfig,a,!0)],[g,y]=[rP(new A.default(new tb(h.amountA.toString()).mul(p).toFixed(0)),null==(u=e.mintA.extensions)?void 0:u.feeConfig,a,!0),rP(new A.default(new tb(h.amountB.toString()).mul(p).toFixed(0)),null==(l=e.mintB.extensions)?void 0:l.feeConfig,a,!0)];return{liquidity:r,amountA:m,amountB:b,amountSlippageA:g,amountSlippageB:y,expirationTime:r_(m.expirationTime,b.expirationTime)}}},nx=class{static async getTickArrays(e,t,r,i,n,a,o){let s=[],u=nB.getTickArrayStartIndexByTick(i,n),l=nB.getInitializedTickArrayInRange(a,o,n,u,Math.floor(7.5));for(let e=0;e<l.length;e++){let{publicKey:i}=nc(t,r,l[e]);s.push(i)}let c=(await j(e,s)).map(e=>null!==e?nK.decode(e.data):null),d={};for(let e=0;e<s.length;e++){let t=c[e];null!==t&&(d[t.startTickIndex]=F(U({},t),{address:s[e]}))}return d}static nextInitializedTick(e,t,r,i,n,a){let{initializedTick:o,tickArrayAddress:s,tickArrayStartTickIndex:u}=this.nextInitializedTickInOneArray(e,t,r,i,n,a);for(;null==o||o.liquidityGross.lten(0);){if(u=nB.getNextTickArrayStartIndex(u,n,a),this.checkIsValidStartIndex(u,n))throw Error("No enough initialized tickArray");let i=r[u];if(void 0===i)continue;let{nextTick:l,tickArrayAddress:c,tickArrayStartTickIndex:d}=this.firstInitializedTickInOneArray(e,t,i,a);[o,s,u]=[l,c,d]}if(null==o)throw Error("No invaild tickArray cache");return{nextTick:o,tickArrayAddress:s,tickArrayStartTickIndex:u}}static nextInitializedTickArray(e,t,r,i,n){let a=Math.floor(e/nx.tickCount(t)),o=r?nB.searchLowBitFromStart(i,n,a-1,1,t):nB.searchHightBitFromStart(i,n,a+1,1,t);return o.length>0?{isExist:!0,nextStartIndex:o[0]}:{isExist:!1,nextStartIndex:0}}static firstInitializedTickInOneArray(e,t,r,i){let n;if(i){let e=nN-1;for(;e>=0;){let t=r.ticks[e];if(t.liquidityGross.gtn(0)){n=t;break}e-=1}}else{let e=0;for(;e<nN;){let t=r.ticks[e];if(t.liquidityGross.gtn(0)){n=t;break}e+=1}}let{publicKey:a}=nc(e,t,r.startTickIndex);return{nextTick:n,tickArrayAddress:a,tickArrayStartTickIndex:r.startTickIndex}}static nextInitializedTickInOneArray(e,t,r,i,n,a){let o,s=nB.getTickArrayStartIndexByTick(i,n),u=Math.floor((i-s)/n),l=r[s];if(null==l)return{initializedTick:void 0,tickArrayAddress:void 0,tickArrayStartTickIndex:s};if(a)for(;u>=0;){let e=l.ticks[u];if(e.liquidityGross.gtn(0)){o=e;break}u-=1}else for(u+=1;u<nN;){let e=l.ticks[u];if(e.liquidityGross.gtn(0)){o=e;break}u+=1}let{publicKey:c}=nc(e,t,s);return{initializedTick:o,tickArrayAddress:c,tickArrayStartTickIndex:l.startTickIndex}}static getArrayStartIndex(e,t){let r=this.tickCount(t);return Math.floor(e/r)*r}static checkIsValidStartIndex(e,t){return nB.checkIsOutOfBoundary(e)?!(e>443636)&&e==nB.getTickArrayStartIndexByTick(-443636,t):e%this.tickCount(t)==0}static tickCount(e){return nN*e}},nA=class{static maxTickInTickarrayBitmap(e){return e*nN*nR}static getBitmapTickBoundary(e,t){let r=this.maxTickInTickarrayBitmap(t),i=Math.floor(Math.abs(e)/r);e<0&&Math.abs(e)%r!=0&&(i+=1);let n=r*i;return e<0?{minValue:-n,maxValue:-n+r}:{minValue:n,maxValue:n+r}}static nextInitializedTickArrayStartIndex(e,t,r,i){var n,a;if(!nx.checkIsValidStartIndex(t,r))throw Error("nextInitializedTickArrayStartIndex check error");let o=this.maxTickInTickarrayBitmap(r),s=i?t-nx.tickCount(r):t+nx.tickCount(r);if(s<-o||s>=o)return{isInit:!1,tickIndex:t};let u=r*nN,l=s/u+512;s<0&&s%u!=0&&l--;let c=Math.abs(l);if(i){let t=ne(1024,n=e.shln(1024-c-1))?null:i7(1024,n);return null!==t?{isInit:!0,tickIndex:(c-t-512)*u}:{isInit:!1,tickIndex:-o}}{let t=ne(1024,a=e.shrn(c))?null:i9(1024,a);return null!==t?{isInit:!0,tickIndex:(c+t-512)*u}:{isInit:!1,tickIndex:o-nx.tickCount(r)}}}},nw=class{static getBitmapOffset(e,t){if(!nx.checkIsValidStartIndex(e,t))throw Error("No enough initialized tickArray");this.checkExtensionBoundary(e,t);let r=nA.maxTickInTickarrayBitmap(t),i=Math.floor(Math.abs(e)/r)-1;return e<0&&Math.abs(e)%r==0&&i--,i}static getBitmap(e,t,r){let i=this.getBitmapOffset(e,t);return e<0?{offset:i,tickarrayBitmap:r.negativeTickArrayBitmap[i]}:{offset:i,tickarrayBitmap:r.positiveTickArrayBitmap[i]}}static checkExtensionBoundary(e,t){let{positiveTickBoundary:r,negativeTickBoundary:i}=this.extensionTickBoundary(t);if(e>=i&&e<r)throw Error("checkExtensionBoundary -> InvalidTickArrayBoundary")}static extensionTickBoundary(e){let t=nA.maxTickInTickarrayBitmap(e),r=-t;if(443636<=t)throw Error(`extensionTickBoundary check error: 443636, ${t}`);if(r<=-443636)throw Error(`extensionTickBoundary check error: ${r}, -443636`);return{positiveTickBoundary:t,negativeTickBoundary:r}}static checkTickArrayIsInit(e,t,r){let{tickarrayBitmap:i}=this.getBitmap(e,t,r),n=this.tickArrayOffsetInBitmap(e,t);return{isInitialized:nB.mergeTickArrayBitmap(i).testn(n),startIndex:e}}static nextInitializedTickArrayFromOneBitmap(e,t,r,i){let n=nx.tickCount(t),a=r?e-n:e+n,{tickarrayBitmap:o}=this.getBitmap(a,t,i);return this.nextInitializedTickArrayInBitmap(o,a,t,r)}static nextInitializedTickArrayInBitmap(e,t,r,i){let{minValue:n,maxValue:a}=nA.getBitmapTickBoundary(t,r),o=this.tickArrayOffsetInBitmap(t,r);if(i){let i=nB.mergeTickArrayBitmap(e).shln(nR-1-o),a=ne(512,i)?null:i7(512,i);return null!==a?{isInit:!0,tickIndex:t-a*nx.tickCount(r)}:{isInit:!1,tickIndex:n}}{let i=nB.mergeTickArrayBitmap(e).shrn(o),n=ne(512,i)?null:i9(512,i);return null!==n?{isInit:!0,tickIndex:t+n*nx.tickCount(r)}:{isInit:!1,tickIndex:a-nx.tickCount(r)}}}static tickArrayOffsetInBitmap(e,t){let r=Math.abs(e)%nA.maxTickInTickarrayBitmap(t),i=Math.floor(r/nx.tickCount(t));return e<0&&0!=r&&(i=nR-i),i}},nv=class{static getOutputAmountAndRemainAccounts(e,t,r,i,n,a=!1){let o=r.toBase58()===e.mintA.address,s=[],{isExist:u,startIndex:l,nextAccountMeta:c}=this.getFirstInitializedTickArray(e,o);if(!u||void 0===l||!c)throw Error("Invalid tick array");s.push(c);let{allTrade:d,amountCalculated:f,accounts:p,sqrtPriceX64:h,feeAmount:m}=nI.swapCompute(e.programId,e.id,t,e.tickArrayBitmap,e.exBitmapInfo,o,e.ammConfig.tradeFeeRate,e.liquidity,e.tickCurrent,e.tickSpacing,e.sqrtPriceX64,i,l,n,a);return s.push(...p),{allTrade:d,expectedAmountOut:f.mul(iQ),remainingAccounts:s,executionPrice:h,feeAmount:m}}static getInputAmountAndRemainAccounts(e,t,r,i,n){let a=r.toBase58()===e.mintB.address,o=[],{isExist:s,startIndex:u,nextAccountMeta:l}=this.getFirstInitializedTickArray(e,a);if(!s||void 0===u||!l)throw Error("Invalid tick array");try{let t=this.preInitializedTickArrayStartIndex(e,a);if(t.isExist){let{publicKey:r}=nc(e.programId,e.id,t.nextStartIndex);o.push(r)}}catch{}o.push(l);let{amountCalculated:c,accounts:d,sqrtPriceX64:f,feeAmount:p}=nI.swapCompute(e.programId,e.id,t,e.tickArrayBitmap,e.exBitmapInfo,a,e.ammConfig.tradeFeeRate,e.liquidity,e.tickCurrent,e.tickSpacing,e.sqrtPriceX64,i.mul(iQ),u,n);return o.push(...d),{expectedAmountIn:c,remainingAccounts:o,executionPrice:f,feeAmount:p}}static getFirstInitializedTickArray(e,t){let{isInitialized:r,startIndex:i}=nv.isOverflowDefaultTickarrayBitmap(e.tickSpacing,[e.tickCurrent])?nw.checkTickArrayIsInit(nx.getArrayStartIndex(e.tickCurrent,e.tickSpacing),e.tickSpacing,e.exBitmapInfo):nB.checkTickArrayIsInitialized(nB.mergeTickArrayBitmap(e.tickArrayBitmap),e.tickCurrent,e.tickSpacing);if(r){let{publicKey:t}=nc(e.programId,e.id,i);return{isExist:!0,startIndex:i,nextAccountMeta:t}}let{isExist:n,nextStartIndex:a}=this.nextInitializedTickArrayStartIndex(e,nx.getArrayStartIndex(e.tickCurrent,e.tickSpacing),t);if(n){let{publicKey:t}=nc(e.programId,e.id,a);return{isExist:!0,startIndex:a,nextAccountMeta:t}}return{isExist:!1,nextAccountMeta:void 0,startIndex:void 0}}static preInitializedTickArrayStartIndex(e,t){let r=Math.floor(e.tickCurrent/nx.tickCount(e.tickSpacing)),i=t?nB.searchHightBitFromStart(e.tickArrayBitmap,e.exBitmapInfo,r+1,1,e.tickSpacing):nB.searchLowBitFromStart(e.tickArrayBitmap,e.exBitmapInfo,r-1,1,e.tickSpacing);return i.length>0?{isExist:!0,nextStartIndex:i[0]}:{isExist:!1,nextStartIndex:0}}static nextInitializedTickArrayStartIndex(e,t,r){for(t=nx.getArrayStartIndex(e.tickCurrent,e.tickSpacing);;){let{isInit:i,tickIndex:n}=nA.nextInitializedTickArrayStartIndex(nB.mergeTickArrayBitmap(e.tickArrayBitmap),t,e.tickSpacing,r);if(i)return{isExist:!0,nextStartIndex:n};t=n;let{isInit:a,tickIndex:o}=nw.nextInitializedTickArrayFromOneBitmap(t,e.tickSpacing,r,e.exBitmapInfo);if(a)return{isExist:!0,nextStartIndex:o};if((t=o)<-443636||t>443636)return{isExist:!1,nextStartIndex:0}}}static async updatePoolRewardInfos({connection:e,apiPoolInfo:t,chainTime:r,poolLiquidity:i,rewardInfos:n}){var a,o,s;let u=[];for(let l=0;l<n.length;l++){let c=n[l],d=null!=(s=null==(a=t.rewardDefaultInfos[l])?void 0:a.mint.programId)?s:null==(o=await e.getAccountInfo(c.tokenMint))?void 0:o.owner;if(void 0===d)throw Error("get new reward mint info error");let f=F(U({},c),{perSecond:nS.x64ToDecimal(c.emissionsPerSecondX64),remainingRewards:void 0,tokenProgramId:new h.PublicKey(d)});if(f.tokenMint.equals(h.PublicKey.default))continue;if(r<=f.openTime.toNumber()||i.eq(iH)){u.push(f);continue}let p=new A.default(Math.min(f.endTime.toNumber(),r)),m=p.sub(f.lastUpdateTime),b=nS.mulDivFloor(m,f.emissionsPerSecondX64,i),g=f.rewardGrowthGlobalX64.add(b),y=nS.mulDivFloor(m,f.emissionsPerSecondX64,iJ),x=f.rewardTotalEmissioned.add(y);u.push(F(U({},f),{rewardGrowthGlobalX64:g,rewardTotalEmissioned:x,lastUpdateTime:p}))}return u}static isOverflowDefaultTickarrayBitmap(e,t){let{maxTickBoundary:r,minTickBoundary:i}=this.tickRange(e);for(let n of t){let t=nB.getTickArrayStartIndexByTick(n,e);if(t>=r||t<i)return!0}return!1}static tickRange(e){let t=nA.maxTickInTickarrayBitmap(e),r=-t;return t>443636&&(t=nx.getArrayStartIndex(443636,e)+nx.tickCount(e)),r<-443636&&(r=nx.getArrayStartIndex(-443636,e)),{maxTickBoundary:t,minTickBoundary:r}}static get_tick_array_offset(e,t){if(!nx.checkIsValidStartIndex(e,t))throw Error("No enough initialized tickArray");return e/nx.tickCount(t)*nR}static async fetchExBitmaps({connection:e,exBitmapAddress:t,batchRequest:r}){let i=await H(e,t.map(e=>({pubkey:e})),{batchRequest:r}),n={};for(let e of i)null!==e.accountInfo&&(n[e.pubkey.toString()]=nV.decode(e.accountInfo.data));return n}static async fetchMultiplePoolTickArrays({connection:e,poolKeys:t,batchRequest:r}){let i={},n=[];for(let e of t){let t=nB.getTickArrayStartIndexByTick(e.tickCurrent,e.tickSpacing);for(let r of nB.getInitializedTickArrayInRange(e.tickArrayBitmap,e.exBitmapInfo,e.tickSpacing,t,7)){let{publicKey:t}=nc(e.programId,e.id,r);n.push({pubkey:t}),i[t.toString()]=e.id}}let a=await H(e,n,{batchRequest:r}),o={};for(let e of a){if(!e.accountInfo)continue;let t=i[e.pubkey.toString()];if(!t)continue;void 0===o[t.toString()]&&(o[t.toString()]={});let r=nK.decode(e.accountInfo.data);o[t.toString()][r.startTickIndex]=F(U({},r),{address:e.pubkey})}return o}static async fetchPoolsAccountPosition({pools:e,connection:t,ownerInfo:r,batchRequest:i=!1,updateOwnerRewardAndFee:n=!0}){var a;let o=[];for(let t=0;t<e.length;t++){let r=e[t];null!==r&&(o.find(e=>e.equals(r.state.programId))||o.push(r.state.programId))}if(r){let s=r.tokenAccounts.map(e=>e.accountInfo.mint),u=[];for(let e of s)for(let t of o)u.push(nf(t,e).publicKey);let l=await j(t,u,{batchRequest:i}),c={};for(let t of l){if(null===t)continue;let r=nL.decode(t.data),i=r.poolId.toString(),n=e.find(e=>e.state.id.toBase58()===i);if(void 0===n)continue;let o=n.state,s=nB._getTickPriceLegacy({poolInfo:o,tick:r.tickLower,baseIn:!0}),u=nB._getTickPriceLegacy({poolInfo:o,tick:r.tickUpper,baseIn:!0}),{amountA:l,amountB:d}=n_.getAmountsFromLiquidity(o.sqrtPriceX64,s.tickSqrtPriceX64,u.tickSqrtPriceX64,r.liquidity,!1),f=1/(1-Math.sqrt(Math.sqrt(s.price.div(u.price).toNumber())));n.positionAccount=[...null!=(a=n.positionAccount)?a:[],{poolId:r.poolId,nftMint:r.nftMint,priceLower:s.price,priceUpper:u.price,amountA:l,amountB:d,tickLower:r.tickLower,tickUpper:r.tickUpper,liquidity:r.liquidity,feeGrowthInsideLastX64A:r.feeGrowthInsideLastX64A,feeGrowthInsideLastX64B:r.feeGrowthInsideLastX64B,tokenFeesOwedA:r.tokenFeesOwedA,tokenFeesOwedB:r.tokenFeesOwedB,rewardInfos:r.rewardInfos.map(e=>F(U({},e),{pendingReward:new A.default(0)})),leverage:f,tokenFeeAmountA:new A.default(0),tokenFeeAmountB:new A.default(0)}];let p=await nB.getTickArrayAddressByTick(n.state.programId,r.poolId,r.tickLower,n.state.tickSpacing),h=await nB.getTickArrayAddressByTick(n.state.programId,r.poolId,r.tickUpper,n.state.tickSpacing);c[`${n.state.programId.toString()}-${r.poolId.toString()}-${r.tickLower}`]=p,c[`${n.state.programId.toString()}-${r.poolId.toString()}-${r.tickUpper}`]=h}if(n){let r=Object.values(c),n=await j(t,r,{batchRequest:i}),a={};for(let e=0;e<r.length;e++){let t=n[e];null!==t&&(a[r[e].toString()]=nK.decode(t.data))}for(let{state:t,positionAccount:r}of e)if(r)for(let e of r){let r=`${t.programId.toString()}-${t.id.toString()}-${e.tickLower}`,i=`${t.programId.toString()}-${t.id.toString()}-${e.tickUpper}`,n=a[c[r].toString()],o=a[c[i].toString()],s=n.ticks[nB.getTickOffsetInArray(e.tickLower,t.tickSpacing)],u=o.ticks[nB.getTickOffsetInArray(e.tickUpper,t.tickSpacing)],{tokenFeeAmountA:l,tokenFeeAmountB:d}=await ny.GetPositionFees(t,e,s,u),f=await ny.GetPositionRewards(t,e,s,u);e.tokenFeeAmountA=l.gte(new A.default(0))?l:new A.default(0),e.tokenFeeAmountB=d.gte(new A.default(0))?d:new A.default(0);for(let t=0;t<f.length;t++)e.rewardInfos[t].pendingReward=f[t].gte(new A.default(0))?f[t]:new A.default(0)}}}return e}static computeAmountOut({poolInfo:e,tickArrayCache:t,baseMint:r,epochInfo:i,amountIn:n,slippage:a,priceLimit:o=new tb(0),catchLiquidityInsufficient:s=!1}){var u;let l,c=r.toBase58()===e.mintA.address,[d,f]=c?[e.mintA.extensions.feeConfig,e.mintB.extensions.feeConfig]:[e.mintB.extensions.feeConfig,e.mintA.extensions.feeConfig];l=o.equals(new tb(0))?c?i0.add(new A.default(1)):i1.sub(new A.default(1)):nk.priceToSqrtPriceX64(o,e.mintA.decimals,e.mintB.decimals);let p=rP(n,d,i,!1),{allTrade:h,expectedAmountOut:m,remainingAccounts:b,executionPrice:g,feeAmount:y}=nv.getOutputAmountAndRemainAccounts(e,t,r,p.amount.sub(null!=(u=p.fee)?u:iH),l,s),x=rP(m,f,i,!1),w=nk.sqrtPriceX64ToPrice(g,e.mintA.decimals,e.mintB.decimals),v=c?w:new tb(1).div(w),S=rP(m.mul(new A.default(Math.floor((1-a)*1e10))).div(new A.default(1e10)),f,i,!1),T=c?e.currentPrice:new tb(1).div(e.currentPrice),E=new tb(v).sub(T).abs(),k=new tj(new tb(E).mul(1e15).toFixed(0),new tb(T).mul(1e15).toFixed(0));return{allTrade:h,realAmountIn:p,amountOut:x,minAmountOut:S,expirationTime:r_(p.expirationTime,x.expirationTime),currentPrice:e.currentPrice,executionPrice:v,priceImpact:k,fee:y,remainingAccounts:b,executionPriceX64:g}}static computeAmountOutFormat({poolInfo:e,tickArrayCache:t,amountIn:r,tokenOut:i,slippage:n,epochInfo:a,catchLiquidityInsufficient:o=!1}){let[s,u]=i.address===e.mintB.address?[e.mintA,e.mintB]:[e.mintB,e.mintA],[l,c]=[new tV(F(U({},s),{mint:s.address,isToken2022:s.programId===y.TOKEN_2022_PROGRAM_ID.toBase58()})),new tV(F(U({},u),{mint:u.address,isToken2022:u.programId===y.TOKEN_2022_PROGRAM_ID.toBase58()}))],{allTrade:d,realAmountIn:f,amountOut:p,minAmountOut:m,expirationTime:b,currentPrice:g,executionPrice:x,priceImpact:w,fee:v,remainingAccounts:S,executionPriceX64:T}=nv.computeAmountOut({poolInfo:e,tickArrayCache:t,baseMint:new h.PublicKey(s.address),amountIn:r,slippage:n,epochInfo:a,catchLiquidityInsufficient:o});return{allTrade:d,realAmountIn:F(U({},f),{amount:new t_(l,f.amount),fee:void 0===f.fee?void 0:new t_(l,f.fee)}),amountOut:F(U({},p),{amount:new t_(c,p.amount),fee:void 0===p.fee?void 0:new t_(c,p.fee)}),minAmountOut:F(U({},m),{amount:new t_(c,m.amount),fee:void 0===m.fee?void 0:new t_(c,m.fee)}),expirationTime:b,currentPrice:new tX({baseToken:l,denominator:new A.default(10).pow(new A.default(20+l.decimals)),quoteToken:c,numerator:g.mul(new tb(10**(20+c.decimals))).toFixed(0)}),executionPrice:new tX({baseToken:l,denominator:new A.default(10).pow(new A.default(20+l.decimals)),quoteToken:c,numerator:x.mul(new tb(10**(20+c.decimals))).toFixed(0)}),priceImpact:w,fee:new t_(l,v),remainingAccounts:S,executionPriceX64:T}}static computeAmountIn({poolInfo:e,tickArrayCache:t,baseMint:r,epochInfo:i,amountOut:n,slippage:a,priceLimit:o=new tb(0)}){var s;let u=r.toBase58()===e.mintA.address,l={[e.mintA.address]:e.mintA.extensions.feeConfig,[e.mintB.address]:e.mintB.extensions.feeConfig},c;c=o.equals(new tb(0))?u?i1.sub(new A.default(1)):i0.add(new A.default(1)):nk.priceToSqrtPriceX64(o,e.mintA.decimals,e.mintB.decimals);let d=rP(n,l[r.toString()],i,!0),{expectedAmountIn:f,remainingAccounts:p,executionPrice:h,feeAmount:m}=nv.getInputAmountAndRemainAccounts(e,t,r,d.amount.sub(null!=(s=d.fee)?s:iH),c),b=u?e.mintB.address:e.mintA.address,g=rP(f,l[b],i,!1),y=nk.sqrtPriceX64ToPrice(h,e.mintA.decimals,e.mintB.decimals),x=u?y:new tb(1).div(y),w=rP(f.mul(new A.default(Math.floor((1+a)*1e10))).div(new A.default(1e10)),l[b],i,!0),v=u?e.currentPrice:new tb(1).div(e.currentPrice),S=new tb(x).sub(v).abs(),T=new tj(new tb(S).mul(1e15).toFixed(0),new tb(v).mul(1e15).toFixed(0));return{amountIn:g,maxAmountIn:w,realAmountOut:d,expirationTime:r_(g.expirationTime,d.expirationTime),currentPrice:e.currentPrice,executionPrice:x,priceImpact:T,fee:m,remainingAccounts:p}}static estimateAprsForPriceRangeMultiplier({poolInfo:e,aprType:t,positionTickLowerIndex:r,positionTickUpperIndex:i}){var n,a,o;let s=e[t],u=nB.getTickPrice({poolInfo:e,tick:r,baseIn:!0}).price.toNumber(),l=nB.getTickPrice({poolInfo:e,tick:i,baseIn:!0}).price.toNumber(),c=Math.max(u,s.priceMin),d=Math.min(l,s.priceMax)-c,f=l-u,p=s.priceMax-s.priceMin,h;return h=d<=0?0:f===d?p/d:p===d?d/f:d/p*(d/f),{feeApr:s.feeApr*h,rewardsApr:[(null!=(n=s.rewardApr[0])?n:0)*h,(null!=(a=s.rewardApr[1])?a:0)*h,(null!=(o=s.rewardApr[2])?o:0)*h],apr:s.apr*h}}static estimateAprsForPriceRangeDelta({poolInfo:e,poolLiquidity:t,aprType:r,mintPrice:i,liquidity:n,positionTickLowerIndex:a,positionTickUpperIndex:o,chainTime:s}){let u=e[r],l=i[tW(e.mintA.address).toString()],c=i[tW(e.mintB.address).toString()],d=e.mintA.decimals,f=e.mintB.decimals;if(!u||!l||!c)return{feeApr:0,rewardsApr:[0,0,0],apr:0};let p=nk.priceToSqrtPriceX64(new tb(e.price),e.mintA.decimals,e.mintB.decimals),h=nk.getSqrtPriceX64FromTick(a),m=nk.getSqrtPriceX64FromTick(o),{amountSlippageA:b,amountSlippageB:g}=n_.getAmountsFromLiquidityWithSlippage(p,h,m,t,!1,!1,0),{amountSlippageA:y,amountSlippageB:x}=n_.getAmountsFromLiquidityWithSlippage(p,h,m,n,!1,!1,0),A=new tb(b.toString()).div(new tb(10).pow(d)).mul(l.value).add(new tb(g.toString()).div(new tb(10).pow(f)).mul(c.value)),w=new tb(y.toString()).div(new tb(10).pow(d)).mul(l.value).add(new tb(x.toString()).div(new tb(10).pow(f)).mul(c.value)),v=new tb(1).div(A.add(w)),S=new tb(u.volumeFee).mul(365).div("day"===r?1:"week"===r?7:30*("month"===r)).mul(v).mul(100).toNumber(),T=e.rewardDefaultInfos.map(e=>{var t,r;let n=e.mint.decimals,a=i[e.mint.address];return s<(null!=(t=e.startTime)?t:0)||s>(null!=(r=e.endTime)?r:0)||!e.perSecond||!a||void 0===n?0:new tb(a.value).mul(new tb(e.perSecond).mul(31536e3)).div(new tb(10).pow(n)).mul(v).mul(100).toNumber()});return{feeApr:S,rewardsApr:T,apr:S+T.reduce((e,t)=>e+t,0)}}static async getLiquidityAmountOutFromAmountIn({poolInfo:e,inputA:t,tickLower:r,tickUpper:i,amount:n,slippage:a,add:o,epochInfo:s,amountHasFee:u}){var l,c;let d=nk.priceToSqrtPriceX64(new tb(e.price),e.mintA.decimals,e.mintB.decimals),f=nk.getSqrtPriceX64FromTick(r),p=nk.getSqrtPriceX64FromTick(i),h=rP(n,null==(l=e[t?"mintA":"mintB"].extensions)?void 0:l.feeConfig,s,!u),m=new A.default(new tb(h.amount.sub(null!=(c=h.fee)?c:iH).toString()).toFixed(0)),b;if(d.lte(f))b=t?n_.getLiquidityFromTokenAmountA(f,p,m,!o):new A.default(0);else if(d.lte(p)){let e=n_.getLiquidityFromTokenAmountA(d,p,m,!o),r=n_.getLiquidityFromTokenAmountB(f,d,m);b=t?e:r}else b=t?new A.default(0):n_.getLiquidityFromTokenAmountB(f,p,m);let g=await nv.getAmountsFromLiquidity({epochInfo:s,poolInfo:e,tickLower:r,tickUpper:i,liquidity:b,slippage:a,add:o});return{liquidity:b,amountA:t?h:g.amountA,amountB:t?g.amountB:h,amountSlippageA:t?h:g.amountSlippageA,amountSlippageB:t?g.amountSlippageB:h,expirationTime:g.expirationTime}}static async getAmountsFromLiquidity({epochInfo:e,poolInfo:t,tickLower:r,tickUpper:i,liquidity:n,slippage:a,add:o}){var s,u,l,c;let d=nk.getSqrtPriceX64FromTick(r),f=nk.getSqrtPriceX64FromTick(i),p=o?1+a:1-a,h=n_.getAmountsFromLiquidity(nk.priceToSqrtPriceX64(new tb(t.price),t.mintA.decimals,t.mintB.decimals),d,f,n,o),[m,b]=[rP(h.amountA,null==(s=t.mintA.extensions)?void 0:s.feeConfig,e,!0),rP(h.amountB,null==(u=t.mintB.extensions)?void 0:u.feeConfig,e,!0)],[g,y]=[rP(h.amountA.muln(p),null==(l=t.mintA.extensions)?void 0:l.feeConfig,e,!0),rP(h.amountB.muln(p),null==(c=t.mintB.extensions)?void 0:c.feeConfig,e,!0)];return{liquidity:n,amountA:m,amountB:b,amountSlippageA:g,amountSlippageB:y,expirationTime:r_(m.expirationTime,b.expirationTime)}}static async fetchComputeMultipleClmmInfo({connection:e,poolList:t,rpcDataMap:r={}}){let i=t.filter(e=>!r[e.id]).map(e=>new h.PublicKey(e.id));(await j(e,i)).forEach((e,t)=>{e&&(r[i[t].toBase58()]=nU.decode(e.data))});let n=t.map(e=>nh(new h.PublicKey(e.programId),new h.PublicKey(e.id)).publicKey),a=await nv.fetchExBitmaps({connection:e,exBitmapAddress:n,batchRequest:!1});return t.reduce((e,t)=>F(U({},e),{[t.id]:F(U({},r[t.id]),{id:new h.PublicKey(t.id),version:6,programId:new h.PublicKey(t.programId),mintA:t.mintA,mintB:t.mintB,ammConfig:F(U({},t.config),{id:new h.PublicKey(t.config.id),fundOwner:""}),currentPrice:new tb(t.price),exBitmapAccount:nh(new h.PublicKey(t.programId),new h.PublicKey(t.id)).publicKey,exBitmapInfo:a[nh(new h.PublicKey(t.programId),new h.PublicKey(t.id)).publicKey.toBase58()],startTime:r[t.id].startTime.toNumber(),rewardInfos:r[t.id].rewardInfos})}),{})}static async fetchComputeClmmInfo({connection:e,poolInfo:t,rpcData:r}){return(await this.fetchComputeMultipleClmmInfo({connection:e,rpcDataMap:r?{[t.id]:r}:void 0,poolList:[t]}))[t.id]}},nS=class{static mulDivRoundingUp(e,t,r){let i=e.mul(t),n=i.div(r);return i.mod(r).eq(iH)||(n=n.add(iX)),n}static mulDivFloor(e,t,r){if(r.eq(iH))throw Error("division by 0");return e.mul(t).div(r)}static mulDivCeil(e,t,r){if(r.eq(iH))throw Error("division by 0");return e.mul(t).add(r.sub(iX)).div(r)}static x64ToDecimal(e,t){return new tb(e.toString()).div(tb.pow(2,64)).toDecimalPlaces(t)}static decimalToX64(e){return new A.default(e.mul(tb.pow(2,64)).floor().toFixed())}static wrappingSubU128(e,t){return e.add(iY).sub(t).mod(iY)}};function nT(e,t){return nE(e.mul(t),64,256)}function nE(e,t,r){let i=e.toTwos(r).shrn(t);return i.imaskn(r-t+1),i.fromTwos(r-t)}var nk=class{static sqrtPriceX64ToPrice(e,t,r){return nS.x64ToDecimal(e).pow(2).mul(tb.pow(10,t-r))}static priceToSqrtPriceX64(e,t,r){return nS.decimalToX64(e.mul(tb.pow(10,r-t)).sqrt())}static getNextSqrtPriceX64FromInput(e,t,r,i){if(!e.gt(iH))throw Error("sqrtPriceX64 must greater than 0");if(!t.gt(iH))throw Error("liquidity must greater than 0");return i?this.getNextSqrtPriceFromTokenAmountARoundingUp(e,t,r,!0):this.getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,r,!0)}static getNextSqrtPriceX64FromOutput(e,t,r,i){if(!e.gt(iH))throw Error("sqrtPriceX64 must greater than 0");if(!t.gt(iH))throw Error("liquidity must greater than 0");return i?this.getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,r,!1):this.getNextSqrtPriceFromTokenAmountARoundingUp(e,t,r,!1)}static getNextSqrtPriceFromTokenAmountARoundingUp(e,t,r,i){if(r.eq(iH))return e;let n=t.shln(64);if(i){let t=n.add(r.mul(e));return t.gte(n)?nS.mulDivCeil(n,e,t):nS.mulDivRoundingUp(n,iX,n.div(e).add(r))}{let t=r.mul(e);if(!n.gt(t))throw Error("getNextSqrtPriceFromTokenAmountARoundingUp,liquidityLeftShift must gt amountMulSqrtPrice");let i=n.sub(t);return nS.mulDivCeil(n,e,i)}}static getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,r,i){let n=r.shln(64);if(i)return e.add(n.div(t));{let r=nS.mulDivRoundingUp(n,iX,t);if(!e.gt(r))throw Error("getNextSqrtPriceFromTokenAmountBRoundingDown sqrtPriceX64 must gt amountDivLiquidity");return e.sub(r)}}static getSqrtPriceX64FromTick(e){if(!Number.isInteger(e))throw Error("tick must be integer");if(e<-443636||e>443636)throw Error("tick must be in MIN_TICK and MAX_TICK");let t=e<0?-1*e:e,r=new A.default((1&t)!=0?"18445821805675395072":"18446744073709551616");return(2&t)!=0&&(r=nT(r,new A.default("18444899583751176192"))),(4&t)!=0&&(r=nT(r,new A.default("18443055278223355904"))),(8&t)!=0&&(r=nT(r,new A.default("18439367220385607680"))),(16&t)!=0&&(r=nT(r,new A.default("18431993317065453568"))),(32&t)!=0&&(r=nT(r,new A.default("18417254355718170624"))),(64&t)!=0&&(r=nT(r,new A.default("18387811781193609216"))),(128&t)!=0&&(r=nT(r,new A.default("18329067761203558400"))),(256&t)!=0&&(r=nT(r,new A.default("18212142134806163456"))),(512&t)!=0&&(r=nT(r,new A.default("17980523815641700352"))),(1024&t)!=0&&(r=nT(r,new A.default("17526086738831433728"))),(2048&t)!=0&&(r=nT(r,new A.default("16651378430235570176"))),(4096&t)!=0&&(r=nT(r,new A.default("15030750278694412288"))),(8192&t)!=0&&(r=nT(r,new A.default("12247334978884435968"))),(16384&t)!=0&&(r=nT(r,new A.default("8131365268886854656"))),(32768&t)!=0&&(r=nT(r,new A.default("3584323654725218816"))),(65536&t)!=0&&(r=nT(r,new A.default("696457651848324352"))),(131072&t)!=0&&(r=nT(r,new A.default("26294789957507116"))),(262144&t)!=0&&(r=nT(r,new A.default("37481735321082"))),e>0&&(r=i$.div(r)),r}static getTickFromPrice(e,t,r){return nk.getTickFromSqrtPriceX64(nk.priceToSqrtPriceX64(e,t,r))}static getTickFromSqrtPriceX64(e){let t;if(e.gt(i1)||e.lt(i0))throw Error("Provided sqrtPrice is not within the supported sqrtPrice range.");let r=e.bitLength()-1,i=((t=new A.default(r-64).toTwos(128).shln(32)).imaskn(129),t.fromTwos(128)),n=new A.default("8000000000000000","hex"),a=0,o=new A.default(0),s=r>=64?e.shrn(r-63):e.shln(63-r);for(;n.gt(new A.default(0))&&a<16;){let e=(s=s.mul(s)).shrn(127);s=s.shrn(63+e.toNumber()),o=o.add(n.mul(e)),n=n.shrn(1),a+=1}let u=o.shrn(32),l=i.add(u).mul(new A.default("59543866431248")),c=nE(l.sub(new A.default("184467440737095516")),64,128).toNumber(),d=nE(l.add(new A.default("15793534762490258745")),64,128).toNumber();return c==d?c:nk.getSqrtPriceX64FromTick(d).lte(e)?d:c}},nP=class{static getTickWithPriceAndTickspacing(e,t,r,i){let n=nk.getTickFromSqrtPriceX64(nk.priceToSqrtPriceX64(e,r,i))/t;return(n=n<0?Math.floor(n):Math.ceil(n))*t}static roundPriceWithTickspacing(e,t,r,i){let n=nP.getTickWithPriceAndTickspacing(e,t,r,i),a=nk.getSqrtPriceX64FromTick(n);return nk.sqrtPriceX64ToPrice(a,r,i)}},n_=class{static addDelta(e,t){return e.add(t)}static getTokenAmountAFromLiquidity(e,t,r,i){if(e.gt(t)&&([e,t]=[t,e]),!e.gt(iH))throw Error("sqrtPriceX64A must greater than 0");let n=r.ushln(64),a=t.sub(e);return i?nS.mulDivRoundingUp(nS.mulDivCeil(n,a,t),iX,e):nS.mulDivFloor(n,a,t).div(e)}static getTokenAmountBFromLiquidity(e,t,r,i){if(e.gt(t)&&([e,t]=[t,e]),!e.gt(iH))throw Error("sqrtPriceX64A must greater than 0");return i?nS.mulDivCeil(r,t.sub(e),iJ):nS.mulDivFloor(r,t.sub(e),iJ)}static getLiquidityFromTokenAmountA(e,t,r,i){e.gt(t)&&([e,t]=[t,e]);let n=r.mul(e).mul(t),a=t.sub(e),o=n.div(a);return i?nS.mulDivRoundingUp(o,iX,iZ):o.shrn(64)}static getLiquidityFromTokenAmountB(e,t,r){return e.gt(t)&&([e,t]=[t,e]),nS.mulDivFloor(r,iZ,t.sub(e))}static getLiquidityFromTokenAmounts(e,t,r,i,n){if(t.gt(r)&&([t,r]=[r,t]),e.lte(t))return n_.getLiquidityFromTokenAmountA(t,r,i,!1);if(!e.lt(r))return n_.getLiquidityFromTokenAmountB(t,r,n);{let a=n_.getLiquidityFromTokenAmountA(e,r,i,!1),o=n_.getLiquidityFromTokenAmountB(t,e,n);return a.lt(o)?a:o}}static getAmountsFromLiquidity(e,t,r,i,n){return(t.gt(r)&&([t,r]=[r,t]),e.lte(t))?{amountA:n_.getTokenAmountAFromLiquidity(t,r,i,n),amountB:new A.default(0)}:e.lt(r)?{amountA:n_.getTokenAmountAFromLiquidity(e,r,i,n),amountB:n_.getTokenAmountBFromLiquidity(t,e,i,n)}:{amountA:new A.default(0),amountB:n_.getTokenAmountBFromLiquidity(t,r,i,n)}}static getAmountsFromLiquidityWithSlippage(e,t,r,i,n,a,o){let{amountA:s,amountB:u}=n_.getAmountsFromLiquidity(e,t,r,i,a),l=n?1+o:1-o;return{amountSlippageA:new A.default(new tb(s.toString()).mul(l).toFixed(0)),amountSlippageB:new A.default(new tb(u.toString()).mul(l).toFixed(0))}}static getAmountsOutFromLiquidity({poolInfo:e,tickLower:t,tickUpper:r,liquidity:i,slippage:n,add:a,epochInfo:o,amountAddFee:s}){var u,l,c,d;let f=nk.priceToSqrtPriceX64(new tb(e.price),e.mintA.decimals,e.mintB.decimals),p=nk.getSqrtPriceX64FromTick(t),h=nk.getSqrtPriceX64FromTick(r),m=a?1+n:1-n,b=n_.getAmountsFromLiquidity(f,p,h,i,a),[g,y]=[rP(b.amountA,null==(u=e.mintA.extensions)?void 0:u.feeConfig,o,s),rP(b.amountB,null==(l=e.mintB.extensions)?void 0:l.feeConfig,o,s)],[x,w]=[rP(new A.default(new tb(b.amountA.toString()).mul(m).toFixed(0)),null==(c=e.mintA.extensions)?void 0:c.feeConfig,o,s),rP(new A.default(new tb(b.amountB.toString()).mul(m).toFixed(0)),null==(d=e.mintB.extensions)?void 0:d.feeConfig,o,s)];return{liquidity:i,amountA:g,amountB:y,amountSlippageA:x,amountSlippageB:w,expirationTime:r_(g.expirationTime,y.expirationTime)}}},nI=class{static swapCompute(e,t,r,i,n,a,o,s,u,l,c,d,f,p,h=!1){if(d.eq(iH))throw Error("amountSpecified must not be 0");if(p||(p=a?i0.add(iX):i1.sub(iX)),a){if(p.lt(i0))throw Error("sqrtPriceX64 must greater than MIN_SQRT_PRICE_X64");if(p.gte(c))throw Error("sqrtPriceX64 must smaller than current")}else{if(p.gt(i1))throw Error("sqrtPriceX64 must smaller than MAX_SQRT_PRICE_X64");if(p.lte(c))throw Error("sqrtPriceX64 must greater than current")}let m=d.gt(iH),b={amountSpecifiedRemaining:d,amountCalculated:iH,sqrtPriceX64:c,tick:u>f?Math.min(f+nx.tickCount(l)-1,u):f,accounts:[],liquidity:s,feeAmount:new A.default(0)},g=f,y=r[f],x=!a&&y.startTickIndex===b.tick;for(;!b.amountSpecifiedRemaining.eq(iH)&&!b.sqrtPriceX64.eq(p);){let s,u={};u.sqrtPriceStartX64=b.sqrtPriceX64;let c=nB.nextInitTick(y,b.tick,l,a,x)||null,d=null;if(!(null!=c&&c.liquidityGross.gtn(0))){let o=nv.nextInitializedTickArrayStartIndex({tickCurrent:b.tick,tickSpacing:l,tickArrayBitmap:i,exBitmapInfo:n},g,a);if(!o.isExist){if(h)return{allTrade:!1,amountSpecifiedRemaining:b.amountSpecifiedRemaining,amountCalculated:b.amountCalculated,feeAmount:b.feeAmount,sqrtPriceX64:b.sqrtPriceX64,liquidity:b.liquidity,tickCurrent:b.tick,accounts:b.accounts};throw Error("swapCompute LiquidityInsufficient")}let{publicKey:s}=nc(e,t,g=o.nextStartIndex);d=s,y=r[g];try{c=nB.firstInitializedTick(y,a)}catch{throw Error("not found next tick info")}}if(u.tickNext=c.tick,u.initialized=c.liquidityGross.gtn(0),f!==g&&d&&(b.accounts.push(d),f=g),u.tickNext<-443636?u.tickNext=-443636:u.tickNext>443636&&(u.tickNext=443636),u.sqrtPriceNextX64=nk.getSqrtPriceX64FromTick(u.tickNext),s=a&&u.sqrtPriceNextX64.lt(p)||!a&&u.sqrtPriceNextX64.gt(p)?p:u.sqrtPriceNextX64,[b.sqrtPriceX64,u.amountIn,u.amountOut,u.feeAmount]=nI.swapStepCompute(b.sqrtPriceX64,s,b.liquidity,b.amountSpecifiedRemaining,o,a),b.feeAmount=b.feeAmount.add(u.feeAmount),m?(b.amountSpecifiedRemaining=b.amountSpecifiedRemaining.sub(u.amountIn.add(u.feeAmount)),b.amountCalculated=b.amountCalculated.sub(u.amountOut)):(b.amountSpecifiedRemaining=b.amountSpecifiedRemaining.add(u.amountOut),b.amountCalculated=b.amountCalculated.add(u.amountIn.add(u.feeAmount))),b.sqrtPriceX64.eq(u.sqrtPriceNextX64)){if(u.initialized){let e=c.liquidityNet;a&&(e=e.mul(iQ)),b.liquidity=n_.addDelta(b.liquidity,e)}x=u.tickNext!=b.tick&&!a&&y.startTickIndex===u.tickNext,b.tick=a?u.tickNext-1:u.tickNext}else if(b.sqrtPriceX64!=u.sqrtPriceStartX64){let e=nk.getTickFromSqrtPriceX64(b.sqrtPriceX64);x=e!=b.tick&&!a&&y.startTickIndex===e,b.tick=e}}try{let{nextStartIndex:r,isExist:o}=nx.nextInitializedTickArray(b.tick,l,a,i,n);o&&f!==r&&(b.accounts.push(nc(e,t,r).publicKey),f=r)}catch{}return{allTrade:!0,amountSpecifiedRemaining:iH,amountCalculated:b.amountCalculated,feeAmount:b.feeAmount,sqrtPriceX64:b.sqrtPriceX64,liquidity:b.liquidity,tickCurrent:b.tick,accounts:b.accounts}}static swapStepCompute(e,t,r,i,n,a){let o={sqrtPriceX64Next:new A.default(0),amountIn:new A.default(0),amountOut:new A.default(0),feeAmount:new A.default(0)},s=i.gte(iH);if(s){let s=nS.mulDivFloor(i,i6.sub(new A.default(n.toString())),i6);o.amountIn=a?n_.getTokenAmountAFromLiquidity(t,e,r,!0):n_.getTokenAmountBFromLiquidity(e,t,r,!0),s.gte(o.amountIn)?o.sqrtPriceX64Next=t:o.sqrtPriceX64Next=nk.getNextSqrtPriceX64FromInput(e,r,s,a)}else o.amountOut=a?n_.getTokenAmountBFromLiquidity(t,e,r,!1):n_.getTokenAmountAFromLiquidity(e,t,r,!1),i.mul(iQ).gte(o.amountOut)?o.sqrtPriceX64Next=t:o.sqrtPriceX64Next=nk.getNextSqrtPriceX64FromOutput(e,r,i.mul(iQ),a);let u=t.eq(o.sqrtPriceX64Next);return a?(u&&s||(o.amountIn=n_.getTokenAmountAFromLiquidity(o.sqrtPriceX64Next,e,r,!0)),u&&!s||(o.amountOut=n_.getTokenAmountBFromLiquidity(o.sqrtPriceX64Next,e,r,!1))):(o.amountIn=u&&s?o.amountIn:n_.getTokenAmountBFromLiquidity(e,o.sqrtPriceX64Next,r,!0),o.amountOut=u&&!s?o.amountOut:n_.getTokenAmountAFromLiquidity(e,o.sqrtPriceX64Next,r,!1)),!s&&o.amountOut.gt(i.mul(iQ))&&(o.amountOut=i.mul(iQ)),s&&!o.sqrtPriceX64Next.eq(t)?o.feeAmount=i.sub(o.amountIn):o.feeAmount=nS.mulDivCeil(o.amountIn,new A.default(n),i6.sub(new A.default(n))),[o.sqrtPriceX64Next,o.amountIn,o.amountOut,o.feeAmount]}},nN=60,nR=512,nB=class{static getTickArrayAddressByTick(e,t,r,i){let{publicKey:n}=nc(e,t,nB.getTickArrayStartIndexByTick(r,i));return n}static getTickOffsetInArray(e,t){if(e%t!=0)throw Error("tickIndex % tickSpacing not equal 0");let r=nB.getTickArrayStartIndexByTick(e,t),i=Math.floor((e-r)/t);if(i<0||i>=nN)throw Error("tick offset in array overflow");return i}static getTickArrayBitIndex(e,t){let r=nx.tickCount(t),i=e/r;return e<0&&e%r!=0?Math.ceil(i)-1:Math.floor(i)}static getTickArrayStartIndexByTick(e,t){return this.getTickArrayBitIndex(e,t)*nx.tickCount(t)}static getTickArrayOffsetInBitmapByTick(e,t){return Math.abs(Math.floor(e/(t*nN))+512)}static checkTickArrayIsInitialized(e,t,r){let i=r*nN,n=Math.abs(Math.floor(t/i)+512);return{isInitialized:e.testn(n),startIndex:(n-512)*i}}static getNextTickArrayStartIndex(e,t,r){return r?e-t*nN:e+t*nN}static mergeTickArrayBitmap(e){let t=new A.default(0);for(let r=0;r<e.length;r++)t=t.add(e[r].shln(64*r));return t}static getInitializedTickArrayInRange(e,t,r,i,n){let a=Math.floor(i/(r*nN));return[...nB.searchLowBitFromStart(e,t,a-1,n,r),...nB.searchHightBitFromStart(e,t,a,n,r)]}static getAllInitializedTickArrayStartIndex(e,t,r){return nB.searchHightBitFromStart(e,t,-7680,nR,r)}static getAllInitializedTickArrayInfo(e,t,r,i,n){let a=[];for(let o of nB.getAllInitializedTickArrayStartIndex(r,i,n)){let{publicKey:r}=nc(e,t,o);a.push({tickArrayStartIndex:o,tickArrayAddress:r})}return a}static getAllInitializedTickInTickArray(e){return e.ticks.filter(e=>e.liquidityGross.gtn(0))}static searchLowBitFromStart(e,t,r,i,n){let a=[...[...t.negativeTickArrayBitmap].reverse(),e.slice(0,8),e.slice(8,16),...t.positiveTickArrayBitmap].map(e=>nB.mergeTickArrayBitmap(e)),o=[];for(;r>=-7680;){let e=Math.floor((r+7680)/512),t=(r+7680)%512;if(a[e].testn(t)&&o.push(r),r--,o.length===i)break}let s=nx.tickCount(n);return o.map(e=>e*s)}static searchHightBitFromStart(e,t,r,i,n){let a=[...[...t.negativeTickArrayBitmap].reverse(),e.slice(0,8),e.slice(8,16),...t.positiveTickArrayBitmap].map(e=>nB.mergeTickArrayBitmap(e)),o=[];for(;r<7680;){let e=Math.floor((r+7680)/512),t=(r+7680)%512;if(a[e].testn(t)&&o.push(r),r++,o.length===i)break}let s=nx.tickCount(n);return o.map(e=>e*s)}static checkIsOutOfBoundary(e){return e<-443636||e>443636}static nextInitTick(e,t,r,i,n){if(nx.getArrayStartIndex(t,r)!=e.startTickIndex)return null;let a=Math.floor((t-e.startTickIndex)/r);if(i)for(;a>=0;){if(e.ticks[a].liquidityGross.gtn(0))return e.ticks[a];a-=1}else for(n||(a+=1);a<nN;){if(e.ticks[a].liquidityGross.gtn(0))return e.ticks[a];a+=1}return null}static firstInitializedTick(e,t){if(t){let t=nN-1;for(;t>=0;){if(e.ticks[t].liquidityGross.gtn(0))return e.ticks[t];t-=1}}else{let t=0;for(;t<nN;){if(e.ticks[t].liquidityGross.gtn(0))return e.ticks[t];t+=1}}throw Error(`firstInitializedTick check error: ${e} - ${t}`)}static _getTickPriceLegacy({poolInfo:e,tick:t,baseIn:r}){let i=nk.getSqrtPriceX64FromTick(t),n=nk.sqrtPriceX64ToPrice(i,e.mintA.decimals,e.mintB.decimals);return r?{tick:t,price:n,tickSqrtPriceX64:i}:{tick:t,price:new tb(1).div(n),tickSqrtPriceX64:i}}static _getPriceAndTickLegacy({poolInfo:e,price:t,baseIn:r}){let i=r?t:new tb(1).div(t),n=nP.getTickWithPriceAndTickspacing(i,e.ammConfig.tickSpacing,e.mintA.decimals,e.mintB.decimals),a=nk.getSqrtPriceX64FromTick(n),o=nk.sqrtPriceX64ToPrice(a,e.mintA.decimals,e.mintB.decimals);return r?{tick:n,price:o}:{tick:n,price:new tb(1).div(o)}}static getTickPrice({poolInfo:e,tick:t,baseIn:r}){let i=nk.getSqrtPriceX64FromTick(t),n=nk.sqrtPriceX64ToPrice(i,e.mintA.decimals,e.mintB.decimals);return r?{tick:t,price:n,tickSqrtPriceX64:i}:{tick:t,price:new tb(1).div(n),tickSqrtPriceX64:i}}static getPriceAndTick({poolInfo:e,price:t,baseIn:r}){let i=r?t:new tb(1).div(t),n=nP.getTickWithPriceAndTickspacing(i,e.config.tickSpacing,e.mintA.decimals,e.mintB.decimals),a=nk.getSqrtPriceX64FromTick(n),o=nk.sqrtPriceX64ToPrice(a,e.mintA.decimals,e.mintB.decimals);return r?{tick:n,price:o}:{tick:n,price:new tb(1).div(o)}}},nC=iv([ia(8),ic("bump"),r9("index"),ig(""),id("protocolFeeRate"),id("tradeFeeRate"),r9("tickSpacing"),iS(ip(),8,"")]),nO=iv([id("blockTimestamp"),im("tickCumulative"),iS(ip(),4)]),nD=iv([ia(8),iy("initialized"),ip("recentEpoch"),r9("observationIndex"),ig("poolId"),iS(nO,100,"observations"),iS(ip(),4)]),nM=iv([ic("rewardState"),ip("openTime"),ip("endTime"),ip("lastUpdateTime"),ih("emissionsPerSecondX64"),ip("rewardTotalEmissioned"),ip("rewardClaimed"),ig("tokenMint"),ig("tokenVault"),ig("creator"),ih("rewardGrowthGlobalX64")]),nU=iv([ia(8),ic("bump"),ig("ammConfig"),ig("creator"),ig("mintA"),ig("mintB"),ig("vaultA"),ig("vaultB"),ig("observationId"),ic("mintDecimalsA"),ic("mintDecimalsB"),r9("tickSpacing"),ih("liquidity"),ih("sqrtPriceX64"),ir("tickCurrent"),id(),ih("feeGrowthGlobalX64A"),ih("feeGrowthGlobalX64B"),ip("protocolFeesTokenA"),ip("protocolFeesTokenB"),ih("swapInAmountTokenA"),ih("swapOutAmountTokenB"),ih("swapInAmountTokenB"),ih("swapOutAmountTokenA"),ic("status"),iS(ic(),7,""),iS(nM,3,"rewardInfos"),iS(ip(),16,"tickArrayBitmap"),ip("totalFeesTokenA"),ip("totalFeesClaimedTokenA"),ip("totalFeesTokenB"),ip("totalFeesClaimedTokenB"),ip("fundFeesTokenA"),ip("fundFeesTokenB"),ip("startTime"),iS(ip(),57,"padding")]),nF=iv([ih("growthInsideLastX64"),ip("rewardAmountOwed")]),nL=iv([ia(8),ic("bump"),ig("nftMint"),ig("poolId"),ir("tickLower"),ir("tickUpper"),ih("liquidity"),ih("feeGrowthInsideLastX64A"),ih("feeGrowthInsideLastX64B"),ip("tokenFeesOwedA"),ip("tokenFeesOwedB"),iS(nF,3,"rewardInfos"),iS(ip(),8,"")]),nq=(iv([ia(8),ic("bump"),ig("poolId"),ir("tickLowerIndex"),ir("tickUpperIndex"),ih("liquidity"),ih("feeGrowthInsideLastX64A"),ih("feeGrowthInsideLastX64B"),ip("tokenFeesOwedA"),ip("tokenFeesOwedB"),iS(ih(),3,"rewardGrowthInside"),iS(ip(),8,"")]),iv([ir("tick"),new iu(16,!0,"liquidityNet"),ih("liquidityGross"),ih("feeGrowthOutsideX64A"),ih("feeGrowthOutsideX64B"),iS(ih(),3,"rewardGrowthsOutsideX64"),iS(id(),13,"")])),nK=iv([ia(8),ig("poolId"),ir("startTickIndex"),iS(nq,nN,"ticks"),ic("initializedTickCount"),iS(ic(),115,"")]),nW=iv([ia(329),iS(ig(),100,"whitelistMints")]),nV=iv([ia(8),ig("poolId"),iS(iS(ip(),8),14,"positiveTickArrayBitmap"),iS(iS(ip(),8),14,"negativeTickArrayBitmap")]);iv([ip(),ic("bump"),ig("owner"),ig("poolId"),ig("positionId"),ig("nftAccount"),iS(ip(),8)]),iv([ia(8),ic("bump"),ig("lockOwner"),ig("poolId"),ig("positionId"),ig("nftAccount"),ig("lockNftMint"),ip("recentEpoch"),iS(ip(),8)]),nD.span;var nG=G("Raydium_Clmm"),nz=[233,146,209,142,207,104,64,188],nj=[95,135,192,196,242,129,230,68],nH=[112,52,167,75,32,201,211,137],nX=[77,184,74,214,112,86,241,199],nQ=[77,255,174,82,125,29,201,46],nJ=[123,134,81,0,49,68,98,98],nY=[133,29,89,223,69,238,176,10],nZ=[58,127,188,62,79,82,196,96],n$=[43,4,237,11,26,201,30,98],n0=[18,237,166,197,34,16,213,144],n1=[188,37,179,131,82,150,84,73],n2=[16,72,250,198,14,162,212,19],n5=class{static createPoolInstruction(e,t,r,i,n,a,o,s,u,l,c,d,p,m){let b=iv([ih("sqrtPriceX64"),ip("zero")]),g=[{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:h.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:tM,isSigner:!1,isWritable:!1},...(null==m?void 0:m.map(e=>({pubkey:e,isSigner:!1,isWritable:!1})))||[]],y=f.Buffer.alloc(b.span);b.encode({sqrtPriceX64:p,zero:iH},y);let x=f.Buffer.from([...nz,...y]);return new h.TransactionInstruction({keys:g,programId:e,data:x})}static async createPoolInstructions(e){let{programId:t,owner:r,mintA:i,mintB:n,ammConfigId:a,initialPriceX64:o,extendMintAccount:s}=e,[u,l]=[new h.PublicKey(i.address),new h.PublicKey(n.address)],{publicKey:c}=rt([nt,a.toBuffer(),u.toBuffer(),l.toBuffer()],t),{publicKey:d}=rt([nu,c.toBuffer()],t),{publicKey:f}=nl(t,c,u),{publicKey:p}=nl(t,c,l),m=nh(t,c).publicKey;return{signers:[],instructions:[this.createPoolInstruction(t,c,r,a,d,u,f,new h.PublicKey(i.programId||y.TOKEN_PROGRAM_ID),l,p,new h.PublicKey(n.programId||y.TOKEN_PROGRAM_ID),m,o,s)],instructionTypes:[t1,"ClmmCreatePool"],address:{poolId:c,observationId:d,exBitmapAccount:m,mintAVault:f,mintBVault:p},lookupTableAddress:[]}}static openPositionFromLiquidityInstruction(e,t,r,i,n,a,o,s,u,l,c,d,p,m,b,g,x,A,w,v,S,T,E,k,P,_){let I=iv([ir("tickLowerIndex"),ir("tickUpperIndex"),ir("tickArrayLowerStartIndex"),ir("tickArrayUpperStartIndex"),ih("liquidity"),ip("amountMaxA"),ip("amountMaxB"),iy("withMetadata"),ic("optionBaseFlag"),iy("baseFlag")]),N=[..._?[{pubkey:_,isSigner:!1,isWritable:!0}]:[]],R=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:tM,isSigner:!1,isWritable:!1},{pubkey:h.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:tF,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:x,isSigner:!1,isWritable:!1},...N],B=f.Buffer.alloc(I.span);I.encode({tickLowerIndex:A,tickUpperIndex:w,tickArrayLowerStartIndex:v,tickArrayUpperStartIndex:S,liquidity:T,amountMaxA:E,amountMaxB:k,withMetadata:"create"===P,baseFlag:!1,optionBaseFlag:0},B);let C=f.Buffer.from([...nX,...B]);return new h.TransactionInstruction({keys:R,programId:e,data:C})}static openPositionFromLiquidityInstruction22(e,t,r,i,n,a,o,s,u,l,c,d,p,m,b,g,x,A,w,v,S,T,E,k,P){let _=iv([ir("tickLowerIndex"),ir("tickUpperIndex"),ir("tickArrayLowerStartIndex"),ir("tickArrayUpperStartIndex"),ih("liquidity"),ip("amountMaxA"),ip("amountMaxB"),iy("withMetadata"),ic("optionBaseFlag"),iy("baseFlag")]),I=[...P?[{pubkey:P,isSigner:!1,isWritable:!0}]:[]],N=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:tM,isSigner:!1,isWritable:!1},{pubkey:h.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},...I],R=f.Buffer.alloc(_.span);_.encode({tickLowerIndex:x,tickUpperIndex:A,tickArrayLowerStartIndex:w,tickArrayUpperStartIndex:v,liquidity:S,amountMaxA:T,amountMaxB:E,withMetadata:"create"===k,baseFlag:!1,optionBaseFlag:0},R);let B=f.Buffer.from([...nQ,...R]);return new h.TransactionInstruction({keys:N,programId:e,data:B})}static async openPositionInstructions({poolInfo:e,poolKeys:t,ownerInfo:r,tickLower:i,tickUpper:n,liquidity:a,amountMaxA:o,amountMaxB:s,withMetadata:u,getEphemeralSigners:l,nft2022:c}){let d=[],[f,p]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],m;if(l)m=new h.PublicKey((await l(1))[0]);else{let e=h.Keypair.generate();d.push(e),m=e.publicKey}let b=nB.getTickArrayStartIndexByTick(i,e.config.tickSpacing),g=nB.getTickArrayStartIndexByTick(n,e.config.tickSpacing),{publicKey:x}=nc(f,p,b),{publicKey:A}=nc(f,p,g),{publicKey:w}=c?ra(r.wallet,m,y.TOKEN_2022_PROGRAM_ID):ra(r.wallet,m,y.TOKEN_PROGRAM_ID),{publicKey:v}=np(m),{publicKey:S}=nf(f,m),{publicKey:T}=nd(f,p,i,n);return{signers:d,instructions:[c?this.openPositionFromLiquidityInstruction22(f,r.feePayer,p,r.wallet,m,w,T,x,A,S,r.tokenAccountA,r.tokenAccountB,new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B),new h.PublicKey(e.mintA.address),new h.PublicKey(e.mintB.address),i,n,b,g,a,o,s,u,nv.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[b,g])?nh(f,p).publicKey:void 0):this.openPositionFromLiquidityInstruction(f,r.feePayer,p,r.wallet,m,w,v,T,x,A,S,r.tokenAccountA,r.tokenAccountB,new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B),new h.PublicKey(e.mintA.address),new h.PublicKey(e.mintB.address),i,n,b,g,a,o,s,u,nv.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[b,g])?nh(f,p).publicKey:void 0)],instructionTypes:[t2],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[],address:{nftMint:m,tickArrayLower:x,tickArrayUpper:A,positionNftAccount:w,metadataAccount:v,personalPosition:S,protocolPosition:T}}}static async openPositionFromBaseInstructions({poolInfo:e,poolKeys:t,ownerInfo:r,tickLower:i,tickUpper:n,base:a,baseAmount:o,otherAmountMax:s,withMetadata:u,getEphemeralSigners:l,nft2022:c}){let d=[],[f,p]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],m;if(l)m=new h.PublicKey((await l(1))[0]);else{let e=h.Keypair.generate();d.push(e),m=e.publicKey}let b=nB.getTickArrayStartIndexByTick(i,e.config.tickSpacing),g=nB.getTickArrayStartIndexByTick(n,e.config.tickSpacing),{publicKey:x}=nc(f,p,b),{publicKey:A}=nc(f,p,g),{publicKey:w}=c?ra(r.wallet,m,y.TOKEN_2022_PROGRAM_ID):ra(r.wallet,m,y.TOKEN_PROGRAM_ID),{publicKey:v}=np(m),{publicKey:S}=nf(f,m),{publicKey:T}=nd(f,p,i,n),E=c?this.openPositionFromBaseInstruction22(f,r.feePayer,p,r.wallet,m,w,T,x,A,S,r.tokenAccountA,r.tokenAccountB,new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B),new h.PublicKey(e.mintA.address),new h.PublicKey(e.mintB.address),i,n,b,g,u,a,o,s,nv.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[b,g])?nh(f,p).publicKey:void 0):this.openPositionFromBaseInstruction(f,r.feePayer,p,r.wallet,m,w,v,T,x,A,S,r.tokenAccountA,r.tokenAccountB,new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B),new h.PublicKey(e.mintA.address),new h.PublicKey(e.mintB.address),i,n,b,g,u,a,o,s,nv.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[b,g])?nh(f,p).publicKey:void 0);return{address:{nftMint:m,tickArrayLower:x,tickArrayUpper:A,positionNftAccount:w,metadataAccount:v,personalPosition:S,protocolPosition:T},instructions:[E],signers:d,instructionTypes:[t2],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static openPositionFromBaseInstruction(e,t,r,i,n,a,o,s,u,l,c,d,p,m,b,g,x,w,v,S,T,E,k,P,_,I){let N=iv([ir("tickLowerIndex"),ir("tickUpperIndex"),ir("tickArrayLowerStartIndex"),ir("tickArrayUpperStartIndex"),ih("liquidity"),ip("amountMaxA"),ip("amountMaxB"),iy("withMetadata"),ic("optionBaseFlag"),iy("baseFlag")]),R=[...I?[{pubkey:I,isSigner:!1,isWritable:!0}]:[]],B=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:tM,isSigner:!1,isWritable:!1},{pubkey:h.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:tF,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:x,isSigner:!1,isWritable:!1},...R],C=f.Buffer.alloc(N.span);N.encode({tickLowerIndex:w,tickUpperIndex:v,tickArrayLowerStartIndex:S,tickArrayUpperStartIndex:T,liquidity:new A.default(0),amountMaxA:"MintA"===k?P:_,amountMaxB:"MintA"===k?_:P,withMetadata:"create"===E,baseFlag:"MintA"===k,optionBaseFlag:1},C);let O=f.Buffer.from([...nX,...C]);return new h.TransactionInstruction({keys:B,programId:e,data:O})}static openPositionFromBaseInstruction22(e,t,r,i,n,a,o,s,u,l,c,d,p,m,b,g,x,w,v,S,T,E,k,P,_){let I=iv([ir("tickLowerIndex"),ir("tickUpperIndex"),ir("tickArrayLowerStartIndex"),ir("tickArrayUpperStartIndex"),ih("liquidity"),ip("amountMaxA"),ip("amountMaxB"),iy("withMetadata"),ic("optionBaseFlag"),iy("baseFlag")]),N=[..._?[{pubkey:_,isSigner:!1,isWritable:!0}]:[]],R=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:tM,isSigner:!1,isWritable:!1},{pubkey:h.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},...N],B=f.Buffer.alloc(I.span);I.encode({tickLowerIndex:x,tickUpperIndex:w,tickArrayLowerStartIndex:v,tickArrayUpperStartIndex:S,liquidity:new A.default(0),amountMaxA:"MintA"===E?k:P,amountMaxB:"MintA"===E?P:k,withMetadata:"create"===T,baseFlag:"MintA"===E,optionBaseFlag:1},B);let C=f.Buffer.from([...nQ,...B]);return new h.TransactionInstruction({keys:R,programId:e,data:C})}static async openPositionFromLiquidityInstructions({poolInfo:e,poolKeys:t,ownerInfo:r,tickLower:i,tickUpper:n,liquidity:a,amountMaxA:o,amountMaxB:s,withMetadata:u,getEphemeralSigners:l,nft2022:c}){let d,f=[];if(l)d=new h.PublicKey((await l(1))[0]);else{let e=h.Keypair.generate();f.push(e),d=e.publicKey}let[p,m]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],b=nB.getTickArrayStartIndexByTick(i,e.config.tickSpacing),g=nB.getTickArrayStartIndexByTick(n,e.config.tickSpacing),{publicKey:x}=nc(p,m,b),{publicKey:A}=nc(p,m,g),{publicKey:w}=c?ra(r.wallet,d,y.TOKEN_2022_PROGRAM_ID):ra(r.wallet,d,y.TOKEN_PROGRAM_ID),{publicKey:v}=np(d),{publicKey:S}=nf(p,d),{publicKey:T}=nd(p,m,i,n),E=c?this.openPositionFromLiquidityInstruction22(p,r.wallet,m,r.wallet,d,w,T,x,A,S,r.tokenAccountA,r.tokenAccountB,new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B),new h.PublicKey(t.mintA.address),new h.PublicKey(t.mintB.address),i,n,b,g,a,o,s,u,nv.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[b,g])?nh(p,m).publicKey:void 0):this.openPositionFromLiquidityInstruction(p,r.wallet,m,r.wallet,d,w,v,T,x,A,S,r.tokenAccountA,r.tokenAccountB,new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B),new h.PublicKey(t.mintA.address),new h.PublicKey(t.mintB.address),i,n,b,g,a,o,s,u,nv.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[b,g])?nh(p,m).publicKey:void 0);return{address:{nftMint:d,tickArrayLower:x,tickArrayUpper:A,positionNftAccount:w,metadataAccount:v,personalPosition:S,protocolPosition:T},instructions:[E],signers:f,instructionTypes:[t2],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static closePositionInstruction(e,t,r,i,n,a){let o=iv([]),s=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:h.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:a?y.TOKEN_2022_PROGRAM_ID:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],u=f.Buffer.alloc(o.span);o.encode({},u);let l=f.Buffer.from([...nJ,...u]);return new h.TransactionInstruction({keys:s,programId:e,data:l})}static closePositionInstructions({poolInfo:e,poolKeys:t,ownerInfo:r,ownerPosition:i,nft2022:n}){let a=new h.PublicKey(e.programId),o=n?ra(r.wallet,i.nftMint,y.TOKEN_2022_PROGRAM_ID).publicKey:ra(r.wallet,i.nftMint,y.TOKEN_PROGRAM_ID).publicKey,{publicKey:s}=nf(a,i.nftMint),u=[];return u.push(this.closePositionInstruction(a,r.wallet,i.nftMint,o,s,n)),{address:{positionNftAccount:o,personalPosition:s},signers:[],instructions:u,instructionTypes:["ClmmClosePosition"],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static increasePositionFromLiquidityInstruction(e,t,r,i,n,a,o,s,u,l,c,d,p,m,b,g,x,A){let w=iv([ih("liquidity"),ip("amountMaxA"),ip("amountMaxB"),ic("optionBaseFlag"),iy("baseFlag")]),v=[...A?[{pubkey:A,isSigner:!1,isWritable:!0}]:[]],S=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},...v],T=f.Buffer.alloc(w.span);w.encode({liquidity:b,amountMaxA:g,amountMaxB:x,optionBaseFlag:0,baseFlag:!1},T);let E=f.Buffer.from([...nY,...T]);return new h.TransactionInstruction({keys:S,programId:e,data:E})}static increasePositionFromLiquidityInstructions({poolInfo:e,poolKeys:t,ownerPosition:r,ownerInfo:i,liquidity:n,amountMaxA:a,amountMaxB:o,nft2022:s}){let[u,l]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],c=nB.getTickArrayStartIndexByTick(r.tickLower,e.config.tickSpacing),d=nB.getTickArrayStartIndexByTick(r.tickUpper,e.config.tickSpacing),{publicKey:f}=nc(u,l,c),{publicKey:p}=nc(u,l,d),{publicKey:m}=s?ra(i.wallet,r.nftMint,y.TOKEN_2022_PROGRAM_ID):ra(i.wallet,r.nftMint,y.TOKEN_PROGRAM_ID),{publicKey:b}=nf(u,r.nftMint),{publicKey:g}=nd(u,l,r.tickLower,r.tickUpper),x=this.increasePositionFromLiquidityInstruction(u,i.wallet,m,b,l,g,f,p,i.tokenAccountA,i.tokenAccountB,new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B),new h.PublicKey(e.mintA.address),new h.PublicKey(e.mintB.address),n,a,o,nv.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[c,d])?nh(u,l).publicKey:void 0);return{address:{tickArrayLower:f,tickArrayUpper:p,positionNftAccount:m,personalPosition:b,protocolPosition:g},signers:[],instructions:[x],instructionTypes:[t5],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static increasePositionFromBaseInstructions({poolInfo:e,poolKeys:t,ownerPosition:r,ownerInfo:i,base:n,baseAmount:a,otherAmountMax:o,nft2022:s}){let[u,l]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],c=nB.getTickArrayStartIndexByTick(r.tickLower,e.config.tickSpacing),d=nB.getTickArrayStartIndexByTick(r.tickUpper,e.config.tickSpacing),{publicKey:f}=nc(u,l,c),{publicKey:p}=nc(u,l,d),{publicKey:m}=s?ra(i.wallet,r.nftMint,y.TOKEN_2022_PROGRAM_ID):ra(i.wallet,r.nftMint,y.TOKEN_PROGRAM_ID),{publicKey:b}=nf(u,r.nftMint),{publicKey:g}=nd(u,l,r.tickLower,r.tickUpper);return{address:{tickArrayLower:f,tickArrayUpper:p,positionNftAccount:m,personalPosition:b,protocolPosition:g},instructions:[this.increasePositionFromBaseInstruction(u,i.wallet,m,b,l,g,f,p,i.tokenAccountA,i.tokenAccountB,new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B),new h.PublicKey(e.mintA.address),new h.PublicKey(e.mintB.address),n,a,o,nv.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[c,d])?nh(u,l).publicKey:void 0)],signers:[],instructionTypes:[t5],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static increasePositionFromBaseInstruction(e,t,r,i,n,a,o,s,u,l,c,d,p,m,b,g,x,w){let v=iv([ih("liquidity"),ip("amountMaxA"),ip("amountMaxB"),ic("optionBaseFlag"),iy("baseFlag")]),S=[...w?[{pubkey:w,isSigner:!1,isWritable:!0}]:[]],T=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},...S],E=f.Buffer.alloc(v.span);v.encode({liquidity:new A.default(0),amountMaxA:"MintA"===b?g:x,amountMaxB:"MintA"===b?x:g,baseFlag:"MintA"===b,optionBaseFlag:1},E);let k=f.Buffer.from([...nY,...E]);return new h.TransactionInstruction({keys:T,programId:e,data:k})}static decreaseLiquidityInstruction(e,t,r,i,n,a,o,s,u,l,c,d,p,m,b,g,x,A,w){let v=iv([ih("liquidity"),ip("amountMinA"),ip("amountMinB")]),S=[...w?[{pubkey:w,isSigner:!1,isWritable:!0}]:[],...b.map(e=>[{pubkey:e.poolRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.ownerRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.rewardMint,isSigner:!1,isWritable:!1}]).flat()],T=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:tO,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},...S],E=f.Buffer.alloc(v.span);v.encode({liquidity:g,amountMinA:x,amountMinB:A},E);let k=f.Buffer.from([...nZ,...E]);return new h.TransactionInstruction({keys:T,programId:e,data:k})}static decreaseLiquidityInstructions({poolInfo:e,poolKeys:t,ownerPosition:r,ownerInfo:i,liquidity:n,amountMinA:a,amountMinB:o,programId:s,nft2022:u}){let[l,c]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],d=nB.getTickArrayStartIndexByTick(r.tickLower,e.config.tickSpacing),f=nB.getTickArrayStartIndexByTick(r.tickUpper,e.config.tickSpacing),{publicKey:p}=nc(l,c,d),{publicKey:m}=nc(l,c,f),{publicKey:b}=u?ra(i.wallet,r.nftMint,y.TOKEN_2022_PROGRAM_ID):ra(i.wallet,r.nftMint,s),{publicKey:g}=nf(l,r.nftMint),{publicKey:x}=nd(l,c,r.tickLower,r.tickUpper),A=[];for(let r=0;r<e.rewardDefaultInfos.length;r++)A.push({poolRewardVault:new h.PublicKey(t.rewardInfos[r].vault),ownerRewardVault:i.rewardAccounts[r],rewardMint:new h.PublicKey(e.rewardDefaultInfos[r].mint.address)});let w=[];return w.push(this.decreaseLiquidityInstruction(l,i.wallet,b,g,c,x,p,m,i.tokenAccountA,i.tokenAccountB,new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B),new h.PublicKey(e.mintA.address),new h.PublicKey(e.mintB.address),A,n,a,o,nv.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[d,f])?nh(l,c).publicKey:void 0)),{address:{tickArrayLower:p,tickArrayUpper:m,positionNftAccount:b,personalPosition:g,protocolPosition:x},signers:[],instructions:w,instructionTypes:[t6],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static swapInstruction(e,t,r,i,n,a,o,s,u,l,c,d,p,m,b,g,x){let A=iv([ip("amount"),ip("otherAmountThreshold"),ih("sqrtPriceLimitX64"),iy("isBaseInput")]),w=[...x?[{pubkey:x,isSigner:!1,isWritable:!0}]:[],...c.map(e=>({pubkey:e,isSigner:!1,isWritable:!0}))],v=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:tO,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},...w],S=f.Buffer.alloc(A.span);A.encode({amount:p,otherAmountThreshold:m,sqrtPriceLimitX64:b,isBaseInput:g},S);let T=f.Buffer.from([...n$,...S]);return new h.TransactionInstruction({keys:v,programId:e,data:T})}static makeSwapBaseInInstructions({poolInfo:e,poolKeys:t,observationId:r,ownerInfo:i,inputMint:n,amountIn:a,amountOutMin:o,sqrtPriceLimitX64:s,remainingAccounts:u}){let[l,c]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],[d,f]=[new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B)],[p,m]=[new h.PublicKey(e.mintA.address),new h.PublicKey(e.mintB.address)],b=e.mintA.address===n.toString();return{signers:[],instructions:[this.swapInstruction(l,i.wallet,c,new h.PublicKey(e.config.id),b?i.tokenAccountA:i.tokenAccountB,b?i.tokenAccountB:i.tokenAccountA,b?d:f,b?f:d,b?p:m,b?m:p,u,r,a,o,s,!0,nh(l,c).publicKey)],instructionTypes:[t3],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[],address:{}}}static makeSwapBaseOutInstructions({poolInfo:e,poolKeys:t,observationId:r,ownerInfo:i,outputMint:n,amountOut:a,amountInMax:o,sqrtPriceLimitX64:s,remainingAccounts:u}){let[l,c]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],[d,f]=[new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B)],[p,m]=[new h.PublicKey(e.mintA.address),new h.PublicKey(e.mintB.address)],b=e.mintA.address===n.toBase58();return{signers:[],instructions:[this.swapInstruction(l,i.wallet,c,new h.PublicKey(e.config.id),b?i.tokenAccountB:i.tokenAccountA,b?i.tokenAccountA:i.tokenAccountB,b?f:d,b?d:f,b?m:p,b?p:m,u,r,a,o,s,!1,nh(l,c).publicKey)],instructionTypes:["ClmmSwapBaseOut"],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[],address:{}}}static initRewardInstruction(e,t,r,i,n,a,o,s,u,l,c,d){let p=iv([ip("openTime"),ip("endTime"),ih("emissionsPerSecondX64")]),m=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:h.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:tM,isSigner:!1,isWritable:!1}],b=f.Buffer.alloc(p.span);p.encode({openTime:tx(l),endTime:tx(c),emissionsPerSecondX64:d},b);let g=f.Buffer.from([...nj,...b]);return new h.TransactionInstruction({keys:m,programId:e,data:g})}static initRewardInstructions({poolInfo:e,poolKeys:t,ownerInfo:r,rewardInfo:i}){var n;let[a,o]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],s=(n=i.mint,rt([ni,o.toBuffer(),n.toBuffer()],a)).publicKey,u=rt([no],a).publicKey,l=[this.initRewardInstruction(a,r.wallet,o,u,new h.PublicKey(e.config.id),r.tokenAccount,i.programId,i.mint,s,i.openTime,i.endTime,i.emissionsPerSecondX64)];return{address:{poolRewardVault:s,operationId:u},signers:[],instructions:l,instructionTypes:["ClmmInitReward"],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static setRewardInstruction(e,t,r,i,n,a,o,s,u,l,c,d){let p=iv([ic("rewardIndex"),ih("emissionsPerSecondX64"),ip("openTime"),ip("endTime")]),m=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0}],b=f.Buffer.alloc(p.span);p.encode({rewardIndex:u,emissionsPerSecondX64:d,openTime:tx(l),endTime:tx(c)},b);let g=f.Buffer.from([...nH,...b]);return new h.TransactionInstruction({keys:m,programId:e,data:g})}static setRewardInstructions({poolInfo:e,poolKeys:t,ownerInfo:r,rewardInfo:i}){let[n,a]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],o,s,u;for(let r=0;r<e.rewardDefaultInfos.length;r++)e.rewardDefaultInfos[r].mint.address===i.mint.toString()&&(o=r,s=new h.PublicKey(t.rewardInfos[r].vault),u=new h.PublicKey(t.rewardInfos[r].mint.address));(void 0===o||void 0===s)&&nG.logWithError("reward mint check error","no reward mint",e.rewardDefaultInfos);let l=rt([no],n).publicKey,c=[this.setRewardInstruction(n,r.wallet,a,l,new h.PublicKey(e.config.id),r.tokenAccount,s,u,o,i.openTime,i.endTime,i.emissionsPerSecondX64)];return{address:{rewardVault:s,operationId:l},signers:[],instructions:c,instructionTypes:["ClmmSetReward"],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static collectRewardInstruction(e,t,r,i,n,a,o){let s=iv([ic("rewardIndex")]),u=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:tO,isSigner:!1,isWritable:!1}],l=f.Buffer.alloc(s.span);s.encode({rewardIndex:o},l);let c=f.Buffer.from([...n0,...l]);return new h.TransactionInstruction({keys:u,programId:e,data:c})}static collectRewardInstructions({poolInfo:e,poolKeys:t,ownerInfo:r,rewardMint:i}){let[n,a]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],o,s;for(let r=0;r<e.rewardDefaultInfos.length;r++)e.rewardDefaultInfos[r].mint.address===i.toString()&&(o=r,s=new h.PublicKey(t.rewardInfos[r].vault));(void 0===o||void 0===s)&&nG.logWithError("reward mint check error","no reward mint",e.rewardDefaultInfos);let u=[this.collectRewardInstruction(n,r.wallet,a,r.tokenAccount,s,i,o)];return{address:{rewardVault:s},signers:[],instructions:u,instructionTypes:["ClmmCollectReward"],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static async makeLockPositions({programId:e,authProgramId:t,poolProgramId:r,payer:i,wallet:n,nftMint:a,nft2022:o,getEphemeralSigners:s}){let u=[],l;if(s)l=new h.PublicKey((await s(1))[0]);else{let e=h.Keypair.generate();u.push(e),l=e.publicKey}let c=o?ra(n,a,y.TOKEN_2022_PROGRAM_ID).publicKey:ra(n,a,y.TOKEN_PROGRAM_ID).publicKey,{publicKey:d}=nf(r,a),f=ng(e,l).publicKey,p=ra(n,l,y.TOKEN_PROGRAM_ID).publicKey,m=np(l).publicKey,b=n5.lockPositionInstructionV2({programId:e,auth:t,payer:i,positionOwner:n,lockOwner:n,positionNftAccount:c,positionId:d,lockPositionId:f,lockNftMint:l,lockNftAccount:p,metadataAccount:m,withMetadata:!0,nft2022:o,positionNftMint:a,authPositionNftAccount:ra(t,a,o?y.TOKEN_2022_PROGRAM_ID:y.TOKEN_PROGRAM_ID).publicKey,positionNftProgram:o?y.TOKEN_2022_PROGRAM_ID:y.TOKEN_PROGRAM_ID});return{address:{positionId:d,lockPositionId:f,lockNftAccount:p,lockNftMint:l,positionNftAccount:c,metadataAccount:m},instructions:[b],signers:u,instructionTypes:["ClmmLockPosition"],lookupTableAddress:[]}}static lockPositionInstructionV2({programId:e,auth:t,payer:r,positionOwner:i,lockOwner:n,positionNftAccount:a,positionId:o,positionNftMint:s,authPositionNftAccount:u,positionNftProgram:l,lockPositionId:c,lockNftMint:d,lockNftAccount:p,metadataAccount:m,withMetadata:b}){let g=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!0,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:tF,isSigner:!1,isWritable:!1},{pubkey:y.ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:tM,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:h.SystemProgram.programId,isSigner:!1,isWritable:!1}],x=iv([iy("withMetadata")]),A=f.Buffer.alloc(x.span);x.encode({withMetadata:b},A);let w=f.Buffer.from([...n1,...A]);return new h.TransactionInstruction({keys:g,programId:e,data:w})}static lockPositionInstruction({programId:e,authProgramId:t,poolProgramId:r,owner:i,positionNft:n}){let{publicKey:a}=ra(i,n,y.TOKEN_PROGRAM_ID),{publicKey:o}=nf(r,n),s=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:nb(e,o).publicKey,isSigner:!1,isWritable:!0},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:h.SystemProgram.programId,isSigner:!1,isWritable:!1}];return new h.TransactionInstruction({keys:s,programId:e,data:f.Buffer.from(n1)})}static harvestLockPositionInstruction(e){let[t,r]=[new h.PublicKey(e.poolKeys.programId),new h.PublicKey(e.poolKeys.id)],i=nB.getTickArrayStartIndexByTick(e.ownerPosition.tickLower,e.poolKeys.config.tickSpacing),n=nB.getTickArrayStartIndexByTick(e.ownerPosition.tickUpper,e.poolKeys.config.tickSpacing),{publicKey:a}=nc(t,r,i),{publicKey:o}=nc(t,r,n),{publicKey:s}=ra(e.owner,e.ownerPosition.nftMint,y.TOKEN_PROGRAM_ID),{publicKey:u}=nf(t,e.ownerPosition.nftMint),{publicKey:l}=nd(t,r,e.ownerPosition.tickLower,e.ownerPosition.tickUpper),c=[];for(let t=0;t<e.poolKeys.rewardInfos.length;t++)c.push({poolRewardVault:new h.PublicKey(e.poolKeys.rewardInfos[t].vault),ownerRewardVault:e.ownerRewardAccounts[t],rewardMint:new h.PublicKey(e.poolKeys.rewardInfos[t].mint.address)});let d=[...c.map(e=>[{pubkey:e.poolRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.ownerRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.rewardMint,isSigner:!1,isWritable:!1}]).flat()],p=[{pubkey:e.authProgramId,isSigner:!1,isWritable:!1},{pubkey:nb(e.programId,u).publicKey,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:e.owner,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(e.poolKeys.vault.A),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(e.poolKeys.vault.B),isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:e.userVaultA,isSigner:!1,isWritable:!0},{pubkey:e.userVaultB,isSigner:!1,isWritable:!0},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:tD,isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(e.poolKeys.mintA.address),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(e.poolKeys.mintB.address),isSigner:!1,isWritable:!1},...d];return new h.TransactionInstruction({keys:p,programId:e.programId,data:f.Buffer.from(n2)})}static harvestLockPositionInstructionV2({programId:e,auth:t,lockPositionId:r,clmmProgram:i,lockOwner:n,lockNftMint:a,lockNftAccount:o,positionNftAccount:s,positionId:u,poolId:l,protocolPosition:c,vaultA:d,vaultB:p,tickArrayLower:m,tickArrayUpper:b,userVaultA:g,userVaultB:x,mintA:A,mintB:w,rewardAccounts:v,exTickArrayBitmap:S}){let T=[...S?[{pubkey:S,isSigner:!1,isWritable:!0}]:[],...v.map(e=>[{pubkey:e.poolRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.ownerRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.rewardMint,isSigner:!1,isWritable:!1}]).flat()],E=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:tD,isSigner:!1,isWritable:!1},{pubkey:A,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!1},...T];return new h.TransactionInstruction({keys:E,programId:e,data:f.Buffer.from(n2)})}};iv([id("mintAuthorityOption"),ig("mintAuthority"),ip("supply"),ic("decimals"),ic("isInitialized"),id("freezeAuthorityOption"),ig("freezeAuthority")]);var n6=new A.default(25),n3=new A.default(1e4),n4=iv([ic("instruction"),ip("amountIn"),ip("minAmountOut")]),n8=iv([ic("instruction"),ip("maxAmountIn"),ip("amountOut")]),n7=(iv([ic("instruction"),ic("nonce")]),iv([ic("instruction"),ic("nonce"),ip("startTime")]),iv([ip("status"),ip("nonce"),ip("maxOrder"),ip("depth"),ip("baseDecimal"),ip("quoteDecimal"),ip("state"),ip("resetFlag"),ip("minSize"),ip("volMaxCutRatio"),ip("amountWaveRatio"),ip("baseLotSize"),ip("quoteLotSize"),ip("minPriceMultiplier"),ip("maxPriceMultiplier"),ip("systemDecimalValue"),ip("minSeparateNumerator"),ip("minSeparateDenominator"),ip("tradeFeeNumerator"),ip("tradeFeeDenominator"),ip("pnlNumerator"),ip("pnlDenominator"),ip("swapFeeNumerator"),ip("swapFeeDenominator"),ip("baseNeedTakePnl"),ip("quoteNeedTakePnl"),ip("quoteTotalPnl"),ip("baseTotalPnl"),ip("poolOpenTime"),ip("punishPcAmount"),ip("punishCoinAmount"),ip("orderbookToInitTime"),ih("swapBaseInAmount"),ih("swapQuoteOutAmount"),ip("swapBase2QuoteFee"),ih("swapQuoteInAmount"),ih("swapBaseOutAmount"),ip("swapQuote2BaseFee"),ig("baseVault"),ig("quoteVault"),ig("baseMint"),ig("quoteMint"),ig("lpMint"),ig("openOrders"),ig("marketId"),ig("marketProgramId"),ig("targetOrders"),ig("withdrawQueue"),ig("lpVault"),ig("owner"),ip("lpReserve"),iS(ip(),3,"padding")])),n9=(iv([ip("accountType"),ip("status"),ip("nonce"),ip("maxOrder"),ip("depth"),ip("baseDecimal"),ip("quoteDecimal"),ip("state"),ip("resetFlag"),ip("minSize"),ip("volMaxCutRatio"),ip("amountWaveRatio"),ip("baseLotSize"),ip("quoteLotSize"),ip("minPriceMultiplier"),ip("maxPriceMultiplier"),ip("systemDecimalsValue"),ip("abortTradeFactor"),ip("priceTickMultiplier"),ip("priceTick"),ip("minSeparateNumerator"),ip("minSeparateDenominator"),ip("tradeFeeNumerator"),ip("tradeFeeDenominator"),ip("pnlNumerator"),ip("pnlDenominator"),ip("swapFeeNumerator"),ip("swapFeeDenominator"),ip("baseNeedTakePnl"),ip("quoteNeedTakePnl"),ip("quoteTotalPnl"),ip("baseTotalPnl"),ip("poolOpenTime"),ip("punishPcAmount"),ip("punishCoinAmount"),ip("orderbookToInitTime"),ih("swapBaseInAmount"),ih("swapQuoteOutAmount"),ih("swapQuoteInAmount"),ih("swapBaseOutAmount"),ip("swapQuote2BaseFee"),ip("swapBase2QuoteFee"),ig("baseVault"),ig("quoteVault"),ig("baseMint"),ig("quoteMint"),ig("lpMint"),ig("modelDataAccount"),ig("openOrders"),ig("marketId"),ig("marketProgramId"),ig("targetOrders"),ig("owner"),iS(ip(),64,"padding")]),iv([ic("instruction"),ip("baseAmountIn"),ip("quoteAmountIn"),ip("fixedSide"),ip("otherAmountMin")])),ae=iv([ic("instruction"),ip("lpAmount"),ip("baseAmountMin"),ip("quoteAmountMin")]),at=iv([ip("fee")]),ar=new h.PublicKey("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),ai=iv([ip("x"),ip("y"),ip("price")]),an=iv([ip("accountType"),ip("status"),ip("multiplier"),ip("validDataCount"),iS(ai,5e4,"DataElement")]);G("Raydium_liquidity_instruction");G("Raydium_liquidity_serum");iv([ia(5),function(e="accountFlags"){let t=new il(e);return t.addBoolean("initialized"),t.addBoolean("market"),t.addBoolean("openOrders"),t.addBoolean("requestQueue"),t.addBoolean("eventQueue"),t.addBoolean("bids"),t.addBoolean("asks"),t}("accountFlags"),ig("ownAddress"),ip("vaultSignerNonce"),ig("baseMint"),ig("quoteMint"),ig("baseVault"),ip("baseDepositsTotal"),ip("baseFeesAccrued"),ig("quoteVault"),ip("quoteDepositsTotal"),ip("quoteFeesAccrued"),ip("quoteDustThreshold"),ig("requestQueue"),ig("eventQueue"),ig("bids"),ig("asks"),ip("baseLotSize"),ip("quoteLotSize"),ip("feeRateBps"),ip("referrerRebatesAccrued"),ia(7)]);var aa=new A.default(0),ao=((c=ao||{})[c.Floor=0]="Floor",c[c.Ceiling=1]="Ceiling",c),as=f.Buffer.from("vault_and_lp_mint_auth_seed","utf8"),au=(f.Buffer.from("amm_config","utf8"),f.Buffer.from("pool","utf8")),al=f.Buffer.from("pool_lp_mint","utf8"),ac=f.Buffer.from("pool_vault","utf8"),ad=f.Buffer.from("observation","utf8");f.Buffer.from("locked_liquidity","utf8");G("Raydium_cpmm");var af=iv([ia(8),ic("bump"),iy("disableCreatePool"),r9("index"),ip("tradeFeeRate"),ip("protocolFeeRate"),ip("fundFeeRate"),ip("createPoolFee"),ig("protocolOwner"),ig("fundOwner"),iS(ip(),16)]),ap=iv([ia(8),ig("configId"),ig("poolCreator"),ig("vaultA"),ig("vaultB"),ig("mintLp"),ig("mintA"),ig("mintB"),ig("mintProgramA"),ig("mintProgramB"),ig("observationId"),ic("bump"),ic("status"),ic("lpDecimals"),ic("mintDecimalA"),ic("mintDecimalB"),ip("lpAmount"),ip("protocolFeesMintA"),ip("protocolFeesMintB"),ip("fundFeesMintA"),ip("fundFeesMintB"),ip("openTime"),iS(ip(),32)]),ah={[rd.toBase58()]:3},am=iv([ia(5),ia(8),ig("ownAddress"),ip("vaultSignerNonce"),ig("baseMint"),ig("quoteMint"),ig("baseVault"),ip("baseDepositsTotal"),ip("baseFeesAccrued"),ig("quoteVault"),ip("quoteDepositsTotal"),ip("quoteFeesAccrued"),ip("quoteDustThreshold"),ig("requestQueue"),ig("eventQueue"),ig("bids"),ig("asks"),ip("baseLotSize"),ip("quoteLotSize"),ip("feeRateBps"),ip("referrerRebatesAccrued"),ia(7)]),ab=G("Serum"),ag=new A.default(0),ay=class extends rG{static getPdaPoolId(e,t){return rt([ay.SEED_CONFIG.pool.id,t.toBuffer()],e)}static getPdaOwnerId(e,t,r,i){return rt([ay.SEED_CONFIG.owner.id,t.toBuffer(),r.toBuffer(),f.Buffer.from(new A.default(i).toArray())],e)}static async getAllInfo({connection:e,programId:t,poolIds:r,wallet:i,chainTime:n}){if(0===r.length)return[];let a=r.map(e=>ay.getPdaPoolId(t,e).publicKey),o=[];for(let e=0;e<ay.VERSION_PROJECT.length;e++)o.push(...a.map(r=>ay.getPdaOwnerId(t,r,i,e).publicKey));let s=await j(e,[...a,...o]),u=[];for(let e=0;e<s.length;e++){let i=Math.floor(e/r.length),l=e%r.length,c=a[l],d=o[e],f=s[l],p=s[r.length+e];if(!(f&&p)||f.data.length!==ay.POOL_LAYOUT.span||p.data.length!==ay.OWNER_LAYOUT.span)continue;let h=ay.POOL_LAYOUT.decode(f.data),m=ay.OWNER_LAYOUT.decode(p.data),b=h.openTime.toNumber(),g=h.endTime.toNumber(),y=3!==m.tokenInfo.map(e=>e.debtAmount.gt(new A.default(0))).filter(e=>!e).length,x=n>b&&n<g&&1===h.status,w=y&&x;u.push({programId:t,poolId:c,ammId:h.ammId,ownerAccountId:d,snapshotLpAmount:m.lpAmount,project:ay.VERSION_PROJECT[i],openTime:b,endTime:g,canClaim:w,canClaimErrorType:y?x?void 0:"outOfOperationalTime":"alreadyClaimIt",tokenInfo:h.tokenInfo.map((e,t)=>({mintAddress:e.mintAddress,mintVault:e.mintVault,mintDecimals:e.mintDecimals,perLpLoss:e.perLpLoss,debtAmount:m.tokenInfo[t].debtAmount.add(m.tokenInfo[t].claimedAmount)}))})}return u}async makeClaimTransaction({poolInfo:e,ownerInfo:t,feePayer:r}){t.wallet||this.scope.checkOwner();let i=this.createTxBuilder(r),n=t.wallet||this.scope.ownerPubKey,a=[];for(let r of e.tokenInfo){let{account:e,instructionParams:o}=await this.scope.account.getOrCreateTokenAccount({mint:r.mintAddress,owner:this.scope.ownerPubKey,notUseTokenAccount:r.mintAddress.equals(tV.WSOL.mint),createInfo:{payer:n,amount:0},skipCloseAccount:!r.mintAddress.equals(tV.WSOL.mint),associatedOnly:!r.mintAddress.equals(tV.WSOL.mint)&&t.associatedOnly});o&&i.addInstruction(o),a.push(e)}i.addInstruction({instructions:[ay.makeClaimInstruction({programId:e.programId,poolInfo:e,ownerInfo:{wallet:n,ownerPda:e.ownerAccountId,claimAddress:a}})]});let{transaction:o,signers:s}=i.build();return[{transaction:o,signer:s}]}async makeClaimAllTransaction({poolInfos:e,ownerInfo:t,feePayer:r}){let i=this.createTxBuilder(r),n=t.wallet||this.scope.ownerPubKey,a={};for(let r of e){let e=[];for(let o of r.tokenInfo){let{account:r,instructionParams:s}=await this.scope.account.getOrCreateTokenAccount({mint:o.mintAddress,owner:this.scope.ownerPubKey,notUseTokenAccount:o.mintAddress.equals(tV.WSOL.mint),createInfo:{payer:n,amount:0},skipCloseAccount:!o.mintAddress.equals(tV.WSOL.mint),associatedOnly:!o.mintAddress.equals(tV.WSOL.mint)&&t.associatedOnly});s&&i.addInstruction(s),r&&(a[o.mintAddress.toString()]=r,e.push(r))}i.addInstruction({instructions:[ay.makeClaimInstruction({programId:r.programId,poolInfo:r,ownerInfo:{wallet:n,ownerPda:r.ownerAccountId,claimAddress:e}})]})}let{transaction:o,signers:s}=i.build(),u=i.allInstructions;return re(u,[n,...s.map(e=>e.publicKey)])?[{transaction:o,signer:s}]:[{transaction:new h.Transaction().add(...u.slice(0,i.AllTxData.instructions.length-1)),signer:s},{transaction:new h.Transaction().add(...u.slice(i.AllTxData.instructions.length-1)),signer:[]},{transaction:new h.Transaction().add(...i.AllTxData.endInstructions),signer:[]}]}static makeClaimInstruction({programId:e,poolInfo:t,ownerInfo:r}){let i=iv([]),n=[{pubkey:r.wallet,isSigner:!0,isWritable:!0},{pubkey:t.poolId,isSigner:!1,isWritable:!0},{pubkey:r.ownerPda,isSigner:!1,isWritable:!0},...r.claimAddress.map(e=>({pubkey:e,isSigner:!1,isWritable:!0})),...t.tokenInfo.map(({mintVault:e})=>({pubkey:e,isSigner:!1,isWritable:!0})),{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],a=f.Buffer.alloc(i.span);i.encode({},a);let o=f.Buffer.from([10,66,208,184,161,6,191,98,...a]);return new h.TransactionInstruction({keys:n,programId:e,data:o})}};ay.CLAIMED_NUM=3,ay.POOL_LAYOUT=iv([ia(8),ic("bump"),ic("status"),ip("openTime"),ip("endTime"),ig("ammId"),iS(iv([ic("mintDecimals"),ig("mintAddress"),ig("mintVault"),ip("perLpLoss"),ip("totalClaimedAmount")]),ay.CLAIMED_NUM,"tokenInfo"),iS(ip(),10,"padding")]),ay.OWNER_LAYOUT=iv([ia(8),ic("bump"),ic("version"),ig("poolId"),ig("owner"),ip("lpAmount"),iS(iv([ig("mintAddress"),ip("debtAmount"),ip("claimedAmount")]),ay.CLAIMED_NUM,"tokenInfo"),iS(ip(),4,"padding")]),ay.DEFAULT_POOL_ID=["58oQChx4yWmvKdwLLZzBi4ChoCc2fqCUWBkwMihLYQo2","6UmmUiYoBjSrhakAobJw8BvkmJtDVxaeBtbt7rxWo1mg","AVs9TA4nWDzfPJE9gGVNJMVhcQy3V9PGazuz33BfG2RA","DVa7Qmb5ct9RCpaU7UTpSaf3GVMYz17vNVU67XpdCRut","7XawhbbxtsRcQA8KTkHT9f9nc6d69UwqCDh6U5EEbEmX","6a1CsrpeZubDjEJE9s1CMVheB6HWM5d7m1cj2jkhyXhj","EoNrn8iUhwgJySD1pHu8Qxm5gSQqLK3za4m8xzD2RuEb","AceAyRTWt4PyB2pHqf2qhDgNZDtKVNaxgL8Ru3V4aN1P","6tmFJbMk5yVHFcFy7X2K8RwHjKLr6KVFLYXpgpBNeAxB"].map(e=>new h.PublicKey(e)),ay.SEED_CONFIG={pool:{id:f.Buffer.from("pool_seed","utf8")},owner:{id:f.Buffer.from("user_claim_seed","utf8")}},ay.VERSION_PROJECT=[void 0,"Francium","Tulip","Larix"],iv([ic("instruction"),it("amount")]);iv([ic("instruction")]);var ax={[ry.toString()]:1,[rx.toString()]:2,[rA.toString()]:3,[rw.toString()]:4},aA=f.Buffer.from("vault_auth_seed","utf8"),aw=(f.Buffer.from("global_config","utf8"),f.Buffer.from("pool","utf8")),av=f.Buffer.from("pool_vault","utf8"),aS=(f.Buffer.from("pool_vesting","utf8"),f.Buffer.from("platform_config","utf8"));function aT(e){return rt([aA],e)}function aE(e){return rt([f.Buffer.from("__event_authority","utf8")],e)}var ak={initialize:f.Buffer.from([175,175,109,31,13,152,155,237]),buyExactIn:f.Buffer.from([250,234,13,123,213,156,19,236]),buyExactOut:f.Buffer.from([24,211,116,40,105,3,153,56]),sellExactIn:f.Buffer.from([149,39,222,155,211,124,152,26]),sellExactOut:f.Buffer.from([95,200,71,34,8,9,11,166]),createVestingAccount:f.Buffer.from([129,178,2,13,217,172,230,218]),claimVestedToken:f.Buffer.from([49,33,104,30,189,157,79,35]),createPlatformConfig:f.Buffer.from([176,90,196,175,253,113,220,20]),claimPlatformFee:f.Buffer.from([156,39,208,135,76,237,61,72]),updatePlaformConfig:f.Buffer.from([195,60,76,129,146,45,67,143])};function aP(e,t,r,i,n,a,o,s,u,l,c,d,p,m,b,g,y,x){let w=iv([ip("amountB"),ip("minAmountA"),ip("shareFeeRate")]),v=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:aE(e).publicKey,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!1,isWritable:!1}];x&&v.push({pubkey:x,isSigner:!1,isWritable:!0}),console.log({amountB:b.toString(),minAmountA:g.toString()});let S=f.Buffer.alloc(w.span);return w.encode({amountB:b,minAmountA:g,shareFeeRate:null!=y?y:new A.default(0)},S),new h.TransactionInstruction({keys:v,programId:e,data:f.Buffer.from([...ak.buyExactIn,...S])})}function a_(e,t,r,i,n,a,o,s,u,l,c,d,p,m,b,g,y,x){let w=iv([ip("amountA"),ip("minAmountB"),ip("shareFeeRate")]),v=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:aE(e).publicKey,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!1,isWritable:!1}];x&&v.push({pubkey:x,isSigner:!1,isWritable:!0});let S=f.Buffer.alloc(w.span);return w.encode({amountA:b,minAmountB:g,shareFeeRate:null!=y?y:new A.default(0)},S),new h.TransactionInstruction({keys:v,programId:e,data:f.Buffer.from([...ak.sellExactIn,...S])})}var aI=iv([ip(),ip("epoch"),ic("curveType"),r9("index"),ip("migrateFee"),ip("tradeFeeRate"),ip("maxShareFeeRate"),ip("minSupplyA"),ip("maxLockRate"),ip("minSellRateA"),ip("minMigrateRateA"),ip("minFundRaisingB"),ig("mintB"),ig("protocolFeeOwner"),ig("migrateFeeOwner"),ig("migrateToAmmWallet"),ig("migrateToCpmmWallet"),iS(ip(),16)]),aN=iv([ip("totalLockedAmount"),ip("cliffPeriod"),ip("unlockPeriod"),ip("startTime"),ip("totalAllocatedShare")]),aR=iv([ip(),ip("epoch"),ic("bump"),ic("status"),ic("mintDecimalsA"),ic("mintDecimalsB"),ic("migrateType"),ip("supply"),ip("totalSellA"),ip("virtualA"),ip("virtualB"),ip("realA"),ip("realB"),ip("totalFundRaisingB"),ip("protocolFee"),ip("platformFee"),ip("migrateFee"),aN.replicate("vestingSchedule"),ig("configId"),ig("platformId"),ig("mintA"),ig("mintB"),ig("vaultA"),ig("vaultB"),ig("creator"),iS(ip(),8)]),aB=(iv([ip(),ip("epoch"),ig("poolId"),ig("beneficiary"),ip("claimedAmount"),ip("tokenShareAmount"),iS(ip(),8)]),iv([ip(),ip("epoch"),ig("platformClaimFeeWallet"),ig("platformLockNftWallet"),ip("platformScale"),ip("creatorScale"),ip("burnScale"),ip("feeRate"),iS(ic(),64,"name"),iS(ic(),256,"web"),iS(ic(),256,"img"),iS(ic(),256)])),aC=class{static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:r}){throw Error()}static getPoolInitPriceByInit({a:e,b:t,decimalA:r,decimalB:i}){throw Error()}static getPoolPrice({poolInfo:e,decimalA:t,decimalB:r}){throw Error()}static getPoolEndPrice({supply:e,totalSell:t,totalLockedAmount:r,totalFundRaising:i,migrateFee:n,decimalA:a,decimalB:o}){throw Error()}static getPoolEndPriceReal({poolInfo:e,decimalA:t,decimalB:r}){throw Error()}static getInitParam({supply:e,totalFundRaising:t,totalSell:r,totalLockedAmount:i,migrateFee:n}){throw Error()}static buyExactIn({poolInfo:e,amount:t}){throw Error()}static buyExactOut({poolInfo:e,amount:t}){throw Error()}static sellExactIn({poolInfo:e,amount:t}){throw Error()}static sellExactOut({poolInfo:e,amount:t}){throw Error()}},aO=class extends aC{static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:r}){return new tb(e.virtualB.toString()).div(e.virtualA.toString()).mul(10**(t-r))}static getPoolInitPriceByInit({a:e,b:t,decimalA:r,decimalB:i}){return new tb(t.toString()).div(e.toString()).mul(10**(r-i))}static getPoolPrice({poolInfo:e,decimalA:t,decimalB:r}){return new tb(e.virtualB.add(e.realB).toString()).div(e.virtualA.sub(e.realA).toString()).mul(10**(t-r))}static getPoolEndPrice({supply:e,totalSell:t,totalLockedAmount:r,totalFundRaising:i,migrateFee:n,decimalA:a,decimalB:o}){return new tb(i.sub(n).toString()).div(e.sub(t).sub(r).toString()).mul(10**(a-o))}static getPoolEndPriceReal({poolInfo:e,decimalA:t,decimalB:r}){let i=e.totalSellA.sub(e.realA),n=e.totalFundRaisingB.sub(e.realB);return new tb(e.virtualB.add(e.realB.add(n)).toString()).div(e.virtualA.sub(e.realA.add(i)).toString()).mul(10**(t-r))}static getInitParam({supply:e,totalFundRaising:t,totalSell:r,totalLockedAmount:i,migrateFee:n}){if(e.lte(r))throw Error("supply need gt total sell");let a=e.sub(r).sub(i);if(a.lte(new A.default(0)))throw Error("supplyMinusSellLocked <= 0");let o=t.sub(n);if(o.lte(new A.default(0)))throw Error("tfMinusMf <= 0");let s=o.mul(iJ).div(a),u=s.mul(r).mul(r).div(iJ),l=s.mul(r).div(iJ).sub(t);if(l.lt(new A.default(0)))throw Error("supply/totalSell/totalLockedAmount diff too high");let c=u.div(l),d=t.mul(t).div(l);if(c.lt(new A.default(0))||d.lt(new A.default(0)))throw Error("invalid input 0");return{a:c,b:d,c:r}}static buyExactIn({poolInfo:e,amount:t}){return this.getAmountOut({amountIn:t,inputReserve:e.virtualB.add(e.realB),outputReserve:e.virtualA.sub(e.realA)})}static buyExactOut({poolInfo:e,amount:t}){return this.getAmountIn({amountOut:t,inputReserve:e.virtualB.add(e.realB),outputReserve:e.virtualA.sub(e.realA)})}static sellExactIn({poolInfo:e,amount:t}){return this.getAmountOut({amountIn:t,inputReserve:e.virtualA.sub(e.realA),outputReserve:e.virtualB.add(e.realB)})}static sellExactOut({poolInfo:e,amount:t}){return this.getAmountIn({amountOut:t,inputReserve:e.virtualA.sub(e.realA),outputReserve:e.virtualB.add(e.realB)})}static getAmountOut({amountIn:e,inputReserve:t,outputReserve:r}){let i=e.mul(r),n=t.add(e);return i.div(n)}static getAmountIn({amountOut:e,inputReserve:t,outputReserve:r}){return rN(t.mul(e),r.sub(e))}},aD=class extends aC{static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:r}){return new tb(e.virtualB.toString()).div(e.virtualA.toString()).mul(10**(t-r))}static getPoolInitPriceByInit({a:e,b:t,decimalA:r,decimalB:i}){return new tb(t.toString()).div(e.toString()).mul(10**(r-i))}static getPoolPrice({poolInfo:e,decimalA:t,decimalB:r}){return new tb(e.virtualB.toString()).div(e.virtualA.toString()).mul(10**(t-r))}static getPoolEndPrice({supply:e,totalSell:t,totalLockedAmount:r,totalFundRaising:i,migrateFee:n,decimalA:a,decimalB:o}){return new tb(i.sub(n).toString()).div(e.sub(t).sub(r).toString()).mul(10**(a-o))}static getPoolEndPriceReal({poolInfo:e,decimalA:t,decimalB:r}){let i=e.totalSellA.sub(e.realA),n=e.totalFundRaisingB.sub(e.realB);return new tb(e.virtualB.add(e.realB).add(n).toString()).div(e.virtualA.sub(e.realA).add(i).toString()).mul(10**(t-r))}static getInitParam({supply:e,totalFundRaising:t,totalSell:r,totalLockedAmount:i,migrateFee:n}){let a=e.sub(i);if(a.lte(new A.default(0)))throw Error("invalid input 1");let o=new A.default(2).mul(t).sub(n),s=t.mul(a).div(o);return{a:s,b:t,c:s}}static buyExactIn({poolInfo:e,amount:t}){return this.getAmountOut({amountIn:t,initInput:e.virtualB,initOutput:e.virtualA})}static buyExactOut({poolInfo:e,amount:t}){return this.getAmountIn({amountOut:t,initInput:e.virtualB,initOutput:e.virtualA})}static sellExactIn({poolInfo:e,amount:t}){return this.getAmountOut({amountIn:t,initInput:e.virtualA,initOutput:e.virtualB})}static sellExactOut({poolInfo:e,amount:t}){return this.getAmountIn({amountOut:t,initInput:e.virtualA,initOutput:e.virtualB})}static getAmountOut({amountIn:e,initInput:t,initOutput:r}){return r.mul(e).div(t)}static getAmountIn({amountOut:e,initInput:t,initOutput:r}){return rN(t.mul(e),r)}},aM=class{static _multipler(e){return new tb(10).pow(e)}static getPrice({priceX64:e,decimalA:t,decimalB:r}){return new tb(e.toString()).div(this._Q64).mul(this._multipler(t)).div(this._multipler(r))}static getPriceX64({price:e,decimalA:t,decimalB:r}){let i=e.mul(this._multipler(r)).div(this._multipler(t));return new A.default(i.mul(this._Q64).toFixed(0))}};aM._Q64=new tb(new A.default(1).shln(64).toString());var aU=class extends aC{static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:r}){return new tb(0)}static getPoolInitPriceByInit({a:e,b:t,decimalA:r,decimalB:i}){return new tb(0)}static getPoolPrice({poolInfo:e,decimalA:t,decimalB:r}){return new tb(e.virtualA.mul(e.realA).toString()).div(aM._Q64).mul(10**(t-r))}static getPoolEndPrice({supply:e,totalSell:t,totalLockedAmount:r,totalFundRaising:i,migrateFee:n,decimalA:a,decimalB:o}){return new tb(i.sub(n).toString()).div(e.sub(t).sub(r).toString()).mul(10**(a-o))}static getPoolEndPriceReal({poolInfo:e,decimalA:t,decimalB:r}){let i=e.totalSellA.sub(e.realA),n=e.totalFundRaisingB.sub(e.realB);return new tb(e.virtualB.add(e.realB).add(n).toString()).div(e.virtualA.sub(e.realA).add(i).toString()).mul(10**(t-r))}static getInitParam({supply:e,totalFundRaising:t,totalSell:r,totalLockedAmount:i,migrateFee:n}){let a=e.sub(i);if(a.lte(new A.default(0)))throw Error("supplyMinusLocked need gt 0");let o=t.mul(new A.default(3)).sub(n),s=t.mul(new A.default(2)).mul(a).div(o),u=s.mul(s),l=t.mul(new A.default(2)).mul(iJ).div(u);if(!l.gt(new A.default(0)))throw Error("a need gt 0");if(!iZ.gt(l))throw Error("a need lt u64 max");return{a:l,b:new A.default(0),c:s}}static buyExactIn({poolInfo:e,amount:t}){let r=e.realB.add(t),i=new A.default(2).mul(r).mul(iJ).div(e.virtualA);return new A.default(new tb(i.toString()).sqrt().toFixed(0)).sub(e.realA)}static buyExactOut({poolInfo:e,amount:t}){let r=e.realA.add(t),i=r.mul(r),{div:n,mod:a}=e.virtualA.mul(i).divmod(new A.default(2).mul(iJ));return(a.isZero()?n:n.add(new A.default(1))).sub(e.realB)}static sellExactIn({poolInfo:e,amount:t}){let r=e.realA.sub(t),i=r.mul(r),{div:n,mod:a}=e.virtualA.mul(i).divmod(new A.default(2).mul(iJ)),o=a.isZero()?n:n.add(new A.default(1));return e.realB.sub(o)}static sellExactOut({poolInfo:e,amount:t}){let r=e.realB.sub(t),i=new A.default(2).mul(r).mul(iJ).div(e.virtualA),n=new A.default(new tb(i.toString()).sqrt().toFixed(0));return e.realA.sub(n)}},aF=class{static getPoolCurvePointByPoolInfo({curveType:e,pointCount:t,poolInfo:r}){return this.getPoolCurvePointByInit({curveType:e,pointCount:t,supply:r.supply,totalFundRaising:r.totalFundRaisingB,totalSell:r.totalSellA,totalLockedAmount:r.vestingSchedule.totalLockedAmount,migrateFee:r.migrateFee,decimalA:r.mintDecimalsA,decimalB:r.mintDecimalsB})}static getPoolCurvePointByInit({curveType:e,pointCount:t,supply:r,totalFundRaising:i,totalSell:n,totalLockedAmount:a,migrateFee:o,decimalA:s,decimalB:u}){if(t<3)throw Error("point count < 3");let l=this.getCurve(e),c=l.getInitParam({supply:r,totalFundRaising:i,totalSell:n,totalLockedAmount:a,migrateFee:o}),d=l.getPoolInitPriceByInit(F(U({},c),{decimalA:s,decimalB:u})),f=i.div(new A.default(t-1)),p=new A.default(0),h=[{price:d,totalSellSupply:0}],{a:m,b:b}=c,g=p,y=p;for(let r=1;r<t;r++){let a=r!==t-1?f:i.sub(y),o=this.buyExactIn({poolInfo:{virtualA:m,virtualB:b,realA:g,realB:y,totalFundRaisingB:i,totalSellA:n},amountB:a,protocolFeeRate:p,platformFeeRate:p,curveType:e,shareFeeRate:p});g=g.add(o.amountA),y=y.add(o.amountB);let l=this.getPrice({poolInfo:{virtualA:m,virtualB:b,realA:g,realB:y},decimalA:s,decimalB:u,curveType:e});h.push({price:l,totalSellSupply:new tb(g.toString()).div(10**s).toNumber()})}return h}static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:r,curveType:i}){return this.getCurve(i).getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:r})}static getPoolInitPriceByInit({a:e,b:t,decimalA:r,decimalB:i,curveType:n}){return this.getCurve(n).getPoolInitPriceByInit({a:e,b:t,decimalA:r,decimalB:i})}static getPrice({poolInfo:e,curveType:t,decimalA:r,decimalB:i}){return this.getCurve(t).getPoolPrice({poolInfo:e,decimalA:r,decimalB:i})}static getEndPrice({poolInfo:e,curveType:t,decimalA:r,decimalB:i}){return this.getCurve(t).getPoolPrice({poolInfo:e,decimalA:r,decimalB:i})}static getPoolEndPriceReal({poolInfo:e,curveType:t,decimalA:r,decimalB:i}){return this.getCurve(t).getPoolEndPriceReal({poolInfo:e,decimalA:r,decimalB:i})}static checkParam({supply:e,totalFundRaising:t,totalSell:r,totalLockedAmount:i,decimals:n,config:a,migrateType:o}){if(6!==Number(n))throw Error("decimals = 6");if(e.mul(a.maxLockRate).div(rO).lt(i))throw Error("total lock amount gte max lock amount");if(e.lt(a.minSupplyA.mul(new A.default(10**n))))throw Error("supply lt min supply");let s=e.mul(a.minSellRateA).div(rO);if(r.lt(s))throw Error("invalid input");if(t.lt(a.minFundRaisingB))throw Error("total fund raising lt min fund raising");let u=e.sub(r).sub(i),l=e.mul(a.minMigrateRateA).div(rO);if(u.lt(l))throw Error("migrate lt min migrate amount");let c=e.sub(r).sub(i),d=new A.default(new tb(c.mul(t).toString()).sqrt().toFixed(0));if("amm"===o){let e=new A.default(10).pow(new A.default(n));if(d.lte(e))throw Error("check migrate lp error")}else if("cpmm"===o){let e=new A.default(100);if(d.lte(e))throw Error("check migrate lp error")}else throw Error("migrate type error")}static buyExactIn({poolInfo:e,amountB:t,protocolFeeRate:r,platformFeeRate:i,curveType:n,shareFeeRate:a}){let o=r.add(a).add(i),s=this.calculateFee({amount:t,feeRate:o}),u=t.sub(s),l=this.getCurve(n).buyExactIn({poolInfo:e,amount:u}),c=e.totalSellA.sub(e.realA),d,f,p;if(l.gt(c)){d=c;let t=e.totalFundRaisingB.sub(e.realB);p=(f=this.calculatePreFee({postFeeAmount:t,feeRate:o})).sub(t)}else d=l,f=t,p=s;return{amountA:d,amountB:f,splitFee:this.splitFee({totalFee:p,protocolFeeRate:r,platformFeeRate:i,shareFeeRate:a})}}static buyExactOut({poolInfo:e,amountA:t,protocolFeeRate:r,platformFeeRate:i,curveType:n,shareFeeRate:a}){let o=e.totalSellA.sub(e.realA),s=t,u;t.gte(o)?(s=o,u=e.totalFundRaisingB.sub(e.realB)):u=this.getCurve(n).buyExactOut({poolInfo:e,amount:t});let l=r.add(a).add(i),c=this.calculatePreFee({postFeeAmount:u,feeRate:l}),d=c.sub(u);return{amountA:s,amountB:c,splitFee:this.splitFee({totalFee:d,protocolFeeRate:r,platformFeeRate:i,shareFeeRate:a})}}static sellExactIn({poolInfo:e,amountA:t,protocolFeeRate:r,platformFeeRate:i,curveType:n,shareFeeRate:a}){let o=this.getCurve(n).sellExactIn({poolInfo:e,amount:t}),s=this.calculateFee({amount:o,feeRate:r.add(a).add(i)}),u=this.splitFee({totalFee:s,protocolFeeRate:r,platformFeeRate:i,shareFeeRate:a});return{amountA:t,amountB:o.sub(s),splitFee:u}}static sellExactOut({poolInfo:e,amountB:t,protocolFeeRate:r,platformFeeRate:i,curveType:n,shareFeeRate:a}){let o=r.add(a).add(i),s=this.calculatePreFee({postFeeAmount:t,feeRate:o});if(e.realB.lt(s))throw Error("Insufficient liquidity");let u=s.sub(t),l=aF.getCurve(n).sellExactOut({poolInfo:e,amount:t});if(l.gt(e.realA))throw Error();return{amountA:l,amountB:t,splitFee:this.splitFee({totalFee:u,protocolFeeRate:r,platformFeeRate:i,shareFeeRate:a})}}static splitFee({totalFee:e,protocolFeeRate:t,platformFeeRate:r,shareFeeRate:i}){let n=t.add(r).add(i),a=n.isZero()?new A.default(0):e.mul(r).div(n),o=n.isZero()?new A.default(0):e.mul(i).div(n),s=e.sub(a).sub(o);return{platformFee:a,shareFee:o,protocolFee:s}}static calculateFee({amount:e,feeRate:t}){return tZ(e,t,rO)}static calculatePreFee({postFeeAmount:e,feeRate:t}){if(t.isZero())return e;let r=e.mul(rO),i=rO.sub(t);return r.add(i).sub(new A.default(1)).div(i)}static getCurve(e){switch(e){case 0:return aO;case 1:return aD;case 2:return aU}throw Error("find curve error")}},aL={initPriceX64:new A.default("515752397214619"),supply:new A.default(1e15),totalSellA:new A.default(7931e11),totalFundRaisingB:new A.default(85e9),totalLockedAmount:new A.default("0"),cliffPeriod:new A.default("0"),unlockPeriod:new A.default("0"),decimals:6,virtualA:new A.default("1073471847374405"),virtualB:new A.default("30050573465"),realA:new A.default(0),realB:new A.default(0),protocolFee:new A.default(0),platformId:new h.PublicKey("2vSBJMh4zLm2tij3BjBcbvTogbfST9oAzSsk4HTFcRok"),vestingSchedule:{totalLockedAmount:new A.default(0),cliffPeriod:new A.default(0),unlockPeriod:new A.default(0),startTime:new A.default(0),totalAllocatedShare:new A.default(0)}},aq=new A.default(1e4);e.s(["Curve",()=>aF,"TickUtils",()=>nB,"ZERO",()=>iH,"buyExactInInstruction",()=>aP,"getPdaLaunchpadAuth",()=>aT,"getPdaTickArrayAddress",()=>nc,"sellExactInInstruction",()=>a_])},682382,e=>{"use strict";let t=new Set(["7ozoNcVqgptbAUHjLR1vNHgEfKiE5aYufStEHzJhxKeG","DM1kVwqbNJYeDgKn2T3UbCHqquSh3PAYHJpRYfTCcbrK","2bxLnNUgnbf7d4CX4sfdY2YoJkKirNc5FHE6awRwKKYY","3PMpWWXCVUrkhHpFWPH1prxBYxQ4SV4rucJchYRSBojH","8MjKXQgj97NPVNhj9gJrQNP7BibGCGkFMVJ2qZsC58E","Evamno6in8wQGBKUnVbu3FQV5eNwn2ttE5456yDbnodR","49zHSpdFZaSc92ygkooaMGVeeriLSXX5ujriDWVxTwVS","37p56C7BLiMyG2jEa7zTNSewj94C34SuFEnxnRZ87kWw","2QbCx4cTy11nv5FieXJkAKPvSVGdFcZPFdDMTo9vEfqm","7juKfkXpvYHqjhxwK1Se2Mod96hHETHNduC9BMxBdxyt"]);e.s(["NATIVE_SOL_TOKEN_ADDRESS",0,"11111111111111111111111111111111","VANISH_TRADING_ADDRESSES",0,t,"VANISH_WALLET_ADDRESS",0,"Vanish111111111111111111111111111111111111111","VANISH_WALLET_NAME",0,"Vanish"])},769998,e=>{"use strict";e.i(672464),e.i(271645);var t=e.i(50454);e.i(43351);let r="usd1_tick_arrays",i=["DTgyhdzARWt8fiFrA5E2ECTdR5U3rpGho2AmaPWsieWg","B9MydCwPvBL6hWGR4MLUeUmzRC9y9SrNaJtubWuy1GSM","9JtS7quchTtWtprMs614GtpaKeyirgRvX84j9Zt1r1cU","HHKpb1m7QniBGBwJH8fopLnWrkUdxAY2gnTs38f8qvdc","EHLbGyhTj2PCKAtXp4jZo1ZTJM5h3xw5A9divafyMxC1"];function n(e,t){try{let i={data:t,timestamp:Date.now(),usdPerSol:e};localStorage.setItem(r,JSON.stringify(i))}catch(e){console.warn("Failed to cache USD1 tick arrays:",e)}}async function a(e){try{return(await t.axiomApi.post("/get-usd1-tick-accounts",{usdPerSol:e})).tickArrays||null}catch{return null}}async function o(e){let t=function(){try{let e=localStorage.getItem(r);if(!e)return null;return JSON.parse(e)}catch{return null}}(),o=5*Math.floor(e/5)+2.5;if(t&&t.usdPerSol===o){let e=Date.now()-t.timestamp;if(e<6e4)return t.data;if(e<6e5)return a(o).then(e=>{e&&e.length>0&&n(o,e)}).catch(),t.data}let s=await a(o);return s&&s.length>0?(n(o,s),s):i}e.s(["fetchUsd1TickArrays",()=>o])},799689,e=>{"use strict";var t=e.i(467034),r=e.i(127261);let i=new Map,n=t.Buffer.from([255]);function a(e,a){let o=[];for(let r=0;r<e.length;r++)r>0&&o.push(n),o.push(t.Buffer.from(e[r]));o.push(n),o.push(a.toBuffer());let s=t.Buffer.concat(o).toString("latin1"),u=i.get(s);if(void 0!==u)return i.delete(s),i.set(s,u),u;if(u=r.PublicKey.findProgramAddressSync(e,a),i.size>=2e3)for(let e of[...i.keys()].slice(0,200))i.delete(e);return i.set(s,u),u}e.s(["findProgramAddressSync",()=>a])},596510,(e,t,r)=>{!function(e){"use strict";var t,r=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},i=function(){throw Error("no PRNG")},n=new Uint8Array(16),a=new Uint8Array(32);a[0]=9;var o=r(),s=r([1]),u=r([56129,1]),l=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function h(e,t,r,i){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=i>>24&255,e[t+5]=i>>16&255,e[t+6]=i>>8&255,e[t+7]=255&i}function m(e,t,r,i,n){var a,o=0;for(a=0;a<n;a++)o|=e[t+a]^r[i+a];return(1&o-1>>>8)-1}function b(e,t,r,i){return m(e,t,r,i,16)}function g(e,t,r,i){return m(e,t,r,i,32)}function y(e,t,r,i){!function(e,t,r,i){for(var n,a=255&i[0]|(255&i[1])<<8|(255&i[2])<<16|(255&i[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,l=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,c=255&i[4]|(255&i[5])<<8|(255&i[6])<<16|(255&i[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,p=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,h=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&i[8]|(255&i[9])<<8|(255&i[10])<<16|(255&i[11])<<24,b=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,x=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,A=255&i[12]|(255&i[13])<<8|(255&i[14])<<16|(255&i[15])<<24,w=a,v=o,S=s,T=u,E=l,k=c,P=d,_=f,I=p,N=h,R=m,B=b,C=g,O=y,D=x,M=A,U=0;U<20;U+=2)E^=(n=w+C|0)<<7|n>>>25,I^=(n=E+w|0)<<9|n>>>23,C^=(n=I+E|0)<<13|n>>>19,w^=(n=C+I|0)<<18|n>>>14,N^=(n=k+v|0)<<7|n>>>25,O^=(n=N+k|0)<<9|n>>>23,v^=(n=O+N|0)<<13|n>>>19,k^=(n=v+O|0)<<18|n>>>14,D^=(n=R+P|0)<<7|n>>>25,S^=(n=D+R|0)<<9|n>>>23,P^=(n=S+D|0)<<13|n>>>19,R^=(n=P+S|0)<<18|n>>>14,T^=(n=M+B|0)<<7|n>>>25,_^=(n=T+M|0)<<9|n>>>23,B^=(n=_+T|0)<<13|n>>>19,M^=(n=B+_|0)<<18|n>>>14,v^=(n=w+T|0)<<7|n>>>25,S^=(n=v+w|0)<<9|n>>>23,T^=(n=S+v|0)<<13|n>>>19,w^=(n=T+S|0)<<18|n>>>14,P^=(n=k+E|0)<<7|n>>>25,_^=(n=P+k|0)<<9|n>>>23,E^=(n=_+P|0)<<13|n>>>19,k^=(n=E+_|0)<<18|n>>>14,B^=(n=R+N|0)<<7|n>>>25,I^=(n=B+R|0)<<9|n>>>23,N^=(n=I+B|0)<<13|n>>>19,R^=(n=N+I|0)<<18|n>>>14,C^=(n=M+D|0)<<7|n>>>25,O^=(n=C+M|0)<<9|n>>>23,D^=(n=O+C|0)<<13|n>>>19,M^=(n=D+O|0)<<18|n>>>14;w=w+a|0,v=v+o|0,S=S+s|0,T=T+u|0,E=E+l|0,k=k+c|0,P=P+d|0,_=_+f|0,I=I+p|0,N=N+h|0,R=R+m|0,B=B+b|0,C=C+g|0,O=O+y|0,D=D+x|0,M=M+A|0,e[0]=w>>>0&255,e[1]=w>>>8&255,e[2]=w>>>16&255,e[3]=w>>>24&255,e[4]=v>>>0&255,e[5]=v>>>8&255,e[6]=v>>>16&255,e[7]=v>>>24&255,e[8]=S>>>0&255,e[9]=S>>>8&255,e[10]=S>>>16&255,e[11]=S>>>24&255,e[12]=T>>>0&255,e[13]=T>>>8&255,e[14]=T>>>16&255,e[15]=T>>>24&255,e[16]=E>>>0&255,e[17]=E>>>8&255,e[18]=E>>>16&255,e[19]=E>>>24&255,e[20]=k>>>0&255,e[21]=k>>>8&255,e[22]=k>>>16&255,e[23]=k>>>24&255,e[24]=P>>>0&255,e[25]=P>>>8&255,e[26]=P>>>16&255,e[27]=P>>>24&255,e[28]=_>>>0&255,e[29]=_>>>8&255,e[30]=_>>>16&255,e[31]=_>>>24&255,e[32]=I>>>0&255,e[33]=I>>>8&255,e[34]=I>>>16&255,e[35]=I>>>24&255,e[36]=N>>>0&255,e[37]=N>>>8&255,e[38]=N>>>16&255,e[39]=N>>>24&255,e[40]=R>>>0&255,e[41]=R>>>8&255,e[42]=R>>>16&255,e[43]=R>>>24&255,e[44]=B>>>0&255,e[45]=B>>>8&255,e[46]=B>>>16&255,e[47]=B>>>24&255,e[48]=C>>>0&255,e[49]=C>>>8&255,e[50]=C>>>16&255,e[51]=C>>>24&255,e[52]=O>>>0&255,e[53]=O>>>8&255,e[54]=O>>>16&255,e[55]=O>>>24&255,e[56]=D>>>0&255,e[57]=D>>>8&255,e[58]=D>>>16&255,e[59]=D>>>24&255,e[60]=M>>>0&255,e[61]=M>>>8&255,e[62]=M>>>16&255,e[63]=M>>>24&255}(e,t,r,i)}function x(e,t,r,i){!function(e,t,r,i){for(var n,a=255&i[0]|(255&i[1])<<8|(255&i[2])<<16|(255&i[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,l=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,c=255&i[4]|(255&i[5])<<8|(255&i[6])<<16|(255&i[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,p=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,h=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&i[8]|(255&i[9])<<8|(255&i[10])<<16|(255&i[11])<<24,b=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,x=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,A=255&i[12]|(255&i[13])<<8|(255&i[14])<<16|(255&i[15])<<24,w=a,v=o,S=s,T=u,E=l,k=c,P=d,_=f,I=p,N=h,R=m,B=b,C=g,O=y,D=x,M=A,U=0;U<20;U+=2)E^=(n=w+C|0)<<7|n>>>25,I^=(n=E+w|0)<<9|n>>>23,C^=(n=I+E|0)<<13|n>>>19,w^=(n=C+I|0)<<18|n>>>14,N^=(n=k+v|0)<<7|n>>>25,O^=(n=N+k|0)<<9|n>>>23,v^=(n=O+N|0)<<13|n>>>19,k^=(n=v+O|0)<<18|n>>>14,D^=(n=R+P|0)<<7|n>>>25,S^=(n=D+R|0)<<9|n>>>23,P^=(n=S+D|0)<<13|n>>>19,R^=(n=P+S|0)<<18|n>>>14,T^=(n=M+B|0)<<7|n>>>25,_^=(n=T+M|0)<<9|n>>>23,B^=(n=_+T|0)<<13|n>>>19,M^=(n=B+_|0)<<18|n>>>14,v^=(n=w+T|0)<<7|n>>>25,S^=(n=v+w|0)<<9|n>>>23,T^=(n=S+v|0)<<13|n>>>19,w^=(n=T+S|0)<<18|n>>>14,P^=(n=k+E|0)<<7|n>>>25,_^=(n=P+k|0)<<9|n>>>23,E^=(n=_+P|0)<<13|n>>>19,k^=(n=E+_|0)<<18|n>>>14,B^=(n=R+N|0)<<7|n>>>25,I^=(n=B+R|0)<<9|n>>>23,N^=(n=I+B|0)<<13|n>>>19,R^=(n=N+I|0)<<18|n>>>14,C^=(n=M+D|0)<<7|n>>>25,O^=(n=C+M|0)<<9|n>>>23,D^=(n=O+C|0)<<13|n>>>19,M^=(n=D+O|0)<<18|n>>>14;e[0]=w>>>0&255,e[1]=w>>>8&255,e[2]=w>>>16&255,e[3]=w>>>24&255,e[4]=k>>>0&255,e[5]=k>>>8&255,e[6]=k>>>16&255,e[7]=k>>>24&255,e[8]=R>>>0&255,e[9]=R>>>8&255,e[10]=R>>>16&255,e[11]=R>>>24&255,e[12]=M>>>0&255,e[13]=M>>>8&255,e[14]=M>>>16&255,e[15]=M>>>24&255,e[16]=P>>>0&255,e[17]=P>>>8&255,e[18]=P>>>16&255,e[19]=P>>>24&255,e[20]=_>>>0&255,e[21]=_>>>8&255,e[22]=_>>>16&255,e[23]=_>>>24&255,e[24]=I>>>0&255,e[25]=I>>>8&255,e[26]=I>>>16&255,e[27]=I>>>24&255,e[28]=N>>>0&255,e[29]=N>>>8&255,e[30]=N>>>16&255,e[31]=N>>>24&255}(e,t,r,i)}var A=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(e,t,r,i,n,a,o){var s,u,l=new Uint8Array(16),c=new Uint8Array(64);for(u=0;u<16;u++)l[u]=0;for(u=0;u<8;u++)l[u]=a[u];for(;n>=64;){for(y(c,l,o,A),u=0;u<64;u++)e[t+u]=r[i+u]^c[u];for(u=8,s=1;u<16;u++)s=s+(255&l[u])|0,l[u]=255&s,s>>>=8;n-=64,t+=64,i+=64}if(n>0)for(y(c,l,o,A),u=0;u<n;u++)e[t+u]=r[i+u]^c[u];return 0}function v(e,t,r,i,n){var a,o,s=new Uint8Array(16),u=new Uint8Array(64);for(o=0;o<16;o++)s[o]=0;for(o=0;o<8;o++)s[o]=i[o];for(;r>=64;){for(y(u,s,n,A),o=0;o<64;o++)e[t+o]=u[o];for(o=8,a=1;o<16;o++)a=a+(255&s[o])|0,s[o]=255&a,a>>>=8;r-=64,t+=64}if(r>0)for(y(u,s,n,A),o=0;o<r;o++)e[t+o]=u[o];return 0}function S(e,t,r,i,n){var a=new Uint8Array(32);x(a,i,n,A);for(var o=new Uint8Array(8),s=0;s<8;s++)o[s]=i[s+16];return v(e,t,r,o,a)}function T(e,t,r,i,n,a,o){var s=new Uint8Array(32);x(s,a,o,A);for(var u=new Uint8Array(8),l=0;l<8;l++)u[l]=a[l+16];return w(e,t,r,i,n,u,s)}var E=function(e){var t,r,i,n,a,o,s,u;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=(t>>>13|r<<3)&8191,i=255&e[4]|(255&e[5])<<8,this.r[2]=(r>>>10|i<<6)&7939,n=255&e[6]|(255&e[7])<<8,this.r[3]=(i>>>7|n<<9)&8191,a=255&e[8]|(255&e[9])<<8,this.r[4]=(n>>>4|a<<12)&255,this.r[5]=a>>>1&8190,o=255&e[10]|(255&e[11])<<8,this.r[6]=(a>>>14|o<<2)&8191,s=255&e[12]|(255&e[13])<<8,this.r[7]=(o>>>11|s<<5)&8065,u=255&e[14]|(255&e[15])<<8,this.r[8]=(s>>>8|u<<8)&8191,this.r[9]=u>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function k(e,t,r,i,n,a){var o=new E(a);return o.update(r,i,n),o.finish(e,t),0}function P(e,t,r,i,n,a){var o=new Uint8Array(16);return k(o,0,r,i,n,a),b(e,t,o,0)}function _(e,t,r,i,n){var a;if(r<32)return -1;for(T(e,0,t,0,r,i,n),k(e,16,e,32,r-32,e),a=0;a<16;a++)e[a]=0;return 0}function I(e,t,r,i,n){var a,o=new Uint8Array(32);if(r<32||(S(o,0,32,i,n),0!==P(t,16,t,32,r-32,o)))return -1;for(T(e,0,t,0,r,i,n),a=0;a<32;a++)e[a]=0;return 0}function N(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function R(e){var t,r,i=1;for(t=0;t<16;t++)i=Math.floor((r=e[t]+i+65535)/65536),e[t]=r-65536*i;e[0]+=i-1+37*(i-1)}function B(e,t,r){for(var i,n=~(r-1),a=0;a<16;a++)i=n&(e[a]^t[a]),e[a]^=i,t[a]^=i}function C(e,t){var i,n,a,o=r(),s=r();for(i=0;i<16;i++)s[i]=t[i];for(R(s),R(s),R(s),n=0;n<2;n++){for(i=1,o[0]=s[0]-65517;i<15;i++)o[i]=s[i]-65535-(o[i-1]>>16&1),o[i-1]&=65535;o[15]=s[15]-32767-(o[14]>>16&1),a=o[15]>>16&1,o[14]&=65535,B(s,o,1-a)}for(i=0;i<16;i++)e[2*i]=255&s[i],e[2*i+1]=s[i]>>8}function O(e,t){var r=new Uint8Array(32),i=new Uint8Array(32);return C(r,e),C(i,t),g(r,0,i,0)}function D(e){var t=new Uint8Array(32);return C(t,e),1&t[0]}function M(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function U(e,t,r){for(var i=0;i<16;i++)e[i]=t[i]+r[i]}function F(e,t,r){for(var i=0;i<16;i++)e[i]=t[i]-r[i]}function L(e,t,r){var i,n,a=0,o=0,s=0,u=0,l=0,c=0,d=0,f=0,p=0,h=0,m=0,b=0,g=0,y=0,x=0,A=0,w=0,v=0,S=0,T=0,E=0,k=0,P=0,_=0,I=0,N=0,R=0,B=0,C=0,O=0,D=0,M=r[0],U=r[1],F=r[2],L=r[3],q=r[4],K=r[5],W=r[6],V=r[7],G=r[8],z=r[9],j=r[10],H=r[11],X=r[12],Q=r[13],J=r[14],Y=r[15];a+=(i=t[0])*M,o+=i*U,s+=i*F,u+=i*L,l+=i*q,c+=i*K,d+=i*W,f+=i*V,p+=i*G,h+=i*z,m+=i*j,b+=i*H,g+=i*X,y+=i*Q,x+=i*J,A+=i*Y,o+=(i=t[1])*M,s+=i*U,u+=i*F,l+=i*L,c+=i*q,d+=i*K,f+=i*W,p+=i*V,h+=i*G,m+=i*z,b+=i*j,g+=i*H,y+=i*X,x+=i*Q,A+=i*J,w+=i*Y,s+=(i=t[2])*M,u+=i*U,l+=i*F,c+=i*L,d+=i*q,f+=i*K,p+=i*W,h+=i*V,m+=i*G,b+=i*z,g+=i*j,y+=i*H,x+=i*X,A+=i*Q,w+=i*J,v+=i*Y,u+=(i=t[3])*M,l+=i*U,c+=i*F,d+=i*L,f+=i*q,p+=i*K,h+=i*W,m+=i*V,b+=i*G,g+=i*z,y+=i*j,x+=i*H,A+=i*X,w+=i*Q,v+=i*J,S+=i*Y,l+=(i=t[4])*M,c+=i*U,d+=i*F,f+=i*L,p+=i*q,h+=i*K,m+=i*W,b+=i*V,g+=i*G,y+=i*z,x+=i*j,A+=i*H,w+=i*X,v+=i*Q,S+=i*J,T+=i*Y,c+=(i=t[5])*M,d+=i*U,f+=i*F,p+=i*L,h+=i*q,m+=i*K,b+=i*W,g+=i*V,y+=i*G,x+=i*z,A+=i*j,w+=i*H,v+=i*X,S+=i*Q,T+=i*J,E+=i*Y,d+=(i=t[6])*M,f+=i*U,p+=i*F,h+=i*L,m+=i*q,b+=i*K,g+=i*W,y+=i*V,x+=i*G,A+=i*z,w+=i*j,v+=i*H,S+=i*X,T+=i*Q,E+=i*J,k+=i*Y,f+=(i=t[7])*M,p+=i*U,h+=i*F,m+=i*L,b+=i*q,g+=i*K,y+=i*W,x+=i*V,A+=i*G,w+=i*z,v+=i*j,S+=i*H,T+=i*X,E+=i*Q,k+=i*J,P+=i*Y,p+=(i=t[8])*M,h+=i*U,m+=i*F,b+=i*L,g+=i*q,y+=i*K,x+=i*W,A+=i*V,w+=i*G,v+=i*z,S+=i*j,T+=i*H,E+=i*X,k+=i*Q,P+=i*J,_+=i*Y,h+=(i=t[9])*M,m+=i*U,b+=i*F,g+=i*L,y+=i*q,x+=i*K,A+=i*W,w+=i*V,v+=i*G,S+=i*z,T+=i*j,E+=i*H,k+=i*X,P+=i*Q,_+=i*J,I+=i*Y,m+=(i=t[10])*M,b+=i*U,g+=i*F,y+=i*L,x+=i*q,A+=i*K,w+=i*W,v+=i*V,S+=i*G,T+=i*z,E+=i*j,k+=i*H,P+=i*X,_+=i*Q,I+=i*J,N+=i*Y,b+=(i=t[11])*M,g+=i*U,y+=i*F,x+=i*L,A+=i*q,w+=i*K,v+=i*W,S+=i*V,T+=i*G,E+=i*z,k+=i*j,P+=i*H,_+=i*X,I+=i*Q,N+=i*J,R+=i*Y,g+=(i=t[12])*M,y+=i*U,x+=i*F,A+=i*L,w+=i*q,v+=i*K,S+=i*W,T+=i*V,E+=i*G,k+=i*z,P+=i*j,_+=i*H,I+=i*X,N+=i*Q,R+=i*J,B+=i*Y,y+=(i=t[13])*M,x+=i*U,A+=i*F,w+=i*L,v+=i*q,S+=i*K,T+=i*W,E+=i*V,k+=i*G,P+=i*z,_+=i*j,I+=i*H,N+=i*X,R+=i*Q,B+=i*J,C+=i*Y,x+=(i=t[14])*M,A+=i*U,w+=i*F,v+=i*L,S+=i*q,T+=i*K,E+=i*W,k+=i*V,P+=i*G,_+=i*z,I+=i*j,N+=i*H,R+=i*X,B+=i*Q,C+=i*J,O+=i*Y,A+=(i=t[15])*M,w+=i*U,v+=i*F,S+=i*L,T+=i*q,E+=i*K,k+=i*W,P+=i*V,_+=i*G,I+=i*z,N+=i*j,R+=i*H,B+=i*X,C+=i*Q,O+=i*J,D+=i*Y,a+=38*w,o+=38*v,s+=38*S,u+=38*T,l+=38*E,c+=38*k,d+=38*P,f+=38*_,p+=38*I,h+=38*N,m+=38*R,b+=38*B,g+=38*C,y+=38*O,x+=38*D,n=Math.floor((i=a+(n=1)+65535)/65536),a=i-65536*n,n=Math.floor((i=o+n+65535)/65536),o=i-65536*n,n=Math.floor((i=s+n+65535)/65536),s=i-65536*n,n=Math.floor((i=u+n+65535)/65536),u=i-65536*n,n=Math.floor((i=l+n+65535)/65536),l=i-65536*n,n=Math.floor((i=c+n+65535)/65536),c=i-65536*n,n=Math.floor((i=d+n+65535)/65536),d=i-65536*n,n=Math.floor((i=f+n+65535)/65536),f=i-65536*n,n=Math.floor((i=p+n+65535)/65536),p=i-65536*n,n=Math.floor((i=h+n+65535)/65536),h=i-65536*n,n=Math.floor((i=m+n+65535)/65536),m=i-65536*n,n=Math.floor((i=b+n+65535)/65536),b=i-65536*n,n=Math.floor((i=g+n+65535)/65536),g=i-65536*n,n=Math.floor((i=y+n+65535)/65536),y=i-65536*n,n=Math.floor((i=x+n+65535)/65536),x=i-65536*n,n=Math.floor((i=A+n+65535)/65536),A=i-65536*n,a+=n-1+37*(n-1),n=Math.floor((i=a+(n=1)+65535)/65536),a=i-65536*n,n=Math.floor((i=o+n+65535)/65536),o=i-65536*n,n=Math.floor((i=s+n+65535)/65536),s=i-65536*n,n=Math.floor((i=u+n+65535)/65536),u=i-65536*n,n=Math.floor((i=l+n+65535)/65536),l=i-65536*n,n=Math.floor((i=c+n+65535)/65536),c=i-65536*n,n=Math.floor((i=d+n+65535)/65536),d=i-65536*n,n=Math.floor((i=f+n+65535)/65536),f=i-65536*n,n=Math.floor((i=p+n+65535)/65536),p=i-65536*n,n=Math.floor((i=h+n+65535)/65536),h=i-65536*n,n=Math.floor((i=m+n+65535)/65536),m=i-65536*n,n=Math.floor((i=b+n+65535)/65536),b=i-65536*n,n=Math.floor((i=g+n+65535)/65536),g=i-65536*n,n=Math.floor((i=y+n+65535)/65536),y=i-65536*n,n=Math.floor((i=x+n+65535)/65536),x=i-65536*n,n=Math.floor((i=A+n+65535)/65536),A=i-65536*n,a+=n-1+37*(n-1),e[0]=a,e[1]=o,e[2]=s,e[3]=u,e[4]=l,e[5]=c,e[6]=d,e[7]=f,e[8]=p,e[9]=h,e[10]=m,e[11]=b,e[12]=g,e[13]=y,e[14]=x,e[15]=A}function q(e,t){L(e,t,t)}function K(e,t){var i,n=r();for(i=0;i<16;i++)n[i]=t[i];for(i=253;i>=0;i--)q(n,n),2!==i&&4!==i&&L(n,n,t);for(i=0;i<16;i++)e[i]=n[i]}function W(e,t){var i,n=r();for(i=0;i<16;i++)n[i]=t[i];for(i=250;i>=0;i--)q(n,n),1!==i&&L(n,n,t);for(i=0;i<16;i++)e[i]=n[i]}function V(e,t,i){var n,a,o=new Uint8Array(32),s=new Float64Array(80),l=r(),c=r(),d=r(),f=r(),p=r(),h=r();for(a=0;a<31;a++)o[a]=t[a];for(o[31]=127&t[31]|64,o[0]&=248,M(s,i),a=0;a<16;a++)c[a]=s[a],f[a]=l[a]=d[a]=0;for(a=254,l[0]=f[0]=1;a>=0;--a)B(l,c,n=o[a>>>3]>>>(7&a)&1),B(d,f,n),U(p,l,d),F(l,l,d),U(d,c,f),F(c,c,f),q(f,p),q(h,l),L(l,d,l),L(d,c,p),U(p,l,d),F(l,l,d),q(c,l),F(d,f,h),L(l,d,u),U(l,l,f),L(d,d,l),L(l,f,h),L(f,c,s),q(c,p),B(l,c,n),B(d,f,n);for(a=0;a<16;a++)s[a+16]=l[a],s[a+32]=d[a],s[a+48]=c[a],s[a+64]=f[a];var m=s.subarray(32),b=s.subarray(16);return K(m,m),L(b,b,m),C(e,b),0}function G(e,t){return V(e,t,a)}function z(e,t){return i(t,32),G(e,t)}function j(e,t,r){var i=new Uint8Array(32);return V(i,r,t),x(e,n,i,A)}E.prototype.blocks=function(e,t,r){for(var i,n,a,o,s,u,l,c,d,f,p,h,m,b,g,y,x,A,w,v=2048*!this.fin,S=this.h[0],T=this.h[1],E=this.h[2],k=this.h[3],P=this.h[4],_=this.h[5],I=this.h[6],N=this.h[7],R=this.h[8],B=this.h[9],C=this.r[0],O=this.r[1],D=this.r[2],M=this.r[3],U=this.r[4],F=this.r[5],L=this.r[6],q=this.r[7],K=this.r[8],W=this.r[9];r>=16;)S+=8191&(i=255&e[t+0]|(255&e[t+1])<<8),T+=(i>>>13|(n=255&e[t+2]|(255&e[t+3])<<8)<<3)&8191,E+=(n>>>10|(a=255&e[t+4]|(255&e[t+5])<<8)<<6)&8191,k+=(a>>>7|(o=255&e[t+6]|(255&e[t+7])<<8)<<9)&8191,P+=(o>>>4|(s=255&e[t+8]|(255&e[t+9])<<8)<<12)&8191,_+=s>>>1&8191,I+=(s>>>14|(u=255&e[t+10]|(255&e[t+11])<<8)<<2)&8191,N+=(u>>>11|(l=255&e[t+12]|(255&e[t+13])<<8)<<5)&8191,R+=(l>>>8|(c=255&e[t+14]|(255&e[t+15])<<8)<<8)&8191,B+=c>>>5|v,d=(f=(d=0)+S*C+5*W*T+5*K*E+5*q*k+5*L*P)>>>13,f&=8191,f+=5*F*_,f+=5*U*I,f+=5*M*N,f+=5*D*R,f+=5*O*B,d+=f>>>13,f&=8191,d=(p=d+S*O+T*C+5*W*E+5*K*k+5*q*P)>>>13,p&=8191,p+=5*L*_,p+=5*F*I,p+=5*U*N,p+=5*M*R,p+=5*D*B,d+=p>>>13,p&=8191,d=(h=d+S*D+T*O+E*C+5*W*k+5*K*P)>>>13,h&=8191,h+=5*q*_,h+=5*L*I,h+=5*F*N,h+=5*U*R,h+=5*M*B,d+=h>>>13,h&=8191,d=(m=d+S*M+T*D+E*O+k*C+5*W*P)>>>13,m&=8191,m+=5*K*_,m+=5*q*I,m+=5*L*N,m+=5*F*R,m+=5*U*B,d+=m>>>13,m&=8191,d=(b=d+S*U+T*M+E*D+k*O+P*C)>>>13,b&=8191,b+=5*W*_,b+=5*K*I,b+=5*q*N,b+=5*L*R,b+=5*F*B,d+=b>>>13,b&=8191,d=(g=d+S*F+T*U+E*M+k*D+P*O)>>>13,g&=8191,g+=_*C,g+=5*W*I,g+=5*K*N,g+=5*q*R,g+=5*L*B,d+=g>>>13,g&=8191,d=(y=d+S*L+T*F+E*U+k*M+P*D)>>>13,y&=8191,y+=_*O,y+=I*C,y+=5*W*N,y+=5*K*R,y+=5*q*B,d+=y>>>13,y&=8191,d=(x=d+S*q+T*L+E*F+k*U+P*M)>>>13,x&=8191,x+=_*D,x+=I*O,x+=N*C,x+=5*W*R,x+=5*K*B,d+=x>>>13,x&=8191,d=(A=d+S*K+T*q+E*L+k*F+P*U)>>>13,A&=8191,A+=_*M,A+=I*D,A+=N*O,A+=R*C,A+=5*W*B,d+=A>>>13,A&=8191,d=(w=d+S*W+T*K+E*q+k*L+P*F)>>>13,w&=8191,w+=_*U,w+=I*M,w+=N*D,w+=R*O,w+=B*C,d+=w>>>13,w&=8191,f=8191&(d=(d=(d<<2)+d|0)+f|0),d>>>=13,p+=d,S=f,T=p,E=h,k=m,P=b,_=g,I=y,N=x,R=A,B=w,t+=16,r-=16;this.h[0]=S,this.h[1]=T,this.h[2]=E,this.h[3]=k,this.h[4]=P,this.h[5]=_,this.h[6]=I,this.h[7]=N,this.h[8]=R,this.h[9]=B},E.prototype.finish=function(e,t){var r,i,n,a,o=new Uint16Array(10);if(this.leftover){for(a=this.leftover,this.buffer[a++]=1;a<16;a++)this.buffer[a]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,a=2;a<10;a++)this.h[a]+=r,r=this.h[a]>>>13,this.h[a]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,o[0]=this.h[0]+5,r=o[0]>>>13,o[0]&=8191,a=1;a<10;a++)o[a]=this.h[a]+r,r=o[a]>>>13,o[a]&=8191;for(o[9]-=8192,i=(1^r)-1,a=0;a<10;a++)o[a]&=i;for(a=0,i=~i;a<10;a++)this.h[a]=this.h[a]&i|o[a];for(a=1,this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,n=this.h[0]+this.pad[0],this.h[0]=65535&n;a<8;a++)n=(this.h[a]+this.pad[a]|0)+(n>>>16)|0,this.h[a]=65535&n;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},E.prototype.update=function(e,t,r){var i,n;if(this.leftover){for((n=16-this.leftover)>r&&(n=r),i=0;i<n;i++)this.buffer[this.leftover+i]=e[t+i];if(r-=n,t+=n,this.leftover+=n,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(n=r-r%16,this.blocks(e,t,n),t+=n,r-=n),r){for(i=0;i<r;i++)this.buffer[this.leftover+i]=e[t+i];this.leftover+=r}};var H=[0x428a2f98,0xd728ae22,0x71374491,0x23ef65cd,0xb5c0fbcf,0xec4d3b2f,0xe9b5dba5,0x8189dbbc,0x3956c25b,0xf348b538,0x59f111f1,0xb605d019,0x923f82a4,0xaf194f9b,0xab1c5ed5,0xda6d8118,0xd807aa98,0xa3030242,0x12835b01,0x45706fbe,0x243185be,0x4ee4b28c,0x550c7dc3,0xd5ffb4e2,0x72be5d74,0xf27b896f,0x80deb1fe,0x3b1696b1,0x9bdc06a7,0x25c71235,0xc19bf174,0xcf692694,0xe49b69c1,0x9ef14ad2,0xefbe4786,0x384f25e3,0xfc19dc6,0x8b8cd5b5,0x240ca1cc,0x77ac9c65,0x2de92c6f,0x592b0275,0x4a7484aa,0x6ea6e483,0x5cb0a9dc,0xbd41fbd4,0x76f988da,0x831153b5,0x983e5152,0xee66dfab,0xa831c66d,0x2db43210,0xb00327c8,0x98fb213f,0xbf597fc7,0xbeef0ee4,0xc6e00bf3,0x3da88fc2,0xd5a79147,0x930aa725,0x6ca6351,0xe003826f,0x14292967,0xa0e6e70,0x27b70a85,0x46d22ffc,0x2e1b2138,0x5c26c926,0x4d2c6dfc,0x5ac42aed,0x53380d13,0x9d95b3df,0x650a7354,0x8baf63de,0x766a0abb,0x3c77b2a8,0x81c2c92e,0x47edaee6,0x92722c85,0x1482353b,0xa2bfe8a1,0x4cf10364,0xa81a664b,0xbc423001,0xc24b8b70,0xd0f89791,0xc76c51a3,0x654be30,0xd192e819,0xd6ef5218,0xd6990624,0x5565a910,0xf40e3585,0x5771202a,0x106aa070,0x32bbd1b8,0x19a4c116,0xb8d2d0c8,0x1e376c08,0x5141ab53,0x2748774c,0xdf8eeb99,0x34b0bcb5,0xe19b48a8,0x391c0cb3,0xc5c95a63,0x4ed8aa4a,0xe3418acb,0x5b9cca4f,0x7763e373,0x682e6ff3,0xd6b2b8a3,0x748f82ee,0x5defb2fc,0x78a5636f,0x43172f60,0x84c87814,0xa1f0ab72,0x8cc70208,0x1a6439ec,0x90befffa,0x23631e28,0xa4506ceb,0xde82bde9,0xbef9a3f7,0xb2c67915,0xc67178f2,0xe372532b,0xca273ece,0xea26619c,0xd186b8c7,0x21c0c207,0xeada7dd6,0xcde0eb1e,0xf57d4f7f,0xee6ed178,0x6f067aa,0x72176fba,0xa637dc5,0xa2c898a6,0x113f9804,0xbef90dae,0x1b710b35,0x131c471b,0x28db77f5,0x23047d84,0x32caab7b,0x40c72493,0x3c9ebe0a,0x15c9bebc,0x431d67c4,0x9c100d4c,0x4cc5d4be,0xcb3e42b6,0x597f299c,0xfc657e2a,0x5fcb6fab,0x3ad6faec,0x6c44198c,0x4a475817];function X(e,t,r,i){for(var n,a,o,s,u,l,c,d,f,p,h,m,b,g,y,x,A,w,v,S,T,E,k,P,_,I,N=new Int32Array(16),R=new Int32Array(16),B=e[0],C=e[1],O=e[2],D=e[3],M=e[4],U=e[5],F=e[6],L=e[7],q=t[0],K=t[1],W=t[2],V=t[3],G=t[4],z=t[5],j=t[6],X=t[7],Q=0;i>=128;){for(v=0;v<16;v++)S=8*v+Q,N[v]=r[S+0]<<24|r[S+1]<<16|r[S+2]<<8|r[S+3],R[v]=r[S+4]<<24|r[S+5]<<16|r[S+6]<<8|r[S+7];for(v=0;v<80;v++)if(n=B,a=C,o=O,s=D,u=M,l=U,c=F,d=L,f=q,p=K,h=W,m=V,b=G,g=z,y=j,x=X,T=L,k=65535&(E=X),P=E>>>16,_=65535&T,I=T>>>16,T=(M>>>14|G<<18)^(M>>>18|G<<14)^(G>>>9|M<<23),k+=65535&(E=(G>>>14|M<<18)^(G>>>18|M<<14)^(M>>>9|G<<23)),P+=E>>>16,_+=65535&T,I+=T>>>16,T=M&U^~M&F,k+=65535&(E=G&z^~G&j),P+=E>>>16,_+=65535&T,I+=T>>>16,T=H[2*v],k+=65535&(E=H[2*v+1]),P+=E>>>16,_+=65535&T,I+=T>>>16,T=N[v%16],k+=65535&(E=R[v%16]),P+=E>>>16,_+=65535&T,I+=T>>>16,P+=k>>>16,_+=P>>>16,I+=_>>>16,A=65535&_|I<<16,w=65535&k|P<<16,T=A,k=65535&(E=w),P=E>>>16,_=65535&T,I=T>>>16,T=(B>>>28|q<<4)^(q>>>2|B<<30)^(q>>>7|B<<25),k+=65535&(E=(q>>>28|B<<4)^(B>>>2|q<<30)^(B>>>7|q<<25)),P+=E>>>16,_+=65535&T,I+=T>>>16,T=B&C^B&O^C&O,k+=65535&(E=q&K^q&W^K&W),P+=E>>>16,_+=65535&T,I+=T>>>16,P+=k>>>16,_+=P>>>16,I+=_>>>16,d=65535&_|I<<16,x=65535&k|P<<16,T=s,k=65535&(E=m),P=E>>>16,_=65535&T,I=T>>>16,T=A,k+=65535&(E=w),P+=E>>>16,_+=65535&T,I+=T>>>16,P+=k>>>16,_+=P>>>16,I+=_>>>16,s=65535&_|I<<16,m=65535&k|P<<16,C=n,O=a,D=o,M=s,U=u,F=l,L=c,B=d,K=f,W=p,V=h,G=m,z=b,j=g,X=y,q=x,v%16==15)for(S=0;S<16;S++)T=N[S],k=65535&(E=R[S]),P=E>>>16,_=65535&T,I=T>>>16,T=N[(S+9)%16],k+=65535&(E=R[(S+9)%16]),P+=E>>>16,_+=65535&T,I+=T>>>16,T=((A=N[(S+1)%16])>>>1|(w=R[(S+1)%16])<<31)^(A>>>8|w<<24)^A>>>7,k+=65535&(E=(w>>>1|A<<31)^(w>>>8|A<<24)^(w>>>7|A<<25)),P+=E>>>16,_+=65535&T,I+=T>>>16,T=((A=N[(S+14)%16])>>>19|(w=R[(S+14)%16])<<13)^(w>>>29|A<<3)^A>>>6,k+=65535&(E=(w>>>19|A<<13)^(A>>>29|w<<3)^(w>>>6|A<<26)),P+=E>>>16,_+=65535&T,I+=T>>>16,P+=k>>>16,_+=P>>>16,I+=_>>>16,N[S]=65535&_|I<<16,R[S]=65535&k|P<<16;T=B,k=65535&(E=q),P=E>>>16,_=65535&T,I=T>>>16,T=e[0],k+=65535&(E=t[0]),P+=E>>>16,_+=65535&T,I+=T>>>16,P+=k>>>16,_+=P>>>16,I+=_>>>16,e[0]=B=65535&_|I<<16,t[0]=q=65535&k|P<<16,T=C,k=65535&(E=K),P=E>>>16,_=65535&T,I=T>>>16,T=e[1],k+=65535&(E=t[1]),P+=E>>>16,_+=65535&T,I+=T>>>16,P+=k>>>16,_+=P>>>16,I+=_>>>16,e[1]=C=65535&_|I<<16,t[1]=K=65535&k|P<<16,T=O,k=65535&(E=W),P=E>>>16,_=65535&T,I=T>>>16,T=e[2],k+=65535&(E=t[2]),P+=E>>>16,_+=65535&T,I+=T>>>16,P+=k>>>16,_+=P>>>16,I+=_>>>16,e[2]=O=65535&_|I<<16,t[2]=W=65535&k|P<<16,T=D,k=65535&(E=V),P=E>>>16,_=65535&T,I=T>>>16,T=e[3],k+=65535&(E=t[3]),P+=E>>>16,_+=65535&T,I+=T>>>16,P+=k>>>16,_+=P>>>16,I+=_>>>16,e[3]=D=65535&_|I<<16,t[3]=V=65535&k|P<<16,T=M,k=65535&(E=G),P=E>>>16,_=65535&T,I=T>>>16,T=e[4],k+=65535&(E=t[4]),P+=E>>>16,_+=65535&T,I+=T>>>16,P+=k>>>16,_+=P>>>16,I+=_>>>16,e[4]=M=65535&_|I<<16,t[4]=G=65535&k|P<<16,T=U,k=65535&(E=z),P=E>>>16,_=65535&T,I=T>>>16,T=e[5],k+=65535&(E=t[5]),P+=E>>>16,_+=65535&T,I+=T>>>16,P+=k>>>16,_+=P>>>16,I+=_>>>16,e[5]=U=65535&_|I<<16,t[5]=z=65535&k|P<<16,T=F,k=65535&(E=j),P=E>>>16,_=65535&T,I=T>>>16,T=e[6],k+=65535&(E=t[6]),P+=E>>>16,_+=65535&T,I+=T>>>16,P+=k>>>16,_+=P>>>16,I+=_>>>16,e[6]=F=65535&_|I<<16,t[6]=j=65535&k|P<<16,T=L,k=65535&(E=X),P=E>>>16,_=65535&T,I=T>>>16,T=e[7],k+=65535&(E=t[7]),P+=E>>>16,_+=65535&T,I+=T>>>16,P+=k>>>16,_+=P>>>16,I+=_>>>16,e[7]=L=65535&_|I<<16,t[7]=X=65535&k|P<<16,Q+=128,i-=128}return i}function Q(e,t,r){var i,n=new Int32Array(8),a=new Int32Array(8),o=new Uint8Array(256),s=r;for(n[0]=0x6a09e667,n[1]=0xbb67ae85,n[2]=0x3c6ef372,n[3]=0xa54ff53a,n[4]=0x510e527f,n[5]=0x9b05688c,n[6]=0x1f83d9ab,n[7]=0x5be0cd19,a[0]=0xf3bcc908,a[1]=0x84caa73b,a[2]=0xfe94f82b,a[3]=0x5f1d36f1,a[4]=0xade682d1,a[5]=0x2b3e6c1f,a[6]=0xfb41bd6b,a[7]=0x137e2179,X(n,a,t,r),r%=128,i=0;i<r;i++)o[i]=t[s-r+i];for(o[r]=128,o[(r=256-(r<112)*128)-9]=0,h(o,r-8,s/0x20000000|0,s<<3),X(n,a,o,r),i=0;i<8;i++)h(e,8*i,n[i],a[i]);return 0}function J(e,t){var i=r(),n=r(),a=r(),o=r(),s=r(),u=r(),l=r(),d=r(),f=r();F(i,e[1],e[0]),F(f,t[1],t[0]),L(i,i,f),U(n,e[0],e[1]),U(f,t[0],t[1]),L(n,n,f),L(a,e[3],t[3]),L(a,a,c),L(o,e[2],t[2]),U(o,o,o),F(s,n,i),F(u,o,a),U(l,o,a),U(d,n,i),L(e[0],s,u),L(e[1],d,l),L(e[2],l,u),L(e[3],s,d)}function Y(e,t,r){var i;for(i=0;i<4;i++)B(e[i],t[i],r)}function Z(e,t){var i=r(),n=r(),a=r();K(a,t[2]),L(i,t[0],a),L(n,t[1],a),C(e,n),e[31]^=D(i)<<7}function $(e,t,r){var i,n;for(N(e[0],o),N(e[1],s),N(e[2],s),N(e[3],o),n=255;n>=0;--n)Y(e,t,i=r[n/8|0]>>(7&n)&1),J(t,e),J(e,e),Y(e,t,i)}function ee(e,t){var i=[r(),r(),r(),r()];N(i[0],d),N(i[1],f),N(i[2],s),L(i[3],d,f),$(e,i,t)}function et(e,t,n){var a,o=new Uint8Array(64),s=[r(),r(),r(),r()];for(n||i(t,32),Q(o,t,32),o[0]&=248,o[31]&=127,o[31]|=64,ee(s,o),Z(e,s),a=0;a<32;a++)t[a+32]=e[a];return 0}var er=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ei(e,t){var r,i,n,a;for(i=63;i>=32;--i){for(r=0,n=i-32,a=i-12;n<a;++n)t[n]+=r-16*t[i]*er[n-(i-32)],r=Math.floor((t[n]+128)/256),t[n]-=256*r;t[n]+=r,t[i]=0}for(n=0,r=0;n<32;n++)t[n]+=r-(t[31]>>4)*er[n],r=t[n]>>8,t[n]&=255;for(n=0;n<32;n++)t[n]-=r*er[n];for(i=0;i<32;i++)t[i+1]+=t[i]>>8,e[i]=255&t[i]}function en(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;ei(e,r)}function ea(e,t,i,n){var a,o,s=new Uint8Array(64),u=new Uint8Array(64),l=new Uint8Array(64),c=new Float64Array(64),d=[r(),r(),r(),r()];for(Q(s,n,32),s[0]&=248,s[31]&=127,s[31]|=64,a=0;a<i;a++)e[64+a]=t[a];for(a=0;a<32;a++)e[32+a]=s[32+a];for(Q(l,e.subarray(32),i+32),en(l),ee(d,l),Z(e,d),a=32;a<64;a++)e[a]=n[a];for(Q(u,e,i+64),en(u),a=0;a<64;a++)c[a]=0;for(a=0;a<32;a++)c[a]=l[a];for(a=0;a<32;a++)for(o=0;o<32;o++)c[a+o]+=u[a]*s[o];return ei(e.subarray(32),c),i+64}function eo(e,t,i,n){var a,u,c,d,f,h,m,b,y=new Uint8Array(32),x=new Uint8Array(64),A=[r(),r(),r(),r()],w=[r(),r(),r(),r()];if(i<64||(a=r(),u=r(),c=r(),d=r(),f=r(),h=r(),m=r(),(N(w[2],s),M(w[1],n),q(c,w[1]),L(d,c,l),F(c,c,w[2]),U(d,w[2],d),q(f,d),q(h,f),L(m,h,f),L(a,m,c),L(a,a,d),W(a,a),L(a,a,c),L(a,a,d),L(a,a,d),L(w[0],a,d),q(u,w[0]),L(u,u,d),O(u,c)&&L(w[0],w[0],p),q(u,w[0]),L(u,u,d),O(u,c))?-1:(D(w[0])===n[31]>>7&&F(w[0],o,w[0]),L(w[3],w[0],w[1]),0)))return -1;for(b=0;b<i;b++)e[b]=t[b];for(b=0;b<32;b++)e[b+32]=n[b];if(Q(x,e,i),en(x),$(A,w,x),ee(w,t.subarray(32)),J(A,w),Z(y,A),i-=64,g(t,0,y,0)){for(b=0;b<i;b++)e[b]=0;return -1}for(b=0;b<i;b++)e[b]=t[b+64];return i}function es(e,t){if(32!==e.length)throw Error("bad key size");if(24!==t.length)throw Error("bad nonce size")}function eu(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw TypeError("unexpected type, use Uint8Array")}function el(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:x,crypto_stream_xor:T,crypto_stream:S,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:v,crypto_onetimeauth:k,crypto_onetimeauth_verify:P,crypto_verify_16:b,crypto_verify_32:g,crypto_secretbox:_,crypto_secretbox_open:I,crypto_scalarmult:V,crypto_scalarmult_base:G,crypto_box_beforenm:j,crypto_box_afternm:_,crypto_box:function(e,t,r,i,n,a){var o=new Uint8Array(32);return j(o,n,a),_(e,t,r,i,o)},crypto_box_open:function(e,t,r,i,n,a){var o=new Uint8Array(32);return j(o,n,a),I(e,t,r,i,o)},crypto_box_keypair:z,crypto_hash:Q,crypto_sign:ea,crypto_sign_keypair:et,crypto_sign_open:eo,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:r,D:l,L:er,pack25519:C,unpack25519:M,M:L,A:U,S:q,Z:F,pow2523:W,add:J,set25519:N,modL:ei,scalarmult:$,scalarbase:ee},e.randomBytes=function(e){var t=new Uint8Array(e);return i(t,e),t},e.secretbox=function(e,t,r){eu(e,t,r),es(r,t);for(var i=new Uint8Array(32+e.length),n=new Uint8Array(i.length),a=0;a<e.length;a++)i[a+32]=e[a];return _(n,i,i.length,t,r),n.subarray(16)},e.secretbox.open=function(e,t,r){eu(e,t,r),es(r,t);for(var i=new Uint8Array(16+e.length),n=new Uint8Array(i.length),a=0;a<e.length;a++)i[a+16]=e[a];return i.length<32||0!==I(n,i,i.length,t,r)?null:n.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(eu(e,t),32!==e.length)throw Error("bad n size");if(32!==t.length)throw Error("bad p size");var r=new Uint8Array(32);return V(r,e,t),r},e.scalarMult.base=function(e){if(eu(e),32!==e.length)throw Error("bad n size");var t=new Uint8Array(32);return G(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,i,n){var a=e.box.before(i,n);return e.secretbox(t,r,a)},e.box.before=function(e,t){eu(e,t);if(32!==e.length)throw Error("bad public key size");if(32!==t.length)throw Error("bad secret key size");var r=new Uint8Array(32);return j(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,i,n){var a=e.box.before(i,n);return e.secretbox.open(t,r,a)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return z(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(eu(e),32!==e.length)throw Error("bad secret key size");var t=new Uint8Array(32);return G(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(eu(e,t),64!==t.length)throw Error("bad secret key size");var r=new Uint8Array(64+e.length);return ea(r,e,e.length,t),r},e.sign.open=function(e,t){if(eu(e,t),32!==t.length)throw Error("bad public key size");var r=new Uint8Array(e.length),i=eo(r,e,e.length,t);if(i<0)return null;for(var n=new Uint8Array(i),a=0;a<n.length;a++)n[a]=r[a];return n},e.sign.detached=function(t,r){for(var i=e.sign(t,r),n=new Uint8Array(64),a=0;a<n.length;a++)n[a]=i[a];return n},e.sign.detached.verify=function(e,t,r){if(eu(e,t,r),64!==t.length)throw Error("bad signature size");if(32!==r.length)throw Error("bad public key size");var i,n=new Uint8Array(64+e.length),a=new Uint8Array(64+e.length);for(i=0;i<64;i++)n[i]=t[i];for(i=0;i<e.length;i++)n[i+64]=e[i];return eo(a,n,n.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return et(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(eu(e),64!==e.length)throw Error("bad secret key size");for(var t=new Uint8Array(32),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(eu(e),32!==e.length)throw Error("bad seed size");for(var t=new Uint8Array(32),r=new Uint8Array(64),i=0;i<32;i++)r[i]=e[i];return et(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=32,e.sign.secretKeyLength=64,e.sign.seedLength=32,e.sign.signatureLength=64,e.hash=function(e){eu(e);var t=new Uint8Array(64);return Q(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return eu(e,t),0!==e.length&&0!==t.length&&e.length===t.length&&0===m(e,0,t,0,e.length)},e.setPRNG=function(e){i=e},(t="u">typeof self?self.crypto||self.msCrypto:null)&&t.getRandomValues?e.setPRNG(function(e,r){var i,n=new Uint8Array(r);for(i=0;i<r;i+=65536)t.getRandomValues(n.subarray(i,i+Math.min(r-i,65536)));for(i=0;i<r;i++)e[i]=n[i];el(n)}):(t={}).randomBytes&&e.setPRNG(function(e,r){var i,n=t.randomBytes(r);for(i=0;i<r;i++)e[i]=n[i];el(n)})}(t.exports?t.exports:self.nacl=self.nacl||{})},705766,e=>{"use strict";let t,r;var i,n=e.i(271645);let a={data:""},o=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,s=/\/\*[^]*?\*\/|  +/g,u=/\n+/g,l=(e,t)=>{let r="",i="",n="";for(let a in e){let o=e[a];"@"==a[0]?"i"==a[1]?r=a+" "+o+";":i+="f"==a[1]?l(o,a):a+"{"+l(o,"k"==a[1]?"":t)+"}":"object"==typeof o?i+=l(o,t?t.replace(/([^,])+/g,e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):a):null!=o&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=l.p?l.p(a,o):a+":"+o+";")}return r+(t&&n?t+"{"+n+"}":n)+i},c={},d=e=>{if("object"==typeof e){let t="";for(let r in e)t+=r+d(e[r]);return t}return e};function f(e){let t,r,i=this||{},n=e.call?e(i.p):e;return((e,t,r,i,n)=>{var a;let f=d(e),p=c[f]||(c[f]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return"go"+r})(f));if(!c[p]){let t=f!==e?e:(e=>{let t,r,i=[{}];for(;t=o.exec(e.replace(s,""));)t[4]?i.shift():t[3]?(r=t[3].replace(u," ").trim(),i.unshift(i[0][r]=i[0][r]||{})):i[0][t[1]]=t[2].replace(u," ").trim();return i[0]})(e);c[p]=l(n?{["@keyframes "+p]:t}:t,r?"":"."+p)}let h=r&&c.g?c.g:null;return r&&(c.g=c[p]),a=c[p],h?t.data=t.data.replace(h,a):-1===t.data.indexOf(a)&&(t.data=i?a+t.data:t.data+a),p})(n.unshift?n.raw?(t=[].slice.call(arguments,1),r=i.p,n.reduce((e,i,n)=>{let a=t[n];if(a&&a.call){let e=a(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":l(e,""):!1===e?"":e}return e+i+(null==a?"":a)},"")):n.reduce((e,t)=>Object.assign(e,t&&t.call?t(i.p):t),{}):n,(e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||a})(i.target),i.g,i.o,i.k)}f.bind({g:1});let p,h,m,b=f.bind({k:1});function g(e,t){let r=this||{};return function(){let i=arguments;function n(a,o){let s=Object.assign({},a),u=s.className||n.className;r.p=Object.assign({theme:h&&h()},s),r.o=/ *go\d+/.test(u),s.className=f.apply(r,i)+(u?" "+u:""),t&&(s.ref=o);let l=e;return e[0]&&(l=s.as||e,delete s.as),m&&l[0]&&m(s),p(l,s)}return t?t(n):n}}var y=(e,t)=>"function"==typeof e?e(t):e,x=(t=0,()=>(++t).toString()),A=()=>{if(void 0===r&&"u">typeof window){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r},w="default",v=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:i}=t;return v(e,{type:+!!e.toasts.find(e=>e.id===i.id),toast:i});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+a}))}}},S=[],T={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},E={},k=(e,t=w)=>{E[t]=v(E[t]||T,e),S.forEach(([e,r])=>{e===t&&r(E[t])})},P=e=>Object.keys(E).forEach(t=>k(e,t)),_=(e=w)=>t=>{k(t,e)},I={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},N=e=>(t,r)=>{let i,n=((e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(null==r?void 0:r.id)||x()}))(t,e,r);return _(n.toasterId||(i=n.id,Object.keys(E).find(e=>E[e].toasts.some(e=>e.id===i))))({type:2,toast:n}),n.id},R=(e,t)=>N("blank")(e,t);R.error=N("error"),R.success=N("success"),R.loading=N("loading"),R.custom=N("custom"),R.dismiss=(e,t)=>{let r={type:3,toastId:e};t?_(t)(r):P(r)},R.dismissAll=e=>R.dismiss(void 0,e),R.remove=(e,t)=>{let r={type:4,toastId:e};t?_(t)(r):P(r)},R.removeAll=e=>R.remove(void 0,e),R.promise=(e,t,r)=>{let i=R.loading(t.loading,{...r,...null==r?void 0:r.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let n=t.success?y(t.success,e):void 0;return n?R.success(n,{id:i,...r,...null==r?void 0:r.success}):R.dismiss(i),e}).catch(e=>{let n=t.error?y(t.error,e):void 0;n?R.error(n,{id:i,...r,...null==r?void 0:r.error}):R.dismiss(i)}),e};var B=1e3,C=b`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,O=b`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,D=b`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,M=g("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${C} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${O} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${D} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,U=b`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,F=g("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${U} 1s linear infinite;
`,L=b`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,q=b`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,K=g("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${L} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${q} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,W=g("div")`
  position: absolute;
`,V=g("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,G=b`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,z=g("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${G} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,j=({toast:e})=>{let{icon:t,type:r,iconTheme:i}=e;return void 0!==t?"string"==typeof t?n.createElement(z,null,t):t:"blank"===r?null:n.createElement(V,null,n.createElement(F,{...i}),"loading"!==r&&n.createElement(W,null,"error"===r?n.createElement(M,{...i}):n.createElement(K,{...i})))},H=g("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,X=g("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Q=n.memo(({toast:e,position:t,style:r,children:i})=>{let a=e.height?((e,t)=>{let r=e.includes("top")?1:-1,[i,n]=A()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[`
0% {transform: translate3d(0,${-200*r}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${-150*r}%,-1px) scale(.6); opacity:0;}
`];return{animation:t?`${b(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${b(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(e.position||t||"top-center",e.visible):{opacity:0},o=n.createElement(j,{toast:e}),s=n.createElement(X,{...e.ariaProps},y(e.message,e));return n.createElement(H,{className:e.className,style:{...a,...r,...e.style}},"function"==typeof i?i({icon:o,message:s}):n.createElement(n.Fragment,null,o,s))});i=n.createElement,l.p=void 0,p=i,h=void 0,m=void 0;var J=({id:e,className:t,style:r,onHeightUpdate:i,children:a})=>{let o=n.useCallback(t=>{if(t){let r=()=>{i(e,t.getBoundingClientRect().height)};r(),new MutationObserver(r).observe(t,{subtree:!0,childList:!0,characterData:!0})}},[e,i]);return n.createElement("div",{ref:o,className:t,style:r},a)},Y=f`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Z=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:i,children:a,toasterId:o,containerStyle:s,containerClassName:u})=>{let{toasts:l,handlers:c}=((e,t="default")=>{let{toasts:r,pausedAt:i}=((e={},t=w)=>{let[r,i]=(0,n.useState)(E[t]||T),a=(0,n.useRef)(E[t]);(0,n.useEffect)(()=>(a.current!==E[t]&&i(E[t]),S.push([t,i]),()=>{let e=S.findIndex(([e])=>e===t);e>-1&&S.splice(e,1)}),[t]);let o=r.toasts.map(t=>{var r,i,n;return{...e,...e[t.type],...t,removeDelay:t.removeDelay||(null==(r=e[t.type])?void 0:r.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(i=e[t.type])?void 0:i.duration)||(null==e?void 0:e.duration)||I[t.type],style:{...e.style,...null==(n=e[t.type])?void 0:n.style,...t.style}}});return{...r,toasts:o}})(e,t),a=(0,n.useRef)(new Map).current,o=(0,n.useCallback)((e,t=B)=>{if(a.has(e))return;let r=setTimeout(()=>{a.delete(e),s({type:4,toastId:e})},t);a.set(e,r)},[]);(0,n.useEffect)(()=>{if(i)return;let e=Date.now(),n=r.map(r=>{if(r.duration===1/0)return;let i=(r.duration||0)+r.pauseDuration-(e-r.createdAt);if(i<0){r.visible&&R.dismiss(r.id);return}return setTimeout(()=>R.dismiss(r.id,t),i)});return()=>{n.forEach(e=>e&&clearTimeout(e))}},[r,i,t]);let s=(0,n.useCallback)(_(t),[t]),u=(0,n.useCallback)(()=>{s({type:5,time:Date.now()})},[s]),l=(0,n.useCallback)((e,t)=>{s({type:1,toast:{id:e,height:t}})},[s]),c=(0,n.useCallback)(()=>{i&&s({type:6,time:Date.now()})},[i,s]),d=(0,n.useCallback)((e,t)=>{let{reverseOrder:i=!1,gutter:n=8,defaultPosition:a}=t||{},o=r.filter(t=>(t.position||a)===(e.position||a)&&t.height),s=o.findIndex(t=>t.id===e.id),u=o.filter((e,t)=>t<s&&e.visible).length;return o.filter(e=>e.visible).slice(...i?[u+1]:[0,u]).reduce((e,t)=>e+(t.height||0)+n,0)},[r]);return(0,n.useEffect)(()=>{r.forEach(e=>{if(e.dismissed)o(e.id,e.removeDelay);else{let t=a.get(e.id);t&&(clearTimeout(t),a.delete(e.id))}})},[r,o]),{toasts:r,handlers:{updateHeight:l,startPause:u,endPause:c,calculateOffset:d}}})(r,o);return n.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...s},className:u,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(r=>{let o,s,u=r.position||t,l=c.calculateOffset(r,{reverseOrder:e,gutter:i,defaultPosition:t}),d=(o=u.includes("top"),s=u.includes("center")?{justifyContent:"center"}:u.includes("right")?{justifyContent:"flex-end"}:{},{left:0,right:0,display:"flex",position:"absolute",transition:A()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${l*(o?1:-1)}px)`,...o?{top:0}:{bottom:0},...s});return n.createElement(J,{id:r.id,key:r.id,onHeightUpdate:c.updateHeight,className:r.visible?Y:"",style:d},"custom"===r.type?y(r.message,r):a?a(r):n.createElement(Q,{toast:r,position:u}))}))};e.s(["Toaster",()=>Z,"default",()=>R,"toast",()=>R],705766)},718646,e=>{"use strict";var t=e.i(672464),r=e.i(265172),i=e.i(50454);let n=(0,r.atomWithStorage)("notifications",[]),a=(0,r.atomWithStorage)("toast-position","top-center",void 0,{getOnInit:!0});(0,r.atomWithStorage)("toast-color","#FFFFFF",void 0,{getOnInit:!0});let o=(0,r.atomWithStorage)("notifications-enabled",!0),s=()=>({getItem:(e,t)=>{let r=localStorage.getItem(e);if(null===r)return t;try{return JSON.parse(r)}catch{return localStorage.setItem(e,JSON.stringify(r)),r}},setItem:(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},removeItem:e=>{localStorage.removeItem(e)}}),u=(0,r.atomWithStorage)("isTxToastSoundOn",!1,void 0,{getOnInit:!0}),l=(0,r.atomWithStorage)("txNotificationVolume",50,void 0,{getOnInit:!0}),c=(0,r.atomWithStorage)("txBuyNotificationSound","default",s(),{getOnInit:!0}),d=(0,r.atomWithStorage)("txSellNotificationSound","default",s(),{getOnInit:!0}),f=(0,r.atomWithStorage)("max-toasts",5,void 0,{getOnInit:!0});function p(){let[e,r]=(0,t.useAtom)(n);return async t=>{e.find(e=>e.id===t)&&(r(e.filter(e=>e.id!==t)),await i.axiomApiV2.post("/delete-notification",{id:t}))}}function h(){let[e,r]=(0,t.useAtom)(n);return async()=>{let t=e.map(e=>e.id);for(let e of(r([]),t))await i.axiomApiV2.post("/delete-notification",{id:e})}}e.s(["buySoundAtom",0,c,"maxToastsAtom",0,f,"notificationsAtom",0,n,"notificationsEnabledAtom",0,o,"sellSoundAtom",0,d,"soundEnabledAtom",0,u,"soundVolumeAtom",0,l,"toastPositionAtom",0,a,"useClearAllNotifications",()=>h,"useDeleteNotification",()=>p])},205388,e=>{"use strict";e.s(["ALERT_TOAST_CONSTANTS",0,{bags:{icon:"/images/bags.svg",toastBorderColor:"rgba(62, 154, 0, 0.25)",toastBackgroundColor:"rgba(62, 154, 0, 0.025)"},dex:{icon:"/images/trading-memecoin-page/dex-green.svg",toastBorderColor:"rgba(0, 220, 130, 0.25)",toastBackgroundColor:"rgba(0, 220, 130, 0.025)"}}])},890165,(e,t,r)=>{var i="u">typeof globalThis&&globalThis||"u">typeof self&&self||e.g,n=function(){function e(){this.fetch=!1,this.DOMException=i.DOMException}return e.prototype=i,new e}();(function(t){var r=void 0!==n&&n||"u">typeof self&&self||e.g||{},i={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};if(i.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function c(e){this.map={},e instanceof c?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function d(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}}function f(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function p(e){var t=new FileReader,r=f(t);return t.readAsArrayBuffer(e),r}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){if(this.bodyUsed=this.bodyUsed,this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(i.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var t;i.arrayBuffer&&i.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=h(e):this._bodyText=e=Object.prototype.toString.call(e)}else this._noBody=!0,this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=d(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(i.blob)return this.blob().then(p);throw Error("could not read as ArrayBuffer")},this.text=function(){var e,t,r,i,n,a=d(this);if(a)return a;if(this._bodyBlob)return e=this._bodyBlob,r=f(t=new FileReader),n=(i=/charset=([A-Za-z0-9_-]+)/.exec(e.type))?i[1]:"utf-8",t.readAsText(e,n),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),i=0;i<t.length;i++)r[i]=String.fromCharCode(t[i]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},i.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(e,t){e=s(e),t=u(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},c.prototype.delete=function(e){delete this.map[s(e)]},c.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},c.prototype.set=function(e,t){this.map[s(e)]=u(t)},c.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},c.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),l(e)},c.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),l(e)},c.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),l(e)},i.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var b=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function g(e,t){if(!(this instanceof g))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var i,n,a=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,a||null==e._bodyInit||(a=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new c(t.headers)),this.method=(n=(i=t.method||this.method||"GET").toUpperCase(),b.indexOf(n)>-1?n:i),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return new AbortController().signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&a)throw TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(a),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function y(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),i=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(n))}}),t}function x(e,t){if(!(this instanceof x))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},m.call(g.prototype),m.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},x.error=function(){var e=new x(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var A=[301,302,303,307,308];x.redirect=function(e,t){if(-1===A.indexOf(t))throw RangeError("Invalid status code");return new x(null,{status:t,headers:{location:e}})},t.DOMException=r.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function w(e,n){return new Promise(function(a,o){var l=new g(e,n);if(l.signal&&l.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var d=new XMLHttpRequest;function f(){d.abort()}if(d.onload=function(){var e,t,r={statusText:d.statusText,headers:(e=d.getAllResponseHeaders()||"",t=new c,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),i=r.shift().trim();if(i){var n=r.join(":").trim();try{t.append(i,n)}catch(e){console.warn("Response "+e.message)}}}),t)};0===l.url.indexOf("file://")&&(d.status<200||d.status>599)?r.status=200:r.status=d.status,r.url="responseURL"in d?d.responseURL:r.headers.get("X-Request-URL");var i="response"in d?d.response:d.responseText;setTimeout(function(){a(new x(i,r))},0)},d.onerror=function(){setTimeout(function(){o(TypeError("Network request failed"))},0)},d.ontimeout=function(){setTimeout(function(){o(TypeError("Network request timed out"))},0)},d.onabort=function(){setTimeout(function(){o(new t.DOMException("Aborted","AbortError"))},0)},d.open(l.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(l.url),!0),"include"===l.credentials?d.withCredentials=!0:"omit"===l.credentials&&(d.withCredentials=!1),"responseType"in d&&(i.blob?d.responseType="blob":i.arrayBuffer&&(d.responseType="arraybuffer")),n&&"object"==typeof n.headers&&!(n.headers instanceof c||r.Headers&&n.headers instanceof r.Headers)){var p=[];Object.getOwnPropertyNames(n.headers).forEach(function(e){p.push(s(e)),d.setRequestHeader(e,u(n.headers[e]))}),l.headers.forEach(function(e,t){-1===p.indexOf(t)&&d.setRequestHeader(t,e)})}else l.headers.forEach(function(e,t){d.setRequestHeader(t,e)});l.signal&&(l.signal.addEventListener("abort",f),d.onreadystatechange=function(){4===d.readyState&&l.signal.removeEventListener("abort",f)}),d.send(void 0===l._bodyInit?null:l._bodyInit)})}w.polyfill=!0,r.fetch||(r.fetch=w,r.Headers=c,r.Request=g,r.Response=x),t.Headers=c,t.Request=g,t.Response=x,t.fetch=w,Object.defineProperty(t,"__esModule",{value:!0})})({}),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var a=i.fetch?i:n;(r=a.fetch).default=a.fetch,r.fetch=a.fetch,r.Headers=a.Headers,r.Request=a.Request,r.Response=a.Response,t.exports=r},994447,992744,227015,e=>{"use strict";e.s(["AXIOM_LST_APY_ESTIMATE",0,"~6-7","AXIOM_LST_MINT",0,"axiom1dWfDXKn6r4pn3jjaYuLTExG5TdLuAqXQohNuG","AXIOM_STAKE_POOL",0,"9N69d9o5hqdfDLMiPdFT5VBXpEf4UXSTsbmYLKc9Njpa","MARGINFI_GROUP_ID",0,"4qp6Fx6tnZkY5Wropq9wUYgtFxXKwE6viZxFHg3rdAG8","MARGINFI_PROGRAM_ID",0,"MFv2hWf31Z9kbCa1snEPYctwafyhdvnV7FZnsebVacA","USDC_BANK_STATE",0,"2s37akK2eyBbp8DZgCm7RtsaEz8eJP3Nxd4urLHQv7yB","USDC_MINT",0,"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","USDC_PYTHNET_CUSTODY_PRICE_ACCOUNT",0,"Dpw1EAVrSB1ibxiDQyTAW6Zip3J4Btk2x4SgApQCeFbX"],994447);var t,r,i=e.i(569934),n=e.i(796516),a=e.i(766816),o=e.i(658765),s=e.i(123847),u=e.i(643506),l=e.i(450323),c=e.i(769936),d=e.i(608861);function f(e){if("string"==typeof e){if(!(0,n.isAddress)(e,{strict:!1}))throw new d.InvalidAddressError({address:e});return{address:e,type:"json-rpc"}}if(!(0,n.isAddress)(e.address,{strict:!1}))throw new d.InvalidAddressError({address:e.address});return{address:e.address,nonceManager:e.nonceManager,sign:e.sign,signAuthorization:e.signAuthorization,signMessage:e.signMessage,signTransaction:e.signTransaction,signTypedData:e.signTypedData,source:"custom",type:"local"}}e.s(["toAccount",()=>f],992744);var p=e.i(457323),h=(e.i(952182),e.i(426667)),m=e.i(353196),b=e.i(396134),g=e.i(67654),y=e.i(4809);let x=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),A=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),w=BigInt(1),v=BigInt(2),S=(e,t)=>(e+t/v)/t,T=(0,b.Field)(x,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),i=BigInt(11),n=BigInt(22),a=BigInt(23),o=BigInt(44),s=BigInt(88),u=e*e*e%x,l=u*u*e%x,c=(0,b.pow2)(l,t,x)*l%x,d=(0,b.pow2)(c,t,x)*l%x,f=(0,b.pow2)(d,v,x)*u%x,p=(0,b.pow2)(f,i,x)*f%x,h=(0,b.pow2)(p,n,x)*p%x,m=(0,b.pow2)(h,o,x)*h%x,g=(0,b.pow2)(m,s,x)*m%x,y=(0,b.pow2)(g,o,x)*h%x,A=(0,b.pow2)(y,t,x)*l%x,w=(0,b.pow2)(A,a,x)*p%x,S=(0,b.pow2)(w,r,x)*u%x,E=(0,b.pow2)(S,v,x);if(!T.eql(T.sqr(E),e))throw Error("Cannot find square root");return E}}),E=(0,h.createCurve)({a:BigInt(0),b:BigInt(7),Fp:T,n:A,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-w*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),n=BigInt("0x100000000000000000000000000000000"),a=S(t*e,A),o=S(-r*e,A),s=(0,b.mod)(e-a*t-o*i,A),u=(0,b.mod)(-a*r-o*t,A),l=s>n,c=u>n;if(l&&(s=A-s),c&&(u=A-u),s>n||u>n)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:s,k2neg:c,k2:u}}}},p.sha256),k=(BigInt(0),{});E.ProjectivePoint;g.bytesToNumberBE;let P=(0,m.isogenyMap)(T,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(e=>BigInt(e)))),_=(0,y.mapToCurveSimpleSWU)(T,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:T.create(BigInt("-11"))});(0,m.createHasher)(E.ProjectivePoint,e=>{let{x:t,y:r}=_(T.create(e[0]));return P(t,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:T.ORDER,m:1,k:128,expand:"xmd",hash:p.sha256});var I=e.i(247167);e.i(95185);var N=e.i(403072);e.i(628778),e.i(284795),e.i(356026),e.i(27527),(t=r||(r={})).Der="der",t.Raw="raw";let R="u">typeof window&&void 0!==window.document&&"u">typeof crypto&&void 0!==crypto.subtle,B=void 0!==I.default&&null!=I.default.versions&&null!=I.default.versions.node,C=async(t,r)=>{let i=r??(R?"browser":B?"node":"purejs");switch(i){case"browser":return(await e.A(706564)).signWithApiKey(t);case"node":return(await e.A(411590)).signWithApiKey(t);case"purejs":return(await e.A(74067)).signWithApiKey(t);default:throw Error(`Unsupported runtime: ${i}`)}},O=e.i(890165).fetch;function D(){return{apiPublicKey:M(null,"apiPublicKey"),apiPrivateKey:M(null,"apiPrivateKey"),baseUrl:M(null,"baseUrl")}}function M(e,t){if("string"!=typeof e||!e)throw Error(`"${t}" must be a non-empty string`);return e}var U=e.i(467034);function F(e){let t=new Uint8Array(e),r="";for(let e of t)r+=String.fromCharCode(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}let L="copy",q="convert";function K(e,t){return{required:!0,schema:e,derive:t}}function W(e){return{required:!0,schema:e}}function V(e){return{required:!1,schema:e}}let G={appid:V(L),appidExclude:V(L),credProps:V(L)};W(L),W(L),W(q),V(L),W({clientDataJSON:W(q),attestationObject:W(q),transports:K(L,e=>e.getTransports?.()||[])}),K(G,e=>e.getClientExtensionResults());let z={type:W(L),id:W(L),rawId:W(q),authenticatorAttachment:V(L),response:W({clientDataJSON:W(q),authenticatorData:W(q),signature:W(q),userHandle:W(q)}),clientExtensionResults:K(G,e=>e.getClientExtensionResults())};async function j(e){let t=await navigator.credentials.get(e);return t.toJSON=()=>(function e(t,r,i){if(r===L)return i;if(r===q)return t(i);if(r instanceof Array)return i.map(i=>e(t,r[0],i));if(r instanceof Object){let n={};for(let[a,o]of Object.entries(r)){if(o.derive){let e=o.derive(i);void 0!==e&&(i[a]=e)}if(!(a in i)){if(o.required)throw Error(`Missing key: ${a}`);continue}if(null==i[a]){n[a]=null;continue}n[a]=e(t,o.schema,i[a])}return n}})(F,z,t),t}let H={publicKey:{timeout:3e5,userVerification:"preferred"}};async function X(e,t=H){let r=await Q(e);return{...t,publicKey:{...H.publicKey,...t.publicKey,challenge:r}}}async function Q(e){let t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t),i=U.Buffer.from(r).toString("hex");return new Uint8Array(U.Buffer.from(i,"utf8"))}async function J(e,t){if(!window.PublicKeyCredential)throw Error("webauthn is not supported by this browser");let r=await X(e,t),i=(await j(r)).toJSON();return JSON.stringify({authenticatorData:i.response.authenticatorData,clientDataJson:i.response.clientDataJSON,credentialId:i.id,signature:i.response.signature})}let Y={},Z={redirect:"follow"};async function $(e){let{uri:t,query:r={},substitution:i={},body:n={}}=e,a=et({uri:t,query:r,substitution:i}),o=JSON.stringify(n),s=await J(o,e.options);return{url:a.toString(),body:o,stamp:s}}async function ee(e){let{uri:t,method:r,headers:i={},query:n={},substitution:a={},body:o={}}=e,s=et({uri:t,query:n,substitution:a}),{sealedBody:u,xStamp:l}=await en({body:o}),c=await O(s.toString(),{...Z,method:r,headers:{...Y,...i,"X-Stamp":l},body:u});if(!c.ok){let e;try{e=await c.json()}catch(e){throw Error(`${c.status} ${c.statusText}`)}throw new eo(e)}return await c.json()}function et(e){let{uri:t,query:r,substitution:i}=e,n=function(){try{let{baseUrl:e}=D();return e}catch(t){let{baseUrl:e}={baseUrl:M(null,"baseUrl")};return e}}(),a=new URL(function(e,t){let r=e;for(let i of Object.keys(t)){let n=r.replaceAll(`{${i}}`,t[i]);er(n!==r,`Substitution error: cannot find "${i}" in URI "${e}". \`substitutionMap\`: ${JSON.stringify(t)}`),r=n}return er(!/\{.*\}/.test(r),`Substitution error: found unsubstituted components in "${r}"`),r}(t,i),n);for(let e in r){let t=r[e];if(Array.isArray(t))for(let r of t)a.searchParams.append(e,r);else a.searchParams.append(e,t??"")}return a}function er(e,t){if(!e)throw Error(t)}function ei(e){return JSON.stringify(e)}async function en(e){let{body:t}=e,{apiPublicKey:r,apiPrivateKey:i}=e;r||(r=D().apiPublicKey),i||(i=D().apiPrivateKey);let n=ei(t),a=await C({content:n,privateKey:i,publicKey:r}),o=ei({publicKey:r,scheme:"SIGNATURE_SCHEME_TK_API_P256",signature:a});return{sealedBody:n,xStamp:(0,N.stringToBase64urlString)(o)}}function ea(e){return e?.name==="TurnkeyClient"}class eo extends Error{constructor(e){let t=`Turnkey error ${e.code}: ${e.message}`;null!=e.details&&(t+=` (Details: ${JSON.stringify(e.details)})`),super(t),this.name="TurnkeyRequestError",this.details=e.details??null,this.code=e.code}}let es=e=>ee({uri:"/public/v1/query/get_activity",method:"POST",body:e.body}),eu=(e,t)=>$({uri:"/public/v1/query/get_activity",body:e.body,options:t}),el=e=>ee({uri:"/public/v1/query/get_api_key",method:"POST",body:e.body}),ec=(e,t)=>$({uri:"/public/v1/query/get_api_key",body:e.body,options:t}),ed=e=>ee({uri:"/public/v1/query/get_api_keys",method:"POST",body:e.body}),ef=(e,t)=>$({uri:"/public/v1/query/get_api_keys",body:e.body,options:t}),ep=e=>ee({uri:"/public/v1/query/get_attestation",method:"POST",body:e.body}),eh=(e,t)=>$({uri:"/public/v1/query/get_attestation",body:e.body,options:t}),em=e=>ee({uri:"/public/v1/query/get_authenticator",method:"POST",body:e.body}),eb=(e,t)=>$({uri:"/public/v1/query/get_authenticator",body:e.body,options:t}),eg=e=>ee({uri:"/public/v1/query/get_authenticators",method:"POST",body:e.body}),ey=(e,t)=>$({uri:"/public/v1/query/get_authenticators",body:e.body,options:t}),ex=e=>ee({uri:"/public/v1/query/get_boot_proof",method:"POST",body:e.body}),eA=(e,t)=>$({uri:"/public/v1/query/get_boot_proof",body:e.body,options:t}),ew=e=>ee({uri:"/public/v1/query/get_gas_usage",method:"POST",body:e.body}),ev=(e,t)=>$({uri:"/public/v1/query/get_gas_usage",body:e.body,options:t}),eS=e=>ee({uri:"/public/v1/query/get_latest_boot_proof",method:"POST",body:e.body}),eT=(e,t)=>$({uri:"/public/v1/query/get_latest_boot_proof",body:e.body,options:t}),eE=e=>ee({uri:"/public/v1/query/get_nonces",method:"POST",body:e.body}),ek=(e,t)=>$({uri:"/public/v1/query/get_nonces",body:e.body,options:t}),eP=e=>ee({uri:"/public/v1/query/get_oauth2_credential",method:"POST",body:e.body}),e_=(e,t)=>$({uri:"/public/v1/query/get_oauth2_credential",body:e.body,options:t}),eI=e=>ee({uri:"/public/v1/query/get_oauth_providers",method:"POST",body:e.body}),eN=(e,t)=>$({uri:"/public/v1/query/get_oauth_providers",body:e.body,options:t}),eR=e=>ee({uri:"/public/v1/query/get_onramp_transaction_status",method:"POST",body:e.body}),eB=(e,t)=>$({uri:"/public/v1/query/get_onramp_transaction_status",body:e.body,options:t}),eC=e=>ee({uri:"/public/v1/query/get_organization",method:"POST",body:e.body}),eO=(e,t)=>$({uri:"/public/v1/query/get_organization",body:e.body,options:t}),eD=e=>ee({uri:"/public/v1/query/get_organization_configs",method:"POST",body:e.body}),eM=(e,t)=>$({uri:"/public/v1/query/get_organization_configs",body:e.body,options:t}),eU=e=>ee({uri:"/public/v1/query/get_policy",method:"POST",body:e.body}),eF=(e,t)=>$({uri:"/public/v1/query/get_policy",body:e.body,options:t}),eL=e=>ee({uri:"/public/v1/query/get_policy_evaluations",method:"POST",body:e.body}),eq=(e,t)=>$({uri:"/public/v1/query/get_policy_evaluations",body:e.body,options:t}),eK=e=>ee({uri:"/public/v1/query/get_private_key",method:"POST",body:e.body}),eW=(e,t)=>$({uri:"/public/v1/query/get_private_key",body:e.body,options:t}),eV=e=>ee({uri:"/public/v1/query/get_send_transaction_status",method:"POST",body:e.body}),eG=(e,t)=>$({uri:"/public/v1/query/get_send_transaction_status",body:e.body,options:t}),ez=e=>ee({uri:"/public/v1/query/get_smart_contract_interface",method:"POST",body:e.body}),ej=(e,t)=>$({uri:"/public/v1/query/get_smart_contract_interface",body:e.body,options:t}),eH=e=>ee({uri:"/public/v1/query/get_user",method:"POST",body:e.body}),eX=(e,t)=>$({uri:"/public/v1/query/get_user",body:e.body,options:t}),eQ=e=>ee({uri:"/public/v1/query/get_wallet",method:"POST",body:e.body}),eJ=(e,t)=>$({uri:"/public/v1/query/get_wallet",body:e.body,options:t}),eY=e=>ee({uri:"/public/v1/query/get_wallet_account",method:"POST",body:e.body}),eZ=(e,t)=>$({uri:"/public/v1/query/get_wallet_account",body:e.body,options:t}),e$=e=>ee({uri:"/public/v1/query/list_activities",method:"POST",body:e.body}),e0=(e,t)=>$({uri:"/public/v1/query/list_activities",body:e.body,options:t}),e1=e=>ee({uri:"/public/v1/query/list_app_proofs",method:"POST",body:e.body}),e2=(e,t)=>$({uri:"/public/v1/query/list_app_proofs",body:e.body,options:t}),e5=e=>ee({uri:"/public/v1/query/list_fiat_on_ramp_credentials",method:"POST",body:e.body}),e6=(e,t)=>$({uri:"/public/v1/query/list_fiat_on_ramp_credentials",body:e.body,options:t}),e3=e=>ee({uri:"/public/v1/query/list_oauth2_credentials",method:"POST",body:e.body}),e4=(e,t)=>$({uri:"/public/v1/query/list_oauth2_credentials",body:e.body,options:t}),e8=e=>ee({uri:"/public/v1/query/list_policies",method:"POST",body:e.body}),e7=(e,t)=>$({uri:"/public/v1/query/list_policies",body:e.body,options:t}),e9=e=>ee({uri:"/public/v1/query/list_private_key_tags",method:"POST",body:e.body}),te=(e,t)=>$({uri:"/public/v1/query/list_private_key_tags",body:e.body,options:t}),tt=e=>ee({uri:"/public/v1/query/list_private_keys",method:"POST",body:e.body}),tr=(e,t)=>$({uri:"/public/v1/query/list_private_keys",body:e.body,options:t}),ti=e=>ee({uri:"/public/v1/query/list_smart_contract_interfaces",method:"POST",body:e.body}),tn=(e,t)=>$({uri:"/public/v1/query/list_smart_contract_interfaces",body:e.body,options:t}),ta=e=>ee({uri:"/public/v1/query/list_suborgs",method:"POST",body:e.body}),to=(e,t)=>$({uri:"/public/v1/query/list_suborgs",body:e.body,options:t}),ts=e=>ee({uri:"/public/v1/query/list_user_tags",method:"POST",body:e.body}),tu=(e,t)=>$({uri:"/public/v1/query/list_user_tags",body:e.body,options:t}),tl=e=>ee({uri:"/public/v1/query/list_users",method:"POST",body:e.body}),tc=(e,t)=>$({uri:"/public/v1/query/list_users",body:e.body,options:t}),td=e=>ee({uri:"/public/v1/query/list_verified_suborgs",method:"POST",body:e.body}),tf=(e,t)=>$({uri:"/public/v1/query/list_verified_suborgs",body:e.body,options:t}),tp=e=>ee({uri:"/public/v1/query/list_wallet_accounts",method:"POST",body:e.body}),th=(e,t)=>$({uri:"/public/v1/query/list_wallet_accounts",body:e.body,options:t}),tm=e=>ee({uri:"/public/v1/query/list_wallets",method:"POST",body:e.body}),tb=(e,t)=>$({uri:"/public/v1/query/list_wallets",body:e.body,options:t}),tg=e=>ee({uri:"/public/v1/query/whoami",method:"POST",body:e.body}),ty=(e,t)=>$({uri:"/public/v1/query/whoami",body:e.body,options:t}),tx=e=>ee({uri:"/public/v1/submit/approve_activity",method:"POST",body:e.body}),tA=(e,t)=>$({uri:"/public/v1/submit/approve_activity",body:e.body,options:t}),tw=e=>ee({uri:"/public/v1/submit/create_api_keys",method:"POST",body:e.body}),tv=(e,t)=>$({uri:"/public/v1/submit/create_api_keys",body:e.body,options:t}),tS=e=>ee({uri:"/public/v1/submit/create_api_only_users",method:"POST",body:e.body}),tT=(e,t)=>$({uri:"/public/v1/submit/create_api_only_users",body:e.body,options:t}),tE=e=>ee({uri:"/public/v1/submit/create_authenticators",method:"POST",body:e.body}),tk=(e,t)=>$({uri:"/public/v1/submit/create_authenticators",body:e.body,options:t}),tP=e=>ee({uri:"/public/v1/submit/create_fiat_on_ramp_credential",method:"POST",body:e.body}),t_=(e,t)=>$({uri:"/public/v1/submit/create_fiat_on_ramp_credential",body:e.body,options:t}),tI=e=>ee({uri:"/public/v1/submit/create_invitations",method:"POST",body:e.body}),tN=(e,t)=>$({uri:"/public/v1/submit/create_invitations",body:e.body,options:t}),tR=e=>ee({uri:"/public/v1/submit/create_oauth2_credential",method:"POST",body:e.body}),tB=(e,t)=>$({uri:"/public/v1/submit/create_oauth2_credential",body:e.body,options:t}),tC=e=>ee({uri:"/public/v1/submit/create_oauth_providers",method:"POST",body:e.body}),tO=(e,t)=>$({uri:"/public/v1/submit/create_oauth_providers",body:e.body,options:t}),tD=e=>ee({uri:"/public/v1/submit/create_policies",method:"POST",body:e.body}),tM=(e,t)=>$({uri:"/public/v1/submit/create_policies",body:e.body,options:t}),tU=e=>ee({uri:"/public/v1/submit/create_policy",method:"POST",body:e.body}),tF=(e,t)=>$({uri:"/public/v1/submit/create_policy",body:e.body,options:t}),tL=e=>ee({uri:"/public/v1/submit/create_private_key_tag",method:"POST",body:e.body}),tq=(e,t)=>$({uri:"/public/v1/submit/create_private_key_tag",body:e.body,options:t}),tK=e=>ee({uri:"/public/v1/submit/create_private_keys",method:"POST",body:e.body}),tW=(e,t)=>$({uri:"/public/v1/submit/create_private_keys",body:e.body,options:t}),tV=e=>ee({uri:"/public/v1/submit/create_read_only_session",method:"POST",body:e.body}),tG=(e,t)=>$({uri:"/public/v1/submit/create_read_only_session",body:e.body,options:t}),tz=e=>ee({uri:"/public/v1/submit/create_read_write_session",method:"POST",body:e.body}),tj=(e,t)=>$({uri:"/public/v1/submit/create_read_write_session",body:e.body,options:t}),tH=e=>ee({uri:"/public/v1/submit/create_smart_contract_interface",method:"POST",body:e.body}),tX=(e,t)=>$({uri:"/public/v1/submit/create_smart_contract_interface",body:e.body,options:t}),tQ=e=>ee({uri:"/public/v1/submit/create_sub_organization",method:"POST",body:e.body}),tJ=(e,t)=>$({uri:"/public/v1/submit/create_sub_organization",body:e.body,options:t}),tY=e=>ee({uri:"/public/v1/submit/create_user_tag",method:"POST",body:e.body}),tZ=(e,t)=>$({uri:"/public/v1/submit/create_user_tag",body:e.body,options:t}),t$=e=>ee({uri:"/public/v1/submit/create_users",method:"POST",body:e.body}),t0=(e,t)=>$({uri:"/public/v1/submit/create_users",body:e.body,options:t}),t1=e=>ee({uri:"/public/v1/submit/create_wallet",method:"POST",body:e.body}),t2=(e,t)=>$({uri:"/public/v1/submit/create_wallet",body:e.body,options:t}),t5=e=>ee({uri:"/public/v1/submit/create_wallet_accounts",method:"POST",body:e.body}),t6=(e,t)=>$({uri:"/public/v1/submit/create_wallet_accounts",body:e.body,options:t}),t3=e=>ee({uri:"/public/v1/submit/delete_api_keys",method:"POST",body:e.body}),t4=(e,t)=>$({uri:"/public/v1/submit/delete_api_keys",body:e.body,options:t}),t8=e=>ee({uri:"/public/v1/submit/delete_authenticators",method:"POST",body:e.body}),t7=(e,t)=>$({uri:"/public/v1/submit/delete_authenticators",body:e.body,options:t}),t9=e=>ee({uri:"/public/v1/submit/delete_fiat_on_ramp_credential",method:"POST",body:e.body}),re=(e,t)=>$({uri:"/public/v1/submit/delete_fiat_on_ramp_credential",body:e.body,options:t}),rt=e=>ee({uri:"/public/v1/submit/delete_invitation",method:"POST",body:e.body}),rr=(e,t)=>$({uri:"/public/v1/submit/delete_invitation",body:e.body,options:t}),ri=e=>ee({uri:"/public/v1/submit/delete_oauth2_credential",method:"POST",body:e.body}),rn=(e,t)=>$({uri:"/public/v1/submit/delete_oauth2_credential",body:e.body,options:t}),ra=e=>ee({uri:"/public/v1/submit/delete_oauth_providers",method:"POST",body:e.body}),ro=(e,t)=>$({uri:"/public/v1/submit/delete_oauth_providers",body:e.body,options:t}),rs=e=>ee({uri:"/public/v1/submit/delete_policies",method:"POST",body:e.body}),ru=(e,t)=>$({uri:"/public/v1/submit/delete_policies",body:e.body,options:t}),rl=e=>ee({uri:"/public/v1/submit/delete_policy",method:"POST",body:e.body}),rc=(e,t)=>$({uri:"/public/v1/submit/delete_policy",body:e.body,options:t}),rd=e=>ee({uri:"/public/v1/submit/delete_private_key_tags",method:"POST",body:e.body}),rf=(e,t)=>$({uri:"/public/v1/submit/delete_private_key_tags",body:e.body,options:t}),rp=e=>ee({uri:"/public/v1/submit/delete_private_keys",method:"POST",body:e.body}),rh=(e,t)=>$({uri:"/public/v1/submit/delete_private_keys",body:e.body,options:t}),rm=e=>ee({uri:"/public/v1/submit/delete_smart_contract_interface",method:"POST",body:e.body}),rb=(e,t)=>$({uri:"/public/v1/submit/delete_smart_contract_interface",body:e.body,options:t}),rg=e=>ee({uri:"/public/v1/submit/delete_sub_organization",method:"POST",body:e.body}),ry=(e,t)=>$({uri:"/public/v1/submit/delete_sub_organization",body:e.body,options:t}),rx=e=>ee({uri:"/public/v1/submit/delete_user_tags",method:"POST",body:e.body}),rA=(e,t)=>$({uri:"/public/v1/submit/delete_user_tags",body:e.body,options:t}),rw=e=>ee({uri:"/public/v1/submit/delete_users",method:"POST",body:e.body}),rv=(e,t)=>$({uri:"/public/v1/submit/delete_users",body:e.body,options:t}),rS=e=>ee({uri:"/public/v1/submit/delete_wallet_accounts",method:"POST",body:e.body}),rT=(e,t)=>$({uri:"/public/v1/submit/delete_wallet_accounts",body:e.body,options:t}),rE=e=>ee({uri:"/public/v1/submit/delete_wallets",method:"POST",body:e.body}),rk=(e,t)=>$({uri:"/public/v1/submit/delete_wallets",body:e.body,options:t}),rP=e=>ee({uri:"/public/v1/submit/email_auth",method:"POST",body:e.body}),r_=(e,t)=>$({uri:"/public/v1/submit/email_auth",body:e.body,options:t}),rI=e=>ee({uri:"/public/v1/submit/eth_send_raw_transaction",method:"POST",body:e.body}),rN=(e,t)=>$({uri:"/public/v1/submit/eth_send_raw_transaction",body:e.body,options:t}),rR=e=>ee({uri:"/public/v1/submit/eth_send_transaction",method:"POST",body:e.body}),rB=(e,t)=>$({uri:"/public/v1/submit/eth_send_transaction",body:e.body,options:t}),rC=e=>ee({uri:"/public/v1/submit/export_private_key",method:"POST",body:e.body}),rO=(e,t)=>$({uri:"/public/v1/submit/export_private_key",body:e.body,options:t}),rD=e=>ee({uri:"/public/v1/submit/export_wallet",method:"POST",body:e.body}),rM=(e,t)=>$({uri:"/public/v1/submit/export_wallet",body:e.body,options:t}),rU=e=>ee({uri:"/public/v1/submit/export_wallet_account",method:"POST",body:e.body}),rF=(e,t)=>$({uri:"/public/v1/submit/export_wallet_account",body:e.body,options:t}),rL=e=>ee({uri:"/public/v1/submit/import_private_key",method:"POST",body:e.body}),rq=(e,t)=>$({uri:"/public/v1/submit/import_private_key",body:e.body,options:t}),rK=e=>ee({uri:"/public/v1/submit/import_wallet",method:"POST",body:e.body}),rW=(e,t)=>$({uri:"/public/v1/submit/import_wallet",body:e.body,options:t}),rV=e=>ee({uri:"/public/v1/submit/init_fiat_on_ramp",method:"POST",body:e.body}),rG=(e,t)=>$({uri:"/public/v1/submit/init_fiat_on_ramp",body:e.body,options:t}),rz=e=>ee({uri:"/public/v1/submit/init_import_private_key",method:"POST",body:e.body}),rj=(e,t)=>$({uri:"/public/v1/submit/init_import_private_key",body:e.body,options:t}),rH=e=>ee({uri:"/public/v1/submit/init_import_wallet",method:"POST",body:e.body}),rX=(e,t)=>$({uri:"/public/v1/submit/init_import_wallet",body:e.body,options:t}),rQ=e=>ee({uri:"/public/v1/submit/init_otp",method:"POST",body:e.body}),rJ=(e,t)=>$({uri:"/public/v1/submit/init_otp",body:e.body,options:t}),rY=e=>ee({uri:"/public/v1/submit/init_otp_auth",method:"POST",body:e.body}),rZ=(e,t)=>$({uri:"/public/v1/submit/init_otp_auth",body:e.body,options:t}),r$=e=>ee({uri:"/public/v1/submit/init_user_email_recovery",method:"POST",body:e.body}),r0=(e,t)=>$({uri:"/public/v1/submit/init_user_email_recovery",body:e.body,options:t}),r1=e=>ee({uri:"/public/v1/submit/oauth",method:"POST",body:e.body}),r2=(e,t)=>$({uri:"/public/v1/submit/oauth",body:e.body,options:t}),r5=e=>ee({uri:"/public/v1/submit/oauth2_authenticate",method:"POST",body:e.body}),r6=(e,t)=>$({uri:"/public/v1/submit/oauth2_authenticate",body:e.body,options:t}),r3=e=>ee({uri:"/public/v1/submit/oauth_login",method:"POST",body:e.body}),r4=(e,t)=>$({uri:"/public/v1/submit/oauth_login",body:e.body,options:t}),r8=e=>ee({uri:"/public/v1/submit/otp_auth",method:"POST",body:e.body}),r7=(e,t)=>$({uri:"/public/v1/submit/otp_auth",body:e.body,options:t}),r9=e=>ee({uri:"/public/v1/submit/otp_login",method:"POST",body:e.body}),ie=(e,t)=>$({uri:"/public/v1/submit/otp_login",body:e.body,options:t}),it=e=>ee({uri:"/public/v1/submit/recover_user",method:"POST",body:e.body}),ir=(e,t)=>$({uri:"/public/v1/submit/recover_user",body:e.body,options:t}),ii=e=>ee({uri:"/public/v1/submit/reject_activity",method:"POST",body:e.body}),ia=(e,t)=>$({uri:"/public/v1/submit/reject_activity",body:e.body,options:t}),io=e=>ee({uri:"/public/v1/submit/remove_organization_feature",method:"POST",body:e.body}),is=(e,t)=>$({uri:"/public/v1/submit/remove_organization_feature",body:e.body,options:t}),iu=e=>ee({uri:"/public/v1/submit/set_organization_feature",method:"POST",body:e.body}),il=(e,t)=>$({uri:"/public/v1/submit/set_organization_feature",body:e.body,options:t}),ic=e=>ee({uri:"/public/v1/submit/sign_raw_payload",method:"POST",body:e.body}),id=(e,t)=>$({uri:"/public/v1/submit/sign_raw_payload",body:e.body,options:t}),ip=e=>ee({uri:"/public/v1/submit/sign_raw_payloads",method:"POST",body:e.body}),ih=(e,t)=>$({uri:"/public/v1/submit/sign_raw_payloads",body:e.body,options:t}),im=e=>ee({uri:"/public/v1/submit/sign_transaction",method:"POST",body:e.body}),ib=(e,t)=>$({uri:"/public/v1/submit/sign_transaction",body:e.body,options:t}),ig=e=>ee({uri:"/public/v1/submit/stamp_login",method:"POST",body:e.body}),iy=(e,t)=>$({uri:"/public/v1/submit/stamp_login",body:e.body,options:t}),ix=e=>ee({uri:"/public/v1/submit/update_fiat_on_ramp_credential",method:"POST",body:e.body}),iA=(e,t)=>$({uri:"/public/v1/submit/update_fiat_on_ramp_credential",body:e.body,options:t}),iw=e=>ee({uri:"/public/v1/submit/update_oauth2_credential",method:"POST",body:e.body}),iv=(e,t)=>$({uri:"/public/v1/submit/update_oauth2_credential",body:e.body,options:t}),iS=e=>ee({uri:"/public/v1/submit/update_policy",method:"POST",body:e.body}),iT=(e,t)=>$({uri:"/public/v1/submit/update_policy",body:e.body,options:t}),iE=e=>ee({uri:"/public/v1/submit/update_private_key_tag",method:"POST",body:e.body}),ik=(e,t)=>$({uri:"/public/v1/submit/update_private_key_tag",body:e.body,options:t}),iP=e=>ee({uri:"/public/v1/submit/update_root_quorum",method:"POST",body:e.body}),i_=(e,t)=>$({uri:"/public/v1/submit/update_root_quorum",body:e.body,options:t}),iI=e=>ee({uri:"/public/v1/submit/update_user",method:"POST",body:e.body}),iN=(e,t)=>$({uri:"/public/v1/submit/update_user",body:e.body,options:t}),iR=e=>ee({uri:"/public/v1/submit/update_user_email",method:"POST",body:e.body}),iB=(e,t)=>$({uri:"/public/v1/submit/update_user_email",body:e.body,options:t}),iC=e=>ee({uri:"/public/v1/submit/update_user_name",method:"POST",body:e.body}),iO=(e,t)=>$({uri:"/public/v1/submit/update_user_name",body:e.body,options:t}),iD=e=>ee({uri:"/public/v1/submit/update_user_phone_number",method:"POST",body:e.body}),iM=(e,t)=>$({uri:"/public/v1/submit/update_user_phone_number",body:e.body,options:t}),iU=e=>ee({uri:"/public/v1/submit/update_user_tag",method:"POST",body:e.body}),iF=(e,t)=>$({uri:"/public/v1/submit/update_user_tag",body:e.body,options:t}),iL=e=>ee({uri:"/public/v1/submit/update_wallet",method:"POST",body:e.body}),iq=(e,t)=>$({uri:"/public/v1/submit/update_wallet",body:e.body,options:t}),iK=e=>ee({uri:"/public/v1/submit/verify_otp",method:"POST",body:e.body}),iW=(e,t)=>$({uri:"/public/v1/submit/verify_otp",body:e.body,options:t}),iV=()=>ee({uri:"/tkhq/api/v1/noop-codegen-anchor",method:"POST"}),iG=()=>$({uri:"/tkhq/api/v1/noop-codegen-anchor"}),iz=e=>ee({uri:"/tkhq/api/v1/test_rate_limits",method:"POST",body:e.body}),ij=(e,t)=>$({uri:"/tkhq/api/v1/test_rate_limits",body:e.body,options:t});e.s(["approveActivity",()=>tx,"createApiKeys",()=>tw,"createApiOnlyUsers",()=>tS,"createAuthenticators",()=>tE,"createFiatOnRampCredential",()=>tP,"createInvitations",()=>tI,"createOauth2Credential",()=>tR,"createOauthProviders",()=>tC,"createPolicies",()=>tD,"createPolicy",()=>tU,"createPrivateKeyTag",()=>tL,"createPrivateKeys",()=>tK,"createReadOnlySession",()=>tV,"createReadWriteSession",()=>tz,"createSmartContractInterface",()=>tH,"createSubOrganization",()=>tQ,"createUserTag",()=>tY,"createUsers",()=>t$,"createWallet",()=>t1,"createWalletAccounts",()=>t5,"deleteApiKeys",()=>t3,"deleteAuthenticators",()=>t8,"deleteFiatOnRampCredential",()=>t9,"deleteInvitation",()=>rt,"deleteOauth2Credential",()=>ri,"deleteOauthProviders",()=>ra,"deletePolicies",()=>rs,"deletePolicy",()=>rl,"deletePrivateKeyTags",()=>rd,"deletePrivateKeys",()=>rp,"deleteSmartContractInterface",()=>rm,"deleteSubOrganization",()=>rg,"deleteUserTags",()=>rx,"deleteUsers",()=>rw,"deleteWalletAccounts",()=>rS,"deleteWallets",()=>rE,"emailAuth",()=>rP,"ethSendRawTransaction",()=>rI,"ethSendTransaction",()=>rR,"exportPrivateKey",()=>rC,"exportWallet",()=>rD,"exportWalletAccount",()=>rU,"getActivities",()=>e$,"getActivity",()=>es,"getApiKey",()=>el,"getApiKeys",()=>ed,"getAppProofs",()=>e1,"getAttestationDocument",()=>ep,"getAuthenticator",()=>em,"getAuthenticators",()=>eg,"getBootProof",()=>ex,"getGasUsage",()=>ew,"getLatestBootProof",()=>eS,"getNonces",()=>eE,"getOauth2Credential",()=>eP,"getOauthProviders",()=>eI,"getOnRampTransactionStatus",()=>eR,"getOrganization",()=>eC,"getOrganizationConfigs",()=>eD,"getPolicies",()=>e8,"getPolicy",()=>eU,"getPolicyEvaluations",()=>eL,"getPrivateKey",()=>eK,"getPrivateKeys",()=>tt,"getSendTransactionStatus",()=>eV,"getSmartContractInterface",()=>ez,"getSmartContractInterfaces",()=>ti,"getSubOrgIds",()=>ta,"getUser",()=>eH,"getUsers",()=>tl,"getVerifiedSubOrgIds",()=>td,"getWallet",()=>eQ,"getWalletAccount",()=>eY,"getWalletAccounts",()=>tp,"getWallets",()=>tm,"getWhoami",()=>tg,"importPrivateKey",()=>rL,"importWallet",()=>rK,"initFiatOnRamp",()=>rV,"initImportPrivateKey",()=>rz,"initImportWallet",()=>rH,"initOtp",()=>rQ,"initOtpAuth",()=>rY,"initUserEmailRecovery",()=>r$,"listFiatOnRampCredentials",()=>e5,"listOauth2Credentials",()=>e3,"listPrivateKeyTags",()=>e9,"listUserTags",()=>ts,"nOOPCodegenAnchor",()=>iV,"oauth",()=>r1,"oauth2Authenticate",()=>r5,"oauthLogin",()=>r3,"otpAuth",()=>r8,"otpLogin",()=>r9,"recoverUser",()=>it,"rejectActivity",()=>ii,"removeOrganizationFeature",()=>io,"setOrganizationFeature",()=>iu,"signApproveActivity",()=>tA,"signCreateApiKeys",()=>tv,"signCreateApiOnlyUsers",()=>tT,"signCreateAuthenticators",()=>tk,"signCreateFiatOnRampCredential",()=>t_,"signCreateInvitations",()=>tN,"signCreateOauth2Credential",()=>tB,"signCreateOauthProviders",()=>tO,"signCreatePolicies",()=>tM,"signCreatePolicy",()=>tF,"signCreatePrivateKeyTag",()=>tq,"signCreatePrivateKeys",()=>tW,"signCreateReadOnlySession",()=>tG,"signCreateReadWriteSession",()=>tj,"signCreateSmartContractInterface",()=>tX,"signCreateSubOrganization",()=>tJ,"signCreateUserTag",()=>tZ,"signCreateUsers",()=>t0,"signCreateWallet",()=>t2,"signCreateWalletAccounts",()=>t6,"signDeleteApiKeys",()=>t4,"signDeleteAuthenticators",()=>t7,"signDeleteFiatOnRampCredential",()=>re,"signDeleteInvitation",()=>rr,"signDeleteOauth2Credential",()=>rn,"signDeleteOauthProviders",()=>ro,"signDeletePolicies",()=>ru,"signDeletePolicy",()=>rc,"signDeletePrivateKeyTags",()=>rf,"signDeletePrivateKeys",()=>rh,"signDeleteSmartContractInterface",()=>rb,"signDeleteSubOrganization",()=>ry,"signDeleteUserTags",()=>rA,"signDeleteUsers",()=>rv,"signDeleteWalletAccounts",()=>rT,"signDeleteWallets",()=>rk,"signEmailAuth",()=>r_,"signEthSendRawTransaction",()=>rN,"signEthSendTransaction",()=>rB,"signExportPrivateKey",()=>rO,"signExportWallet",()=>rM,"signExportWalletAccount",()=>rF,"signGetActivities",()=>e0,"signGetActivity",()=>eu,"signGetApiKey",()=>ec,"signGetApiKeys",()=>ef,"signGetAppProofs",()=>e2,"signGetAttestationDocument",()=>eh,"signGetAuthenticator",()=>eb,"signGetAuthenticators",()=>ey,"signGetBootProof",()=>eA,"signGetGasUsage",()=>ev,"signGetLatestBootProof",()=>eT,"signGetNonces",()=>ek,"signGetOauth2Credential",()=>e_,"signGetOauthProviders",()=>eN,"signGetOnRampTransactionStatus",()=>eB,"signGetOrganization",()=>eO,"signGetOrganizationConfigs",()=>eM,"signGetPolicies",()=>e7,"signGetPolicy",()=>eF,"signGetPolicyEvaluations",()=>eq,"signGetPrivateKey",()=>eW,"signGetPrivateKeys",()=>tr,"signGetSendTransactionStatus",()=>eG,"signGetSmartContractInterface",()=>ej,"signGetSmartContractInterfaces",()=>tn,"signGetSubOrgIds",()=>to,"signGetUser",()=>eX,"signGetUsers",()=>tc,"signGetVerifiedSubOrgIds",()=>tf,"signGetWallet",()=>eJ,"signGetWalletAccount",()=>eZ,"signGetWalletAccounts",()=>th,"signGetWallets",()=>tb,"signGetWhoami",()=>ty,"signImportPrivateKey",()=>rq,"signImportWallet",()=>rW,"signInitFiatOnRamp",()=>rG,"signInitImportPrivateKey",()=>rj,"signInitImportWallet",()=>rX,"signInitOtp",()=>rJ,"signInitOtpAuth",()=>rZ,"signInitUserEmailRecovery",()=>r0,"signListFiatOnRampCredentials",()=>e6,"signListOauth2Credentials",()=>e4,"signListPrivateKeyTags",()=>te,"signListUserTags",()=>tu,"signNOOPCodegenAnchor",()=>iG,"signOauth",()=>r2,"signOauth2Authenticate",()=>r6,"signOauthLogin",()=>r4,"signOtpAuth",()=>r7,"signOtpLogin",()=>ie,"signRawPayload",()=>ic,"signRawPayloads",()=>ip,"signRecoverUser",()=>ir,"signRejectActivity",()=>ia,"signRemoveOrganizationFeature",()=>is,"signSetOrganizationFeature",()=>il,"signSignRawPayload",()=>id,"signSignRawPayloads",()=>ih,"signSignTransaction",()=>ib,"signStampLogin",()=>iy,"signTestRateLimits",()=>ij,"signTransaction",()=>im,"signUpdateFiatOnRampCredential",()=>iA,"signUpdateOauth2Credential",()=>iv,"signUpdatePolicy",()=>iT,"signUpdatePrivateKeyTag",()=>ik,"signUpdateRootQuorum",()=>i_,"signUpdateUser",()=>iN,"signUpdateUserEmail",()=>iB,"signUpdateUserName",()=>iO,"signUpdateUserPhoneNumber",()=>iM,"signUpdateUserTag",()=>iF,"signUpdateWallet",()=>iq,"signVerifyOtp",()=>iW,"stampLogin",()=>ig,"testRateLimits",()=>iz,"updateFiatOnRampCredential",()=>ix,"updateOauth2Credential",()=>iw,"updatePolicy",()=>iS,"updatePrivateKeyTag",()=>iE,"updateRootQuorum",()=>iP,"updateUser",()=>iI,"updateUserEmail",()=>iR,"updateUserName",()=>iC,"updateUserPhoneNumber",()=>iD,"updateUserTag",()=>iU,"updateWallet",()=>iL,"verifyOtp",()=>iK],57264),e.i(57264);class iH extends Error{constructor(e){const{message:t,cause:r,activityId:i,activityStatus:n,activityType:a}=e;super(t),this.name="TurnkeyActivityError",this.activityId=i??void 0,this.activityStatus=n??void 0,this.activityType=a??void 0,this.cause=r??void 0}}class iX extends Error{constructor(e){const{message:t,cause:r,activityId:i,activityStatus:n,activityType:a}=e;super(t),this.name="TurnkeyActivityConsensusNeededError",this.activityId=i??void 0,this.activityStatus=n??void 0,this.activityType=a??void 0,this.cause=r??void 0}}function iQ(e){let{id:t,status:r}=e;if("ACTIVITY_STATUS_CONSENSUS_NEEDED"===r)throw new iX({message:"Activity requires consensus",activityId:t,activityStatus:r});if("ACTIVITY_STATUS_COMPLETED"!==r)throw new iH({message:`Expected COMPLETED status, got ${r}`,activityId:t,activityStatus:r});return!0}function iJ(e){if(null==e)throw Error(`Got unexpected ${JSON.stringify(e)}`);return e}class iY extends i.BaseError{constructor({message:e="Turnkey activity requires consensus.",activityId:t,activityStatus:r}){super(e),this.name="TurnkeyConsensusNeededError",this.activityId=t,this.activityStatus=r}}class iZ extends i.BaseError{constructor({message:e="Received unexpected Turnkey activity status.",activityId:t,activityStatus:r}){super(e),this.name="TurnkeyActivityError",this.activityId=t,this.activityStatus=r}}function i$(e){let{client:t,organizationId:r,signWith:i}=e,{ethereumAddress:s}=e;if(!i)throw new iH({message:"Missing signWith parameter"});if((0,n.isAddress)(i))s=i;else if(!s)throw new iZ({message:"Missing ethereumAddress parameter"});return f({address:s,sign:function({hash:e}){return i1(t,e,r,i)},signMessage:function({message:e}){return i1(t,(0,o.hashMessage)(e),r,i)},signTransaction:function(e,n){return i2(t,e,n?.serializer??a.serializeTransaction,r,i)},signTypedData:function(e){return i5(t,e,r,i)},signAuthorization:function(e){return i0(t,e,r,i)}})}async function i0(e,t,r,i){let{chainId:n,nonce:a,to:o="object"}=t,s=t.contractAddress??t.address;if(!s)throw new iZ({message:"Unable to sign authorization: address is undefined."});let u=await i4(e,JSON.stringify({address:s,chainId:n,nonce:a}),r,i,"PAYLOAD_ENCODING_EIP7702_AUTHORIZATION",o);return"object"===o?{address:s,chainId:n,nonce:a,r:`${u.r}`,s:`${u.s}`,v:BigInt(u.v),yParity:Number(u.v)}:u}async function i1(e,t,r,i){let n=await i4(e,t,r,i);return`${n}`}async function i2(e,t,r,i,n){let o="eip4844"===t.type?{...t,sidecars:!1}:t,u=(await r(o)).replace(/^0x/,""),l=await i6(e,u,i,n);if("eip4844"===t.type){let{r:e,s:r,v:i}=(0,s.parseTransaction)(l);return(0,a.serializeTransaction)(t,{r:e,s:r,v:i})}return l}async function i5(e,t,r,i){return await i4(e,(0,u.serializeTypedData)(t),r,i,"PAYLOAD_ENCODING_EIP712","hex")}async function i6(e,t,r,i){let n;try{n=await i3(e,t,r,i)}catch(e){if(e instanceof iH)throw new iZ({message:e.message,activityId:e.activityId,activityStatus:e.activityStatus});if(e instanceof iX)throw new iY({message:e.message,activityId:e.activityId,activityStatus:e.activityStatus});throw new iZ({message:`Failed to sign: ${e.message}`})}return`0x${n}`}async function i3(e,t,r,i){if(ea(e)){let{activity:n}=await e.signTransaction({type:"ACTIVITY_TYPE_SIGN_TRANSACTION_V2",organizationId:r,parameters:{signWith:i,type:"TRANSACTION_TYPE_ETHEREUM",unsignedTransaction:t},timestampMs:String(Date.now())});return iQ(n),iJ(n?.result?.signTransactionResult?.signedTransaction)}{let{activity:n,signedTransaction:a}=await e.signTransaction({organizationId:r,signWith:i,type:"TRANSACTION_TYPE_ETHEREUM",unsignedTransaction:t});return iQ(n),iJ(a)}}async function i4(e,t,r,i,n="PAYLOAD_ENCODING_HEXADECIMAL",a="hex"){let o;try{o=await i8(e,t,r,i,n,a)}catch(e){if(e instanceof iH)throw new iZ({message:e.message,activityId:e.activityId,activityStatus:e.activityStatus});if(e instanceof iX)throw new iY({message:e.message,activityId:e.activityId,activityStatus:e.activityStatus});throw new iZ({message:`Failed to sign: ${e.message}`})}return o}async function i8(e,t,r,i,n,a){let o;if(ea(e)){let{activity:a}=await e.signRawPayload({type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2",organizationId:r,parameters:{signWith:i,payload:t,encoding:n,hashFunction:"HASH_FUNCTION_NO_OP"},timestampMs:String(Date.now())});iQ(a),o=iJ(a?.result?.signRawPayloadResult)}else{let{activity:a,r:s,s:u,v:l}=await e.signRawPayload({organizationId:r,signWith:i,payload:t,encoding:n,hashFunction:"HASH_FUNCTION_NO_OP"});iQ(a),o={r:s,s:u,v:l}}return"object"===a?{r:`0x${o.r}`,s:`0x${o.s}`,v:BigInt(o.v)}:iJ(function(e,t="hex"){let{r:r,s:i,v:n}=e,a=`0x${r}`,o=`0x${i}`,s=BigInt(n),u=`0x${new E.Signature((0,l.hexToBigInt)(a),(0,l.hexToBigInt)(o)).toCompactHex()}${0n===s?"1b":"1c"}`;return"hex"===t?u:(0,c.hexToBytes)(u)}(o,a))}e.s(["createAccountWithAddress",()=>i$],227015)},514276,e=>{"use strict";e.i(89928);var t=e.i(739663);let r={standard:e.i(375116).BNB_FRONTEND_RPC,mevProtection:{blockrazor:"https://bsc.blockrazor.xyz/1976844398427639808",merkle:"https://mempool.merkle.io/rpc/bsc/pk_mbs_e8dc342167e240db3bb20ef3fad302db",bloxrouteAxiom:"https://axiom-bnb.rpc.blxrbdn.com"},privateMevProtection:{blockrazorRelay:"https://tokyo.builder.blockrazor.io",fourtyEightClub:"https://axiom-private.48.club",bloxroute:"https://api.blxrbdn.com",bscGlobal:"http://global.bsc.dex.blxrbdn.com"}};async function i(e,t){try{let r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:"1",method:"eth_sendRawTransaction",params:[e]})});return(await r.json()).result||null}catch(e){return console.error("Transaction error:",e),null}}async function n(e,t){let n=[];for(let t of(n.push(i(e,r.mevProtection.blockrazor)),n.push(i(e,r.mevProtection.merkle)),n.push(i(e,r.mevProtection.bloxrouteAxiom)),await Promise.allSettled(n)))if("fulfilled"===t.status&&t.value)return t.value;throw Error("All MEV protection endpoints failed")}async function a(e){let r=await t.workersApi.post("/bsc-private-tx",{tx:e});if(r.error)throw Error(`Private Transaction Error: ${r.error}`);return r.data}function o(e,t){t?n(e,!0).catch(e=>{console.error("MEV protected transaction send error:",e)}):(i(e,r.standard).catch(e=>{console.error("Standard transaction send error:",e)}),n(e,!1).catch(e=>{console.error("MEV protected transaction send error:",e)})),a(e).catch(e=>{console.error("Private transaction send error:",e)})}e.s(["BNB_RPCS",0,r,"sendBscTransaction",()=>o])},764335,e=>{"use strict";e.s(["ERC20_ABI",0,[{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}]])},430483,e=>{"use strict";var t=e.i(828073),r=e.i(656679),i=e.i(746256),n=e.i(764335),a=e.i(375116);e.s(["buildBnbTransferTx",0,({account:e,to:t,amountWei:r,nonce:n})=>({from:e.address,to:t,value:BigInt(r.toFixed(0)),gas:a.BNB_TRANSFER_GAS_CONFIG.bnbTransferGasLimit,gasPrice:a.BNB_TRANSFER_GAS_CONFIG.gasPrice,nonce:n,chainId:i.bsc.id}),"buildErc20TransferTx",0,({account:e,tokenAddress:t,to:o,amountRaw:s,nonce:u})=>{let l=(0,r.encodeFunctionData)({abi:n.ERC20_ABI,functionName:"transfer",args:[o,BigInt(s.toFixed(0))]});return{from:e.address,to:t,data:l,value:BigInt(0),gas:a.BNB_TRANSFER_GAS_CONFIG.tokenTransferGasLimit,gasPrice:a.BNB_TRANSFER_GAS_CONFIG.gasPrice,nonce:u,chainId:i.bsc.id}},"calculateGasCost",0,(e,r)=>(0,t.default)(e.toString()).multipliedBy(r.toString())])},781754,e=>{"use strict";async function t(e,n,a,o=100,s=12e3){n?await Promise.race([r(e,a,o,s),i(n,a,s)]):await r(e,a,o,s)}async function r(e,t,r,i){let n=null,a=Date.now();for(;Date.now()-a<i;){try{if(n=await e.request({method:"eth_getTransactionReceipt",params:[t]}))break}catch{}await new Promise(e=>setTimeout(e,r))}if(!n)throw Error("Transaction timed out");if("0x1"!==n.status)throw Error("Transaction reverted");return n}async function i(e,t,r){let i=`bnb|${t}`;return new Promise((t,n)=>{let a=setTimeout(()=>{o(),n(Error("Transaction timed out"))},r),o=e.subscribe(i,{onMessage:e=>{e.room===i&&(clearTimeout(a),o(),t())}})})}e.s(["monitorTransaction",()=>t])},930456,e=>{"use strict";e.s(["VAULT_PROGRAM_ADDRESS",()=>E,"useClaimBnbRewards",()=>k,"useClaimSolRewards",()=>P]);var t=e.i(467034),r=e.i(127261),i=e.i(227015),n=e.i(828073),a=e.i(103476),o=e.i(672464),s=e.i(309682),u=e.i(823838),l=e.i(110163),c=e.i(831095),d=e.i(766816),f=e.i(746256),p=e.i(50454),h=e.i(375116),m=e.i(514276),b=e.i(430483),g=e.i(863568);e.i(490156);var y=e.i(885438),x=e.i(754825),A=e.i(542119),w=e.i(616318),v=e.i(781754),S=e.i(799689),T=e.i(85026);let E="VAULTkV5rgY9WqZtvaMHvctrKMwQw8bCfSJF4nga2D4";function k(){let e=(0,g.useTurnkeyClient)(),t=(0,o.useAtomValue)(y.evmPublicKeyAtom),r=(0,o.useAtomValue)(A.referralDataAtom),a=(0,o.useAtomValue)(A.turnkeyOrgIdAtom),x=(0,o.useSetAtom)(A.turnkeyReauthRequiredAtom);return async()=>{let o=r?.re0;if(!e)throw x(!0),Error("Turnkey client not found");try{if(!(await e.getWhoami()).userId)throw Error("Turnkey user ID not found, please relogin and try again")}catch{throw Error("Session expired, please relogin and try again")}async function g(){try{return await p.axiomApiV2.post("/claim-bnb-rewards",{walletAddress:t}),!0}catch{return!1}}async function y(){if(!o)throw Error("Account not registered for rewards, please RELOGIN");if(!e||!a)throw x(!0),Error("Turnkey client not found");if(!t)throw Error("Target wallet address not found");let r=(0,u.getAddress)(o),g=(0,u.getAddress)(t),y=(0,s.createPublicClient)({chain:f.bsc,transport:(0,l.http)(h.BNB_FRONTEND_RPC)}),A=null;try{let e=await p.axiomApiV2.post("/withdraw-bnb-rewards-account");await (0,v.monitorTransaction)(y,null,e.txHash,250,3e4)}catch(e){A=e}let w=await y.getBalance({address:r}),S=(0,n.default)(w.toString());if(S.lt((0,n.default)("1000000000000000")))throw A??Error("Minimum claim amount is 0.001 BNB");let T=await y.estimateGas({account:r,to:g,value:BigInt(1)}),E=(0,b.calculateGasCost)(h.BNB_TRANSFER_GAS_CONFIG.gasPrice,T),k=S.minus(E).minus((0,n.default)(1));if(k.lte(0))throw Error("Insufficient balance for transfer and gas");let P=(0,i.createAccountWithAddress)({client:e,organizationId:a,signWith:r,ethereumAddress:r}),_=await y.getTransactionCount({address:r,blockTag:"latest"}),I={to:g,value:BigInt(k.toFixed(0)),gas:T,gasPrice:h.BNB_TRANSFER_GAS_CONFIG.gasPrice,nonce:_,chainId:f.bsc.id},N=await P.signTransaction(I,{serializer:d.serializeTransaction}),R=(0,c.keccak256)(N);(0,m.sendBscTransaction)(N,!1),await (0,v.monitorTransaction)(y,null,R,250,3e4)}let[A,w]=await Promise.allSettled([g(),y()]),S="rejected"===A.status||!1===A.value,T="rejected"===w.status;if(S&&T){if("rejected"===w.status)throw w.reason;throw Error("Failed to claim rewards")}}}function P(){let e=(0,g.useTurnkeyClient)(),i=(0,o.useAtomValue)(x.solPublicKeyAtom),n=(0,o.useAtomValue)(A.referralDataAtom),s=(0,o.useAtomValue)(A.turnkeyOrgIdAtom),u=(0,w.useGetSafeBlockhash)(),l=(0,o.useSetAtom)(A.turnkeyReauthRequiredAtom);return async()=>{let o=n?.rs0;if(!e)throw l(!0),Error("Turnkey client not found");try{if(!(await e.getWhoami()).userId)throw Error("Turnkey user ID not found, please relogin and try again")}catch{throw Error("Session expired, please relogin and try again")}async function c(){try{await p.axiomApiV2.post("/claim-sol-rewards",{walletAddress:i});return}catch(e){throw e}}async function d(){if(!o)throw Error("Account not registered for rewards, please RELOGIN");if(!e||!s)throw l(!0),Error("Turnkey client not found");if(!i)throw Error("Target wallet address not found");let n=(0,S.findProgramAddressSync)([t.Buffer.from("vault"),new r.PublicKey(o).toBuffer()],new r.PublicKey(E)),c=T.globalHeliusConnection;if(await c.getBalance(n[0])/1e9-89784e-8<.001)throw Error("Minimum referral rewards claim amount is 0.001 SOL");let d=[];(0,T.addPriorityFeeInstructions)({instructions:d,computeUnits:2176,microLamports:1e6}),d.push(new r.TransactionInstruction({keys:[{pubkey:new r.PublicKey(o),isSigner:!0,isWritable:!0},{pubkey:new r.PublicKey(i),isSigner:!1,isWritable:!0},{pubkey:n[0],isSigner:!1,isWritable:!0}],programId:new r.PublicKey(E),data:t.Buffer.from([1])}));let f=new r.PublicKey("AxiomRYAid8ZDhS1bJUAzEaNSr69aTWB9ATfdDLfUbnc"),h=await u();if(!h)throw Error("Failed to get blockhash");let m=new r.TransactionMessage({payerKey:f,recentBlockhash:h,instructions:d}),b=new r.VersionedTransaction(m.compileToLegacyMessage()).message.serialize(),g=await e.signRawPayload({signWith:o,payload:t.Buffer.from(b).toString("hex"),encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"}),y=t.Buffer.from(g.r+g.s,"hex"),x=a.default.encode(y),A=await p.axiomApiV2.post("/withdraw-sol-rewards-account",{blockhash:h,signature:x,targetWalletAddress:i});await c.confirmTransaction(A.txHash,"confirmed")}let[f,h]=await Promise.allSettled([c(),d()]),m="rejected"===f.status,b="rejected"===h.status;if(m&&b){if("rejected"===h.status){if(h.reason?.message?.includes("Account not registered for rewards")&&"rejected"===f.status)throw f.reason;throw h.reason}throw Error("Failed to claim rewards")}}}},592e3,e=>{"use strict";e.s(["fetchAndSetVanishOneTimeWallet",()=>p,"processVanishDeposit",()=>b,"processVanishWithdrawal",()=>m,"safeCommitVanishAction",()=>h,"vanishOneTimeWalletAddress",()=>f]);var t=e.i(467034),r=e.i(114175),i=e.i(127261),n=e.i(103476),a=e.i(682382),o=e.i(85026),s=e.i(973444);e.i(465903);var u=e.i(767924),l=e.i(247317),c=e.i(91204),d=e.i(40039);let f=null;async function p(){let e=await (0,d.getVanishOneTimeWallet)();return f=e.address,e.address}async function h(e){let t=null;try{t=await (0,d.commitVanishAction)({txId:e})}catch{}if(t?.status==="pending")try{t=await (0,d.commitVanishAction)({txId:e})}catch{}if(t?.status==="pending"){await (0,c.sleep)(1e3);try{t=await (0,d.commitVanishAction)({txId:e})}catch{}}return t?.status==="pending"&&(await (0,c.sleep)(3e4),t=await (0,d.commitVanishAction)({txId:e})),t?.status==="pending"&&(await (0,c.sleep)(35e3),t=await (0,d.commitVanishAction)({txId:e})),t}async function m({selectedToken:e,amountRaw:r,primaryWalletAddress:s,signer:c}){(0,o.addPriorityFeeInstructions)({instructions:[],computeUnits:e===a.NATIVE_SOL_TOKEN_ADDRESS?1e4:75e3,microLamports:25e5});let f=await (0,d.withdrawFromVanish)({signer:c,userAddress:s,tokenAddress:e,amount:r.toString(),additionalSol:e===a.NATIVE_SOL_TOKEN_ADDRESS?"0":u.TOKEN_ACCOUNT_RENT_EXEMPTION_LAMPORTS.toString()}),p=i.VersionedTransaction.deserialize(t.Buffer.from(f.transaction,"base64")),m=await c.signTransaction(p),b=n.default.encode(m.signatures[0]);try{let{numFailed:e,errorMessages:r}=await (0,o.sendAndMonitorSimpleTxBatched)([t.Buffer.from(m.serialize()).toString("base64")]);if(e>0)throw Error(`Error withdrawing from Vanish: ${r.join(", ")}`)}catch(e){throw Error(`Error withdrawing from Vanish: ${(0,l.getErrorMessage)(e)}`)}finally{try{await h(b)}catch(e){console.error(`Error committing Vanish withdraw: ${(0,l.getErrorMessage)(e)}`)}}}async function b({selectedToken:e,amountRaw:t,primaryWalletAddress:n,signer:u,sourceTokenAccountAddress:l,tokenProgram:f,safeBlockhash:p}){let h,m=await (0,d.getVanishDepositAddress)({tokenAddress:e}),b=[];if(e===a.NATIVE_SOL_TOKEN_ADDRESS){b.push(i.ComputeBudgetProgram.setComputeUnitLimit({units:450})),b.push(i.ComputeBudgetProgram.setComputeUnitPrice({microLamports:1e7}));let e=i.SystemProgram.transfer({fromPubkey:new i.PublicKey(n),toPubkey:new i.PublicKey(m.address),lamports:(0,s.fromSafeBN)(t)});b.push(e)}else{if(!l||!f)throw Error("Source token account address or token program not found");b.push(i.ComputeBudgetProgram.setComputeUnitLimit({units:55e3})),b.push(i.ComputeBudgetProgram.setComputeUnitPrice({microLamports:25e5}));let{ataInstruction:a,ataAddress:s}=(0,o.makeCreateATAInstruction)(new i.PublicKey(m.address),e,f,new i.PublicKey(n),!0);b.push(a);let u=(0,r.createTransferInstruction)(new i.PublicKey(l),new i.PublicKey(s),new i.PublicKey(n),BigInt(t.toString()),void 0,new i.PublicKey(f));b.push(u)}let{base64Tx:g,signature:y}=await (0,o.compileTransaction)({signer:u,instructions:b,blockhash:p}),{numFailed:x,errorMessages:A}=await (0,o.sendAndMonitorSimpleTxBatched)([g]);if(x>0)throw Error(`Error depositing to Vanish: ${A.join(", ")}`);return"completed"!==(h=await (0,d.commitVanishAction)({txId:y})).status&&(await (0,c.sleep)(1e3),"completed"!==(h=await (0,d.commitVanishAction)({txId:y})).status&&(await (0,c.sleep)(3e3),h=await (0,d.commitVanishAction)({txId:y}))),h}},707716,290568,817080,e=>{"use strict";var t,r,i=e.i(639372),n=e.i(857871),a=((t={}).MAIN="main",t.FRIENDS="friends",t.EUCALYPTUS_SOL="eucalyptus_sol",t.EUCALYPTUS_BNB="eucalyptus_bnb",t.HYPERLIQUID="hyperliquid",t),o=((r={})[r.CONNECTING=0]="CONNECTING",r[r.OPEN=1]="OPEN",r[r.CLOSING=2]="CLOSING",r[r.CLOSED=3]="CLOSED",r);function s(e,t){if(!t||0===Object.keys(t).length)return e;let r=new URL(e);return Object.entries(t).forEach(([e,t])=>{r.searchParams.set(e,String(t))}),r.toString()}let u={main:(0,i.atom)(3),friends:(0,i.atom)(3),eucalyptus_sol:(0,i.atom)(3),eucalyptus_bnb:(0,i.atom)(3),hyperliquid:(0,i.atom)(3)};function l(e){return u[e]}class c{static instance;store=(0,i.getDefaultStore)();connections=new Map;static getInstance(){return c.instance||(c.instance=new c),c.instance}static resetForTesting(){c.instance&&(c.instance.connections.forEach(e=>{e.reconnectTimer&&clearTimeout(e.reconnectTimer),e.ws&&(e.ws.onopen=null,e.ws.onclose=null,e.ws.onerror=null,e.ws.onmessage=null,e.ws.close())}),c.instance.connections.clear());let e=(0,i.getDefaultStore)();for(let t of Object.values(a))e.set(u[t],3);c.instance=void 0}setReadyState(e,t){this.store.set(u[e],t)}createConnection(e){if(e.ws?.readyState!==1&&e.ws?.readyState!==0)try{n.wsRum.poolConnectionCreated(e.connectionType,e.url),e.ws=new WebSocket(e.url),e.readyState=0,this.setReadyState(e.connectionType,0),e.ws.onopen=()=>{e.readyState=1,e.reconnectAttempts=0,e.hadError=!1,this.setReadyState(e.connectionType,1),e.subscribers.forEach(e=>{e.onOpen?.()})},e.ws.onclose=()=>{e.readyState=3;let t=e.hadError;e.hadError=!1,this.setReadyState(e.connectionType,3),n.wsRum.poolConnectionClosed(e.connectionType,t?"error":"normal"),e.subscribers.forEach(e=>{e.onClose?.()}),e.subscribers.size>0&&(!t||e.retryOnError)&&this.scheduleReconnect(e)},e.ws.onerror=t=>{let r=Error(`WebSocket error: ${t.type}`);e.hadError=!0,e.subscribers.forEach(e=>{e.onError?.(r)})},e.ws.onmessage=t=>{let r;try{r=JSON.parse(t.data)}catch{console.error("Failed to parse WebSocket message:",t.data);return}e.subscribers.forEach(e=>{e.onMessage?.(r)})}}catch(r){e.readyState=3,this.setReadyState(e.connectionType,3);let t=r instanceof Error?r:Error(String(r));e.subscribers.forEach(e=>{e.onError?.(t)})}}scheduleReconnect(e){(e.reconnectTimer&&(clearTimeout(e.reconnectTimer),e.reconnectTimer=null),e.reconnectAttempts>=e.maxReconnectAttempts)?n.wsRum.poolReconnectExhausted(e.connectionType,e.reconnectAttempts):(e.reconnectAttempts++,n.wsRum.poolReconnectAttempt(e.connectionType,e.reconnectAttempts,e.maxReconnectAttempts),e.reconnectTimer=setTimeout(()=>{e.reconnectTimer=null,e.subscribers.size>0&&this.createConnection(e)},e.reconnectInterval))}getOrCreateConnectionEntry(e,t,r){let i=this.connections.get(e);return i||(i={ws:null,readyState:3,subscribers:new Set,reconnectAttempts:0,maxReconnectAttempts:r.reconnectAttempts,reconnectInterval:r.reconnectInterval,retryOnError:r.retryOnError,reconnectTimer:null,url:t,connectionType:e,hadError:!1},this.connections.set(e,i)),i}updateConnectionUrl(e,t){e.url!==t&&(e.url=t,e.reconnectAttempts=0,e.reconnectTimer&&(clearTimeout(e.reconnectTimer),e.reconnectTimer=null),e.ws&&(n.wsRum.poolConnectionClosed(e.connectionType,"url_changed"),e.ws.onopen=null,e.ws.onclose=null,e.ws.onerror=null,e.ws.onmessage=null,e.ws.close(),e.ws=null),e.readyState=3,this.setReadyState(e.connectionType,3),e.subscribers.size>0&&this.createConnection(e))}addSubscriber(e,t,r){let i=1===e.readyState;e.subscribers.add(t),n.wsRum.poolSubscribe(e.connectionType,e.subscribers.size),e.subscribers.size>50&&n.wsRum.highSubscriberCount(e.connectionType,e.subscribers.size,50),3===e.readyState&&1===e.subscribers.size&&this.createConnection(e),i&&t.onOpen?.()}removeSubscriber(e,t,r){1===e.readyState&&t.onClose?.(),e.subscribers.delete(t),(0,n.unregisterSubscription)(r),n.wsRum.poolUnsubscribe(e.connectionType,e.subscribers.size),0===e.subscribers.size&&(e.reconnectTimer&&(clearTimeout(e.reconnectTimer),e.reconnectTimer=null),e.ws&&(n.wsRum.poolConnectionClosed(e.connectionType,"no_subscribers"),e.ws.onopen=null,e.ws.onclose=null,e.ws.onerror=null,e.ws.onmessage=null,e.ws.close(),e.ws=null),e.readyState=3,e.reconnectAttempts=0,this.setReadyState(e.connectionType,3),this.connections.delete(e.connectionType))}subscribe(e,t){let{connectionType:r,url:i,reconnectInterval:a=250,reconnectAttempts:o=50,retryOnError:s=!0}=e,u=(0,n.registerSubscription)(r),l=this.getOrCreateConnectionEntry(r,i,{reconnectInterval:a,reconnectAttempts:o,retryOnError:s});return this.updateConnectionUrl(l,i),this.addSubscriber(l,t,u),()=>{this.removeSubscriber(l,t,u)}}sendMessage(e,t){let r=this.connections.get(e);r?.ws?.readyState===1&&r.ws.send(t)}sendJsonMessage(e,t){this.sendMessage(e,JSON.stringify(t))}getReadyState(e){let t=this.connections.get(e);return t?.readyState??3}getConnectionCount(){return this.connections.size}getTotalSubscriberCount(){let e=0;return this.connections.forEach(t=>{e+=t.subscribers.size}),e}getSubscribersByType(){let e={};return this.connections.forEach((t,r)=>{e[r]=t.subscribers.size}),e}getDebugState(){let e={};return this.connections.forEach((t,r)=>{e[r]={subscriberCount:t.subscribers.size,readyState:o[t.readyState],reconnectAttempts:t.reconnectAttempts,hasReconnectTimer:null!==t.reconnectTimer,url:t.url.replace(/localhost-password=[^&]+/,"localhost-password=REDACTED")}}),e}getActiveTimerCount(){let e=0;return this.connections.forEach(t=>{null!==t.reconnectTimer&&e++}),e}}e.s(["ConnectionType",()=>a,"ReadyState",()=>o,"WebSocketConnectionPool",()=>c,"buildUrlWithParams",()=>s,"getReadyStateAtom",()=>l],707716),e.s([],290568);class d{pool;url;reconnectAttempts;openHandlers=new Set;errorHandlers=new Set;poolMessageSubscriber=null;poolUnsubscribe=null;autoLeaveOnHidden=!0;visibilityHandler=null;visibilityInterval=null;hiddenTime=null;heartbeatInterval=null;constructor(e){this.pool=c.getInstance(),this.url=s(e.url,e.queryParams),this.reconnectAttempts=e.reconnectAttempts??100}initialize(){this.setupPoolSubscription(),this.setupVisibilityHandler(),this.setupHeartbeat()}setupPoolSubscription(){this.poolMessageSubscriber={onMessage:e=>this.handleMessage(e),onOpen:()=>this.handleOpen(),onError:e=>this.handleError(e)},this.poolUnsubscribe=this.pool.subscribe({connectionType:this.connectionType,url:this.url,reconnectAttempts:this.reconnectAttempts},this.poolMessageSubscriber)}teardownPoolSubscription(){this.poolUnsubscribe&&(this.poolUnsubscribe(),this.poolUnsubscribe=null,this.poolMessageSubscriber=null)}setupPoolSubscriptionWithNewUrl(){this.teardownPoolSubscription(),this.setupPoolSubscription()}setupVisibilityHandler(){"u">typeof document&&(this.visibilityHandler=()=>{document.hidden?(this.hiddenTime=Date.now(),this.visibilityInterval=setInterval(()=>{this.hiddenTime&&Date.now()-this.hiddenTime>=61e4&&this.autoLeaveOnHidden&&(n.wsRum.roomManagerEvent(this.connectionType,"visibility_leave",{hiddenDurationMs:Date.now()-this.hiddenTime}),this.leaveAllRooms(),this.visibilityInterval&&(clearInterval(this.visibilityInterval),this.visibilityInterval=null))},1e3)):(this.visibilityInterval&&(clearInterval(this.visibilityInterval),this.visibilityInterval=null),this.hiddenTime=null)},document.addEventListener("visibilitychange",this.visibilityHandler))}teardownVisibilityHandler(){this.visibilityHandler&&"u">typeof document&&(document.removeEventListener("visibilitychange",this.visibilityHandler),this.visibilityHandler=null),this.visibilityInterval&&(clearInterval(this.visibilityInterval),this.visibilityInterval=null)}setupHeartbeat(){this.heartbeatInterval=setInterval(()=>{this.isConnected&&this.ping()},3e4)}teardownHeartbeat(){this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null)}handleOpen(){this.rejoinAllRooms(),this.openHandlers.forEach(e=>{e()})}handleError(e){console.error("WebSocket connection error:",{url:this.url,connectionType:this.connectionType,error:e.message,timestamp:new Date().toISOString()}),this.errorHandlers.forEach(t=>{t(e)})}addOpenHandler(e){return this.openHandlers.add(e),this.isConnected&&e(),()=>{this.openHandlers.delete(e)}}addErrorHandler(e){return this.errorHandlers.add(e),()=>{this.errorHandlers.delete(e)}}ping(){this.pool.sendJsonMessage(this.connectionType,{method:"ping"})}sendJsonMessage(e){this.pool.sendJsonMessage(this.connectionType,e)}setAutoLeaveOnHidden(e){this.autoLeaveOnHidden=e}get isConnected(){return this.pool.getReadyState(this.connectionType)===o.OPEN}getReadyState(){return this.pool.getReadyState(this.connectionType)}destroyBase(){n.wsRum.roomManagerEvent(this.connectionType,"destroyed",{openHandlerCount:this.openHandlers.size,errorHandlerCount:this.errorHandlers.size,hadHeartbeat:null!==this.heartbeatInterval,hadVisibilityHandler:null!==this.visibilityHandler}),this.teardownHeartbeat(),this.teardownVisibilityHandler(),this.teardownPoolSubscription(),this.clearEntries(),this.openHandlers.clear(),this.errorHandlers.clear()}getActiveTimerCount(){let e=0;return null!==this.heartbeatInterval&&e++,null!==this.visibilityInterval&&e++,e}}e.s(["WebSocketRoomManager",()=>d],817080)},126389,e=>{"use strict";var t=e.i(857871),r=e.i(707716);e.i(290568);var i=e.i(817080);class n extends i.WebSocketRoomManager{static instance=null;connectionType=r.ConnectionType.MAIN;roomEntries=new Map;constructor(e){super(e),this.initialize()}static getInstance(e){if(n.instance){let t=(0,r.buildUrlWithParams)(e.url,e.queryParams);n.instance.url!==t&&(n.instance.url=t,n.instance.reconnectAttempts=e.reconnectAttempts??100,n.instance.setupPoolSubscriptionWithNewUrl())}else n.instance=new n(e);return n.instance}static getInstanceIfExists(){return n.instance}static resetForTesting(){r.WebSocketConnectionPool.resetForTesting(),n.instance&&(n.instance.destroy(),n.instance=null)}handleMessage(e){if("room"in e){let t=this.roomEntries.get(e.room);t&&t.subscriptions.forEach(t=>{t.onMessage(e)})}}rejoinAllRooms(){this.roomEntries.forEach((e,t)=>{this.pool.sendJsonMessage(this.connectionType,{action:"join",room:t})})}leaveAllRooms(){this.roomEntries.forEach((e,t)=>{this.pool.sendJsonMessage(this.connectionType,{action:"leave",room:t})})}clearEntries(){this.roomEntries.clear()}subscribe(e,r){let i=this.roomEntries.get(e),n=!i;return i||(i={subscriptions:new Set},this.roomEntries.set(e,i)),i.subscriptions.add(r),t.wsRum.roomSubscribed("axiom",e,this.roomEntries.size,i.subscriptions.size),n&&this.isConnected&&this.pool.sendJsonMessage(this.connectionType,{action:"join",room:e}),()=>{let i=this.roomEntries.get(e);i&&(i.subscriptions.delete(r),0===i.subscriptions.size&&(this.isConnected&&this.pool.sendJsonMessage(this.connectionType,{action:"leave",room:e}),this.roomEntries.delete(e)),t.wsRum.roomUnsubscribed("axiom",e,this.roomEntries.size,i.subscriptions.size))}}getRooms(){return new Set(this.roomEntries.keys())}destroy(){this.destroyBase(),n.instance=null}}e.s(["AxiomWebSocketRoomManager",()=>n])},401597,986216,704290,100191,459094,199098,517207,284456,412129,408136,726801,518152,e=>{"use strict";var t,r=e.i(659341),i=e.i(973444);function n(e,t,r){let i=t.size;if(!Number.isInteger(e))throw TypeError("totalAmount must be an integer.");if(i<=0)throw Error("walletCount must be >= 1.");if(e<=0)throw Error("totalAmount must be > 0.");if(r<0||r>100)throw Error("buyDistribution must be between 0 and 100.");let n=Math.floor(e/i),a=r/100,o=Math.floor((1-a)*n),s=Math.ceil((1+a)*n),u=[...t.keys()],l=e-i*o;if(a>0&&(e<i*o||e>i*s))throw Error("No feasible distribution for the given constraints.");let c=new Map,d=i;for(let e of u){if(0===r){c.set(e,o+l),l=0;continue}if(l<=0)break;if(1===d){c.set(e,o+l),l=0;break}let t=s-o,i=Math.max(0,l-(d-1)*t),n=Math.min(l,t);if(i>n)throw Error("Feasibility broke mid-distribution.");let a=Math.floor(i+Math.random()*(n-i+1));c.set(e,o+a),l-=a,d--}let f=[...c.values()].reduce((e,t)=>e+t,0);if(f!==e)throw Error(`Distribution error: sum does not match totalAmount. ${f} !== ${e}`);return c}function a(e,t,n=20){if(n<0||n>100)throw Error("Variance must be between 0 and 100.");if(t<=0)throw Error("walletCount must be >= 1.");if(e.lte(new r.default(0)))throw Error("totalAmount must be > 0.");let o=e.div(new r.default(t)),s=o.mul(new r.default(100-n)).div(new r.default(100)),u=o.mul(new r.default(100+n)).div(new r.default(100)),l=u.sub(s),c=s.mul(new r.default(t)),d=u.mul(new r.default(t));if(e.lt(c)||e.gt(d))throw Error("No feasible distribution for the given constraints.");let f=Array(t).fill(null).map(()=>s.clone()),p=e.sub(s.mul(new r.default(t)));for(let e=0;e<t-1&&!p.lte(new r.default(0));e++){let n=t-e,a=l.mul(new r.default(n-1)),o=p.gt(a)?p.sub(a):new r.default(0),s=r.default.min(p,l);if(o.gt(s))throw Error("Feasibility broke mid-distribution.");let u=s.sub(o).add(new r.default(1)),c=(0,i.newSafeBN)(1e5*Math.random()).mul(u).div((0,i.newSafeBN)(1e5)),d=o.add(c);f[e]=f[e].add(d),p=p.sub(d)}if(f[t-1]=f[t-1].add(p),!f.reduce((e,t)=>e.add(t),new r.default(0)).eq(e))throw Error("Distribution error: sum does not match totalAmount.");return f}e.s(["distributeAmount",()=>n,"distributeAmountBN",()=>a],401597);var o=e.i(467034);e.i(465903);var s=e.i(767924),u=e.i(127261);function l(e){function t(t){let r=e.readUInt32LE(t),n=e.readUInt32LE(t+4);return(0,i.newSafeBN)(r).add((0,i.newSafeBN)(n).shln(32))}function r(t){let r=e.readUInt32LE(t),n=e.readUInt32LE(t+4),a=e.readUInt32LE(t+8),o=e.readUInt32LE(t+12);return(0,i.newSafeBN)(r).add((0,i.newSafeBN)(n).shln(32)).add((0,i.newSafeBN)(a).shln(64)).add((0,i.newSafeBN)(o).shln(96))}function n(t){return new u.PublicKey(e.subarray(t,t+32))}let a={cliffFeeNumerator:t(0),baseFeeMode:e.readUInt8(8),firstFactor:e.readUInt16LE(14),secondFactor:[e.readUInt8(16),e.readUInt8(17),e.readUInt8(18),e.readUInt8(19),e.readUInt8(20),e.readUInt8(21),e.readUInt8(22),e.readUInt8(23)],thirdFactor:t(24)},o=e.readUInt8(40),s=e.readUInt8(41),l=e.readUInt8(42),c={initialized:e.readUInt8(48),maxVolatilityAccumulator:e.readUInt32LE(56),variableFeeControl:e.readUInt32LE(60),binStep:e.readUInt16LE(64),filterPeriod:e.readUInt16LE(66),decayPeriod:e.readUInt16LE(68),reductionFactor:e.readUInt16LE(70),lastUpdateTimestamp:t(72),binStepU128:r(80),sqrtPriceReference:r(96),volatilityAccumulator:r(112),volatilityReference:r(128)},d=r(144),f=n(160),p=n(192),h=n(224),m=n(256),b=n(288),g=n(320),y=r(352),x=r(416),A=r(432),w=r(448),v=t(464),S=e.readUInt8(472),T=e.readUInt8(473),E=e.readUInt8(476);return{poolFees:{baseFee:a,protocolFeePercent:o,partnerFeePercent:s,referralFeePercent:l,dynamicFee:c,initSqrtPrice:d},tokenAMint:f,tokenBMint:p,tokenAVault:h,tokenBVault:m,whitelistedVault:b,partner:g,liquidity:y,sqrtMinPrice:x,sqrtMaxPrice:A,sqrtPrice:w,activationPoint:v,activationType:S,poolStatus:T,collectFeeMode:E,poolType:e.readUInt8(477),version:e.readUInt8(478)}}e.s([],459094);var c=((v={})[v.Up=0]="Up",v[v.Down=1]="Down",v);(S={})[S.Timestamp=0]="Timestamp",S[S.Slot=1]="Slot";var d=((T={})[T.FeeTimeSchedulerLinear=0]="FeeTimeSchedulerLinear",T[T.FeeTimeSchedulerExponential=1]="FeeTimeSchedulerExponential",T[T.RateLimiter=2]="RateLimiter",T[T.FeeMarketCapSchedulerLinear=3]="FeeMarketCapSchedulerLinear",T[T.FeeMarketCapSchedulerExponential=4]="FeeMarketCapSchedulerExponential",T),f=((E={})[E.BothToken=0]="BothToken",E[E.OnlyB=1]="OnlyB",E),p=((k={})[k.AtoB=0]="AtoB",k[k.BtoA=1]="BtoA",k),h=((P={})[P.Slot=0]="Slot",P[P.Timestamp=1]="Timestamp",P),m=((_={})[_.V0=0]="V0",_[_.V1=1]="V1",_);(I={})[I.Enable=0]="Enable",I[I.Disable=1]="Disable",(N={})[N.ExactIn=0]="ExactIn",N[N.PartialFill=1]="PartialFill",N[N.ExactOut=2]="ExactOut",new u.PublicKey("cpamdpZCGKUy5JxQXB4dcpGPiikHawvSWAd6mEn1sGG");let b=new r.default(1).shln(64),g=new r.default(524288),y=new r.default(2).pow(new r.default(128)).sub(new r.default(1));new r.default("4295048016"),new r.default("79226673521066979257578248091");let x=new r.default(1e11),A=new r.default(0x174876e7ff);new r.default("1844674407370955"),new r.default("340282366920938463463374607431768211455");let w=new r.default("18446744073709551615");m.V0,e.s(["BASIS_POINT_MAX",0,1e4,"DYNAMIC_FEE_ROUNDING_OFFSET",0,A,"DYNAMIC_FEE_SCALING_FACTOR",0,x,"FEE_DENOMINATOR",0,1e9,"MAX",0,y,"MAX_EXPONENTIAL",0,g,"MAX_FEE_BPS_V0",0,5e3,"MAX_FEE_BPS_V1",0,9900,"MAX_FEE_NUMERATOR_V0",0,5e8,"MAX_FEE_NUMERATOR_V1",0,99e7,"MAX_RATE_LIMITER_DURATION_IN_SECONDS",0,43200,"MAX_RATE_LIMITER_DURATION_IN_SLOTS",0,108e3,"MIN_FEE_NUMERATOR",0,1e5,"ONE_Q64",0,b,"SCALE_OFFSET",0,64,"U16_MAX",0,65535,"U64_MAX",0,w],986216),e.s(["getBaseFeeHandler",()=>ty],100191);var v,S,T,E,k,P,_,I,N,R,B,C="0123456789abcdef",O="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",D="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",M={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},U=!0,F="[DecimalError] ",L=F+"Invalid argument: ",q=F+"Precision limit exceeded",K=F+"crypto unavailable",W="[object Decimal]",V=Math.floor,G=Math.pow,z=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,j=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,H=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,X=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Q=O.length-1,J=D.length-1,Y={toStringTag:W};function Z(e){var t,r,i,n=e.length-1,a="",o=e[0];if(n>0){for(a+=o,t=1;t<n;t++)(r=7-(i=e[t]+"").length)&&(a+=el(r)),a+=i;(r=7-(i=(o=e[t])+"").length)&&(a+=el(r))}else if(0===o)return"0";for(;o%10==0;)o/=10;return a+o}function $(e,t,r){if(e!==~~e||e<t||e>r)throw Error(L+e)}function ee(e,t,r,i){var n,a,o,s;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=7,n=0):(n=Math.ceil((t+1)/7),t%=7),a=G(10,7-t),s=e[n]%a|0,null==i?t<3?(0==t?s=s/100|0:1==t&&(s=s/10|0),o=r<4&&99999==s||r>3&&49999==s||5e4==s||0==s):o=(r<4&&s+1==a||r>3&&s+1==a/2)&&(e[n+1]/a/100|0)==G(10,t-2)-1||(s==a/2||0==s)&&(e[n+1]/a/100|0)==0:t<4?(0==t?s=s/1e3|0:1==t?s=s/100|0:2==t&&(s=s/10|0),o=(i||r<4)&&9999==s||!i&&r>3&&4999==s):o=((i||r<4)&&s+1==a||!i&&r>3&&s+1==a/2)&&(e[n+1]/a/1e3|0)==G(10,t-3)-1,o}function et(e,t,r){for(var i,n,a=[0],o=0,s=e.length;o<s;){for(n=a.length;n--;)a[n]*=t;for(a[0]+=C.indexOf(e.charAt(o++)),i=0;i<a.length;i++)a[i]>r-1&&(void 0===a[i+1]&&(a[i+1]=0),a[i+1]+=a[i]/r|0,a[i]%=r)}return a.reverse()}Y.absoluteValue=Y.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),ei(e)},Y.ceil=function(){return ei(new this.constructor(this),this.e+1,2)},Y.clampedTo=Y.clamp=function(e,t){var r=this.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(L+t);return 0>this.cmp(e)?e:this.cmp(t)>0?t:new r(this)},Y.comparedTo=Y.cmp=function(e){var t,r,i,n,a=this.d,o=(e=new this.constructor(e)).d,s=this.s,u=e.s;if(!a||!o)return s&&u?s!==u?s:a===o?0:!a^s<0?1:-1:NaN;if(!a[0]||!o[0])return a[0]?s:o[0]?-u:0;if(s!==u)return s;if(this.e!==e.e)return this.e>e.e^s<0?1:-1;for(t=0,r=(i=a.length)<(n=o.length)?i:n;t<r;++t)if(a[t]!==o[t])return a[t]>o[t]^s<0?1:-1;return i===n?0:i>n^s<0?1:-1},Y.cosine=Y.cos=function(){var e,t,r=this,i=r.constructor;return r.d?r.d[0]?(e=i.precision,t=i.rounding,i.precision=e+Math.max(r.e,r.sd())+7,i.rounding=1,r=function(e,t){var r,i,n;if(t.isZero())return t;(i=t.d.length)<32?n=(1/ey(4,r=Math.ceil(i/3))).toString():(r=16,n="2.3283064365386962890625e-10"),e.precision+=r,t=eg(e,1,t.times(n),new e(1));for(var a=r;a--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}(i,ex(i,r)),i.precision=e,i.rounding=t,ei(2==B||3==B?r.neg():r,e,t,!0)):new i(1):new i(NaN)},Y.cubeRoot=Y.cbrt=function(){var e,t,r,i,n,a,o,s,u,l,c=this.constructor;if(!this.isFinite()||this.isZero())return new c(this);for(U=!1,(a=this.s*G(this.s*this,1/3))&&Math.abs(a)!=1/0?i=new c(a.toString()):(r=Z(this.d),(a=((e=this.e)-r.length+1)%3)&&(r+=1==a||-2==a?"0":"00"),a=G(r,1/3),e=V((e+1)/3)-(e%3==(e<0?-1:2)),(i=new c(r=a==1/0?"5e"+e:(r=a.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=this.s),o=(e=c.precision)+3;;)if(i=er((l=(u=(s=i).times(s).times(s)).plus(this)).plus(this).times(s),l.plus(u),o+2,1),Z(s.d).slice(0,o)===(r=Z(i.d)).slice(0,o)){if("9999"!=(r=r.slice(o-3,o+1))&&(n||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(ei(i,e+1,1),t=!i.times(i).times(i).eq(this));break}if(!n&&(ei(s,e+1,0),s.times(s).times(s).eq(this))){i=s;break}o+=4,n=1}return U=!0,ei(i,e,c.rounding,t)},Y.decimalPlaces=Y.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-V(this.e/7))*7,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},Y.dividedBy=Y.div=function(e){return er(this,new this.constructor(e))},Y.dividedToIntegerBy=Y.divToInt=function(e){var t=this.constructor;return ei(er(this,new t(e),0,1,1),t.precision,t.rounding)},Y.equals=Y.eq=function(e){return 0===this.cmp(e)},Y.floor=function(){return ei(new this.constructor(this),this.e+1,3)},Y.greaterThan=Y.gt=function(e){return this.cmp(e)>0},Y.greaterThanOrEqualTo=Y.gte=function(e){var t=this.cmp(e);return 1==t||0===t},Y.hyperbolicCosine=Y.cosh=function(){var e,t,r,i,n,a=this,o=a.constructor,s=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return s;r=o.precision,i=o.rounding,o.precision=r+Math.max(a.e,a.sd())+4,o.rounding=1,(n=a.d.length)<32?t=(1/ey(4,e=Math.ceil(n/3))).toString():(e=16,t="2.3283064365386962890625e-10"),a=eg(o,1,a.times(t),new o(1),!0);for(var u,l=e,c=new o(8);l--;)u=a.times(a),a=s.minus(u.times(c.minus(u.times(c))));return ei(a,o.precision=r,o.rounding=i,!0)},Y.hyperbolicSine=Y.sinh=function(){var e,t,r,i,n=this,a=n.constructor;if(!n.isFinite()||n.isZero())return new a(n);if(t=a.precision,r=a.rounding,a.precision=t+Math.max(n.e,n.sd())+4,a.rounding=1,(i=n.d.length)<3)n=eg(a,2,n,n,!0);else{e=(e=1.4*Math.sqrt(i))>16?16:0|e,n=eg(a,2,n=n.times(1/ey(5,e)),n,!0);for(var o,s=new a(5),u=new a(16),l=new a(20);e--;)o=n.times(n),n=n.times(s.plus(o.times(u.times(o).plus(l))))}return a.precision=t,a.rounding=r,ei(n,t,r,!0)},Y.hyperbolicTangent=Y.tanh=function(){var e,t,r=this.constructor;return this.isFinite()?this.isZero()?new r(this):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,er(this.sinh(),this.cosh(),r.precision=e,r.rounding=t)):new r(this.s)},Y.inverseCosine=Y.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),i=t.precision,n=t.rounding;return -1!==r?0===r?e.isNeg()?es(t,i,n):new t(0):new t(NaN):e.isZero()?es(t,i+4,n).times(.5):(t.precision=i+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=i,t.rounding=n,e.times(2))},Y.inverseHyperbolicCosine=Y.acosh=function(){var e,t,r=this,i=r.constructor;return r.lte(1)?new i(r.eq(1)?0:NaN):r.isFinite()?(e=i.precision,t=i.rounding,i.precision=e+Math.max(Math.abs(r.e),r.sd())+4,i.rounding=1,U=!1,r=r.times(r).minus(1).sqrt().plus(r),U=!0,i.precision=e,i.rounding=t,r.ln()):new i(r)},Y.inverseHyperbolicSine=Y.asinh=function(){var e,t,r=this,i=r.constructor;return!r.isFinite()||r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,i.rounding=1,U=!1,r=r.times(r).plus(1).sqrt().plus(r),U=!0,i.precision=e,i.rounding=t,r.ln())},Y.inverseHyperbolicTangent=Y.atanh=function(){var e,t,r,i,n=this,a=n.constructor;return n.isFinite()?n.e>=0?new a(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(e=a.precision,t=a.rounding,Math.max(i=n.sd(),e)<-(2*n.e)-1)?ei(new a(n),e,t,!0):(a.precision=r=i-n.e,n=er(n.plus(1),new a(1).minus(n),r+e,1),a.precision=e+4,a.rounding=1,n=n.ln(),a.precision=e,a.rounding=t,n.times(.5)):new a(NaN)},Y.inverseSine=Y.asin=function(){var e,t,r,i,n=this,a=n.constructor;return n.isZero()?new a(n):(t=n.abs().cmp(1),r=a.precision,i=a.rounding,-1!==t)?0===t?((e=es(a,r+4,i).times(.5)).s=n.s,e):new a(NaN):(a.precision=r+6,a.rounding=1,n=n.div(new a(1).minus(n.times(n)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=i,n.times(2))},Y.inverseTangent=Y.atan=function(){var e,t,r,i,n,a,o,s,u,l=this,c=l.constructor,d=c.precision,f=c.rounding;if(l.isFinite()){if(l.isZero())return new c(l);else if(l.abs().eq(1)&&d+4<=J)return(o=es(c,d+4,f).times(.25)).s=l.s,o}else{if(!l.s)return new c(NaN);if(d+4<=J)return(o=es(c,d+4,f).times(.5)).s=l.s,o}for(c.precision=s=d+10,c.rounding=1,e=r=Math.min(28,s/7+2|0);e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(U=!1,t=Math.ceil(s/7),i=1,u=l.times(l),o=new c(l),n=l;-1!==e;)if(n=n.times(u),a=o.minus(n.div(i+=2)),n=n.times(u),void 0!==(o=a.plus(n.div(i+=2))).d[t])for(e=t;o.d[e]===a.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),U=!0,ei(o,c.precision=d,c.rounding=f,!0)},Y.isFinite=function(){return!!this.d},Y.isInteger=Y.isInt=function(){return!!this.d&&V(this.e/7)>this.d.length-2},Y.isNaN=function(){return!this.s},Y.isNegative=Y.isNeg=function(){return this.s<0},Y.isPositive=Y.isPos=function(){return this.s>0},Y.isZero=function(){return!!this.d&&0===this.d[0]},Y.lessThan=Y.lt=function(e){return 0>this.cmp(e)},Y.lessThanOrEqualTo=Y.lte=function(e){return 1>this.cmp(e)},Y.logarithm=Y.log=function(e){var t,r,i,n,a,o,s,u=this.constructor,l=u.precision,c=u.rounding;if(null==e)e=new u(10),t=!0;else{if(r=(e=new u(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new u(NaN);t=e.eq(10)}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new u(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(t)if(r.length>1)n=!0;else{for(i=r[0];i%10==0;)i/=10;n=1!==i}if(U=!1,ee((s=er(a=eh(this,o=l+5),t?eo(u,o+10):eh(e,o),o,1)).d,i=l,c))do if(o+=10,s=er(a=eh(this,o),t?eo(u,o+10):eh(e,o),o,1),!n){+Z(s.d).slice(i+1,i+15)+1==1e14&&(s=ei(s,l+1,0));break}while(ee(s.d,i+=10,c))return U=!0,ei(s,l,c)},Y.minus=Y.sub=function(e){var t,r,i,n,a,o,s,u,l,c,d,f,p=this.constructor;if(e=new p(e),!this.d||!e.d)return this.s&&e.s?this.d?e.s=-e.s:e=new p(e.d||this.s!==e.s?this:NaN):e=new p(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.plus(e);if(l=this.d,f=e.d,s=p.precision,u=p.rounding,!l[0]||!f[0]){if(f[0])e.s=-e.s;else{if(!l[0])return new p(3===u?-0:0);e=new p(this)}return U?ei(e,s,u):e}if(r=V(e.e/7),c=V(this.e/7),l=l.slice(),a=c-r){for((d=a<0)?(t=l,a=-a,o=f.length):(t=f,r=c,o=l.length),a>(i=Math.max(Math.ceil(s/7),o)+2)&&(a=i,t.length=1),t.reverse(),i=a;i--;)t.push(0);t.reverse()}else{for((d=(i=l.length)<(o=f.length))&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}a=0}for(d&&(t=l,l=f,f=t,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(n=i;n&&0===l[--n];)l[n]=1e7-1;--l[n],l[i]+=1e7}l[i]-=f[i]}for(;0===l[--o];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(e.d=l,e.e=ea(l,r),U?ei(e,s,u):e):new p(3===u?-0:0)},Y.modulo=Y.mod=function(e){var t,r=this.constructor;return(e=new r(e),this.d&&e.s&&(!e.d||e.d[0]))?e.d&&(!this.d||this.d[0])?(U=!1,9==r.modulo?(t=er(this,e.abs(),0,3,1),t.s*=e.s):t=er(this,e,0,r.modulo,1),t=t.times(e),U=!0,this.minus(t)):ei(new r(this),r.precision,r.rounding):new r(NaN)},Y.naturalExponential=Y.exp=function(){return ep(this)},Y.naturalLogarithm=Y.ln=function(){return eh(this)},Y.negated=Y.neg=function(){var e=new this.constructor(this);return e.s=-e.s,ei(e)},Y.plus=Y.add=function(e){var t,r,i,n,a,o,s,u,l,c,d=this.constructor;if(e=new d(e),!this.d||!e.d)return this.s&&e.s?this.d||(e=new d(e.d||this.s===e.s?this:NaN)):e=new d(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.minus(e);if(l=this.d,c=e.d,s=d.precision,u=d.rounding,!l[0]||!c[0])return c[0]||(e=new d(this)),U?ei(e,s,u):e;if(a=V(this.e/7),i=V(e.e/7),l=l.slice(),n=a-i){for(n<0?(r=l,n=-n,o=c.length):(r=c,i=a,o=l.length),n>(o=(a=Math.ceil(s/7))>o?a+1:o+1)&&(n=o,r.length=1),r.reverse();n--;)r.push(0);r.reverse()}for((o=l.length)-(n=c.length)<0&&(n=o,r=c,c=l,l=r),t=0;n;)t=(l[--n]=l[n]+c[n]+t)/1e7|0,l[n]%=1e7;for(t&&(l.unshift(t),++i),o=l.length;0==l[--o];)l.pop();return e.d=l,e.e=ea(l,i),U?ei(e,s,u):e},Y.precision=Y.sd=function(e){var t;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(L+e);return this.d?(t=eu(this.d),e&&this.e+1>t&&(t=this.e+1)):t=NaN,t},Y.round=function(){var e=this.constructor;return ei(new e(this),this.e+1,e.rounding)},Y.sine=Y.sin=function(){var e,t,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+Math.max(r.e,r.sd())+7,i.rounding=1,r=function(e,t){var r,i=t.d.length;if(i<3)return t.isZero()?t:eg(e,2,t,t);r=(r=1.4*Math.sqrt(i))>16?16:0|r,t=eg(e,2,t=t.times(1/ey(5,r)),t);for(var n,a=new e(5),o=new e(16),s=new e(20);r--;)n=t.times(t),t=t.times(a.plus(n.times(o.times(n).minus(s))));return t}(i,ex(i,r)),i.precision=e,i.rounding=t,ei(B>2?r.neg():r,e,t,!0)):new i(NaN)},Y.squareRoot=Y.sqrt=function(){var e,t,r,i,n,a,o=this.d,s=this.e,u=this.s,l=this.constructor;if(1!==u||!o||!o[0])return new l(!u||u<0&&(!o||o[0])?NaN:o?this:1/0);for(U=!1,0==(u=Math.sqrt(+this))||u==1/0?(((t=Z(o)).length+s)%2==0&&(t+="0"),u=Math.sqrt(t),s=V((s+1)/2)-(s<0||s%2),i=new l(t=u==1/0?"5e"+s:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+s)):i=new l(u.toString()),r=(s=l.precision)+3;;)if(i=(a=i).plus(er(this,a,r+2,1)).times(.5),Z(a.d).slice(0,r)===(t=Z(i.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(n||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(ei(i,s+1,1),e=!i.times(i).eq(this));break}if(!n&&(ei(a,s+1,0),a.times(a).eq(this))){i=a;break}r+=4,n=1}return U=!0,ei(i,s,l.rounding,e)},Y.tangent=Y.tan=function(){var e,t,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+10,i.rounding=1,(r=r.sin()).s=1,r=er(r,new i(1).minus(r.times(r)).sqrt(),e+10,0),i.precision=e,i.rounding=t,ei(2==B||4==B?r.neg():r,e,t,!0)):new i(NaN)},Y.times=Y.mul=function(e){var t,r,i,n,a,o,s,u,l,c=this.constructor,d=this.d,f=(e=new c(e)).d;if(e.s*=this.s,!d||!d[0]||!f||!f[0])return new c(!e.s||d&&!d[0]&&!f||f&&!f[0]&&!d?NaN:!d||!f?e.s/0:0*e.s);for(r=V(this.e/7)+V(e.e/7),(u=d.length)<(l=f.length)&&(a=d,d=f,f=a,o=u,u=l,l=o),a=[],i=o=u+l;i--;)a.push(0);for(i=l;--i>=0;){for(t=0,n=u+i;n>i;)s=a[n]+f[i]*d[n-i-1]+t,a[n--]=s%1e7|0,t=s/1e7|0;a[n]=(a[n]+t)%1e7|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=ea(a,r),U?ei(e,c.precision,c.rounding):e},Y.toBinary=function(e,t){return eA(this,2,e,t)},Y.toDecimalPlaces=Y.toDP=function(e,t){var r=this,i=r.constructor;return(r=new i(r),void 0===e)?r:($(e,0,1e9),void 0===t?t=i.rounding:$(t,0,8),ei(r,e+r.e+1,t))},Y.toExponential=function(e,t){var r,i=this,n=i.constructor;return void 0===e?r=en(i,!0):($(e,0,1e9),void 0===t?t=n.rounding:$(t,0,8),r=en(i=ei(new n(i),e+1,t),!0,e+1)),i.isNeg()&&!i.isZero()?"-"+r:r},Y.toFixed=function(e,t){var r,i,n=this.constructor;return void 0===e?r=en(this):($(e,0,1e9),void 0===t?t=n.rounding:$(t,0,8),r=en(i=ei(new n(this),e+this.e+1,t),!1,e+i.e+1)),this.isNeg()&&!this.isZero()?"-"+r:r},Y.toFraction=function(e){var t,r,i,n,a,o,s,u,l,c,d,f,p=this.d,h=this.constructor;if(!p)return new h(this);if(l=r=new h(1),i=u=new h(0),o=(a=(t=new h(i)).e=eu(p)-this.e-1)%7,t.d[0]=G(10,o<0?7+o:o),null==e)e=a>0?t:l;else{if(!(s=new h(e)).isInt()||s.lt(l))throw Error(L+s);e=s.gt(t)?a>0?t:l:s}for(U=!1,s=new h(Z(p)),c=h.precision,h.precision=a=7*p.length*2;d=er(s,t,0,1,1),1!=(n=r.plus(d.times(i))).cmp(e);)r=i,i=n,n=l,l=u.plus(d.times(n)),u=n,n=t,t=s.minus(d.times(n)),s=n;return n=er(e.minus(r),i,0,1,1),u=u.plus(n.times(l)),r=r.plus(n.times(i)),u.s=l.s=this.s,f=1>er(l,i,a,1).minus(this).abs().cmp(er(u,r,a,1).minus(this).abs())?[l,i]:[u,r],h.precision=c,U=!0,f},Y.toHexadecimal=Y.toHex=function(e,t){return eA(this,16,e,t)},Y.toNearest=function(e,t){var r=this,i=r.constructor;if(r=new i(r),null==e){if(!r.d)return r;e=new i(1),t=i.rounding}else{if(e=new i(e),void 0===t?t=i.rounding:$(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(U=!1,r=er(r,e,0,t,1).times(e),U=!0,ei(r)):(e.s=r.s,r=e),r},Y.toNumber=function(){return+this},Y.toOctal=function(e,t){return eA(this,8,e,t)},Y.toPower=Y.pow=function(e){var t,r,i,n,a,o,s=this,u=s.constructor,l=+(e=new u(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new u(G(+s,l));if((s=new u(s)).eq(1))return s;if(i=u.precision,a=u.rounding,e.eq(1))return ei(s,i,a);if((t=V(e.e/7))>=e.d.length-1&&(r=l<0?-l:l)<=0x1fffffffffffff)return n=ec(u,s,r,i),e.s<0?new u(1).div(n):ei(n,i,a);if((o=s.s)<0){if(t<e.d.length-1)return new u(NaN);if((1&e.d[t])==0&&(o=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=o,s}return(t=0!=(r=G(+s,l))&&isFinite(r)?new u(r+"").e:V(l*(Math.log("0."+Z(s.d))/Math.LN10+s.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?o/0:0):(U=!1,u.rounding=s.s=1,r=Math.min(12,(t+"").length),(n=ep(e.times(eh(s,i+r)),i)).d&&ee((n=ei(n,i+5,1)).d,i,a)&&(t=i+10,+Z((n=ei(ep(e.times(eh(s,t+r)),t),t+5,1)).d).slice(i+1,i+15)+1==1e14&&(n=ei(n,i+1,0))),n.s=o,U=!0,u.rounding=a,ei(n,i,a))},Y.toPrecision=function(e,t){var r,i=this,n=i.constructor;return void 0===e?r=en(i,i.e<=n.toExpNeg||i.e>=n.toExpPos):($(e,1,1e9),void 0===t?t=n.rounding:$(t,0,8),r=en(i=ei(new n(i),e,t),e<=i.e||i.e<=n.toExpNeg,e)),i.isNeg()&&!i.isZero()?"-"+r:r},Y.toSignificantDigits=Y.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):($(e,1,1e9),void 0===t?t=r.rounding:$(t,0,8)),ei(new r(this),e,t)},Y.toString=function(){var e=this.constructor,t=en(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()&&!this.isZero()?"-"+t:t},Y.truncated=Y.trunc=function(){return ei(new this.constructor(this),this.e+1,1)},Y.valueOf=Y.toJSON=function(){var e=this.constructor,t=en(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()?"-"+t:t};var er=function(){function e(e,t,r){var i,n=0,a=e.length;for(e=e.slice();a--;)i=e[a]*t+n,e[a]=i%r|0,n=i/r|0;return n&&e.unshift(n),e}function t(e,t,r,i){var n,a;if(r!=i)a=r>i?1:-1;else for(n=a=0;n<r;n++)if(e[n]!=t[n]){a=e[n]>t[n]?1:-1;break}return a}function r(e,t,r,i){for(var n=0;r--;)e[r]-=n,n=+(e[r]<t[r]),e[r]=n*i+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(i,n,a,o,s,u){var l,c,d,f,p,h,m,b,g,y,x,A,w,v,S,T,E,k,P,_,I=i.constructor,N=i.s==n.s?1:-1,B=i.d,C=n.d;if(!B||!B[0]||!C||!C[0])return new I(!i.s||!n.s||(B?C&&B[0]==C[0]:!C)?NaN:B&&0==B[0]||!C?0*N:N/0);for(u?(p=1,c=i.e-n.e):(u=1e7,p=7,c=V(i.e/p)-V(n.e/p)),P=C.length,E=B.length,y=(g=new I(N)).d=[],d=0;C[d]==(B[d]||0);d++);if(C[d]>(B[d]||0)&&c--,null==a?(v=a=I.precision,o=I.rounding):v=s?a+(i.e-n.e)+1:a,v<0)y.push(1),h=!0;else{if(v=v/p+2|0,d=0,1==P){for(f=0,C=C[0],v++;(d<E||f)&&v--;d++)S=f*u+(B[d]||0),y[d]=S/C|0,f=S%C|0;h=f||d<E}else{for((f=u/(C[0]+1)|0)>1&&(C=e(C,f,u),B=e(B,f,u),P=C.length,E=B.length),T=P,A=(x=B.slice(0,P)).length;A<P;)x[A++]=0;(_=C.slice()).unshift(0),k=C[0],C[1]>=u/2&&++k;do f=0,(l=t(C,x,P,A))<0?(w=x[0],P!=A&&(w=w*u+(x[1]||0)),(f=w/k|0)>1?(f>=u&&(f=u-1),b=(m=e(C,f,u)).length,A=x.length,1==(l=t(m,x,b,A))&&(f--,r(m,P<b?_:C,b,u))):(0==f&&(l=f=1),m=C.slice()),(b=m.length)<A&&m.unshift(0),r(x,m,A,u),-1==l&&(A=x.length,(l=t(C,x,P,A))<1&&(f++,r(x,P<A?_:C,A,u))),A=x.length):0===l&&(f++,x=[0]),y[d++]=f,l&&x[0]?x[A++]=B[T]||0:(x=[B[T]],A=1);while((T++<E||void 0!==x[0])&&v--)h=void 0!==x[0]}y[0]||y.shift()}if(1==p)g.e=c,R=h;else{for(d=1,f=y[0];f>=10;f/=10)d++;g.e=d+c*p-1,ei(g,s?a+g.e+1:a,o,h)}return g}}();function ei(e,t,r,i){var n,a,o,s,u,l,c,d,f,p=e.constructor;t:if(null!=t){if(!(d=e.d))return e;for(n=1,s=d[0];s>=10;s/=10)n++;if((a=t-n)<0)a+=7,o=t,u=(c=d[f=0])/G(10,n-o-1)%10|0;else if((f=Math.ceil((a+1)/7))>=(s=d.length))if(i){for(;s++<=f;)d.push(0);c=u=0,n=1,a%=7,o=a-7+1}else break t;else{for(n=1,c=s=d[f];s>=10;s/=10)n++;a%=7,u=(o=a-7+n)<0?0:c/G(10,n-o-1)%10|0}if(i=i||t<0||void 0!==d[f+1]||(o<0?c:c%G(10,n-o-1)),l=r<4?(u||i)&&(0==r||r==(e.s<0?3:2)):u>5||5==u&&(4==r||i||6==r&&(a>0?o>0?c/G(10,n-o):0:d[f-1])%10&1||r==(e.s<0?8:7)),t<1||!d[0])return d.length=0,l?(t-=e.e+1,d[0]=G(10,(7-t%7)%7),e.e=-t||0):d[0]=e.e=0,e;if(0==a?(d.length=f,s=1,f--):(d.length=f+1,s=G(10,7-a),d[f]=o>0?(c/G(10,n-o)%G(10,o)|0)*s:0),l)for(;;)if(0==f){for(a=1,o=d[0];o>=10;o/=10)a++;for(o=d[0]+=s,s=1;o>=10;o/=10)s++;a!=s&&(e.e++,1e7==d[0]&&(d[0]=1));break}else{if(d[f]+=s,1e7!=d[f])break;d[f--]=0,s=1}for(a=d.length;0===d[--a];)d.pop()}return U&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function en(e,t,r){if(!e.isFinite())return em(e);var i,n=e.e,a=Z(e.d),o=a.length;return t?(r&&(i=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+el(i):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):n<0?(a="0."+el(-n-1)+a,r&&(i=r-o)>0&&(a+=el(i))):n>=o?(a+=el(n+1-o),r&&(i=r-n-1)>0&&(a=a+"."+el(i))):((i=n+1)<o&&(a=a.slice(0,i)+"."+a.slice(i)),r&&(i=r-o)>0&&(n+1===o&&(a+="."),a+=el(i))),a}function ea(e,t){var r=e[0];for(t*=7;r>=10;r/=10)t++;return t}function eo(e,t,r){if(t>Q)throw U=!0,r&&(e.precision=r),Error(q);return ei(new e(O),t,1,!0)}function es(e,t,r){if(t>J)throw Error(q);return ei(new e(D),t,r,!0)}function eu(e){var t=e.length-1,r=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function el(e){for(var t="";e--;)t+="0";return t}function ec(e,t,r,i){var n,a=new e(1),o=Math.ceil(i/7+4);for(U=!1;;){if(r%2&&ew((a=a.times(t)).d,o)&&(n=!0),0===(r=V(r/2))){r=a.d.length-1,n&&0===a.d[r]&&++a.d[r];break}ew((t=t.times(t)).d,o)}return U=!0,a}function ed(e){return 1&e.d[e.d.length-1]}function ef(e,t,r){for(var i,n,a=new e(t[0]),o=0;++o<t.length;){if(!(n=new e(t[o])).s){a=n;break}((i=a.cmp(n))===r||0===i&&a.s===r)&&(a=n)}return a}function ep(e,t){var r,i,n,a,o,s,u,l=0,c=0,d=0,f=e.constructor,p=f.rounding,h=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?!e.d[0]?1:e.s<0?0:1/0:e.s?e.s<0?0:e:0/0);for(null==t?(U=!1,u=h):u=t,s=new f(.03125);e.e>-2;)e=e.times(s),d+=5;for(u+=i=Math.log(G(2,d))/Math.LN10*2+5|0,r=a=o=new f(1),f.precision=u;;){if(a=ei(a.times(e),u,1),r=r.times(++c),Z((s=o.plus(er(a,r,u,1))).d).slice(0,u)===Z(o.d).slice(0,u)){for(n=d;n--;)o=ei(o.times(o),u,1);if(null!=t)return f.precision=h,o;if(!(l<3&&ee(o.d,u-i,p,l)))return ei(o,f.precision=h,p,U=!0);f.precision=u+=10,r=a=s=new f(1),c=0,l++}o=s}}function eh(e,t){var r,i,n,a,o,s,u,l,c,d,f,p=1,h=e,m=h.d,b=h.constructor,g=b.rounding,y=b.precision;if(h.s<0||!m||!m[0]||!h.e&&1==m[0]&&1==m.length)return new b(m&&!m[0]?-1/0:1!=h.s?NaN:m?0:h);if(null==t?(U=!1,c=y):c=t,b.precision=c+=10,i=(r=Z(m)).charAt(0),!(15e14>Math.abs(a=h.e)))return l=eo(b,c+2,y).times(a+""),h=eh(new b(i+"."+r.slice(1)),c-10).plus(l),b.precision=y,null==t?ei(h,y,g,U=!0):h;for(;i<7&&1!=i||1==i&&r.charAt(1)>3;)i=(r=Z((h=h.times(e)).d)).charAt(0),p++;for(a=h.e,i>1?(h=new b("0."+r),a++):h=new b(i+"."+r.slice(1)),d=h,u=o=h=er(h.minus(1),h.plus(1),c,1),f=ei(h.times(h),c,1),n=3;;){if(o=ei(o.times(f),c,1),Z((l=u.plus(er(o,new b(n),c,1))).d).slice(0,c)===Z(u.d).slice(0,c)){if(u=u.times(2),0!==a&&(u=u.plus(eo(b,c+2,y).times(a+""))),u=er(u,new b(p),c,1),null!=t)return b.precision=y,u;if(!ee(u.d,c-10,g,s))return ei(u,b.precision=y,g,U=!0);b.precision=c+=10,l=o=h=er(d.minus(1),d.plus(1),c,1),f=ei(h.times(h),c,1),n=s=1}u=l,n+=2}}function em(e){return String(e.s*e.s/0)}function eb(e,t){var r,i,n;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(r<0&&(r=i),r+=+t.slice(i+1),t=t.substring(0,i)):r<0&&(r=t.length),i=0;48===t.charCodeAt(i);i++);for(n=t.length;48===t.charCodeAt(n-1);--n);if(t=t.slice(i,n)){if(n-=i,e.e=r=r-i-1,e.d=[],i=(r+1)%7,r<0&&(i+=7),i<n){for(i&&e.d.push(+t.slice(0,i)),n-=7;i<n;)e.d.push(+t.slice(i,i+=7));i=7-(t=t.slice(i)).length}else i-=n;for(;i--;)t+="0";e.d.push(+t),U&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function eg(e,t,r,i,n){var a,o,s,u,l=e.precision,c=Math.ceil(l/7);for(U=!1,u=r.times(r),s=new e(i);;){if(o=er(s.times(u),new e(t++*t++),l,1),s=n?i.plus(o):i.minus(o),i=er(o.times(u),new e(t++*t++),l,1),void 0!==(o=s.plus(i)).d[c]){for(a=c;o.d[a]===s.d[a]&&a--;);if(-1==a)break}a=s,s=i,i=o,o=a}return U=!0,o.d.length=c+1,o}function ey(e,t){for(var r=e;--t;)r*=e;return r}function ex(e,t){var r,i=t.s<0,n=es(e,e.precision,1),a=n.times(.5);if((t=t.abs()).lte(a))return B=i?4:1,t;if((r=t.divToInt(n)).isZero())B=i?3:2;else{if((t=t.minus(r.times(n))).lte(a))return B=ed(r)?i?2:3:i?4:1,t;B=ed(r)?i?1:4:i?3:2}return t.minus(n).abs()}function eA(e,t,r,i){var n,a,o,s,u,l,c,d,f,p=e.constructor,h=void 0!==r;if(h?($(r,1,1e9),void 0===i?i=p.rounding:$(i,0,8)):(r=p.precision,i=p.rounding),e.isFinite()){for(o=(c=en(e)).indexOf("."),h?(n=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):n=t,o>=0&&(c=c.replace(".",""),(f=new p(1)).e=c.length-o,f.d=et(en(f),10,n),f.e=f.d.length),a=u=(d=et(c,10,n)).length;0==d[--u];)d.pop();if(d[0]){if(o<0?a--:((e=new p(e)).d=d,e.e=a,d=(e=er(e,f,r,i,0,n)).d,a=e.e,l=R),o=d[r],s=n/2,l=l||void 0!==d[r+1],l=i<4?(void 0!==o||l)&&(0===i||i===(e.s<0?3:2)):o>s||o===s&&(4===i||l||6===i&&1&d[r-1]||i===(e.s<0?8:7)),d.length=r,l)for(;++d[--r]>n-1;)d[r]=0,r||(++a,d.unshift(1));for(u=d.length;!d[u-1];--u);for(o=0,c="";o<u;o++)c+=C.charAt(d[o]);if(h){if(u>1)if(16==t||8==t){for(o=16==t?4:3,--u;u%o;u++)c+="0";for(u=(d=et(c,n,t)).length;!d[u-1];--u);for(o=1,c="1.";o<u;o++)c+=C.charAt(d[o])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>u)for(a-=u;a--;)c+="0";else a<u&&(c=c.slice(0,a)+"."+c.slice(a))}else c=h?"0p+0":"0";c=(16==t?"0x":2==t?"0b":8==t?"0o":"")+c}else c=em(e);return e.s<0?"-"+c:c}function ew(e,t){if(e.length>t)return e.length=t,!0}function ev(e){return new this(e).abs()}function eS(e){return new this(e).acos()}function eT(e){return new this(e).acosh()}function eE(e,t){return new this(e).plus(t)}function ek(e){return new this(e).asin()}function eP(e){return new this(e).asinh()}function e_(e){return new this(e).atan()}function eI(e){return new this(e).atanh()}function eN(e,t){e=new this(e),t=new this(t);var r,i=this.precision,n=this.rounding,a=i+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?es(this,i,n):new this(0)).s=e.s:!e.d||t.isZero()?(r=es(this,a,1).times(.5)).s=e.s:t.s<0?(this.precision=a,this.rounding=1,r=this.atan(er(e,t,a,1)),t=es(this,a,1),this.precision=i,this.rounding=n,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(er(e,t,a,1)):(r=es(this,a,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function eR(e){return new this(e).cbrt()}function eB(e){return ei(e=new this(e),e.e+1,2)}function eC(e,t,r){return new this(e).clamp(t,r)}function eO(e){if(!e||"object"!=typeof e)throw Error(F+"Object expected");var t,r,i,n=!0===e.defaults,a=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(r=a[t],n&&(this[r]=M[r]),void 0!==(i=e[r]))if(V(i)===i&&i>=a[t+1]&&i<=a[t+2])this[r]=i;else throw Error(L+r+": "+i);if(r="crypto",n&&(this[r]=M[r]),void 0!==(i=e[r]))if(!0===i||!1===i||0===i||1===i)if(i)if("u">typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(K);else this[r]=!1;else throw Error(L+r+": "+i);return this}function eD(e){return new this(e).cos()}function eM(e){return new this(e).cosh()}function eU(e,t){return new this(e).div(t)}function eF(e){return new this(e).exp()}function eL(e){return ei(e=new this(e),e.e+1,3)}function eq(){var e,t,r=new this(0);for(e=0,U=!1;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return U=!0,new this(1/0);r=t}return U=!0,r.sqrt()}function eK(e){return e instanceof e7||e&&e.toStringTag===W||!1}function eW(e){return new this(e).ln()}function eV(e,t){return new this(e).log(t)}function eG(e){return new this(e).log(2)}function ez(e){return new this(e).log(10)}function ej(){return ef(this,arguments,-1)}function eH(){return ef(this,arguments,1)}function eX(e,t){return new this(e).mod(t)}function eQ(e,t){return new this(e).mul(t)}function eJ(e,t){return new this(e).pow(t)}function eY(e){var t,r,i,n,a=0,o=new this(1),s=[];if(void 0===e?e=this.precision:$(e,1,1e9),i=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(i));a<i;)(n=t[a])>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:s[a++]=n%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(i*=4);a<i;)(n=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,a):(s.push(n%1e7),a+=4);a=i/4}else throw Error(K);else for(;a<i;)s[a++]=1e7*Math.random()|0;for(i=s[--a],e%=7,i&&e&&(n=G(10,7-e),s[a]=(i/n|0)*n);0===s[a];a--)s.pop();if(a<0)r=0,s=[0];else{for(r=-1;0===s[0];r-=7)s.shift();for(i=1,n=s[0];n>=10;n/=10)i++;i<7&&(r-=7-i)}return o.e=r,o.d=s,o}function eZ(e){return ei(e=new this(e),e.e+1,this.rounding)}function e$(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function e0(e){return new this(e).sin()}function e1(e){return new this(e).sinh()}function e2(e){return new this(e).sqrt()}function e5(e,t){return new this(e).sub(t)}function e6(){var e=0,t=arguments,r=new this(t[0]);for(U=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return U=!0,ei(r,this.precision,this.rounding)}function e3(e){return new this(e).tan()}function e4(e){return new this(e).tanh()}function e8(e){return ei(e=new this(e),e.e+1,1)}Y[Symbol.for("nodejs.util.inspect.custom")]=Y.toString,Y[Symbol.toStringTag]="Decimal";var e7=Y.constructor=function e(t){var r,i,n;function a(e){var t,r,i;if(!(this instanceof a))return new a(e);if(this.constructor=a,eK(e)){this.s=e.s,U?!e.d||e.e>a.maxE?(this.e=NaN,this.d=null):e.e<a.minE?(this.e=0,this.d=[0]):(this.e=e.e,this.d=e.d.slice()):(this.e=e.e,this.d=e.d?e.d.slice():e.d);return}if("number"==(i=typeof e)){if(0===e){this.s=1/e<0?-1:1,this.e=0,this.d=[0];return}if(e<0?(e=-e,this.s=-1):this.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;U?t>a.maxE?(this.e=NaN,this.d=null):t<a.minE?(this.e=0,this.d=[0]):(this.e=t,this.d=[e]):(this.e=t,this.d=[e]);return}if(0*e!=0){e||(this.s=NaN),this.e=NaN,this.d=null;return}return eb(this,e.toString())}if("string"===i)return 45===(r=e.charCodeAt(0))?(e=e.slice(1),this.s=-1):(43===r&&(e=e.slice(1)),this.s=1),X.test(e)?eb(this,e):function(e,t){var r,i,n,a,o,s,u,l,c;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),X.test(t))return eb(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(j.test(t))r=16,t=t.toLowerCase();else if(z.test(t))r=2;else if(H.test(t))r=8;else throw Error(L+t);for((a=t.search(/p/i))>0?(u=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),o=(a=t.indexOf("."))>=0,i=e.constructor,o&&(a=(s=(t=t.replace(".","")).length)-a,n=ec(i,new i(r),a,2*a)),a=c=(l=et(t,r,1e7)).length-1;0===l[a];--a)l.pop();return a<0?new i(0*e.s):(e.e=ea(l,c),e.d=l,U=!1,o&&(e=er(e,n,4*s)),u&&(e=e.times(54>Math.abs(u)?G(2,u):e7.pow(2,u))),U=!0,e)}(this,e);if("bigint"===i)return e<0?(e=-e,this.s=-1):this.s=1,eb(this,e.toString());throw Error(L+e)}if(a.prototype=Y,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=eO,a.clone=e,a.isDecimal=eK,a.abs=ev,a.acos=eS,a.acosh=eT,a.add=eE,a.asin=ek,a.asinh=eP,a.atan=e_,a.atanh=eI,a.atan2=eN,a.cbrt=eR,a.ceil=eB,a.clamp=eC,a.cos=eD,a.cosh=eM,a.div=eU,a.exp=eF,a.floor=eL,a.hypot=eq,a.ln=eW,a.log=eV,a.log10=ez,a.log2=eG,a.max=ej,a.min=eH,a.mod=eX,a.mul=eQ,a.pow=eJ,a.random=eY,a.round=eZ,a.sign=e$,a.sin=e0,a.sinh=e1,a.sqrt=e2,a.sub=e5,a.sum=e6,a.tan=e3,a.tanh=e4,a.trunc=e8,void 0===t&&(t={}),t&&!0!==t.defaults)for(r=0,n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"];r<n.length;)t.hasOwnProperty(i=n[r++])||(t[i]=this[i]);return a.config(t),a}(M);function e9(e,t,i,n){let{div:a,mod:o}=e.mul(t).divmod(i);return n!==c.Up||o.isZero()?a:a.add(new r.default(1))}function te(e,t,r,i){return e.isZero()&&0===t&&0===r&&0===i}function tt(e,t,i,n,a,o,s){if(te(e,t,i,n)||s===p.AtoB||a.lt(o))return!1;let u=o.add(new r.default(t));return!a.gt(u)}function tr(e,t,i){let n=tx(new r.default(e),new r.default(1e9));if(t.gt(n))throw Error("cliffFeeNumerator cannot be greater than maxFeeNumerator");let a=n.sub(t),o=tx(new r.default(i),new r.default(1e9));if(o.isZero())throw Error("feeIncrementNumerator cannot be zero");return a.div(o)}function ti(e,t,i,n,a){let o;if(e.lte(t))return i;let s=tx(new r.default(n),new r.default(1e9)),u=e.sub(t),l=u.div(t),d=u.mod(t),f=tr(n,i,a),p=tx(new r.default(a),new r.default(1e9)),h=new r.default(1),m=new r.default(2);if(l.lt(f)){let e=i.add(i.mul(l)).add(p.mul(l).mul(l.add(h)).div(m)),r=i.add(p.mul(l.add(h))),n=t.mul(e),a=d.mul(r);o=n.add(a)}else{let e=i.add(i.mul(f)).add(p.mul(f).mul(f.add(h)).div(m)),r=t.mul(e),n=l.sub(f).mul(t).add(d).mul(s);o=r.add(n)}let b=new r.default(1e9),g=e9(o.add(b).sub(h).div(b),b,e,c.Up);if(g.gt(new r.default(w)))throw Error("Numerator does not fit in u64");return g}function tn(e,t,r,i,n){let{excludedFeeAmount:a}=tw(ti(e,t,r,i,n),e);return a}function ta(e,t,i){let n=new r.default(i).mul(t);return e.sub(n)}function to(e,t,i){if(0===i)return e;let n=new r.default(1e4),a=new r.default(t).shln(64).div(n),o=function(e,t){let i=t.isNeg();if(t.isZero())return b;if((t=i?t.abs():t).gt(g))return new r.default(0);let n=e,a=b;return(n.gte(a)&&(n=y.div(n),i=!i),t.and(new r.default(1)).isZero()||(a=a.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new r.default(2)).isZero()||(a=a.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new r.default(4)).isZero()||(a=a.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new r.default(8)).isZero()||(a=a.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new r.default(16)).isZero()||(a=a.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new r.default(32)).isZero()||(a=a.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new r.default(64)).isZero()||(a=a.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new r.default(128)).isZero()||(a=a.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new r.default(256)).isZero()||(a=a.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new r.default(512)).isZero()||(a=a.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new r.default(1024)).isZero()||(a=a.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new r.default(2048)).isZero()||(a=a.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new r.default(4096)).isZero()||(a=a.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new r.default(8192)).isZero()||(a=a.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new r.default(16384)).isZero()||(a=a.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new r.default(32768)).isZero()||(a=a.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new r.default(65536)).isZero()||(a=a.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new r.default(131072)).isZero()||(a=a.mul(n).shrn(64)),n=n.mul(n).shrn(64),t.and(new r.default(262144)).isZero()||(a=a.mul(n).shrn(64)),a.isZero())?new r.default(0):(i&&(a=y.div(a)),a)}(b.sub(a),new r.default(i));return e.mul(o).div(b)}function ts(e,t,i,n,a){let o=r.default.min(i,new r.default(t)).toNumber();if(o>65535)throw Error("Math overflow");switch(a){case d.FeeTimeSchedulerLinear:return ta(e,n,o);case d.FeeTimeSchedulerExponential:return to(e,n,o);default:throw Error("Invalid fee time scheduler mode")}}function tu(e,t,i,n,a,o,s){let u;return i.isZero()?e:(o.lt(s)?u=new r.default(t):(u=o.sub(s).div(i)).gt(new r.default(t))&&(u=new r.default(t)),ts(e,t,u,n,a))}function tl(e,t,i,n){return ts(e,t,new r.default(t),i,n)}function tc(e,t,i,n,a){let o=r.default.min(i,new r.default(t)).toNumber();switch(a){case d.FeeMarketCapSchedulerLinear:return ta(e,n,o);case d.FeeMarketCapSchedulerExponential:return to(e,n,o);default:throw Error("Invalid fee market cap scheduler mode")}}function td(e,t,i,n,a,o,s,u,l,c){let d,f=u.add(new r.default(n));if(s.gt(f)||s.lt(u))d=new r.default(t);else{if(c.lte(l))d=new r.default(0);else{let e=new r.default(1e4),n=new r.default(i),a=c.sub(l).mul(e).div(l).div(n);d=a.gt(new r.default(t))?new r.default(t):a}d=r.default.min(d,new r.default(t))}return tc(e,t,d,a,o)}function tf(e,t,i,n){return tc(e,t,new r.default(t),i,n)}function tp(e,t){if(t.isZero()||e.gte(t))throw Error("InvalidFee: Fee numerator must be less than denominator and denominator must be non-zero")}function th(e){return!e.partner.equals(u.PublicKey.default)}O=new e7(O),D=new e7(D),e.s(["Decimal",()=>e7,"default",0,e7],704290);class tm{cliffFeeNumerator;feeIncrementBps;maxFeeBps;maxLimiterDuration;referenceAmount;constructor(e,t,r,i,n){this.cliffFeeNumerator=e,this.feeIncrementBps=t,this.maxFeeBps=r,this.maxLimiterDuration=i,this.referenceAmount=n}validate(e,t,i){return function(e,t,i,n,a,o,s,u){if(o!==f.OnlyB)return!1;let l=tx(new r.default(i),new r.default(1e9));if(e.lt(new r.default(1e5))||e.gt(l))return!1;if(te(a,n,i,t))return!0;if(a.isZero()&&0!==n&&0!==i&&0!==t)return!1;let c=new r.default(s===h.Slot?108e3:43200);if(new r.default(n).gt(c)||tx(new r.default(t),new r.default(1e9)).gte(new r.default(1e9))||i>function(e){switch(e){case m.V0:return 5e3;case m.V1:return 9900;default:throw Error("Invalid pool version")}}(u))return!1;let d=ti(new r.default(0),e,a,i,t),p=ti(new r.default(Number.MAX_SAFE_INTEGER),e,a,i,t);return!(d.lt(new r.default(1e5))||p.gt(tS(u)))}(this.cliffFeeNumerator,this.feeIncrementBps,this.maxFeeBps,this.maxLimiterDuration,this.referenceAmount,e,t,i)}getBaseFeeNumeratorFromIncludedFeeAmount(e,t,r,i,n,a){return tt(this.referenceAmount,this.maxLimiterDuration,this.maxFeeBps,this.feeIncrementBps,e,t,r)?ti(i,this.referenceAmount,this.cliffFeeNumerator,this.maxFeeBps,this.feeIncrementBps):this.cliffFeeNumerator}getBaseFeeNumeratorFromExcludedFeeAmount(e,t,i,n,a,o){return tt(this.referenceAmount,this.maxLimiterDuration,this.maxFeeBps,this.feeIncrementBps,e,t,i)?function(e,t,i,n,a){let o,s,u,l,d=tn(t,t,i,n,a);if(e.lte(d))return i;let{checkedExcludedFeeAmount:f,checkedIncludedFeeAmount:p,isOverflow:h}=(s=tr(n,i,a),u=new r.default(1),(l=s.add(u).mul(t)).lte(w)?{checkedExcludedFeeAmount:tn(l,t,i,n,a),checkedIncludedFeeAmount:l,isOverflow:!1}:{checkedExcludedFeeAmount:tn(w,t,i,n,a),checkedIncludedFeeAmount:w,isOverflow:!0});if(e.eq(f))return ti(p,t,i,n,a);if(e.lt(f)){let s=new r.default(2),u=new r.default(4),l=tx(new r.default(a),new r.default(1e9)),c=new r.default(1e9),d=s.mul(c).mul(t).add(l.mul(t)).sub(s.mul(i).mul(t)),f=s.mul(e).mul(c).mul(t),p=function(e){if(e.isZero())return new r.default(0);if(e.eq(new r.default(1)))return new r.default(1);let t=e,i=e.add(new r.default(1)).div(new r.default(2));for(;i.lt(t);)i=(t=i).add(e.div(t)).div(new r.default(2));return t}(d.mul(d).sub(u.mul(l).mul(f)));o=d.sub(p).div(s.mul(l));let h=d.sub(p),m=s.mul(l),b=(o=h.div(m)).div(t),g=tn(o,t,i,n,a),y=e.sub(g),{includedFeeAmount:x}=tv(i.add(l.mul(b)),y);o=o.add(x)}else{if(h)throw Error("Math overflow in getFeeNumeratorFromExcludedFeeAmount");let t=e.sub(f),{includedFeeAmount:i}=tv(tx(new r.default(n),new r.default(1e9)),t);o=i.add(p)}let m=e9(o.sub(e),new r.default(1e9),o,c.Up);if(m.lt(i))throw Error("feeNumerator is less than cliffFeeNumerator");return m}(n,this.referenceAmount,this.cliffFeeNumerator,this.maxFeeBps,this.feeIncrementBps):this.cliffFeeNumerator}validateBaseFeeIsStatic(e,t){return function(e,t,i,n,a,o){if(te(n,i,a,o))return!0;let s=t.add(new r.default(i));return e.gt(s)}(e,t,this.maxLimiterDuration,this.referenceAmount,this.maxFeeBps,this.feeIncrementBps)}getMinBaseFeeNumerator(){return this.cliffFeeNumerator}}class tb{cliffFeeNumerator;numberOfPeriod;periodFrequency;reductionFactor;feeTimeSchedulerMode;constructor(e,t,r,i,n){this.cliffFeeNumerator=e,this.numberOfPeriod=t,this.periodFrequency=r,this.reductionFactor=i,this.feeTimeSchedulerMode=n}validate(e,t,i){return function(e,t,i,n,a,o){if((!t.eq(new r.default(0))||0!==e||!i.eq(new r.default(0)))&&(0===e||t.eq(new r.default(0))||i.eq(new r.default(0))))throw Error("PoolError::InvalidFeeTimeScheduler");let s=tl(n,e,i,a);if(tp(s,new r.default(1e9)),tp(n,new r.default(1e9)),s.lt(new r.default(1e5))||n.gt(tS(o)))throw Error("PoolError::ExceedMaxFeeBps");return!0}(this.numberOfPeriod,this.periodFrequency,this.reductionFactor,this.cliffFeeNumerator,this.feeTimeSchedulerMode,i)}getBaseFeeNumeratorFromIncludedFeeAmount(e,t,r,i,n,a){return tu(this.cliffFeeNumerator,this.numberOfPeriod,this.periodFrequency,this.reductionFactor,this.feeTimeSchedulerMode,e,t)}getBaseFeeNumeratorFromExcludedFeeAmount(e,t,r,i,n,a){return tu(this.cliffFeeNumerator,this.numberOfPeriod,this.periodFrequency,this.reductionFactor,this.feeTimeSchedulerMode,e,t)}validateBaseFeeIsStatic(e,t){var i,n;let a;return i=new r.default(this.numberOfPeriod),n=this.periodFrequency,a=t.add(i.mul(n)),e.gt(a)}getMinBaseFeeNumerator(){return tl(this.cliffFeeNumerator,this.numberOfPeriod,this.reductionFactor,this.feeTimeSchedulerMode)}}class tg{cliffFeeNumerator;numberOfPeriod;sqrtPriceStepBps;schedulerExpirationDuration;reductionFactor;feeMarketCapSchedulerMode;constructor(e,t,r,i,n,a){this.cliffFeeNumerator=e,this.numberOfPeriod=t,this.sqrtPriceStepBps=r,this.schedulerExpirationDuration=i,this.reductionFactor=n,this.feeMarketCapSchedulerMode=a}validate(e,t,i){return function(e,t,i,n,a,o,s){if(n.lte(new r.default(0))||i.lte(new r.default(0))||a.lte(new r.default(0))||t<=0)throw Error("PoolError::InvalidFeeMarketCapScheduler");let u=tf(e,t,n,o);tp(u,new r.default(1e9)),tp(e,new r.default(1e9));let l=tS(s);if(u.lt(new r.default(1e5))||e.gt(l))throw Error("PoolError::ExceedMaxFeeBps");return!0}(this.cliffFeeNumerator,this.numberOfPeriod,new r.default(this.sqrtPriceStepBps),this.reductionFactor,new r.default(this.schedulerExpirationDuration),this.feeMarketCapSchedulerMode,i)}getBaseFeeNumeratorFromIncludedFeeAmount(e,t,r,i,n,a){return td(this.cliffFeeNumerator,this.numberOfPeriod,this.sqrtPriceStepBps,this.schedulerExpirationDuration,this.reductionFactor,this.feeMarketCapSchedulerMode,e,t,n,a)}getBaseFeeNumeratorFromExcludedFeeAmount(e,t,r,i,n,a){return td(this.cliffFeeNumerator,this.numberOfPeriod,this.sqrtPriceStepBps,this.schedulerExpirationDuration,this.reductionFactor,this.feeMarketCapSchedulerMode,e,t,n,a)}validateBaseFeeIsStatic(e,t){var i;let n;return i=new r.default(this.schedulerExpirationDuration),n=t.add(i),e.gt(n)}getMinBaseFeeNumerator(){return tf(this.cliffFeeNumerator,this.numberOfPeriod,this.reductionFactor,this.feeMarketCapSchedulerMode)}}function ty(e,t,i,n,a){switch(a){case d.FeeTimeSchedulerLinear:case d.FeeTimeSchedulerExponential:if(i.length<8)throw Error("TypeCastFailed: secondFactor must be at least 8 bytes");return new tb(e,t,new r.default(o.Buffer.from(i.slice(0,8)),"le"),n,a);case d.RateLimiter:{if(i.length<8)throw Error("TypeCastFailed: secondFactor must be at least 8 bytes");let r=o.Buffer.from(i.slice(0,4)).readUInt32LE(0);return new tm(e,t,o.Buffer.from(i.slice(4,8)).readUInt32LE(0),r,n)}case d.FeeMarketCapSchedulerLinear:case d.FeeMarketCapSchedulerExponential:return new tg(e,t,o.Buffer.from(i.slice(0,4)).readUInt32LE(0),o.Buffer.from(i.slice(4,8)).readUInt32LE(0),n,a);default:throw Error("Invalid base fee mode")}}function tx(e,t){return e9(e,t,new r.default(1e4),c.Down)}function tA(e,t,i,n,a){let o,s,u,l,c,{excludedFeeAmount:d,tradingFee:f}=tw(i,t),p=(o=f.muln(e.protocolFeePercent).divn(100),s=f.sub(o),u=new r.default(0),n&&(u=o.muln(e.referralFeePercent).divn(100)),l=o.sub(u),c=new r.default(0),a&&e.partnerFeePercent>0&&(c=l.muln(e.partnerFeePercent).divn(100)),{tradingFee:s,protocolFee:l.sub(c),referralFee:u,partnerFee:c});return{amount:d,tradingFee:p.tradingFee,protocolFee:p.protocolFee,partnerFee:p.partnerFee,referralFee:p.referralFee}}function tw(e,t){let i=e9(t,e,new r.default(1e9),c.Up);return{excludedFeeAmount:t.sub(i),tradingFee:i}}function tv(e,t){let i=new r.default(1e9).sub(e);if(i.isZero()||i.isNeg())throw Error("Invalid fee numerator");let n=e9(t,new r.default(1e9),i,c.Up),a=n.sub(t);return{includedFeeAmount:n,feeAmount:a}}function tS(e){switch(e){case m.V0:return new r.default(5e8);case m.V1:return new r.default(99e7);default:throw Error("Invalid pool version")}}function tT(e,t,i,n){let a;if(e.lte(new r.default(0)))throw Error("sqrtPrice must be greater than 0");if(t.lte(new r.default(0)))throw Error("liquidity must be greater than 0");if(n){if(i.isZero())return e;let r=i.mul(e),n=t.add(r);return e9(t,e,n,c.Up)}return a=i.shln(128).div(t),e.add(a)}let tE=({amount:e,type:t,supplementalData:n})=>{let a,u,d,h,m=l(o.Buffer.from(n.data,"base64").subarray(8)),b=Date.now(),{activationType:g,collectFeeMode:y,poolFees:w}=m,{baseFeeMode:v}=w.baseFee,S=m.tokenAMint.toString(),T=m.tokenBMint.toString();if(S===s.WSOL_TOKEN_ADDRESS||T===s.WSOL_TOKEN_ADDRESS)a=s.WSOL_TOKEN_ADDRESS;else if(S===s.USDC_TOKEN_ADDRESS||T===s.USDC_TOKEN_ADDRESS)a=s.USDC_TOKEN_ADDRESS;else if(S===s.USD1_TOKEN_ADDRESS||T===s.USD1_TOKEN_ADDRESS)a=s.USD1_TOKEN_ADDRESS;else throw Error("Unsupported token pair");u=S===a&&"buy"===t||T===a&&"sell"===t?p.AtoB:p.BtoA;let E=1===g?b/1e3:n.slot;return{minimumAmountOut:(function(e,t,i,n,a){var o,s,u,l,d,f,h;let m,b,g,y,w,v,S=new r.default(0),T=new r.default(0),E=new r.default(0),k=new r.default(0),P=tS(e.version),_=(o=e.poolFees,s=e.activationPoint,u=e.poolFees.initSqrtPrice,l=e.sqrtPrice,m=ty(o.baseFee.cliffFeeNumerator,o.baseFee.firstFactor,o.baseFee.secondFactor,o.baseFee.thirdFactor,o.baseFee.baseFeeMode).getBaseFeeNumeratorFromIncludedFeeAmount(a,s,n,t,u,l),b=new r.default(0),0!==o.dynamicFee.initialized&&(d=o.dynamicFee.volatilityAccumulator,f=new r.default(o.dynamicFee.binStep),h=new r.default(o.dynamicFee.variableFeeControl),g=d.mul(new r.default(f)).pow(new r.default(2)),b=h.mul(g).add(new r.default(A)).div(new r.default(x))),y=b.add(m),r.default.min(y,P));if(i.feesOnInput){let{amount:r,tradingFee:n,protocolFee:a,partnerFee:o,referralFee:s}=tA(e.poolFees,t,_,i.hasReferral,th(e));S=a,T=n,E=s,k=o,w=r}else w=t;let{outputAmount:I,nextSqrtPrice:N,amountLeft:R}=n===p.AtoB?function(e,t){var i;let n=tT(e.sqrtPrice,e.liquidity,t,!0);if(n.lt(e.sqrtMinPrice))throw Error("Price range is violated");return{outputAmount:(i=e.sqrtPrice,function(e,t,i,n){let a=t.sub(e),o=i.mul(a);if(n===c.Up){let e=new r.default(1).ushln(128);return o.add(e.subn(1)).div(e)}return o.ushrn(128)}(n,i,e.liquidity,c.Down)),nextSqrtPrice:n,amountLeft:new r.default(0)}}(e,w):function(e,t){var i;let n=tT(e.sqrtPrice,e.liquidity,t,!1);if(n.gt(e.sqrtMaxPrice))throw Error("Price range is violated");return{outputAmount:(i=e.sqrtPrice,function(e,t,i,n){let a=t.sub(e),o=e.mul(t);if(o.lte(new r.default(0)))throw Error("Denominator must be greater than zero");return e9(i,a,o,n)}(i,n,e.liquidity,c.Down)),nextSqrtPrice:n,amountLeft:new r.default(0)}}(e,w);if(i.feesOnInput)v=I;else{let{amount:t,tradingFee:r,protocolFee:n,partnerFee:a,referralFee:o}=tA(e.poolFees,I,_,i.hasReferral,th(e));S=n,T=r,E=o,k=a,v=t}return{amountLeft:R,includedFeeInputAmount:t,excludedFeeInputAmount:w,outputAmount:v,nextSqrtPrice:N,tradingFee:T,protocolFee:S,partnerFee:k,referralFee:E}})(m,e,(y===f.BothToken?u===p.AtoB?(d=!1,h=!1):(d=!1,h=!0):(d=u!==p.AtoB&&!0,h=!1),{feesOnInput:d,feesOnTokenA:h,hasReferral:!1}),u,(0,i.newSafeBN)(E)).outputAmount.toString(),collectFeeMode:y,baseFeeMode:v}};e.s(["calculateSwapSync",0,tE],199098);var tk=e.i(50454);function tP(e){return"object"==typeof e&&null!==e&&"data"in e&&"slot"in e}let t_=async({pairAddress:e,amount:t,type:r,supplementalData:i})=>tE({amount:t,type:r,supplementalData:tP(i)?i:await tk.axiomApiV2.post("/supplemental-swap-data",{pairAddress:e,protocol:s.PROTOCOL_METEORA_AMM_V2})});async function tI(e,t){let r;r=tP(t)?t:await tk.axiomApiV2.post("/supplemental-swap-data",{pairAddress:e,protocol:s.PROTOCOL_METEORA_AMM_V2});let i=l(o.Buffer.from(r.data,"base64").subarray(8));return{collectFeeMode:i.collectFeeMode,baseFeeMode:i.poolFees.baseFee.baseFeeMode}}e.s(["calculateSwap",0,t_,"getFeeModes",()=>tI,"isMeteoraAmmV2Data",()=>tP],517207),e.s(["calculateExpectedOutputSolAmount",()=>tV,"swapBoop",()=>tM],284456);var tN=e.i(682382),tR=e.i(719387),tB=e.i(799689),tC=e.i(85026);let tO=async(e,t,r,n,a,o)=>{if("buy"===e){let e=tj(t,a,n,o);return{minAmountOut:e.mul((0,i.newSafeBN)(1e4)).div((0,i.newSafeBN)(1e4+100*r)),expectedAmountOut:e}}if("sell"===e){let e=tV(t,a,n,o);return{minAmountOut:e.mul((0,i.newSafeBN)(1e4-100*Math.min(r,99))).div((0,i.newSafeBN)(1e4)),expectedAmountOut:e}}throw Error("Invalid type")},tD=async({type:e,amount:t,slippage:r,userAccountAddress:i,userTokenAccountAddress:n,pairAddress:a,tokenAddress:l,liquiditySolRaw:c,liquidityTokenRaw:d,protocolDetails:f,rewardsData:p})=>{let h=o.Buffer.from([116,114,97,100,105,110,103,95,102,101,101,115,95,118,97,117,108,116]),[m]=(0,tB.findProgramAddressSync)([h,new u.PublicKey(l).toBuffer()],new u.PublicKey("boop8hVGQGqehUK2iVEMEnMrL5RbjywRzHKBmBE7ry4")),b=[{pubkey:new u.PublicKey(l),isSigner:!1,isWritable:!1},{pubkey:new u.PublicKey(a),isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:new u.PublicKey(f.tokenVault),isSigner:!1,isWritable:!0},{pubkey:new u.PublicKey(f.solVault),isSigner:!1,isWritable:!0},{pubkey:new u.PublicKey(n),isSigner:!1,isWritable:!0},{pubkey:new u.PublicKey(i),isSigner:!0,isWritable:!0}];"buy"===e?b.push({pubkey:new u.PublicKey("AbgFqRWjGWgUaVrZrLLWU5HDY5dktmAL6zT9aacQW7y1"),isSigner:!1,isWritable:!1},{pubkey:new u.PublicKey("GVVUi6DaocSEAp8ATnXFAPNF5irCWjCvmPCzoaGAf5eJ"),isSigner:!1,isWritable:!1},{pubkey:new u.PublicKey(s.WSOL_TOKEN_ADDRESS),isSigner:!1,isWritable:!1}):b.push({pubkey:new u.PublicKey(i),isSigner:!0,isWritable:!0},{pubkey:new u.PublicKey("AbgFqRWjGWgUaVrZrLLWU5HDY5dktmAL6zT9aacQW7y1"),isSigner:!1,isWritable:!1}),b.push({pubkey:new u.PublicKey(s.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new u.PublicKey(s.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new u.PublicKey(s.ASSOCIATED_TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1});let{minAmountOut:g,expectedAmountOut:y}=await tO(e,t,r,c,d,f);return{swapInstruction:(0,tR.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:g,userWalletAddress:i,inputTokenAccount:"buy"===e?i:n,solWrapperToken:null,steps:[{programAddress:"boop8hVGQGqehUK2iVEMEnMrL5RbjywRzHKBmBE7ry4",accounts:b}],rewardsData:p}),expectedAmountOut:y}},tM=async({type:e,amount:t,tokenAddress:r,userTokenAccountAddress:n,blockhash:a,wallet:o,pairAddress:u,swapSettings:l,nonceInstruction:c,providers:d,liquiditySolRaw:f,liquidityTokenRaw:p,protocolDetails:h,rewardsData:m,tokenDecimals:b})=>{let g=[],y=await (0,tC.addTokenAccountInstructions)({userWalletAddress:o.publicKey,tokenAddress:r,tokenProgramAddress:s.TOKEN_PROGRAM_ADDRESS,instructions:g,userTokenAccountAddress:n});"buy"===e&&(t=t.sub((0,tC.calculateAxiomFee)(t)));let{swapInstruction:x,expectedAmountOut:A}=await tD({type:e,amount:t,slippage:l.slippage,userAccountAddress:o.publicKey,userTokenAccountAddress:y.userTokenAccountAddress,pairAddress:u,tokenAddress:r,liquiditySolRaw:f,liquidityTokenRaw:p,protocolDetails:h,rewardsData:m});return g.push(x),await (0,tC.handleMassSwapTxCreation)({instructions:g,wallet:o,swapSettings:l,blockhash:a,nonceInstruction:c,providers:d,computeUnits:(0,tC.calculateComputeUnits)({baseComputeUnits:12e4,isVanish:(0,tC.isVanishSigner)(o)}),lookupTables:tC.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:m.userRewardsPercentage,swapInfo:{amount:t,expectedAmountOut:A,tokenDecimals:b,sourceTokenAddress:"buy"===e?tN.NATIVE_SOL_TOKEN_ADDRESS:r,targetTokenAddress:"buy"===e?r:tN.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,tC.calculateVanishLoanExtraLamports)({type:e,isWsol:!1,isUsdc:!1,extraLamports:(0,i.newSafeBN)(s.TOKEN_ACCOUNT_RENT_EXEMPTION_LAMPORTS),amount:t,expectedAmountOut:A,tokenDecimals:b})}})},tU=new r.default("1002320930000000000"),tF=new r.default("30000000000"),tL=new r.default("1000000000"),tq=new r.default(100),tK=new r.default(30),tW=new r.default("29731395800"),tV=(e,t,r,i)=>"2"===i.version?tG(e,t,r):tz(e,t),tG=(e,t,i)=>{let n=tW.add(i).sub(tF),a=new r.default(1e9).mul(tL),o=tW.mul(a),s=t.add(e),u=o.div(s);return n.sub(u).mul(new r.default(1e4).sub(tq)).div(new r.default(1e4))},tz=(e,t)=>{let i=tK.mul(tU).mul(tL),n=new r.default(1e9).mul(tL).sub(t),a=tU.sub(n);return i.div(a).sub(i.div(a.add(e))).mul(new r.default(1e4).sub(tq)).div(new r.default(1e4))},tj=(e,t,r,i)=>"2"===i.version?tH(e,r,t):tX(e,r),tH=(e,t,i)=>{let n=e.mul(new r.default(tq)).div(new r.default(1e4)),a=e.sub(n),o=new r.default(1e9).mul(tL),s=tW.mul(o),u=tW.add(t.sub(tF)).add(a),l=s.div(u);return i.sub(l)},tX=(e,t)=>{let i=e.mul(new r.default(tq)).div(new r.default(1e4)),n=e.sub(i),a=tK.mul(tU).mul(tL);return a.div(t).sub(a.div(t.add(n)))};e.s(["calculateSwapHeaven",()=>tY,"swapHeaven",()=>t0],408136);var tQ=((t={})[t.TOKEN=0]="TOKEN",t[t.TOKEN_2022=1]="TOKEN_2022",t);e.s(["TokenProgram",()=>tQ],412129);let tJ="HEAVENoP2qxoeuF8Dj2oT1GHEnu49U5mJYkdeC8BAX2o",tY=(e,t,r,n,a)=>{let o=1===r.migrated?1===r.configVersion?35:150:1===r.configVersion?110:200;if("buy"===e){let e=t.mul((0,i.newSafeBN)(o)).div((0,i.newSafeBN)(1e4)),r=t.sub(e),s=a.add(r);return n.mul(r).div(s)}if("sell"===e){let e=n.add(t),r=a.mul(t).div(e),s=r.mul((0,i.newSafeBN)(o)).div((0,i.newSafeBN)(1e4));return r.sub(s)}if("inverse-sell"===e){let e=t.mul((0,i.newSafeBN)(o)).div((0,i.newSafeBN)(1e4)),r=t.add(e),s=a.sub(r);return n.mul(r).div(s)}throw Error("Invalid type")},tZ=async(e,t,r,n,a,o)=>{let s=tY(e,t,n,a,o);if("buy"===e)return{minAmountOut:s.mul((0,i.newSafeBN)(1e4)).div((0,i.newSafeBN)(1e4+100*r)),expectedAmountOut:s};if("sell"===e)return{minAmountOut:s.mul((0,i.newSafeBN)(1e4-100*r)).div((0,i.newSafeBN)(1e4)),expectedAmountOut:s};throw Error("Invalid type")},t$=async({type:e,amount:t,slippage:r,userAccountAddress:i,userSolAccountAddress:n,userTokenAccountAddress:a,protocolDetails:l,pairAddress:c,tokenAddress:d,liquidityTokenRaw:f,liquiditySolRaw:p,rewardsData:h})=>{let{minAmountOut:m,expectedAmountOut:b}=await tZ(e,t,r,l,f,p),g=l.tokenProgram===tQ.TOKEN_2022?s.TOKEN_PROGRAM_2022_ADDRESS:s.TOKEN_PROGRAM_ADDRESS,y=o.Buffer.alloc(2);y.writeUInt16BE(l.configVersion);let[x]=(0,tB.findProgramAddressSync)([o.Buffer.from([112,114,111,116,111,99,111,108,95,99,111,110,102,105,103,95,115,116,97,116,101]),y],new u.PublicKey(tJ)),[A]=(0,tB.findProgramAddressSync)([x.toBuffer(),new u.PublicKey(g).toBuffer(),new u.PublicKey(d).toBuffer()],new u.PublicKey(s.ASSOCIATED_TOKEN_PROGRAM_ADDRESS)),[w]=(0,tB.findProgramAddressSync)([x.toBuffer(),new u.PublicKey(s.TOKEN_PROGRAM_ADDRESS).toBuffer(),new u.PublicKey(s.WSOL_TOKEN_ADDRESS).toBuffer()],new u.PublicKey(s.ASSOCIATED_TOKEN_PROGRAM_ADDRESS)),v=[{pubkey:new u.PublicKey(g),isSigner:!1,isWritable:!1},{pubkey:new u.PublicKey(s.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new u.PublicKey(s.ASSOCIATED_TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new u.PublicKey(s.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new u.PublicKey(c),isSigner:!1,isWritable:!0},{pubkey:new u.PublicKey(i),isSigner:!0,isWritable:!0},{pubkey:new u.PublicKey(d),isSigner:!1,isWritable:!1},{pubkey:new u.PublicKey(s.WSOL_TOKEN_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new u.PublicKey(a),isSigner:!1,isWritable:!0},{pubkey:new u.PublicKey(n),isSigner:!1,isWritable:!0},{pubkey:A,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:new u.PublicKey(s.SYSVAR_INSTRUCTIONS_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new u.PublicKey("HEvSKofvBgfaexv23kMabbYqxasxU3mQ4ibBMEmJWHny"),isSigner:!1,isWritable:!1},{pubkey:new u.PublicKey("CH31Xns5z3M1cTAbKW34jcxPPciazARpijcHj9rxtemt"),isSigner:!1,isWritable:!1}];return{swapInstruction:(0,tR.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:m,userWalletAddress:i,inputTokenAccount:"buy"===e?n:a,solWrapperToken:{type:"wsol",userWrappedTokenAccount:n},steps:[{programAddress:tJ,accounts:v}],rewardsData:h}),expectedAmountOut:b}};async function t0({type:e,amount:t,tokenAddress:r,userTokenAccountAddress:n,protocolDetails:a,blockhash:o,wallet:u,pairAddress:l,swapSettings:c,nonceInstruction:d,providers:f,rewardsData:p,liquidityTokenRaw:h,liquiditySolRaw:m,tokenDecimals:b}){let g=[],y=await (0,tC.addTokenAccountInstructions)({userWalletAddress:u.publicKey,tokenAddress:r,tokenProgramAddress:a.tokenProgram===tQ.TOKEN_2022?s.TOKEN_PROGRAM_2022_ADDRESS:s.TOKEN_PROGRAM_ADDRESS,instructions:g,userTokenAccountAddress:n,wsolAmount:"buy"===e?t:(0,i.newSafeBN)(0)});"buy"===e&&(t=t.sub((0,tC.calculateAxiomFee)(t)));let{swapInstruction:x,expectedAmountOut:A}=await t$({type:e,amount:t,slippage:c.slippage,userAccountAddress:u.publicKey,userTokenAccountAddress:y.userTokenAccountAddress,userSolAccountAddress:y.userWsolAccountAddress,protocolDetails:a,pairAddress:l,tokenAddress:r,liquidityTokenRaw:h,liquiditySolRaw:m,rewardsData:p});return g.push(x),await (0,tC.handleMassSwapTxCreation)({instructions:g,wallet:u,swapSettings:c,blockhash:o,nonceInstruction:d,providers:f,computeUnits:(0,tC.calculateComputeUnits)({baseComputeUnits:15e4,isVanish:(0,tC.isVanishSigner)(u)}),lookupTables:tC.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:p.userRewardsPercentage,swapInfo:{amount:t,expectedAmountOut:A,tokenDecimals:b,sourceTokenAddress:"buy"===e?tN.NATIVE_SOL_TOKEN_ADDRESS:r,targetTokenAddress:"buy"===e?r:tN.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,tC.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:!1,amount:t,expectedAmountOut:A,tokenDecimals:b})}})}e.s(["computeInMeteoraAmm",()=>t6,"computeOutMeteoraAmm",()=>t5,"swapMeteoraAmm",()=>t2],726801);let t1="Eo7WjKq67rjJQSZxS6z3YkapzY3eMj6Xy8X5EQVn5UaB";async function t2({type:e,amount:t,liquiditySolRaw:r,liquidityTokenRaw:n,tokenAddress:a,userTokenAccountAddress:o,protocolDetails:u,blockhash:l,wallet:c,pairAddress:d,swapSettings:f,nonceInstruction:p,providers:h,rewardsData:m,usdPerSol:b,tokenDecimals:g,liquidityToken:y}){let x=[],A=await (0,tC.addTokenAccountInstructions)({userWalletAddress:c.publicKey,tokenAddress:a,tokenProgramAddress:s.TOKEN_PROGRAM_ADDRESS,instructions:x,userTokenAccountAddress:o,wsolAmount:"buy"===e?t:(0,i.newSafeBN)(0),usdc:u.isUsdc});"buy"===e&&(t=t.sub((0,tC.calculateAxiomFee)(t)));let{swapInstruction:w,expectedAmountOut:v}=await t3({type:e,amount:t,slippage:f.slippage,liquiditySolRaw:r,liquidityTokenRaw:n,userAccountAddress:c.publicKey,userUsdcAccountAddress:A.userUsdcAccountAddress,userTokenAccountAddress:A.userTokenAccountAddress,userSolAccountAddress:A.userWsolAccountAddress,protocolDetails:u,pairAddress:d,usdPerSol:b,tokenDecimals:g,liquidityToken:y,rewardsData:m});return x.push(w),u.isUsdc&&(0,tC.isVanishSigner)(c)&&(0,tC.addTokenAccountCloseInstruction)(c.publicKey,A.userUsdcAccountAddress,x),u.isUsd1&&(0,tC.isVanishSigner)(c)&&(0,tC.addTokenAccountCloseInstruction)(c.publicKey,A.userUsd1AccountAddress,x),await (0,tC.handleMassSwapTxCreation)({instructions:x,wallet:c,swapSettings:f,blockhash:l,nonceInstruction:p,providers:h,computeUnits:(0,tC.calculateComputeUnits)({baseComputeUnits:25e4,isUsdc:u.isUsdc,isVanish:(0,tC.isVanishSigner)(c)}),lookupTables:tC.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:m.userRewardsPercentage,swapInfo:{amount:t,expectedAmountOut:v,tokenDecimals:g,sourceTokenAddress:"buy"===e?tN.NATIVE_SOL_TOKEN_ADDRESS:a,targetTokenAddress:"buy"===e?a:tN.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,tC.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:u.isUsdc??!1,amount:t,expectedAmountOut:v,tokenDecimals:g})}})}let t5=(e,t,n,a)=>{var o,s;let u,l=e.mul((0,i.newSafeBN)(a.tradeFeeNumerator)).div((0,i.newSafeBN)(a.tradeFeeDenominator)).mul((0,i.newSafeBN)(a.protocolTradeFeeNumerator)).div((0,i.newSafeBN)(a.protocolTradeFeeDenominator)),c=e.sub(l),[d]=(o=t.mul(n),s=t.add(c),u=o.div(s),o.mod(s).gt(new r.default(0))&&(u=u.add(new r.default(1)),s=o.div(u),o.mod(u).gt(new r.default(0))&&(s=s.add(new r.default(1)))),[u,s]);return n.sub(d)},t6=(e,t,r,n)=>{let a=r.sub(e);return t.mul(r).div(a).sub(t).mul((0,i.newSafeBN)(n.tradeFeeDenominator)).mul((0,i.newSafeBN)(n.protocolTradeFeeDenominator)).div((0,i.newSafeBN)(n.tradeFeeDenominator).mul((0,i.newSafeBN)(n.protocolTradeFeeDenominator)).sub((0,i.newSafeBN)(n.tradeFeeNumerator).mul((0,i.newSafeBN)(n.protocolTradeFeeNumerator))))},t3=async({type:e,amount:t,slippage:r,liquiditySolRaw:n,liquidityTokenRaw:a,userAccountAddress:o,userSolAccountAddress:l,userTokenAccountAddress:c,userUsdcAccountAddress:d,protocolDetails:f,pairAddress:p,usdPerSol:h,tokenDecimals:m,liquidityToken:b,rewardsData:g})=>{var y;let x,A=(y={type:e,userAccountAddress:o,userQuoteAccountAddress:f.isUsdc?d:l,userTokenAccountAddress:c,protocolDetails:f,pairAddress:p},x=[{pubkey:new u.PublicKey(y.pairAddress),isSigner:!1,isWritable:!0},{pubkey:new u.PublicKey("buy"===y.type?y.userQuoteAccountAddress:y.userTokenAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new u.PublicKey("buy"===y.type?y.userTokenAccountAddress:y.userQuoteAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new u.PublicKey(y.protocolDetails.aVault),isSigner:!1,isWritable:!0},{pubkey:new u.PublicKey(y.protocolDetails.bVault),isSigner:!1,isWritable:!0},{pubkey:new u.PublicKey(y.protocolDetails.aTokenVault),isSigner:!1,isWritable:!0},{pubkey:new u.PublicKey(y.protocolDetails.bTokenVault),isSigner:!1,isWritable:!0},{pubkey:new u.PublicKey(y.protocolDetails.aVaultLpMint),isSigner:!1,isWritable:!0},{pubkey:new u.PublicKey(y.protocolDetails.bVaultLpMint),isSigner:!1,isWritable:!0},{pubkey:new u.PublicKey(y.protocolDetails.aVaultLp),isSigner:!1,isWritable:!0},{pubkey:new u.PublicKey(y.protocolDetails.bVaultLp),isSigner:!1,isWritable:!0},{pubkey:new u.PublicKey("buy"===y.type?y.protocolDetails.protocolSolFeeAccount:y.protocolDetails.protocolTokenFeeAccount),isSigner:!1,isWritable:!0},{pubkey:new u.PublicKey(y.userAccountAddress),isSigner:!0,isWritable:!0},{pubkey:new u.PublicKey("24Uqj9JCLxUeoC3hGfh5W3s9FM9uCHDS2SG3LYwBpyTi"),isSigner:!1,isWritable:!1},{pubkey:new u.PublicKey(s.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}],"buy"===y.type?x.push({pubkey:new u.PublicKey(y.protocolDetails.isUsdc?(0,s.getAxiomUsdcFeeAddress)():(0,s.getAxiomWSolFeeAddress)()),isSigner:!1,isWritable:!0}):"sell"===y.type&&y.protocolDetails.isUsdc&&(x.push({pubkey:new u.PublicKey("C2QoQ111jGHEy5918XkNXQro7gGwC9PKLXd1LqBiYNwA"===y.protocolDetails.aTokenVault?y.protocolDetails.bTokenVault:y.protocolDetails.aTokenVault),isSigner:!1,isWritable:!0}),x.push({pubkey:new u.PublicKey("C2QoQ111jGHEy5918XkNXQro7gGwC9PKLXd1LqBiYNwA"===y.protocolDetails.aTokenVault?y.protocolDetails.bTokenVault:y.protocolDetails.aTokenVault),isSigner:!1,isWritable:!0})),x);if(f.isUsdc)return await (0,tR.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usdc",userAccountAddress:o,userWsolAccountAddress:l,userUsdAccountAddress:d,userTokenAccountAddress:c,usdPerSol:h,amountIn:t,tokenDecimals:m,priceInUsdc:b,slippage:r,steps:[{programAddress:t1,accounts:A}],rewardsData:g});let{minAmountOut:w,expectedAmountOut:v}=((e,t,r,n,a,o)=>{if("buy"===e){let e=t5(t,r,n,o);return{minAmountOut:e.mul((0,i.newSafeBN)(1e4)).div((0,i.newSafeBN)(1e4+100*a)),expectedAmountOut:e}}if("sell"===e){let e=t5(t,n,r,o);return{minAmountOut:e.mul((0,i.newSafeBN)(1e4-100*a)).div((0,i.newSafeBN)(1e4)),expectedAmountOut:e}}throw Error("Invalid type")})(e,t,n,a,r,f);return{swapInstruction:(0,tR.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:w,userWalletAddress:o,inputTokenAccount:"buy"===e?l:c,solWrapperToken:{type:"wsol",userWrappedTokenAccount:l},steps:[{programAddress:t1,accounts:A}],rewardsData:g}),expectedAmountOut:v}};e.s(["calculateExpectedOutputSolAmount",()=>re,"calculateTokensForExpectedSolAmount",()=>rr,"swapMoonshot",()=>t9],518152);var t4=e.i(946865);let t8=async(e,t,r,n,a,o)=>{if("buy"===e){let e=rt(t,a,n,o);return{minAmountOut:e.mul((0,i.newSafeBN)(1e4)).div((0,i.newSafeBN)(1e4+100*r)),expectedAmountOut:e}}if("sell"===e){let e=re(t,a,n,o);return{minAmountOut:e.mul((0,i.newSafeBN)(1e4-100*r)).div((0,i.newSafeBN)(1e4)),expectedAmountOut:e}}throw Error("Invalid swap type")},t7=async({type:e,amount:t,slippage:r,userAccountAddress:i,userTokenAccountAddress:n,pairAddress:a,tokenAddress:o,liquiditySolRaw:l,liquidityTokenRaw:c,protocolDetails:d,rewardsData:f})=>{let p=(0,t4.getAssociatedTokenAddressSync)(new u.PublicKey(o),new u.PublicKey(a),!0,new u.PublicKey(s.TOKEN_PROGRAM_ADDRESS),new u.PublicKey(s.ASSOCIATED_TOKEN_PROGRAM_ADDRESS)),h=[{pubkey:new u.PublicKey(i),isSigner:!0,isWritable:!0},{pubkey:new u.PublicKey(n),isSigner:!1,isWritable:!0},{pubkey:new u.PublicKey(a),isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:new u.PublicKey("3udvfL24waJcLhskRAsStNMoNUvtyXdxrWQz4hgi953N"),isSigner:!1,isWritable:!0},{pubkey:new u.PublicKey("5K5RtTWzzLp4P8Npi84ocf7F1vBsAu29N1irG4iiUnzt"),isSigner:!1,isWritable:!0},{pubkey:new u.PublicKey(o),isSigner:!1,isWritable:!1},{pubkey:new u.PublicKey("36Eru7v11oU5Pfrojyn5oY3nETA1a1iqsw2WUu6afkM9"),isSigner:!1,isWritable:!1},{pubkey:new u.PublicKey(s.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new u.PublicKey(s.ASSOCIATED_TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new u.PublicKey(s.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}],{minAmountOut:m,expectedAmountOut:b}=await t8(e,t,r,l,c,d);return{swapInstruction:(0,tR.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:m,userWalletAddress:i,inputTokenAccount:"buy"===e?i:n,solWrapperToken:null,steps:[{programAddress:s.MOONSHOT_PROGRAM_ADDRESS,accounts:h}],rewardsData:f}),expectedAmountOut:b}},t9=async({type:e,amount:t,tokenAddress:r,userTokenAccountAddress:i,blockhash:n,wallet:a,pairAddress:o,swapSettings:u,nonceInstruction:l,providers:c,liquiditySolRaw:d,liquidityTokenRaw:f,protocolDetails:p,rewardsData:h,tokenDecimals:m})=>{if(p?.helioFee)throw Error("Old Moonshot pools are not supported");let b=[],g=await (0,tC.addTokenAccountInstructions)({userWalletAddress:a.publicKey,tokenAddress:r,tokenProgramAddress:s.TOKEN_PROGRAM_ADDRESS,instructions:b,userTokenAccountAddress:i});"buy"===e&&(t=t.sub((0,tC.calculateAxiomFee)(t)));let{swapInstruction:y,expectedAmountOut:x}=await t7({type:e,amount:t,slippage:u.slippage,userAccountAddress:a.publicKey,userTokenAccountAddress:g.userTokenAccountAddress,pairAddress:o,tokenAddress:r,liquiditySolRaw:d,liquidityTokenRaw:f,protocolDetails:p,rewardsData:h});return b.push(y),await (0,tC.handleMassSwapTxCreation)({instructions:b,wallet:a,swapSettings:u,blockhash:n,nonceInstruction:l,providers:c,computeUnits:(0,tC.calculateComputeUnits)({baseComputeUnits:125e3,isVanish:(0,tC.isVanishSigner)(a)}),lookupTables:tC.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:h.userRewardsPercentage,swapInfo:{amount:t,expectedAmountOut:x,tokenDecimals:m,sourceTokenAddress:"buy"===e?tN.NATIVE_SOL_TOKEN_ADDRESS:r,targetTokenAddress:"buy"===e?r:tN.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,tC.calculateVanishLoanExtraLamports)({type:e,isWsol:!1,isUsdc:!1,isUsd1:!1,amount:t,expectedAmountOut:x,tokenDecimals:m})}})},re=(e,t,r,n)=>{if(3===n.curveType){let t=(0,i.newSafeBN)(n.collateralCollected).mul((0,i.newSafeBN)(2)),r=(0,i.newSafeBN)(n.amount),a=e.mul(t).mul((0,i.newSafeBN)(10204)),o=r.mul((0,i.newSafeBN)(1e4));return a.div(o).mul((0,i.newSafeBN)(9900)).div((0,i.newSafeBN)(1e4))}let a=t.add((0,i.newSafeBN)(73e6).mul((0,i.newSafeBN)(10**n.decimals))),o=r.mul(a);return r.sub(o.div(a.add(e))).mul((0,i.newSafeBN)(9900)).div((0,i.newSafeBN)(1e4))},rt=(e,t,r,n)=>{let a=e.mul((0,i.newSafeBN)(9900)).div((0,i.newSafeBN)(1e4));if(3===n.curveType){let e=(0,i.newSafeBN)(n.collateralCollected).mul((0,i.newSafeBN)(2)),t=(0,i.newSafeBN)(n.amount),r=e.mul((0,i.newSafeBN)(10205));return a.mul(t).mul((0,i.newSafeBN)(1e4)).div(r)}let o=t.add((0,i.newSafeBN)(73e6).mul((0,i.newSafeBN)(10**n.decimals))),s=r.mul(o);return o.sub(s.div(r.add(a)))},rr=(e,t,r,n)=>{let a=e.mul((0,i.newSafeBN)(1e4)).div((0,i.newSafeBN)(9900));if(3===n.curveType){let e=(0,i.newSafeBN)(n.collateralCollected).mul((0,i.newSafeBN)(2)),t=(0,i.newSafeBN)(n.amount),r=e.mul((0,i.newSafeBN)(10204));return a.mul(t).mul((0,i.newSafeBN)(1e4)).div(r)}let o=t.add((0,i.newSafeBN)(73e6).mul((0,i.newSafeBN)(10**n.decimals))),s=r.mul(o);return e.gt(r)?(0,i.newSafeBN)(n.amount).sub(t):s.div(r.sub(a)).sub(o)}},426436,e=>{"use strict";let t=new(e.i(493468)).BoundedMap(20);e.s(["pumpCreatorCache",0,t])},181937,233191,24010,432265,e=>{"use strict";e.s(["applySlippage",()=>ec,"estimateSell",()=>eu,"estimateSellInverse",()=>el],181937);var t,r,i,n=e.i(49498),a=e.i(828073),o=e.i(659341),s=e.i(50454),u=e.i(199098),l=e.i(517207),c=e.i(284456),d=e.i(408136),f=e.i(290705),p=e.i(726801),h=e.i(518152);e.s(["PUMP_AMM_FEE_BASIS_POINTS",()=>_,"estimateSellPumpAmm",()=>I,"swapPumpAmm",()=>B],233191);var m=e.i(467034),b=e.i(946865),g=e.i(127261);e.i(89928);var y=e.i(739663),x=e.i(682382),A=e.i(973444);e.i(465903);var w=e.i(767924),v=e.i(719387),S=e.i(799689),T=e.i(426436),E=e.i(85026);let k="pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA",P="GS4CU59F31iL7aR2Q8zVS8DRrcRnXX1yjQ66TqNVQnaR",_=30,I=(e,t,r,i)=>{let n=e.mul(t).div(r.add(e)),a=n.sub(n.mul((0,A.newSafeBN)(_)).add(new o.default(1e4).subn(1)).div(new o.default(1e4))),s=a.mul((0,A.newSafeBN)(1e4-100*i)).div((0,A.newSafeBN)(1e4));return{lamportsWithSlippage:s.gt(new o.default(0))?s.sub(new o.default(1)):new o.default(0),expectedLamportsFromSell:a}},N=async(e,t)=>{let r=T.pumpCreatorCache.get(e),i=r||t.creator;i&&null!==r||(i=(await y.workersApi.post("/pump-amm-creator",{pool:e})).creator,T.pumpCreatorCache.set(e,i));let[n]=(0,S.findProgramAddressSync)([m.Buffer.from("creator_vault","utf8"),new g.PublicKey(i).toBuffer()],new g.PublicKey(k)),a=(0,b.getAssociatedTokenAddressSync)(new g.PublicKey(w.WSOL_TOKEN_ADDRESS),n,!0,new g.PublicKey(w.TOKEN_PROGRAM_ADDRESS));return{creatorVault:n,creatorVaultAta:a}},R=async e=>{let t,r,{creatorVaultAta:i,creatorVault:n}=await N(e.pairAddress,e.protocolDetails),a=[];a.push({pubkey:new g.PublicKey(e.pairAddress),isSigner:!1,isWritable:!0}),a.push({pubkey:new g.PublicKey(e.userAccountAddress),isSigner:!0,isWritable:!0}),a.push({pubkey:new g.PublicKey("ADyA8hdefvWN2dbGGWFotbzWxrAvLW83WG6QCVXvJKqw"),isSigner:!1,isWritable:!1}),a.push({pubkey:new g.PublicKey(e.protocolDetails.isTokenSideX?e.tokenAddress:w.WSOL_TOKEN_ADDRESS),isSigner:!1,isWritable:!1}),a.push({pubkey:new g.PublicKey(e.protocolDetails.isTokenSideX?w.WSOL_TOKEN_ADDRESS:e.tokenAddress),isSigner:!1,isWritable:!1}),a.push({pubkey:new g.PublicKey(e.protocolDetails.isTokenSideX?e.userTokenAccountAddress:e.userSolAccountAddress),isSigner:!1,isWritable:!0}),a.push({pubkey:new g.PublicKey(e.protocolDetails.isTokenSideX?e.userSolAccountAddress:e.userTokenAccountAddress),isSigner:!1,isWritable:!0}),a.push({pubkey:new g.PublicKey(e.protocolDetails.isTokenSideX?e.protocolDetails.pairTokenAccount:e.protocolDetails.pairSolAccount),isSigner:!1,isWritable:!0}),a.push({pubkey:new g.PublicKey(e.protocolDetails.isTokenSideX?e.protocolDetails.pairSolAccount:e.protocolDetails.pairTokenAccount),isSigner:!1,isWritable:!0});let o=e.protocolDetails.isMayhem?(t=[{owner:"GesfTA3X2arioaHp8bbKdjG9vJtskViWACZoYvxp4twS",account:"C93K8DX4YsABYJtHX9awzgZW3LWzBqBVezEbbLJH4yet"},{owner:"4budycTjhs9fD6xw62VBducVTNgMgJJ5BgtKq7mAZwn6",account:"Bckr4rY4rUGvWtwqC9mnWN35LKzfPRcmsoMRYq6DFEjN"},{owner:"8SBKzEQU4nLSzcwF4a74F2iaUDQyTfjGndn6qUWBnrpR",account:"9tvBjCQ4m3954ESgxW9PnBPvW8afHEjKpkNEAdfN2D8U"},{owner:"4UQeTP1T39KZ9Sfxzo3WR5skgsaP6NZa87BAkuazLEKH",account:"CoRuMWRuDAsjB5SDMmYEcDuyQyaH3L2vVFvwBy1FF8Kr"},{owner:"8sNeir4QsLsJdYpc9RZacohhK1Y5FLU3nC5LXgYB4aa6",account:"21L1QB6DJ9HBvePgwN6jFuK3UT9mq2SgTq1oJ7D6cNiV"},{owner:"Fh9HmeLNUMVCvejxCtCL2DbYaRyBFVJ5xrWkLnMH6fdk",account:"2i3uCDzDhr3pSvMPF5uBpUckLAv7XGdo2a8soiqNJMHk"},{owner:"463MEnMeGyJekNZFQSTUABBEbLnvMTALbT6ZmsxAbAdq",account:"BZeq7y8ajn5Pjpy5KjEhF6eBY2H9ippTpqCtQLQPsmJf"},{owner:"6AUH3WEHucYZyC61hqpqYUWVto5qA5hjHuNQ32GNnNxA",account:"ghSBUgyxyvyurm1vJBkU4rUyLJoUipCZhFeiBogKCSy"}])[Math.floor(Math.random()*t.length)]:(r=[{owner:"G5UZAVbAf46s7cKWoyKu8kYTip9DGTpbLZ2qa9Aq69dP",account:"BWXT6RUhit9FfJQM3pBmqeFLPYmuxgmyhMGC5sGr8RbA"},{owner:"62qc2CNXwrYqQScmEdiZFFAnJR262PxWEuNQtxfafNgV",account:"94qWNrtmfn42h3ZjUZwWvK1MEo9uVmmrBPd2hpNjYDjb"},{owner:"JCRGumoE9Qi5BBgULTgdgTLjSgkCMSbF62ZZfGs84JeU",account:"DWpvfqzGWuVy9jVSKSShdM2733nrEsnnhsUStYbkj6Nn"},{owner:"7hTckgnGnLQR6sdH7YkqFTAA7VwTfYFaZ6EhEsU3saCX",account:"X5QPJcpph4mBAJDzc4hRziFftSbcygV59kRb2Fu6Je1"},{owner:"7VtfL8fvgNfhz17qKRMjzQEXgbdpnHHHQRh54R9jP2RJ",account:"7GFUN3bWzJMKMRZ34JLsvcqdssDbXnp589SiE33KVwcC"},{owner:"9rPYyANsfQZw3DnDmKE3YCQF5E8oD89UXoHn9JFEhJUz",account:"Bvtgim23rfocUzxVX9j9QFxTbBnH8JZxnaGLCEkXvjKS"},{owner:"JCRGumoE9Qi5BBgULTgdgTLjSgkCMSbF62ZZfGs84JeU",account:"DWpvfqzGWuVy9jVSKSShdM2733nrEsnnhsUStYbkj6Nn"},{owner:"AVmoTthdrX6tKt4nDjco2D775W2YK3sDhxPcMmzUAmTY",account:"FGptqdxjahafaCzpZ1T6EDtCzYMv7Dyn5MgBLyB3VUFW"}])[Math.floor(Math.random()*r.length)];a.push({pubkey:new g.PublicKey(o.owner),isSigner:!1,isWritable:!1}),a.push({pubkey:new g.PublicKey(o.account),isSigner:!1,isWritable:!0}),a.push({pubkey:new g.PublicKey(e.protocolDetails.isTokenSideX?e.protocolDetails.tokenProgram:w.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}),a.push({pubkey:new g.PublicKey(e.protocolDetails.isTokenSideX?w.TOKEN_PROGRAM_ADDRESS:e.protocolDetails.tokenProgram),isSigner:!1,isWritable:!1}),a.push({pubkey:new g.PublicKey(w.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}),a.push({pubkey:new g.PublicKey(w.ASSOCIATED_TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}),a.push({pubkey:new g.PublicKey(P),isSigner:!1,isWritable:!1}),a.push({pubkey:new g.PublicKey(k),isSigner:!1,isWritable:!1}),a.push({pubkey:i,isSigner:!1,isWritable:!0}),a.push({pubkey:n,isSigner:!1,isWritable:!1}),"buy"===e.type&&(a.push({pubkey:new g.PublicKey(function(e=new g.PublicKey(C)){return(0,S.findProgramAddressSync)([m.Buffer.from("global_volume_accumulator")],e)}()[0]),isSigner:!1,isWritable:!1}),a.push({pubkey:new g.PublicKey(O(new g.PublicKey(e.userAccountAddress))[0]),isSigner:!1,isWritable:!0})),a.push({pubkey:new g.PublicKey("5PHirr8joyTMp9JMm6nW7hNDVyEYdkzDqazxPD7RaTjx"),isSigner:!1,isWritable:!1}),a.push({pubkey:new g.PublicKey("pfeeUxB6jkeY1Hxd7CsFCAjcbHA9rWtchMGdZ6VojVZ"),isSigner:!1,isWritable:!1});let{minAmountOut:s,expectedAmountOut:u}=((e,t,r,i,n,a)=>{if(!a)throw Error("Unsupported Pool");if("buy"===e){let e=t.mul((0,A.newSafeBN)(1e4)).div((0,A.newSafeBN)(1e4+_)),a=i.mul(e).div(r.add(e));return{minAmountOut:a.mul((0,A.newSafeBN)(1e4)).div((0,A.newSafeBN)(1e4+100*n)),expectedAmountOut:a}}if("sell"===e){let e=I(t,r,i,n);return{minAmountOut:e.lamportsWithSlippage,expectedAmountOut:e.expectedLamportsFromSell}}throw Error("Invalid type")})(e.type,e.amount,e.liquiditySolRaw,e.liquidityTokenRaw,e.slippage,e.protocolDetails.isTokenSideX);return{swapInstruction:(0,v.buildAxiomRouterInstruction)({type:e.type,amountIn:e.amount,minAmountOut:s,userWalletAddress:e.userAccountAddress,inputTokenAccount:"buy"===e.type?e.userSolAccountAddress:e.userTokenAccountAddress,solWrapperToken:{type:"wsol",userWrappedTokenAccount:e.userSolAccountAddress},steps:[{programAddress:k,accounts:a}],rewardsData:e.rewardsData}),expectedAmountOut:u}},B=async({type:e,amount:t,liquiditySolRaw:r,liquidityTokenRaw:i,tokenAddress:n,userTokenAccountAddress:a,protocolDetails:o,blockhash:s,wallet:u,pairAddress:l,swapSettings:c,nonceInstruction:d,providers:f,tokenDecimals:p,rewardsData:h})=>{let b=[],y=await (0,E.addTokenAccountInstructions)({userWalletAddress:u.publicKey,tokenAddress:n,tokenProgramAddress:o.tokenProgram,instructions:b,userTokenAccountAddress:a,wsolAmount:"buy"===e?t.add((0,A.newSafeBN)(2)):(0,A.newSafeBN)(0),usdc:!1});"buy"===e&&(t=t.sub((0,E.calculateAxiomFee)(t)));let{swapInstruction:v,expectedAmountOut:S}=await R({type:e,amount:t,slippage:c.slippage,liquiditySolRaw:r,liquidityTokenRaw:i,tokenAddress:n,userAccountAddress:u.publicKey,userTokenAccountAddress:y.userTokenAccountAddress,userSolAccountAddress:y.userWsolAccountAddress,protocolDetails:o,pairAddress:l,rewardsData:h});return b.push(v),"buy"===e&&(0,E.isVanishSigner)(u)&&b.push(new g.TransactionInstruction({keys:[{pubkey:new g.PublicKey(u.publicKey),isSigner:!0,isWritable:!0},{pubkey:new g.PublicKey(O(new g.PublicKey(u.publicKey))[0]),isSigner:!1,isWritable:!0},{pubkey:new g.PublicKey(P),isSigner:!1,isWritable:!1},{pubkey:new g.PublicKey(k),isSigner:!1,isWritable:!1}],programId:new g.PublicKey(k),data:m.Buffer.from([249,69,164,218,150,103,84,138])})),await (0,E.handleMassSwapTxCreation)({instructions:b,wallet:u,swapSettings:c,blockhash:s,nonceInstruction:d,providers:f,computeUnits:(0,E.calculateComputeUnits)({baseComputeUnits:225e3,isVanish:(0,E.isVanishSigner)(u)}),lookupTables:E.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:h.userRewardsPercentage,swapInfo:{amount:"buy"===e?t.add((0,A.newSafeBN)(2)):t,expectedAmountOut:S,tokenDecimals:p,sourceTokenAddress:"buy"===e?x.NATIVE_SOL_TOKEN_ADDRESS:n,targetTokenAddress:"buy"===e?n:x.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,E.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:!1,amount:t,expectedAmountOut:S,tokenDecimals:p,extraLamports:(0,A.newSafeBN)(w.EXTENDED_PUMP_RENT_EXEMPTION_LAMPORTS+w.TOKEN_ACCOUNT_RENT_EXEMPTION_LAMPORTS+("buy"===e?w.PUMP_VOLUME_ACCUMULATOR_RENT_EXEMPTION_LAMPORTS:0))})}})},C="pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA";function O(e,t=new g.PublicKey(C)){return(0,S.findProgramAddressSync)([m.Buffer.from("user_volume_accumulator"),e.toBuffer()],t)}e.s(["SUGAR_DISTRIBUTION_PROGRAM_ADDRESS",()=>M,"calculateSwapSugar",()=>F,"swapSugar",()=>K],24010);var D=e.i(412129);let M="vu1t7ReSFRLfUsnbkQWh1x2JKDVLgecp86zR1iphmDo",U="deus4Bvftd5QKcEkE5muQaWGWDoma8GrySvPFrBPjhS",F=(e,t,r,i)=>{if("buy"===e){let e=t.mul((0,A.newSafeBN)(90)).div((0,A.newSafeBN)(1e4)),n=t.sub(e),a=i.add(n),s=r.mul(n).div(a),u=(0,A.newSafeBN)("780000000000000").sub((0,A.newSafeBN)("1045000000000000").sub(r));return o.default.max((0,A.newSafeBN)(0),o.default.min(s,u))}if("sell"===e){let e=r.add(t),n=i.mul(t).div(e),a=n.mul((0,A.newSafeBN)(90)).div((0,A.newSafeBN)(1e4));return n.sub(a)}if("inverse-sell"===e){let e=t.mul((0,A.newSafeBN)(90)).div((0,A.newSafeBN)(1e4)),n=t.add(e),a=i.sub(n);return r.mul(n).div(a)}throw Error("Invalid type")},L=async(e,t,r,i,n)=>{let a=F(e,t,i,n);if("buy"===e)return{minAmountOut:a.mul((0,A.newSafeBN)(1e4)).div((0,A.newSafeBN)(1e4+100*r)),expectedAmountOut:a};if("sell"===e)return{minAmountOut:a.mul((0,A.newSafeBN)(1e4-100*r)).div((0,A.newSafeBN)(1e4)),expectedAmountOut:a};throw Error("Invalid type")},q=async({type:e,amount:t,slippage:r,userAccountAddress:i,userTokenAccountAddress:n,pairAddress:a,tokenAddress:o,liquidityTokenRaw:s,liquiditySolRaw:u,tokenProgramAddress:l,rewardsData:c})=>{let[d]=(0,S.findProgramAddressSync)([m.Buffer.from("state")],new g.PublicKey(U)),[,f]=(0,S.findProgramAddressSync)([m.Buffer.from("bonding_curve_"),new g.PublicKey(o).toBuffer()],new g.PublicKey(U)),[p,h]=(0,S.findProgramAddressSync)([m.Buffer.from("bonding_curve_"),new g.PublicKey(o).toBuffer(),m.Buffer.from("_sol_vault")],new g.PublicKey(U)),[b]=(0,S.findProgramAddressSync)([new g.PublicKey(a).toBuffer(),new g.PublicKey(l).toBuffer(),new g.PublicKey(o).toBuffer()],new g.PublicKey(w.ASSOCIATED_TOKEN_PROGRAM_ADDRESS)),[y]=(0,S.findProgramAddressSync)([m.Buffer.from("__event_authority")],new g.PublicKey(U)),[x]=(0,S.findProgramAddressSync)([m.Buffer.from("sol-receiver")],new g.PublicKey(M)),{minAmountOut:A,expectedAmountOut:T}=await L(e,t,r,s,u),E=[{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:new g.PublicKey(o),isSigner:!1,isWritable:!0},{pubkey:new g.PublicKey(a),isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:new g.PublicKey(n),isSigner:!1,isWritable:!0},{pubkey:new g.PublicKey(i),isSigner:!0,isWritable:!0},{pubkey:new g.PublicKey(i),isSigner:!0,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:new g.PublicKey(l),isSigner:!1,isWritable:!1},{pubkey:new g.PublicKey(w.ASSOCIATED_TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new g.PublicKey(w.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:g.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:new g.PublicKey(U),isSigner:!1,isWritable:!1}];return{swapInstruction:(0,v.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:A,userWalletAddress:i,inputTokenAccount:"buy"===e?i:n,solWrapperToken:null,steps:[{programAddress:U,accounts:E,extraData:m.Buffer.concat([m.Buffer.from([f]),m.Buffer.from([h])])}],rewardsData:c}),expectedAmountOut:T}};async function K({type:e,amount:t,tokenAddress:r,userTokenAccountAddress:i,blockhash:n,wallet:a,pairAddress:o,swapSettings:s,nonceInstruction:u,providers:l,rewardsData:c,liquidityTokenRaw:d,liquiditySolRaw:f,protocolDetails:p,tokenDecimals:h}){let m=[],b=p.tokenProgram===D.TokenProgram.TOKEN_2022?w.TOKEN_PROGRAM_2022_ADDRESS:w.TOKEN_PROGRAM_ADDRESS,g=await (0,E.addTokenAccountInstructions)({userWalletAddress:a.publicKey,tokenAddress:r,tokenProgramAddress:b,instructions:m,userTokenAccountAddress:i});"buy"===e&&(t=t.sub((0,E.calculateAxiomFee)(t)));let{swapInstruction:y,expectedAmountOut:A}=await q({type:e,amount:t,slippage:s.slippage,userAccountAddress:a.publicKey,userTokenAccountAddress:g.userTokenAccountAddress,pairAddress:o,tokenAddress:r,liquidityTokenRaw:d,liquiditySolRaw:f,tokenProgramAddress:b,rewardsData:c});return m.push(y),await (0,E.handleMassSwapTxCreation)({instructions:m,wallet:a,swapSettings:s,blockhash:n,nonceInstruction:u,providers:l,computeUnits:(0,E.calculateComputeUnits)({baseComputeUnits:15e4,isVanish:(0,E.isVanishSigner)(a)}),lookupTables:E.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:c.userRewardsPercentage??0,swapInfo:{amount:t,expectedAmountOut:A,tokenDecimals:h,sourceTokenAddress:"buy"===e?x.NATIVE_SOL_TOKEN_ADDRESS:r,targetTokenAddress:"buy"===e?r:x.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,E.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:!1,amount:t,expectedAmountOut:A,tokenDecimals:h})}})}e.s(["getVirtualCurveTaxPercentage",()=>Y,"swapQuote",()=>Q,"swapVirtualCurve",()=>V],432265);let W="dbcij3LWUppWqq96dh6gJWwBifmcGfLSB5D4DuSMaqN";async function V({type:e,amount:t,tokenAddress:r,userTokenAccountAddress:i,protocolDetails:n,blockhash:a,wallet:o,pairAddress:s,swapSettings:u,nonceInstruction:l,providers:c,sqrtPrice:d,usdPerSol:f,tokenDecimals:p,liquidityToken:h,liquiditySolRaw:m,rewardsData:b}){let g=[],y=await (0,E.addTokenAccountInstructions)({userWalletAddress:o.publicKey,tokenAddress:r,tokenProgramAddress:n.token_program,instructions:g,userTokenAccountAddress:i,wsolAmount:"buy"===e?t:(0,A.newSafeBN)(0),usdc:n.isUsdc,usd1:n.isUsd1}),w=(0,A.newSafeBN)(0);"buy"===e&&(w=(0,E.calculateAxiomFee)(t),t=t.sub(w));let{swapInstruction:v,expectedAmountOut:S}=await z({type:e,amount:t,slippage:u.slippage,userAccountAddress:o.publicKey,userTokenAccountAddress:y.userTokenAccountAddress,userSolAccountAddress:y.userWsolAccountAddress,userUsdcAccountAddress:y.userUsdcAccountAddress,userUsd1AccountAddress:y.userUsd1AccountAddress,protocolDetails:n,pairAddress:s,tokenAddress:r,sqrtPrice:d,usdPerSol:f,tokenDecimals:p,liquidityToken:h,liquiditySolRaw:m,rewardsData:b});return g.push(v),n.isUsdc&&(0,E.isVanishSigner)(o)&&(0,E.addTokenAccountCloseInstruction)(o.publicKey,y.userUsdcAccountAddress,g),n.isUsd1&&(0,E.isVanishSigner)(o)&&(0,E.addTokenAccountCloseInstruction)(o.publicKey,y.userUsd1AccountAddress,g),await (0,E.handleMassSwapTxCreation)({instructions:g,wallet:o,swapSettings:u,blockhash:a,nonceInstruction:l,providers:c,computeUnits:(0,E.calculateComputeUnits)({baseComputeUnits:15e4,isUsdc:n.isUsdc,isUsd1:n.isUsd1,isVanish:(0,E.isVanishSigner)(o)}),lookupTables:E.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:b.userRewardsPercentage,swapInfo:{amount:t,expectedAmountOut:S,tokenDecimals:p,sourceTokenAddress:"buy"===e?x.NATIVE_SOL_TOKEN_ADDRESS:r,targetTokenAddress:"buy"===e?r:x.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,E.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:n.isUsdc??!1,isUsd1:n.isUsd1??!1,amount:t,expectedAmountOut:S,tokenDecimals:p})}})}let G=async(e,t,r,i,n,a)=>{if("buy"===e){let e=Q(t,!1,i,n,a);if(e.lte((0,A.newSafeBN)(0)))throw Error("Would have received 0 tokens");return{minAmountOut:e.mul((0,A.newSafeBN)(1e4)).div((0,A.newSafeBN)(1e4+100*r)),expectedAmountOut:e}}if("sell"===e){let e=Q(t,!0,i,n,a);if(e.lte((0,A.newSafeBN)(0)))throw Error("Would have received 0 SOL");return{minAmountOut:e.mul((0,A.newSafeBN)(1e4-100*r)).div((0,A.newSafeBN)(1e4)),expectedAmountOut:e}}throw Error("Invalid type")},z=async({type:e,amount:t,slippage:r,userAccountAddress:i,userSolAccountAddress:n,userTokenAccountAddress:a,userUsdcAccountAddress:o,userUsd1AccountAddress:s,tokenAddress:u,protocolDetails:l,pairAddress:c,sqrtPrice:d,usdPerSol:f,tokenDecimals:p,liquidityToken:h,liquiditySolRaw:m,rewardsData:b})=>{let y=function(e){let{type:t,pairAddress:r,userAccountAddress:i,userQuoteAccountAddress:n,userTokenAccountAddress:a,protocolDetails:o,tokenAddress:s}=e,u=W,l=!1;1===o.collect_fee_mode&&"sell"!==t||o.isUsd1||(u=o.isUsdc?(0,w.getAxiomUsdcFeeAddress)():(0,w.getAxiomWSolFeeAddress)(),l=!0);let c=[{pubkey:new g.PublicKey("FhVo3mqL8PW5pH5U2CN4XE33DokiyZnUwuGpH2hmHLuM"),isSigner:!1,isWritable:!1},{pubkey:new g.PublicKey(o.config_address),isSigner:!1,isWritable:!1},{pubkey:new g.PublicKey(r),isSigner:!1,isWritable:!0},{pubkey:new g.PublicKey("buy"===t?n:a),isSigner:!1,isWritable:!0},{pubkey:new g.PublicKey("buy"===t?a:n),isSigner:!1,isWritable:!0},{pubkey:new g.PublicKey(o.base_vault),isSigner:!1,isWritable:!0},{pubkey:new g.PublicKey(o.quote_vault),isSigner:!1,isWritable:!0},{pubkey:new g.PublicKey(s),isSigner:!1,isWritable:!1},{pubkey:new g.PublicKey(o.isUsdc?w.USDC_TOKEN_ADDRESS:o.isUsd1?w.USD1_TOKEN_ADDRESS:w.WSOL_TOKEN_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new g.PublicKey(i),isSigner:!0,isWritable:!0},{pubkey:new g.PublicKey(o.token_program),isSigner:!1,isWritable:!1},{pubkey:new g.PublicKey(w.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new g.PublicKey(u),isSigner:!1,isWritable:l},{pubkey:new g.PublicKey("8Ks12pbrD6PXxfty1hVQiE9sc289zgU1zHkvXhrSdriF"),isSigner:!1,isWritable:!1},{pubkey:new g.PublicKey(W),isSigner:!1,isWritable:!1}];return 2===o.pool_fees.base_fee.fee_scheduler_mode&&c.push({pubkey:g.SYSVAR_INSTRUCTIONS_PUBKEY,isSigner:!1,isWritable:!1}),c}({type:e,pairAddress:c,userAccountAddress:i,userQuoteAccountAddress:l.isUsdc?o:l.isUsd1?s:n,userTokenAccountAddress:a,protocolDetails:l,tokenAddress:u});if(l.isUsdc)return(0,v.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usdc",userAccountAddress:i,userWsolAccountAddress:n,userUsdAccountAddress:o,userTokenAccountAddress:a,usdPerSol:f,amountIn:t,tokenDecimals:p,priceInUsdc:h,slippage:r,steps:[{programAddress:W,accounts:y}],rewardsData:b});if(l.isUsd1)return(0,v.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usd1",userAccountAddress:i,userWsolAccountAddress:n,userUsdAccountAddress:s,userTokenAccountAddress:a,usdPerSol:f,amountIn:t,tokenDecimals:p,priceInUsdc:h,slippage:r,steps:[{programAddress:W,accounts:y}],rewardsData:b});let{minAmountOut:x,expectedAmountOut:A}=await G(e,t,r,l,d,m);return{swapInstruction:(0,v.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:x,userWalletAddress:i,inputTokenAccount:"buy"===e?n:a,solWrapperToken:{type:"wsol",userWrappedTokenAccount:n},steps:[{programAddress:W,accounts:y}],rewardsData:b}),expectedAmountOut:A}};var j=((t=j||{})[t.Up=0]="Up",t[t.Down=1]="Down",t),H=((r=H||{})[r.BaseToQuote=0]="BaseToQuote",r[r.QuoteToBase=1]="QuoteToBase",r),X=((i=X||{})[i.Linear=0]="Linear",i[i.Exponential=1]="Exponential",i[i.RateLimiter=2]="RateLimiter",i);function Q(e,t,r,i,n){let a,s,u=+!t;if(0===r.collect_fee_mode)a=0!==u&&!0,s=!1;else if(1===r.collect_fee_mode)0===u?(a=!1,s=!1):(a=!1,s=!0);else throw Error("Invalid collect fee mode");return function(e,t,r,i,n,a){let s;if(s=r.feesOnInput?J(t,e,i):t,1===i&&e.quote_mint===w.WSOL_TOKEN_ADDRESS){let t=a.sub((0,A.newSafeBN)(3e10)),r=(0,A.newSafeBN)(e.migration_quote_threshold).sub(t);if(r.lte((0,A.newSafeBN)(0)))return(0,A.newSafeBN)(0);s=o.default.min(s,r)}let u=0===i?function(e,t,r){if(r.isZero())return(0,A.newSafeBN)(0);let i=(0,A.newSafeBN)(0),n=t,a=r,o=e.curve;for(let e=o.length-1;e>=0;e--){let t=(0,A.newSafeBN)(o[e].sqrt_price),r=(0,A.newSafeBN)(o[e].liquidity);if(!(t.isZero()||r.isZero())&&t.lt(n)){let r=(0,A.newSafeBN)(e+1<o.length?o[e+1].liquidity:o[e].liquidity);if(r.isZero())continue;let s=er(t,n,r,0);if(a.lt(s)){let e=en(n,r,a,!0),t=ei(e,n,r,1);i=i.add(t),n=e,a=(0,A.newSafeBN)(0);break}{let e=ei(t,n,r,1);i=i.add(e),n=t,a=a.sub(s)}}}let s=(0,A.newSafeBN)(o[0].liquidity);if(!a.isZero()&&!s.isZero()){let e=en(n,s,a,!0),t=ei(e,n,s,1);i=i.add(t),n=e}return i}(e,n,s):function(e,t,r){if(r.isZero())return(0,A.newSafeBN)(0);let i=(0,A.newSafeBN)(0),n=t,a=r,o=e.curve;for(let e=0;e<o.length;e++){let t=(0,A.newSafeBN)(o[e].sqrt_price),r=(0,A.newSafeBN)(o[e].liquidity);if(t.isZero()||r.isZero())break;if(!r.isZero()&&t.gt(n)){let e=ei(n,t,r,0);if(a.lt(e)){let e=en(n,r,a,!1),t=er(n,e,r,1);i=i.add(t),n=e,a=(0,A.newSafeBN)(0);break}{let o=er(n,t,r,1);i=i.add(o),n=t,a=a.sub(e)}}}if(!a.isZero())throw Error("Not enough liquidity to process the entire amount");return i}(e,n,s);return r.feesOnInput?u:J(u,e,i)}(r,e,{feesOnInput:a,feesOnBaseToken:s},u,i,n)}function J(e,t,r){let i=Z(t,void 0,r,e);i.gt((0,A.newSafeBN)($))&&(i=(0,A.newSafeBN)($));let n=ea(e,i,new o.default(1e9),0);return e.sub(n)}function Y(e,t){return Number(Z(e,t))/1e9*100}function Z(e,t,r,i){let n,a=e.pool_fees.base_fee,o=a.number_of_period,s=(0,A.newSafeBN)(a.reduction_factor),u=(0,A.newSafeBN)(a.cliff_fee_numerator),l=Number(a.period_frequency);if(0===l)return u;let c=0===e.activation_type?400:1e3,d=(0,A.newSafeBN)(Math.floor(Date.now()/c)),f=(0,A.newSafeBN)(Math.floor((e.created_at??0)/c));t=t??Date.now();let p=e.created_at??0;t<p&&t-p<-6e4&&(t=p),n=t<p?o:Math.min(parseInt(Math.floor(Math.floor((t-p)/c)/l).toString()),o);let h=a.fee_scheduler_mode;if(0===h){let e=(0,A.newSafeBN)(n).mul(s);return e.gt(u)?(0,A.newSafeBN)(0):u.sub(e)}if(1===h)return function(e,t,r){if(0===r)return e;if(1===r){let r=(0,A.newSafeBN)(et);return ea(e,r.sub(t),r,1)}let i=(0,A.newSafeBN)(et),n=(0,A.newSafeBN)(1).shln(64),a=t.shln(64).div(i),o=function(e,t,r=!0){let i=(0,A.newSafeBN)(1).shln(64);if(t.isZero())return i;if(e.isZero())return(0,A.newSafeBN)(0);if(e.eq(i))return i;let n=t.isNeg(),a=n?t.neg():t,o=i,s=e,u=a;for(;!u.isZero();)u.and((0,A.newSafeBN)(1)).eq((0,A.newSafeBN)(1))&&(o=o.mul(s).div(i)),s=s.mul(s).div(i),u=u.shrn(1);return n&&(o=i.mul(i).div(o)),r?o:o.div(i)}(n.sub(a),(0,A.newSafeBN)(r));return e.mul(o).div(n)}(u,s,n);if(2===h){let e=a.number_of_period,t=(0,A.newSafeBN)(a.period_frequency),n=(0,A.newSafeBN)(a.reduction_factor),o=0!==r&&d.gte(f)&&d.lte(f.add(t));if(d.lt(f))return(0,A.newSafeBN)(a.cliff_fee_numerator);let s=f.add(t);return d.gt(s)||!i?(0,A.newSafeBN)(a.cliff_fee_numerator):o?ee((0,A.newSafeBN)(a.cliff_fee_numerator),n,(0,A.newSafeBN)(e),i):(0,A.newSafeBN)(a.cliff_fee_numerator)}throw Error("Invalid fee scheduler mode")}let $=99e7,ee=(e,t,r,i)=>{let n,a,s;if(i.lte(t))return e;let u=i.sub(t),l=u.div(t),c=u.mod(t),d=(a=(0,A.newSafeBN)($).sub(e),s=ea(r,(0,A.newSafeBN)(1e9),(0,A.newSafeBN)(et),1),a.div(s)),f=ea(r,(0,A.newSafeBN)(1e9),(0,A.newSafeBN)(et),1),p=(0,A.newSafeBN)(1),h=(0,A.newSafeBN)(2);if(l.lt(d)){let r=e.add(e.mul(l)).add(f.mul(l).mul(l.add(p)).div(h)),i=e.add(f.mul(l.add(p))),a=t.mul(r),o=c.mul(i);n=a.add(o)}else{let r=e.add(e.mul(d)).add(f.mul(d).mul(d.add(p)).div(h)),i=(0,A.newSafeBN)($),a=t.mul(r),o=l.sub(d).mul(t).add(c).mul(i);n=a.add(o)}let m=(0,A.newSafeBN)(1e9),b=ea(n.add(m).sub(p).div(m),(0,A.newSafeBN)(1e9),i,0);return o.default.min(b,(0,A.newSafeBN)($))},et=1e4;function er(e,t,r,i){if(r.isZero())return(0,A.newSafeBN)(0);if(e.isZero()||t.isZero())throw Error("Sqrt price cannot be zero");return ea(r,t.sub(e),e.mul(t),i)}function ei(e,t,r,i){if(r.isZero())return(0,A.newSafeBN)(0);let n=t.sub(e),a=r.mul(n);if(0===i){let e=(0,A.newSafeBN)(1).shln(128);return a.add(e.sub((0,A.newSafeBN)(1))).div(e)}return a.shrn(128)}function en(e,t,r,i){if(e.isZero()||t.isZero())throw Error("Price or liquidity cannot be zero");return i?function(e,t,r){if(r.isZero())return e;let i=r.mul(e),n=t.add(i);return ea(t,e,n,0)}(e,t,r):function(e,t,r){if(r.isZero())return e;let i=r.shln(128).div(t);return e.add(i)}(e,t,r)}function ea(e,t,r,i){if(r.isZero())throw Error("MulDiv: division by zero");if(r.eq((0,A.newSafeBN)(1))||e.isZero()||t.isZero())return e.mul(t);let n=e.mul(t);return 0===i?n.add(r.sub((0,A.newSafeBN)(1))).div(r):n.div(r)}var eo=e.i(626914),es=e.i(767714);function eu({protocol:e,percentage:t,tokenBalance:r,liquidityNative:i,liquidityToken:s,decimals:m,protocolDetails:b,supplementalData:g,usdPerNative:y}){try{let x;if(0===t||0===r)return 0;let v=t/100,S=(0,A.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(10**m).toString()),T=(0,A.newSafeBN)((0,a.default)(s).multipliedBy(10**m).toString()),k=(0,A.newSafeBN)((0,a.default)(i).multipliedBy(1e9).toString());if("Pump V1"===e){let e=S;if(b.isMayhem){let t=(0,A.newSafeBN)(w.PUMP_V1_INITIAL_VIRTUAL_LIQUIDITY_TOKEN_RAW).sub(T);e=o.default.min(S,t)}x=e.mul(k).div(T.add(e)).mul((0,A.newSafeBN)(1e4-w.PUMP_FEE_BASIS_POINTS)).div((0,A.newSafeBN)(1e4)).add((0,A.newSafeBN)(1))}else if("Raydium V4"===e)if(b.isUsdc||b.isUsd1)x=(0,A.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(s).dividedBy(y).multipliedBy(1e9).toString());else{let e=new o.default(25),t=new o.default(1e4),r=ed(S.mul(e),t),i=S.sub(r),n=T.add(i);x=k.mul(i).div(n)}else if("Raydium CPMM"===e)if(b.isUsdc||b.isUsd1)x=(0,A.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(s).dividedBy(y).multipliedBy(1e9).toString());else{if(!b.tradeFeeRate)throw Error("tradeFeeRate is missing");let e=S.mul((0,A.newSafeBN)(b.tradeFeeRate)).div((0,A.newSafeBN)(1e6)),t=S.sub(e),r=T.mul(k),i=T.add(t),n=ed(r,i);x=k.sub(n)}else if("Meteora DLMM"===e||"Raydium CLMM"===e||"Orca"===e)x=b.isUsdc||b.isUsd1?(0,A.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(s).dividedBy(y).multipliedBy(1e9).toString()):(0,A.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(s).multipliedBy(1e9).toString());else if("Meteora AMM V2"===e)if(b.isUsdc||b.isUsd1)x=(0,A.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(s).dividedBy(y).multipliedBy(1e9).toString());else try{if((0,l.isMeteoraAmmV2Data)(g)){let e=(0,u.calculateSwapSync)({amount:S,type:"sell",supplementalData:g});x=(0,A.newSafeBN)(e.minimumAmountOut)}else x=(0,A.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(s).multipliedBy(1e9).toString())}catch(e){ef("Meteora AMM V2 Error",`(${r}, ${s}, ${t}, ${g})`,e),x=(0,A.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(s).multipliedBy(1e9).toString())}else if("Virtual Curve"===e)if(b.isUsdc||b.isUsd1)x=(0,A.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(s).dividedBy(y).multipliedBy(1e9).toString());else try{x=Q(S,!0,b,function(e){if(isNaN(e)||!isFinite(e))return(0,A.newSafeBN)(0);let t=Math.floor(Math.abs(e)),r=Math.abs(e)-t,i=(0,A.newSafeBN)(t).shln(64),n=(0,A.newSafeBN)(Math.round(0xffffffffffffffff*r)),a=i.add(n);return e<0&&(a=a.neg()),a}((0,a.default)(s).multipliedBy(1e9).dividedBy(10**m).sqrt().toNumber()),k)}catch(e){ef("Virtual Curve Error",`(${r}, ${s}, ${t}, ${b})`,e),x=(0,A.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(s).multipliedBy(1e9).toString())}else if("Pump AMM"===e)x=I(S,k,T,0).expectedLamportsFromSell;else if("LaunchLab"===e){let e=(0,f.getLaunchLabPoolInfo)(T,k,b);x=n.Curve.sellExactIn({poolInfo:e,amountA:S,protocolFeeRate:new o.default(f.LAUNCHLAB_PROTOCOL_FEE_RATE),platformFeeRate:new o.default(b.platformFee),curveType:0,shareFeeRate:new o.default(0)}).amountB}else if("Meteora AMM"===e)x=b.isUsdc||b.isUsd1?(0,A.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(s).dividedBy(y).multipliedBy(1e9).toString()):(0,p.computeOutMeteoraAmm)(S,T,k,b);else if("Boop"===e)x=(0,c.calculateExpectedOutputSolAmount)(S,T,k,b);else if("Moonshot"===e)x=(0,h.calculateExpectedOutputSolAmount)(S,T,k,b);else if("Vertigo"===e)try{let{amountA:e}=(0,es.vertigoTestSwapTokenForSol)(b,T,S);x=e}catch(e){ef("Vertigo Error",`(${r}, ${s}, ${t}, ${b})`,e),x=(0,A.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(i).dividedBy(s).multipliedBy(1e9).toString())}else if("Heaven"===e)x=(0,d.calculateSwapHeaven)("sell",S,b,T,k);else{if("Sugar"!==e)return 0;x=F("sell",S,T,k)}let P=(0,E.calculateAxiomFee)(x);return(0,A.fromSafeBN)(x.sub(P))/1e9}catch(n){return ef("Estimate Sell Error",`(${e}, ${t}, ${r}, ${i}, ${s}, ${m}, ${b}, ${y})`,n),0}}function el({protocol:e,targetNativeAmount:t,liquidityNative:r,liquidityToken:i,decimals:s,protocolDetails:u,usdPerNative:l}){try{let c;if(0>=Number(t))return(0,A.newSafeBN)(0);let m=(0,A.newSafeBN)((0,a.default)(t).multipliedBy(1e9).toString()),b=(0,A.newSafeBN)((0,a.default)(i).multipliedBy(10**s).toString()),g=(0,A.newSafeBN)((0,a.default)(r).multipliedBy(1e9).toString()),y=(0,A.newSafeBN)(w.BASIS_POINTS_DIVISOR),x=m.mul(y).div(y.sub((0,A.newSafeBN)(w.AXIOM_FEE_BASIS_POINTS)));if("Pump V1"===e){let e=x.mul((0,A.newSafeBN)(1e4)).div((0,A.newSafeBN)(1e4-w.PUMP_FEE_BASIS_POINTS)),t=e.mul(b),r=g.sub(e);c=t.div(r)}else if("Raydium V4"===e)if(u.isUsdc||u.isUsd1)c=(0,A.newSafeBN)((0,a.default)(t).dividedBy(i).multipliedBy(l).multipliedBy(10**s).toString());else{let e=new o.default(25),t=new o.default(1e4),r=x.mul(b),i=g.sub(x),n=i.sub(i.mul(e).div(t));c=r.div(n)}else if("Raydium CPMM"===e)if(u.isUsdc||u.isUsd1)c=(0,A.newSafeBN)((0,a.default)(t).dividedBy(i).multipliedBy(l).multipliedBy(10**s).toString());else{if(!u.tradeFeeRate)throw Error("tradeFeeRate is missing");let e=(0,A.newSafeBN)(u.tradeFeeRate),t=(0,A.newSafeBN)(1e6).sub(e),r=t.mul(g).mul(b),i=g.sub(x),n=r.div(i).sub(t.mul(b)),a=t.sub(e);c=n.div(a)}else if("Meteora DLMM"===e||"Virtual Curve"===e||"Raydium CLMM"===e||"Meteora AMM V2"===e||"Orca"===e)c=u.isUsdc||u.isUsd1?(0,A.newSafeBN)((0,a.default)(t).dividedBy(i).multipliedBy(l).multipliedBy(10**s).toString()):m.mul((0,A.newSafeBN)(10**s)).div((0,A.newSafeBN)((0,a.default)(i).multipliedBy(1e9).toString()));else if("Pump AMM"===e){let e=x.mul((0,A.newSafeBN)(1e4)).add((0,A.newSafeBN)(1e4-_-1)).div((0,A.newSafeBN)(1e4-_));c=b.mul(e).add(g.sub(e).subn(1)).div(g.sub(e))}else if("LaunchLab"===e){let e=(0,f.getLaunchLabPoolInfo)(b,g,u);c=n.Curve.sellExactOut({poolInfo:e,amountB:m,protocolFeeRate:new o.default(f.LAUNCHLAB_PROTOCOL_FEE_RATE),platformFeeRate:new o.default(u.platformFee),curveType:0,shareFeeRate:new o.default(0)}).amountA}else if("Meteora AMM"===e)c=u.isUsdc||u.isUsd1?(0,A.newSafeBN)((0,a.default)(t).dividedBy(i).multipliedBy(l).multipliedBy(10**s).toString()):(0,p.computeInMeteoraAmm)(m,b,g,u);else if("Boop"===e)c=m.mul((0,A.newSafeBN)(10**s)).div((0,A.newSafeBN)(1e9*(0,eo.default)({protocol:e,liquidityNative:Number(r),liquidityToken:Number(i),protocolDetails:u})));else if("Moonshot"===e)c=(0,h.calculateTokensForExpectedSolAmount)(m,b,g,u);else if("Vertigo"===e){let{amountB:e}=(0,es.vertigoTestSwapSolForToken)(u,b,m);c=e}else if("Heaven"===e)c=(0,d.calculateSwapHeaven)("inverse-sell",m,u,b,g);else if("Sugar"===e)c=F("inverse-sell",m,b,g);else throw Error("Unsupported protocol for sell by SOL, try using % instead");return c}catch(n){return ef("Estimate Sell Inverse Error",`(${e}, ${t}, ${r}, ${i}, ${s}, ${u}, ${l})`,n),(0,A.newSafeBN)(0)}}function ec(e,t,r){return"buy"===r?e.times(1e4).div(1e4+100*t).integerValue(a.default.ROUND_FLOOR):e.times(1e4-100*Math.min(t,100)).div(1e4).integerValue(a.default.ROUND_FLOOR)}function ed(e,t){let r=e.div(t);return e.mod(t).gt((0,A.newSafeBN)(0))&&(r=r.add((0,A.newSafeBN)(1))),r}let ef=async(e,t,r)=>{try{let i=r instanceof Error?`${r.name}
Message: ${r.message}
Stack: ${r.stack}`:JSON.stringify(r);await s.axiomApiV2.post("/report-error",{message:`${e}
${t}
${i}`})}catch(e){console.error("Failed to report error:",e)}}},735013,e=>{"use strict";var t=e.i(639372);let r=(0,e.i(265172).atomWithReset)([]),i=(0,t.atom)(e=>e(r).filter(e=>"Active"===e.status).length);e.s(["isUsdOrder",0,e=>e.isUsdc||e.isUsd1||!1,"numActiveOrdersAtom",0,i,"ordersAtom",0,r])},875353,e=>{"use strict";var t,r,i,n;let a=!1,o=!1,s={debug:1,default:2,info:2,warning:3,error:4,off:5},u=s.default,l=null,c=function(){try{let e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test"!=="test".normalize(t))throw Error("bad normalize")}catch(r){e.push(t)}}),e.length)throw Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw Error("broken implementation")}catch(e){return e.message}return null}();(i=t||(t={})).DEBUG="DEBUG",i.INFO="INFO",i.WARNING="WARNING",i.ERROR="ERROR",i.OFF="OFF",(n=r||(r={})).UNKNOWN_ERROR="UNKNOWN_ERROR",n.NOT_IMPLEMENTED="NOT_IMPLEMENTED",n.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",n.NETWORK_ERROR="NETWORK_ERROR",n.SERVER_ERROR="SERVER_ERROR",n.TIMEOUT="TIMEOUT",n.BUFFER_OVERRUN="BUFFER_OVERRUN",n.NUMERIC_FAULT="NUMERIC_FAULT",n.MISSING_NEW="MISSING_NEW",n.INVALID_ARGUMENT="INVALID_ARGUMENT",n.MISSING_ARGUMENT="MISSING_ARGUMENT",n.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",n.CALL_EXCEPTION="CALL_EXCEPTION",n.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",n.NONCE_EXPIRED="NONCE_EXPIRED",n.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",n.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",n.TRANSACTION_REPLACED="TRANSACTION_REPLACED",n.ACTION_REJECTED="ACTION_REJECTED";let d="0123456789abcdef";class f{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){let r=e.toLowerCase();null==s[r]&&this.throwArgumentError("invalid log level name","logLevel",e),u>s[r]||console.log.apply(console,t)}debug(...e){this._log(f.levels.DEBUG,e)}info(...e){this._log(f.levels.INFO,e)}warn(...e){this._log(f.levels.WARNING,e)}makeError(e,t,i){if(o)return this.makeError("censored error",t,{});t||(t=f.errors.UNKNOWN_ERROR),i||(i={});let n=[];Object.keys(i).forEach(e=>{let t=i[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=d[t[e]>>4],r+=d[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(t){n.push(e+"="+JSON.stringify(i[e].toString()))}}),n.push(`code=${t}`),n.push(`version=${this.version}`);let a=e,s="";switch(t){case r.NUMERIC_FAULT:{s="NUMERIC_FAULT";let t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":s+="-"+t;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case r.CALL_EXCEPTION:case r.INSUFFICIENT_FUNDS:case r.MISSING_NEW:case r.NONCE_EXPIRED:case r.REPLACEMENT_UNDERPRICED:case r.TRANSACTION_REPLACED:case r.UNPREDICTABLE_GAS_LIMIT:s=t}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),n.length&&(e+=" ("+n.join(", ")+")");let u=Error(e);return u.reason=a,u.code=t,Object.keys(i).forEach(function(e){u[e]=i[e]}),u}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,f.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,i){e||this.throwError(t,r,i)}assertArgument(e,t,r,i){e||this.throwArgumentError(t,r,i)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),c&&this.throwError("platform missing String.prototype.normalize",f.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:c})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=0x1fffffffffffff)&&this.throwError(t,f.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,f.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,f.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,f.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||null==e)&&this.throwError("missing new",f.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",f.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||null==e)&&this.throwError("missing new",f.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return l||(l=new f("logger/5.8.0")),l}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",f.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),a){if(!e)return;this.globalLogger().throwError("error censorship permanent",f.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}o=!!e,a=!!t}static setLogLevel(e){let t=s[e.toLowerCase()];null==t?f.globalLogger().warn("invalid log level - "+e):u=t}static from(e){return new f(e)}}f.errors=r,f.levels=t,e.s(["ErrorCode",()=>r,"LogLevel",()=>t,"Logger",()=>f],875353)},403011,e=>{"use strict";let t=new(e.i(875353)).Logger("bytes/5.8.0");function r(e){return!!e.toHexString}function i(e){return e.slice||(e.slice=function(){let t=Array.prototype.slice.call(arguments);return i(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function n(e){return d(e)&&!(e.length%2)||o(e)}function a(e){return"number"==typeof e&&e==e&&e%1==0}function o(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e||!a(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){let r=e[t];if(!a(r)||r<0||r>=256)return!1}return!0}function s(e,n){if(n||(n={}),"number"==typeof e){t.checkSafeUint53(e,"invalid arrayify value");let r=[];for(;e;)r.unshift(255&e),e=parseInt(String(e/256));return 0===r.length&&r.push(0),i(new Uint8Array(r))}if(n.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),r(e)&&(e=e.toHexString()),d(e)){let r=e.substring(2);r.length%2&&("left"===n.hexPad?r="0"+r:"right"===n.hexPad?r+="0":t.throwArgumentError("hex data is odd-length","value",e));let a=[];for(let e=0;e<r.length;e+=2)a.push(parseInt(r.substring(e,e+2),16));return i(new Uint8Array(a))}return o(e)?i(new Uint8Array(e)):t.throwArgumentError("invalid arrayify value","value",e)}function u(e){let t=e.map(e=>s(e)),r=new Uint8Array(t.reduce((e,t)=>e+t.length,0));return t.reduce((e,t)=>(r.set(t,e),e+t.length),0),i(r)}function l(e){let t=s(e);if(0===t.length)return t;let r=0;for(;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function c(e,r){(e=s(e)).length>r&&t.throwArgumentError("value out of range","value",arguments[0]);let n=new Uint8Array(r);return n.set(e,r-e.length),i(n)}function d(e,t){return"string"==typeof e&&!!e.match(/^0x[0-9A-Fa-f]*$/)&&(!t||e.length===2+2*t)}let f="0123456789abcdef";function p(e,i){if(i||(i={}),"number"==typeof e){t.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=f[15&e]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(i.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),r(e))return e.toHexString();if(d(e))return e.length%2&&("left"===i.hexPad?e="0x0"+e.substring(2):"right"===i.hexPad?e+="0":t.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(o(e)){let t="0x";for(let r=0;r<e.length;r++){let i=e[r];t+=f[(240&i)>>4]+f[15&i]}return t}return t.throwArgumentError("invalid hexlify value","value",e)}function h(e){if("string"!=typeof e)e=p(e);else if(!d(e)||e.length%2)return null;return(e.length-2)/2}function m(e,r,i){return("string"!=typeof e?e=p(e):(!d(e)||e.length%2)&&t.throwArgumentError("invalid hexData","value",e),r=2+2*r,null!=i)?"0x"+e.substring(r,2+2*i):"0x"+e.substring(r)}function b(e){let t="0x";return e.forEach(e=>{t+=p(e).substring(2)}),t}function g(e){let t=y(p(e,{hexPad:"left"}));return"0x"===t?"0x0":t}function y(e){"string"!=typeof e&&(e=p(e)),d(e)||t.throwArgumentError("invalid hex string","value",e),e=e.substring(2);let r=0;for(;r<e.length&&"0"===e[r];)r++;return"0x"+e.substring(r)}function x(e,r){for("string"!=typeof e?e=p(e):d(e)||t.throwArgumentError("invalid hex string","value",e),e.length>2*r+2&&t.throwArgumentError("value out of range","value",arguments[1]);e.length<2*r+2;)e="0x0"+e.substring(2);return e}function A(e){let r={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(n(e)){let i=s(e);64===i.length?(r.v=27+(i[32]>>7),i[32]&=127,r.r=p(i.slice(0,32)),r.s=p(i.slice(32,64))):65===i.length?(r.r=p(i.slice(0,32)),r.s=p(i.slice(32,64)),r.v=i[64]):t.throwArgumentError("invalid signature string","signature",e),r.v<27&&(0===r.v||1===r.v?r.v+=27:t.throwArgumentError("signature invalid v byte","signature",e)),r.recoveryParam=1-r.v%2,r.recoveryParam&&(i[32]|=128),r._vs=p(i.slice(32,64))}else{if(r.r=e.r,r.s=e.s,r.v=e.v,r.recoveryParam=e.recoveryParam,r._vs=e._vs,null!=r._vs){let i=c(s(r._vs),32);r._vs=p(i);let n=+(i[0]>=128);null==r.recoveryParam?r.recoveryParam=n:r.recoveryParam!==n&&t.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),i[0]&=127;let a=p(i);null==r.s?r.s=a:r.s!==a&&t.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==r.recoveryParam)null==r.v?t.throwArgumentError("signature missing v and recoveryParam","signature",e):0===r.v||1===r.v?r.recoveryParam=r.v:r.recoveryParam=1-r.v%2;else if(null==r.v)r.v=27+r.recoveryParam;else{let i=0===r.v||1===r.v?r.v:1-r.v%2;r.recoveryParam!==i&&t.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=r.r&&d(r.r)?r.r=x(r.r,32):t.throwArgumentError("signature missing or invalid r","signature",e),null!=r.s&&d(r.s)?r.s=x(r.s,32):t.throwArgumentError("signature missing or invalid s","signature",e);let i=s(r.s);i[0]>=128&&t.throwArgumentError("signature s out of range","signature",e),r.recoveryParam&&(i[0]|=128);let n=p(i);r._vs&&(d(r._vs)||t.throwArgumentError("signature invalid _vs","signature",e),r._vs=x(r._vs,32)),null==r._vs?r._vs=n:r._vs!==n&&t.throwArgumentError("signature _vs mismatch v and s","signature",e)}return r.yParityAndS=r._vs,r.compact=r.r+r.yParityAndS.substring(2),r}function w(e){return p(u([(e=A(e)).r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}e.s(["arrayify",()=>s,"concat",()=>u,"hexConcat",()=>b,"hexDataLength",()=>h,"hexDataSlice",()=>m,"hexStripZeros",()=>y,"hexValue",()=>g,"hexZeroPad",()=>x,"hexlify",()=>p,"isBytes",()=>o,"isBytesLike",()=>n,"isHexString",()=>d,"joinSignature",()=>w,"splitSignature",()=>A,"stripZeros",()=>l,"zeroPad",()=>c],403011)},839341,994284,e=>{"use strict";var t=e.i(659341),r=e.i(403011),i=e.i(875353);let n="bignumber/5.8.0";e.s(["version",0,n],994284);var a=t.default.BN;let o=new i.Logger(n),s={};function u(e){return null!=e&&(c.isBigNumber(e)||"number"==typeof e&&e%1==0||"string"==typeof e&&!!e.match(/^-?[0-9]+$/)||(0,r.isHexString)(e)||"bigint"==typeof e||(0,r.isBytes)(e))}let l=!1;class c{constructor(e,t){e!==s&&o.throwError("cannot call constructor directly; use BigNumber.from",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return f(p(this).fromTwos(e))}toTwos(e){return f(p(this).toTwos(e))}abs(){return"-"===this._hex[0]?c.from(this._hex.substring(1)):this}add(e){return f(p(this).add(p(e)))}sub(e){return f(p(this).sub(p(e)))}div(e){return c.from(e).isZero()&&h("division-by-zero","div"),f(p(this).div(p(e)))}mul(e){return f(p(this).mul(p(e)))}mod(e){let t=p(e);return t.isNeg()&&h("division-by-zero","mod"),f(p(this).umod(t))}pow(e){let t=p(e);return t.isNeg()&&h("negative-power","pow"),f(p(this).pow(t))}and(e){let t=p(e);return(this.isNegative()||t.isNeg())&&h("unbound-bitwise-result","and"),f(p(this).and(t))}or(e){let t=p(e);return(this.isNegative()||t.isNeg())&&h("unbound-bitwise-result","or"),f(p(this).or(t))}xor(e){let t=p(e);return(this.isNegative()||t.isNeg())&&h("unbound-bitwise-result","xor"),f(p(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&h("negative-width","mask"),f(p(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&h("negative-width","shl"),f(p(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&h("negative-width","shr"),f(p(this).shrn(e))}eq(e){return p(this).eq(p(e))}lt(e){return p(this).lt(p(e))}lte(e){return p(this).lte(p(e))}gt(e){return p(this).gt(p(e))}gte(e){return p(this).gte(p(e))}isNegative(){return"-"===this._hex[0]}isZero(){return p(this).isZero()}toNumber(){try{return p(this).toNumber()}catch(e){h("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return o.throwError("this platform does not support BigInt",i.Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?l||(l=!0,o.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?o.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",i.Logger.errors.UNEXPECTED_ARGUMENT,{}):o.throwError("BigNumber.toString does not accept parameters",i.Logger.errors.UNEXPECTED_ARGUMENT,{})),p(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof c)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new c(s,d(e)):e.match(/^-?[0-9]+$/)?new c(s,d(new a(e))):o.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&h("underflow","BigNumber.from",e),(e>=0x1fffffffffffff||e<=-0x1fffffffffffff)&&h("overflow","BigNumber.from",e),c.from(String(e));if("bigint"==typeof e)return c.from(e.toString());if((0,r.isBytes)(e))return c.from((0,r.hexlify)(e));if(e)if(e.toHexString){let t=e.toHexString();if("string"==typeof t)return c.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&((0,r.isHexString)(t)||"-"===t[0]&&(0,r.isHexString)(t.substring(1))))return c.from(t)}return o.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function d(e){if("string"!=typeof e)return d(e.toString(16));if("-"===e[0])return("-"===(e=e.substring(1))[0]&&o.throwArgumentError("invalid hex","value",e),"0x00"===(e=d(e)))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function f(e){return c.from(d(e))}function p(e){let t=c.from(e).toHexString();return"-"===t[0]?new a("-"+t.substring(3),16):new a(t.substring(2),16)}function h(e,t,r){let n={fault:e,operation:t};return null!=r&&(n.value=r),o.throwError(e,i.Logger.errors.NUMERIC_FAULT,n)}function m(e){return new a(e,36).toString(16)}function b(e){return new a(e,16).toString(36)}e.s(["BigNumber",()=>c,"_base16To36",()=>b,"_base36To16",()=>m,"isBigNumberish",()=>u],839341)},526579,e=>{"use strict";let t=new(e.i(875353)).Logger("properties/5.8.0");function r(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function i(e,t){for(let r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function n(e){var t,r,i,n;return t=this,r=void 0,i=void 0,n=function*(){let t=Object.keys(e).map(t=>Promise.resolve(e[t]).then(e=>({key:t,value:e})));return(yield Promise.all(t)).reduce((e,t)=>(e[t.key]=t.value,e),{})},new(i||(i=Promise))(function(e,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(o,s)}u((n=n.apply(t,r||[])).next())})}function a(e,r){e&&"object"==typeof e||t.throwArgumentError("invalid object","object",e),Object.keys(e).forEach(i=>{r[i]||t.throwArgumentError("invalid object key - "+i,"transaction:"+i,e)})}function o(e){let t={};for(let r in e)t[r]=e[r];return t}let s={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function u(e){if(function e(r){if(null==r||s[typeof r])return!0;if(Array.isArray(r)||"object"==typeof r){if(!Object.isFrozen(r))return!1;let t=Object.keys(r);for(let i=0;i<t.length;i++){let n=null;try{n=r[t[i]]}catch(e){continue}if(!e(n))return!1}return!0}return t.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}(e))return e;if(Array.isArray(e))return Object.freeze(e.map(e=>u(e)));if("object"==typeof e){let t={};for(let i in e){let n=e[i];void 0!==n&&r(t,i,u(n))}return t}return t.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}class l{constructor(e){for(const t in e)this[t]=u(e[t])}}e.s(["Description",()=>l,"checkProperties",()=>a,"deepCopy",()=>u,"defineReadOnly",()=>r,"getStatic",()=>i,"resolveProperties",()=>n,"shallowCopy",()=>o],526579)},326953,e=>{"use strict";e.s(["version",0,"abi/5.8.0"])},791078,e=>{"use strict";var t=e.i(839341),r=e.i(526579),i=e.i(875353),n=e.i(326953);let a=new i.Logger(n.version),o={},s={calldata:!0,memory:!0,storage:!0},u={calldata:!0,memory:!0};function l(e,t){if("bytes"===e||"string"===e){if(s[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&u[t])return!0;return(s[t]||"payable"===t)&&a.throwArgumentError("invalid modifier","name",t),!1}function c(e,t){for(let i in t)(0,r.defineReadOnly)(e,i,t[i])}let d=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),f=new RegExp(/^(.*)\[([0-9]*)\]$/);class p{constructor(e,t){e!==o&&a.throwError("use fromString",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),c(this,t);let r=this.type.match(f);r?c(this,{arrayLength:parseInt(r[2]||"-1"),arrayChildren:p.fromObject({type:r[1],components:this.components}),baseType:"array"}):c(this,{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=d.sighash),d[e]||a.throwArgumentError("invalid format type","format",e),e===d.json){let t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(t)}let t="";return"array"===this.baseType?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==d.sighash&&(t+=this.type),t+="("+this.components.map(t=>t.format(e)).join(e===d.full?", ":",")+")"):t+=this.type,e!==d.sighash&&(!0===this.indexed&&(t+=" indexed"),e===d.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return"string"==typeof e?p.fromString(e,t):p.fromObject(e)}static fromObject(e){return p.isParamType(e)?e:new p(o,{name:e.name||null,type:T(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(p.fromObject):null})}static fromString(e,t){var r;return r=function(e,t){let r=e;function i(t){a.throwArgumentError(`unexpected character at position ${t}`,"param",e)}function n(e){let r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");let o={type:"",name:"",state:{allowType:!0}},s=o;for(let r=0;r<e.length;r++){let a=e[r];switch(a){case"(":s.state.allowType&&""===s.type?s.type="tuple":s.state.allowParams||i(r),s.state.allowType=!1,s.type=T(s.type),s.components=[n(s)],s=s.components[0];break;case")":delete s.state,"indexed"===s.name&&(t||i(r),s.indexed=!0,s.name=""),l(s.type,s.name)&&(s.name=""),s.type=T(s.type);let o=s;(s=s.parent)||i(r),delete o.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,"indexed"===s.name&&(t||i(r),s.indexed=!0,s.name=""),l(s.type,s.name)&&(s.name=""),s.type=T(s.type);let u=n(s.parent);s.parent.components.push(u),delete s.parent,s=u;break;case" ":s.state.allowType&&""!==s.type&&(s.type=T(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&""!==s.name&&("indexed"===s.name?(t||i(r),s.indexed&&i(r),s.indexed=!0,s.name=""):l(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||i(r),s.type+=a,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||i(r),s.type+=a,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=a,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=a,delete s.state.allowArray):s.state.readArray?s.type+=a:i(r)}}return s.parent&&a.throwArgumentError("unexpected eof","param",e),delete o.state,"indexed"===s.name?(t||i(r.length-7),s.indexed&&i(r.length-7),s.indexed=!0,s.name=""):l(s.type,s.name)&&(s.name=""),o.type=T(o.type),o}(e,!!t),p.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components})}static isParamType(e){return!!(null!=e&&e._isParamType)}}function h(e,t){return(function(e){e=e.trim();let t=[],r="",i=0;for(let n=0;n<e.length;n++){let o=e[n];","===o&&0===i?(t.push(r),r=""):(r+=o,"("===o?i++:")"===o&&-1==--i&&a.throwArgumentError("unbalanced parenthesis","value",e))}return r&&t.push(r),t})(e).map(e=>p.fromString(e,t))}class m{constructor(e,t){e!==o&&a.throwError("use a static from method",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),c(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return m.isFragment(e)?e:"string"==typeof e?m.fromString(e):m.fromObject(e)}static fromObject(e){if(m.isFragment(e))return e;switch(e.type){case"function":return w.fromObject(e);case"event":return b.fromObject(e);case"constructor":return A.fromObject(e);case"error":return S.fromObject(e);case"fallback":case"receive":return null}return a.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?b.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?w.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?A.fromString(e.trim()):"error"===e.split(" ")[0]?S.fromString(e.substring(5).trim()):a.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class b extends m{format(e){if(e||(e=d.sighash),d[e]||a.throwArgumentError("invalid format type","format",e),e===d.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==d.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===d.full?", ":",")+") ",e!==d.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return"string"==typeof e?b.fromString(e):b.fromObject(e)}static fromObject(e){return b.isEventFragment(e)?e:("event"!==e.type&&a.throwArgumentError("invalid event object","value",e),new b(o,{name:k(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(p.fromObject):[],type:"event"}))}static fromString(e){let t=e.match(P);t||a.throwArgumentError("invalid event string","value",e);let r=!1;return t[3].split(" ").forEach(e=>{switch(e.trim()){case"anonymous":r=!0;break;case"":break;default:a.warn("unknown modifier: "+e)}}),b.fromObject({name:t[1].trim(),anonymous:r,inputs:h(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&"event"===e.type}}function g(e,r){r.gas=null;let i=e.split("@");return 1!==i.length?(i.length>2&&a.throwArgumentError("invalid human-readable ABI signature","value",e),i[1].match(/^[0-9]+$/)||a.throwArgumentError("invalid human-readable ABI signature gas","value",e),r.gas=t.BigNumber.from(i[1]),i[0]):e}function y(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach(e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}})}function x(e){let t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&a.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&a.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||a.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&a.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&a.throwArgumentError("unable to determine stateMutability","value",e),t}class A extends m{format(e){if(e||(e=d.sighash),d[e]||a.throwArgumentError("invalid format type","format",e),e===d.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});e===d.sighash&&a.throwError("cannot format a constructor for sighash",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(t=>t.format(e)).join(e===d.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}static from(e){return"string"==typeof e?A.fromString(e):A.fromObject(e)}static fromObject(e){if(A.isConstructorFragment(e))return e;"constructor"!==e.type&&a.throwArgumentError("invalid constructor object","value",e);let r=x(e);return r.constant&&a.throwArgumentError("constructor cannot be constant","value",e),new A(o,{name:null,type:e.type,inputs:e.inputs?e.inputs.map(p.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?t.BigNumber.from(e.gas):null})}static fromString(e){let t={type:"constructor"},r=(e=g(e,t)).match(P);return r&&"constructor"===r[1].trim()||a.throwArgumentError("invalid constructor string","value",e),t.inputs=h(r[2].trim(),!1),y(r[3].trim(),t),A.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&"constructor"===e.type}}class w extends A{format(e){if(e||(e=d.sighash),d[e]||a.throwArgumentError("invalid format type","format",e),e===d.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==d.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===d.full?", ":",")+") ",e!==d.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(t=>t.format(e)).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return"string"==typeof e?w.fromString(e):w.fromObject(e)}static fromObject(e){if(w.isFunctionFragment(e))return e;"function"!==e.type&&a.throwArgumentError("invalid function object","value",e);let r=x(e);return new w(o,{type:e.type,name:k(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(p.fromObject):[],outputs:e.outputs?e.outputs.map(p.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?t.BigNumber.from(e.gas):null})}static fromString(e){let t={type:"function"},r=(e=g(e,t)).split(" returns ");r.length>2&&a.throwArgumentError("invalid function string","value",e);let i=r[0].match(P);if(i||a.throwArgumentError("invalid function signature","value",e),t.name=i[1].trim(),t.name&&k(t.name),t.inputs=h(i[2],!1),y(i[3].trim(),t),r.length>1){let i=r[1].match(P);(""!=i[1].trim()||""!=i[3].trim())&&a.throwArgumentError("unexpected tokens","value",e),t.outputs=h(i[2],!1)}else t.outputs=[];return w.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&"function"===e.type}}function v(e){let t=e.format();return("Error(string)"===t||"Panic(uint256)"===t)&&a.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e),e}class S extends m{format(e){if(e||(e=d.sighash),d[e]||a.throwArgumentError("invalid format type","format",e),e===d.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==d.sighash&&(t+="error "),(t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===d.full?", ":",")+") ").trim()}static from(e){return"string"==typeof e?S.fromString(e):S.fromObject(e)}static fromObject(e){return S.isErrorFragment(e)?e:("error"!==e.type&&a.throwArgumentError("invalid error object","value",e),v(new S(o,{type:e.type,name:k(e.name),inputs:e.inputs?e.inputs.map(p.fromObject):[]})))}static fromString(e){let t={type:"error"},r=e.match(P);return r||a.throwArgumentError("invalid error signature","value",e),t.name=r[1].trim(),t.name&&k(t.name),t.inputs=h(r[2],!1),v(S.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&"error"===e.type}}function T(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}let E=RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function k(e){return e&&e.match(E)||a.throwArgumentError(`invalid identifier "${e}"`,"value",e),e}let P=RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");e.s(["ConstructorFragment",()=>A,"ErrorFragment",()=>S,"EventFragment",()=>b,"FormatTypes",0,d,"Fragment",()=>m,"FunctionFragment",()=>w,"ParamType",()=>p])},223439,(e,t,r)=>{var i=e.i(247167);!function(){"use strict";var r="input is invalid type",n="object"==typeof window,a=n?window:{};a.JS_SHA3_NO_WINDOW&&(n=!1);var o=!n&&"object"==typeof self;!a.JS_SHA3_NO_NODE_JS&&"object"==typeof i.default&&i.default.versions&&i.default.versions.node?a=e.g:o&&(a=self);var s=!a.JS_SHA3_NO_COMMON_JS&&t.exports,u="function"==typeof define&&define.amd,l=!a.JS_SHA3_NO_ARRAY_BUFFER&&"u">typeof ArrayBuffer,c="0123456789abcdef".split(""),d=[4,1024,262144,0x4000000],f=[0,8,16,24],p=[1,0,32898,0,32906,0x80000000,0x80008000,0x80000000,32907,0,0x80000001,0,0x80008081,0x80000000,32777,0x80000000,138,0,136,0,0x80008009,0,0x8000000a,0,0x8000808b,0,139,0x80000000,32905,0x80000000,32771,0x80000000,32770,0x80000000,128,0x80000000,32778,0,0x8000000a,0x80000000,0x80008081,0x80000000,32896,0x80000000,0x80000001,0,0x80008008,0x80000000],h=[224,256,384,512],m=[128,256],b=["hex","buffer","arrayBuffer","array","digest"],g={128:168,256:136};(a.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),l&&(a.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var y=function(e,t,r){return function(i){return new C(e,t,e).update(i)[r]()}},x=function(e,t,r){return function(i,n){return new C(e,t,n).update(i)[r]()}},A=function(e,t,r){return function(t,i,n,a){return E["cshake"+e].update(t,i,n,a)[r]()}},w=function(e,t,r){return function(t,i,n,a){return E["kmac"+e].update(t,i,n,a)[r]()}},v=function(e,t,r,i){for(var n=0;n<b.length;++n){var a=b[n];e[a]=t(r,i,a)}return e},S=function(e,t){var r=y(e,t,"hex");return r.create=function(){return new C(e,t,e)},r.update=function(e){return r.create().update(e)},v(r,y,e,t)},T=[{name:"keccak",padding:[1,256,65536,0x1000000],bits:h,createMethod:S},{name:"sha3",padding:[6,1536,393216,0x6000000],bits:h,createMethod:S},{name:"shake",padding:[31,7936,2031616,0x1f000000],bits:m,createMethod:function(e,t){var r=x(e,t,"hex");return r.create=function(r){return new C(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},v(r,x,e,t)}},{name:"cshake",padding:d,bits:m,createMethod:function(e,t){var r=g[e],i=A(e,t,"hex");return i.create=function(i,n,a){return n||a?new C(e,t,i).bytepad([n,a],r):E["shake"+e].create(i)},i.update=function(e,t,r,n){return i.create(t,r,n).update(e)},v(i,A,e,t)}},{name:"kmac",padding:d,bits:m,createMethod:function(e,t){var r=g[e],i=w(e,t,"hex");return i.create=function(i,n,a){return new O(e,t,n).bytepad(["KMAC",a],r).bytepad([i],r)},i.update=function(e,t,r,n){return i.create(e,r,n).update(t)},v(i,w,e,t)}}],E={},k=[],P=0;P<T.length;++P)for(var _=T[P],I=_.bits,N=0;N<I.length;++N){var R=_.name+"_"+I[N];if(k.push(R),E[R]=_.createMethod(I[N],_.padding),"sha3"!==_.name){var B=_.name+I[N];k.push(B),E[B]=E[R]}}function C(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var i=0;i<50;++i)this.s[i]=0}function O(e,t,r){C.call(this,e,t,r)}C.prototype.update=function(e){if(this.finalized)throw Error("finalize already called");var t,i=typeof e;if("string"!==i){if("object"===i){if(null===e)throw Error(r);else if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!l||!ArrayBuffer.isView(e)))throw Error(r)}else throw Error(r);t=!0}for(var n,a,o=this.blocks,s=this.byteCount,u=e.length,c=this.blockCount,d=0,p=this.s;d<u;){if(this.reset)for(n=1,this.reset=!1,o[0]=this.block;n<c+1;++n)o[n]=0;if(t)for(n=this.start;d<u&&n<s;++d)o[n>>2]|=e[d]<<f[3&n++];else for(n=this.start;d<u&&n<s;++d)(a=e.charCodeAt(d))<128?o[n>>2]|=a<<f[3&n++]:(a<2048?o[n>>2]|=(192|a>>6)<<f[3&n++]:(a<55296||a>=57344?o[n>>2]|=(224|a>>12)<<f[3&n++]:(a=65536+((1023&a)<<10|1023&e.charCodeAt(++d)),o[n>>2]|=(240|a>>18)<<f[3&n++],o[n>>2]|=(128|a>>12&63)<<f[3&n++]),o[n>>2]|=(128|a>>6&63)<<f[3&n++]),o[n>>2]|=(128|63&a)<<f[3&n++]);if(this.lastByteIndex=n,n>=s){for(this.start=n-s,this.block=o[c],n=0;n<c;++n)p[n]^=o[n];D(p),this.reset=!0}else this.start=n}return this},C.prototype.encode=function(e,t){var r=255&e,i=1,n=[r];for(e>>=8,r=255&e;r>0;)n.unshift(r),e>>=8,r=255&e,++i;return t?n.push(i):n.unshift(i),this.update(n),n.length},C.prototype.encodeString=function(e){var t,i=typeof e;if("string"!==i){if("object"===i){if(null===e)throw Error(r);else if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!l||!ArrayBuffer.isView(e)))throw Error(r)}else throw Error(r);t=!0}var n=0,a=e.length;if(t)n=a;else for(var o=0;o<e.length;++o){var s=e.charCodeAt(o);s<128?n+=1:s<2048?n+=2:s<55296||s>=57344?n+=3:(s=65536+((1023&s)<<10|1023&e.charCodeAt(++o)),n+=4)}return n+=this.encode(8*n),this.update(e),n},C.prototype.bytepad=function(e,t){for(var r=this.encode(t),i=0;i<e.length;++i)r+=this.encodeString(e[i]);var n=[];return n.length=t-r%t,this.update(n),this},C.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,i=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(t=1,e[0]=e[r];t<r+1;++t)e[t]=0;for(e[r-1]|=0x80000000,t=0;t<r;++t)i[t]^=e[t];D(i)}},C.prototype.toString=C.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,i=this.outputBlocks,n=this.extraBytes,a=0,o=0,s="";o<i;){for(a=0;a<t&&o<i;++a,++o)s+=c[(e=r[a])>>4&15]+c[15&e]+c[e>>12&15]+c[e>>8&15]+c[e>>20&15]+c[e>>16&15]+c[e>>28&15]+c[e>>24&15];o%t==0&&(D(r),a=0)}return n&&(s+=c[(e=r[a])>>4&15]+c[15&e],n>1&&(s+=c[e>>12&15]+c[e>>8&15]),n>2&&(s+=c[e>>20&15]+c[e>>16&15])),s},C.prototype.arrayBuffer=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,i=this.outputBlocks,n=this.extraBytes,a=0,o=0,s=this.outputBits>>3,u=new Uint32Array(e=new ArrayBuffer(n?i+1<<2:s));o<i;){for(a=0;a<t&&o<i;++a,++o)u[o]=r[a];o%t==0&&D(r)}return n&&(u[a]=r[a],e=e.slice(0,s)),e},C.prototype.buffer=C.prototype.arrayBuffer,C.prototype.digest=C.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,i=this.s,n=this.outputBlocks,a=this.extraBytes,o=0,s=0,u=[];s<n;){for(o=0;o<r&&s<n;++o,++s)e=s<<2,t=i[o],u[e]=255&t,u[e+1]=t>>8&255,u[e+2]=t>>16&255,u[e+3]=t>>24&255;s%r==0&&D(i)}return a&&(e=s<<2,t=i[o],u[e]=255&t,a>1&&(u[e+1]=t>>8&255),a>2&&(u[e+2]=t>>16&255)),u},O.prototype=new C,O.prototype.finalize=function(){return this.encode(this.outputBits,!0),C.prototype.finalize.call(this)};var D=function(e){var t,r,i,n,a,o,s,u,l,c,d,f,h,m,b,g,y,x,A,w,v,S,T,E,k,P,_,I,N,R,B,C,O,D,M,U,F,L,q,K,W,V,G,z,j,H,X,Q,J,Y,Z,$,ee,et,er,ei,en,ea,eo,es,eu,el,ec;for(i=0;i<48;i+=2)n=e[0]^e[10]^e[20]^e[30]^e[40],a=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],s=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],l=e[5]^e[15]^e[25]^e[35]^e[45],c=e[6]^e[16]^e[26]^e[36]^e[46],d=e[7]^e[17]^e[27]^e[37]^e[47],f=e[8]^e[18]^e[28]^e[38]^e[48],h=e[9]^e[19]^e[29]^e[39]^e[49],t=f^(o<<1|s>>>31),r=h^(s<<1|o>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=n^(u<<1|l>>>31),r=a^(l<<1|u>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=o^(c<<1|d>>>31),r=s^(d<<1|c>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=u^(f<<1|h>>>31),r=l^(h<<1|f>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=c^(n<<1|a>>>31),r=d^(a<<1|n>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,m=e[0],b=e[1],H=e[11]<<4|e[10]>>>28,X=e[10]<<4|e[11]>>>28,I=e[20]<<3|e[21]>>>29,N=e[21]<<3|e[20]>>>29,es=e[31]<<9|e[30]>>>23,eu=e[30]<<9|e[31]>>>23,V=e[40]<<18|e[41]>>>14,G=e[41]<<18|e[40]>>>14,D=e[2]<<1|e[3]>>>31,M=e[3]<<1|e[2]>>>31,g=e[13]<<12|e[12]>>>20,y=e[12]<<12|e[13]>>>20,Q=e[22]<<10|e[23]>>>22,J=e[23]<<10|e[22]>>>22,R=e[33]<<13|e[32]>>>19,B=e[32]<<13|e[33]>>>19,el=e[42]<<2|e[43]>>>30,ec=e[43]<<2|e[42]>>>30,et=e[5]<<30|e[4]>>>2,er=e[4]<<30|e[5]>>>2,U=e[14]<<6|e[15]>>>26,F=e[15]<<6|e[14]>>>26,x=e[25]<<11|e[24]>>>21,A=e[24]<<11|e[25]>>>21,Y=e[34]<<15|e[35]>>>17,Z=e[35]<<15|e[34]>>>17,C=e[45]<<29|e[44]>>>3,O=e[44]<<29|e[45]>>>3,E=e[6]<<28|e[7]>>>4,k=e[7]<<28|e[6]>>>4,ei=e[17]<<23|e[16]>>>9,en=e[16]<<23|e[17]>>>9,L=e[26]<<25|e[27]>>>7,q=e[27]<<25|e[26]>>>7,w=e[36]<<21|e[37]>>>11,v=e[37]<<21|e[36]>>>11,$=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,z=e[8]<<27|e[9]>>>5,j=e[9]<<27|e[8]>>>5,P=e[18]<<20|e[19]>>>12,_=e[19]<<20|e[18]>>>12,ea=e[29]<<7|e[28]>>>25,eo=e[28]<<7|e[29]>>>25,K=e[38]<<8|e[39]>>>24,W=e[39]<<8|e[38]>>>24,S=e[48]<<14|e[49]>>>18,T=e[49]<<14|e[48]>>>18,e[0]=m^~g&x,e[1]=b^~y&A,e[10]=E^~P&I,e[11]=k^~_&N,e[20]=D^~U&L,e[21]=M^~F&q,e[30]=z^~H&Q,e[31]=j^~X&J,e[40]=et^~ei&ea,e[41]=er^~en&eo,e[2]=g^~x&w,e[3]=y^~A&v,e[12]=P^~I&R,e[13]=_^~N&B,e[22]=U^~L&K,e[23]=F^~q&W,e[32]=H^~Q&Y,e[33]=X^~J&Z,e[42]=ei^~ea&es,e[43]=en^~eo&eu,e[4]=x^~w&S,e[5]=A^~v&T,e[14]=I^~R&C,e[15]=N^~B&O,e[24]=L^~K&V,e[25]=q^~W&G,e[34]=Q^~Y&$,e[35]=J^~Z&ee,e[44]=ea^~es&el,e[45]=eo^~eu&ec,e[6]=w^~S&m,e[7]=v^~T&b,e[16]=R^~C&E,e[17]=B^~O&k,e[26]=K^~V&D,e[27]=W^~G&M,e[36]=Y^~$&z,e[37]=Z^~ee&j,e[46]=es^~el&et,e[47]=eu^~ec&er,e[8]=S^~m&g,e[9]=T^~b&y,e[18]=C^~E&P,e[19]=O^~k&_,e[28]=V^~D&U,e[29]=G^~M&F,e[38]=$^~z&H,e[39]=ee^~j&X,e[48]=el^~et&ei,e[49]=ec^~er&en,e[0]^=p[i],e[1]^=p[i+1]};if(s)t.exports=E;else{for(P=0;P<k.length;++P)a[k[P]]=E[k[P]];u&&(e.r,void 0!==E&&e.v(E))}}()},447172,e=>{"use strict";var t=e.i(223439),r=e.i(403011);function i(e){return"0x"+t.default.keccak_256((0,r.arrayify)(e))}e.s(["keccak256",()=>i])},222223,e=>{"use strict";var t=e.i(403011),r=e.i(875353);let i=new r.Logger("rlp/5.8.0");function n(e){let t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function a(e,t,r){let i=0;for(let n=0;n<r;n++)i=256*i+e[t+n];return i}function o(e){return(0,t.hexlify)(function e(r){if(Array.isArray(r)){let t=[];if(r.forEach(function(r){t=t.concat(e(r))}),t.length<=55)return t.unshift(192+t.length),t;let i=n(t.length);return i.unshift(247+i.length),i.concat(t)}(0,t.isBytesLike)(r)||i.throwArgumentError("RLP object must be BytesLike","object",r);let a=Array.prototype.slice.call((0,t.arrayify)(r));if(1===a.length&&a[0]<=127)return a;if(a.length<=55)return a.unshift(128+a.length),a;let o=n(a.length);return o.unshift(183+o.length),o.concat(a)}(e))}function s(e,t,n,a){let o=[];for(;n<t+1+a;){let s=u(e,n);o.push(s.result),(n+=s.consumed)>t+1+a&&i.throwError("child data too short",r.Logger.errors.BUFFER_OVERRUN,{})}return{consumed:1+a,result:o}}function u(e,n){if(0===e.length&&i.throwError("data too short",r.Logger.errors.BUFFER_OVERRUN,{}),e[n]>=248){let t=e[n]-247;n+1+t>e.length&&i.throwError("data short segment too short",r.Logger.errors.BUFFER_OVERRUN,{});let o=a(e,n+1,t);return n+1+t+o>e.length&&i.throwError("data long segment too short",r.Logger.errors.BUFFER_OVERRUN,{}),s(e,n,n+1+t,t+o)}if(e[n]>=192){let t=e[n]-192;return n+1+t>e.length&&i.throwError("data array too short",r.Logger.errors.BUFFER_OVERRUN,{}),s(e,n,n+1,t)}if(e[n]>=184){let o=e[n]-183;n+1+o>e.length&&i.throwError("data array too short",r.Logger.errors.BUFFER_OVERRUN,{});let s=a(e,n+1,o);n+1+o+s>e.length&&i.throwError("data array too short",r.Logger.errors.BUFFER_OVERRUN,{});let u=(0,t.hexlify)(e.slice(n+1+o,n+1+o+s));return{consumed:1+o+s,result:u}}if(e[n]>=128){let a=e[n]-128;n+1+a>e.length&&i.throwError("data too short",r.Logger.errors.BUFFER_OVERRUN,{});let o=(0,t.hexlify)(e.slice(n+1,n+1+a));return{consumed:1+a,result:o}}return{consumed:1,result:(0,t.hexlify)(e[n])}}function l(e){let r=(0,t.arrayify)(e),n=u(r,0);return n.consumed!==r.length&&i.throwArgumentError("invalid rlp data","data",e),n.result}e.s(["decode",()=>l,"encode",()=>o],222223)},47771,e=>{"use strict";var t=e.i(403011),r=e.i(839341),i=e.i(447172),n=e.i(222223);let a=new(e.i(875353)).Logger("address/5.8.0");function o(e){(0,t.isHexString)(e,20)||a.throwArgumentError("invalid address","address",e);let r=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let e=0;e<40;e++)n[e]=r[e].charCodeAt(0);let o=(0,t.arrayify)((0,i.keccak256)(n));for(let e=0;e<40;e+=2)o[e>>1]>>4>=8&&(r[e]=r[e].toUpperCase()),(15&o[e>>1])>=8&&(r[e+1]=r[e+1].toUpperCase());return"0x"+r.join("")}let s={};for(let e=0;e<10;e++)s[String(e)]=String(e);for(let e=0;e<26;e++)s[String.fromCharCode(65+e)]=String(10+e);let u=Math.floor(Math.log10?Math.log10(0x1fffffffffffff):Math.log(0x1fffffffffffff)/Math.LN10);function l(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>s[e]).join("");for(;t.length>=u;){let e=t.substring(0,u);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function c(e){let t=null;if("string"!=typeof e&&a.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=o(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&a.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==l(e)&&a.throwArgumentError("bad icap checksum","address",e),t=(0,r._base36To16)(e.substring(4));t.length<40;)t="0"+t;t=o("0x"+t)}else a.throwArgumentError("invalid address","address",e);return t}function d(e){try{return c(e),!0}catch(e){}return!1}function f(e){let t=(0,r._base16To36)(c(e).substring(2)).toUpperCase();for(;t.length<30;)t="0"+t;return"XE"+l("XE00"+t)+t}function p(e){let o=null;try{o=c(e.from)}catch(t){a.throwArgumentError("missing from address","transaction",e)}let s=(0,t.stripZeros)((0,t.arrayify)(r.BigNumber.from(e.nonce).toHexString()));return c((0,t.hexDataSlice)((0,i.keccak256)((0,n.encode)([o,s])),12))}function h(e,r,n){return 32!==(0,t.hexDataLength)(r)&&a.throwArgumentError("salt must be 32 bytes","salt",r),32!==(0,t.hexDataLength)(n)&&a.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",n),c((0,t.hexDataSlice)((0,i.keccak256)((0,t.concat)(["0xff",c(e),r,n])),12))}e.s(["getAddress",()=>c,"getContractAddress",()=>p,"getCreate2Address",()=>h,"getIcapAddress",()=>f,"isAddress",()=>d],47771)},25363,e=>{"use strict";var t=e.i(839341);let r=t.BigNumber.from(-1),i=t.BigNumber.from(0),n=t.BigNumber.from(1),a=t.BigNumber.from(2),o=t.BigNumber.from("1000000000000000000"),s=t.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),u=t.BigNumber.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),l=t.BigNumber.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");e.s(["MaxInt256",()=>l,"MaxUint256",()=>s,"MinInt256",()=>u,"NegativeOne",()=>r,"One",()=>n,"Two",()=>a,"WeiPerEther",()=>o,"Zero",()=>i])},840858,e=>{"use strict";var t,r,i,n,a=e.i(403011);let o=new(e.i(875353)).Logger("strings/5.8.0");function s(e,t,r,i,a){if(e===n.BAD_PREFIX||e===n.UNEXPECTED_CONTINUE){let e=0;for(let i=t+1;i<r.length&&r[i]>>6==2;i++)e++;return e}return e===n.OVERRUN?r.length-t-1:0}(t=i||(i={})).current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD",(r=n||(n={})).UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation";let u=Object.freeze({error:function(e,t,r,i,n){return o.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:s,replace:function(e,t,r,i,a){return e===n.OVERLONG?(i.push(a),0):(i.push(65533),s(e,t,r,i,a))}});function l(e,t){null==t&&(t=u.error),e=(0,a.arrayify)(e);let r=[],i=0;for(;i<e.length;){let a=e[i++];if(a>>7==0){r.push(a);continue}let o=null,s=null;if((224&a)==192)o=1,s=127;else if((240&a)==224)o=2,s=2047;else if((248&a)==240)o=3,s=65535;else{(192&a)==128?i+=t(n.UNEXPECTED_CONTINUE,i-1,e,r):i+=t(n.BAD_PREFIX,i-1,e,r);continue}if(i-1+o>=e.length){i+=t(n.OVERRUN,i-1,e,r);continue}let u=a&(1<<8-o-1)-1;for(let a=0;a<o;a++){let a=e[i];if((192&a)!=128){i+=t(n.MISSING_CONTINUE,i,e,r),u=null;break}u=u<<6|63&a,i++}if(null!==u){if(u>1114111){i+=t(n.OUT_OF_RANGE,i-1-o,e,r,u);continue}if(u>=55296&&u<=57343){i+=t(n.UTF16_SURROGATE,i-1-o,e,r,u);continue}if(u<=s){i+=t(n.OVERLONG,i-1-o,e,r,u);continue}r.push(u)}}return r}function c(e,t=i.current){t!=i.current&&(o.checkNormalize(),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){let i=e.charCodeAt(t);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(63&i|128);else if((64512&i)==55296){t++;let n=e.charCodeAt(t);if(t>=e.length||(64512&n)!=56320)throw Error("invalid utf-8 string");let a=65536+((1023&i)<<10)+(1023&n);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(63&a|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)}return(0,a.arrayify)(r)}function d(e){let t="0000"+e.toString(16);return"\\u"+t.substring(t.length-4)}function f(e,t){return'"'+l(e,t).map(e=>{if(e<256){switch(e){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(e>=32&&e<127)return String.fromCharCode(e)}return e<=65535?d(e):d(((e-=65536)>>10&1023)+55296)+d((1023&e)+56320)}).join("")+'"'}function p(e){return e.map(e=>e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10&1023)+55296,(1023&e)+56320)).join("")}function h(e,t){return p(l(e,t))}function m(e,t=i.current){return l(c(e,t))}e.s(["UnicodeNormalizationForm",()=>i,"Utf8ErrorFuncs",0,u,"Utf8ErrorReason",()=>n,"_toEscapedUtf8String",()=>f,"_toUtf8String",()=>p,"toUtf8Bytes",()=>c,"toUtf8CodePoints",()=>m,"toUtf8String",()=>h],840858)},735381,471705,634709,725148,469198,191657,791761,727707,465726,50227,e=>{"use strict";var t=e.i(403011),r=e.i(839341),i=e.i(526579),n=e.i(875353),a=e.i(326953);let o=new n.Logger(a.version);function s(e){let t=[],r=function(e,i){if(Array.isArray(i))for(let n in i){let a=e.slice();a.push(n);try{r(a,i[n])}catch(e){t.push({path:a,error:e})}}};return r([],e),t}class u{constructor(e,t,r,i){this.name=e,this.type=t,this.localName=r,this.dynamic=i}_throwError(e,t){o.throwArgumentError(e,this.localName,t)}}class l{constructor(e){(0,i.defineReadOnly)(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return(0,t.hexConcat)(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData((0,t.concat)(e._data))}writeBytes(e){let r=(0,t.arrayify)(e),i=r.length%this.wordSize;return i&&(r=(0,t.concat)([r,this._padding.slice(i)])),this._writeData(r)}_getValue(e){let i=(0,t.arrayify)(r.BigNumber.from(e));return i.length>this.wordSize&&o.throwError("value out-of-bounds",n.Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:i.length}),i.length%this.wordSize&&(i=(0,t.concat)([this._padding.slice(i.length%this.wordSize),i])),i}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){let e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class c{constructor(e,r,n,a){(0,i.defineReadOnly)(this,"_data",(0,t.arrayify)(e)),(0,i.defineReadOnly)(this,"wordSize",r||32),(0,i.defineReadOnly)(this,"_coerceFunc",n),(0,i.defineReadOnly)(this,"allowLoose",a),this._offset=0}get data(){return(0,t.hexlify)(this._data)}get consumed(){return this._offset}static coerce(e,t){let r=e.match("^u?int([0-9]+)$");return r&&48>=parseInt(r[1])&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):c.coerce(e,t)}_peekBytes(e,t,r){let i=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?i=t:o.throwError("data out-of-bounds",n.Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new c(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}readValue(){return r.BigNumber.from(this.readBytes(this.wordSize))}}e.s(["Coder",()=>u,"Reader",()=>c,"Writer",()=>l,"checkResultErrors",()=>s],735381);var d=e.i(47771);class f extends u{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=(0,d.getAddress)(t)}catch(e){this._throwError(e.message,t)}return e.writeValue(t)}decode(e){return(0,d.getAddress)((0,t.hexZeroPad)(e.readValue().toHexString(),20))}}e.s(["AddressCoder",()=>f],471705);class p extends u{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}let h=new n.Logger(a.version);function m(e,t,r){let i=null;if(Array.isArray(r))i=r;else if(r&&"object"==typeof r){let e={};i=t.map(t=>{let i=t.localName;return i||h.throwError("cannot encode object for signature with missing names",n.Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[i]&&h.throwError("cannot encode object for signature with duplicate names",n.Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[i]=!0,r[i]})}else h.throwArgumentError("invalid tuple value","tuple",r);t.length!==i.length&&h.throwArgumentError("types/value length mismatch","tuple",r);let a=new l(e.wordSize),o=new l(e.wordSize),s=[];t.forEach((e,t)=>{let r=i[t];if(e.dynamic){let t=o.length;e.encode(o,r);let i=a.writeUpdatableValue();s.push(e=>{i(e+t)})}else e.encode(a,r)}),s.forEach(e=>{e(a.length)});let u=e.appendWriter(a);return u+e.appendWriter(o)}function b(e,t){let r=[],i=e.subReader(0);t.forEach(t=>{let a=null;if(t.dynamic){let r=e.readValue(),o=i.subReader(r.toNumber());try{a=t.decode(o)}catch(e){if(e.code===n.Logger.errors.BUFFER_OVERRUN)throw e;(a=e).baseType=t.name,a.name=t.localName,a.type=t.type}}else try{a=t.decode(e)}catch(e){if(e.code===n.Logger.errors.BUFFER_OVERRUN)throw e;(a=e).baseType=t.name,a.name=t.localName,a.type=t.type}void 0!=a&&r.push(a)});let a=t.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});t.forEach((e,t)=>{let i=e.localName;if(!i||1!==a[i]||("length"===i&&(i="_length"),null!=r[i]))return;let n=r[t];n instanceof Error?Object.defineProperty(r,i,{enumerable:!0,get:()=>{throw n}}):r[i]=n});for(let e=0;e<r.length;e++){let t=r[e];t instanceof Error&&Object.defineProperty(r,e,{enumerable:!0,get:()=>{throw t}})}return Object.freeze(r)}class g extends u{constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),this.coder=e,this.length=t}defaultValue(){let e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),h.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let e=0;e<t.length;e++)i.push(this.coder);return m(e,i,t)}decode(e){let t=this.length;-1===t&&32*(t=e.readValue().toNumber())>e._data.length&&h.throwError("insufficient data length",n.Logger.errors.BUFFER_OVERRUN,{length:e._data.length,count:t});let r=[];for(let e=0;e<t;e++)r.push(new p(this.coder));return e.coerce(this.name,b(e,r))}}e.s(["ArrayCoder",()=>g,"pack",()=>m,"unpack",()=>b],634709);class y extends u{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(+!!t)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}e.s(["BooleanCoder",()=>y],725148);class x extends u{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,r){r=(0,t.arrayify)(r);let i=e.writeValue(r.length);return i+e.writeBytes(r)}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class A extends x{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,(0,t.hexlify)(super.decode(e)))}}e.s(["BytesCoder",()=>A,"DynamicBytesCoder",()=>x],469198);class w extends u{constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,r){let i=(0,t.arrayify)(r);return i.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(i)}decode(e){return e.coerce(this.name,(0,t.hexlify)(e.readBytes(this.size)))}}e.s(["FixedBytesCoder",()=>w],191657);class v extends u{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}e.s(["NullCoder",()=>v],791761);var S=e.i(25363);class T extends u{constructor(e,t,r){const i=(t?"int":"uint")+8*e;super(i,i,r,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let i=r.BigNumber.from(t),n=S.MaxUint256.mask(8*e.wordSize);if(this.signed){let e=n.mask(8*this.size-1);(i.gt(e)||i.lt(e.add(S.One).mul(S.NegativeOne)))&&this._throwError("value out-of-bounds",t)}else(i.lt(S.Zero)||i.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return i=i.toTwos(8*this.size).mask(8*this.size),this.signed&&(i=i.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(i)}decode(e){let t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}e.s(["NumberCoder",()=>T],727707);var E=e.i(840858);class k extends x{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,(0,E.toUtf8Bytes)(t))}decode(e){return(0,E.toUtf8String)(super.decode(e))}}e.s(["StringCoder",()=>k],465726);class P extends u{constructor(e,t){let r=!1;const i=[];e.forEach(e=>{e.dynamic&&(r=!0),i.push(e.type)}),super("tuple","tuple("+i.join(",")+")",t,r),this.coders=e}defaultValue(){let e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});let t=this.coders.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});return this.coders.forEach((r,i)=>{let n=r.localName;n&&1===t[n]&&("length"===n&&(n="_length"),null==e[n]&&(e[n]=e[i]))}),Object.freeze(e)}encode(e,t){return m(e,this.coders,t)}decode(e){return e.coerce(this.name,b(e,this.coders))}}e.s(["TupleCoder",()=>P],50227)},83090,e=>{"use strict";var t=e.i(447172),r=e.i(840858);function i(e){return(0,t.keccak256)((0,r.toUtf8Bytes)(e))}e.s(["id",()=>i])},246383,144180,e=>{"use strict";var t=e.i(47771),r=e.i(839341),i=e.i(403011),n=e.i(83090),a=e.i(447172),o=e.i(526579),s=e.i(875353),u=e.i(326953),l=e.i(735381),c=e.i(471705),d=e.i(634709),f=e.i(725148),p=e.i(469198),h=e.i(191657),m=e.i(791761),b=e.i(727707),g=e.i(465726),y=e.i(50227),x=e.i(791078);let A=new s.Logger(u.version),w=new RegExp(/^bytes([0-9]*)$/),v=new RegExp(/^(u?int)([0-9]*)$/);class S{constructor(e){(0,o.defineReadOnly)(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new c.AddressCoder(e.name);case"bool":return new f.BooleanCoder(e.name);case"string":return new g.StringCoder(e.name);case"bytes":return new p.BytesCoder(e.name);case"array":return new d.ArrayCoder(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new y.TupleCoder((e.components||[]).map(e=>this._getCoder(e)),e.name);case"":return new m.NullCoder(e.name)}let t=e.type.match(v);if(t){let r=parseInt(t[2]||"256");return(0===r||r>256||r%8!=0)&&A.throwArgumentError("invalid "+t[1]+" bit length","param",e),new b.NumberCoder(r/8,"int"===t[1],e.name)}if(t=e.type.match(w)){let r=parseInt(t[1]);return(0===r||r>32)&&A.throwArgumentError("invalid bytes length","param",e),new h.FixedBytesCoder(r,e.name)}return A.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new l.Reader(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new l.Writer(this._getWordSize())}getDefaultValue(e){let t=e.map(e=>this._getCoder(x.ParamType.from(e)));return new y.TupleCoder(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&A.throwError("types/values length mismatch",s.Logger.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});let r=e.map(e=>this._getCoder(x.ParamType.from(e))),i=new y.TupleCoder(r,"_"),n=this._getWriter();return i.encode(n,t),n.data}decode(e,t,r){let n=e.map(e=>this._getCoder(x.ParamType.from(e)));return new y.TupleCoder(n,"_").decode(this._getReader((0,i.arrayify)(t),r))}}let T=new S;e.s(["AbiCoder",()=>S,"defaultAbiCoder",0,T],144180);let E=new s.Logger(u.version);class k extends o.Description{}class P extends o.Description{}class _ extends o.Description{}class I extends o.Description{static isIndexed(e){return!!(e&&e._isIndexed)}}let N={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function R(e,t){let r=Error(`deferred error during ABI decoding triggered accessing ${e}`);return r.error=t,r}class B{constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,(0,o.defineReadOnly)(this,"fragments",t.map(e=>x.Fragment.from(e)).filter(e=>null!=e)),(0,o.defineReadOnly)(this,"_abiCoder",(0,o.getStatic)(new.target,"getAbiCoder")()),(0,o.defineReadOnly)(this,"functions",{}),(0,o.defineReadOnly)(this,"errors",{}),(0,o.defineReadOnly)(this,"events",{}),(0,o.defineReadOnly)(this,"structs",{}),this.fragments.forEach(e=>{let t=null;switch(e.type){case"constructor":if(this.deploy)return void E.warn("duplicate definition - constructor");(0,o.defineReadOnly)(this,"deploy",e);return;case"function":t=this.functions;break;case"event":t=this.events;break;case"error":t=this.errors;break;default:return}let r=e.format();t[r]?E.warn("duplicate definition - "+r):t[r]=e}),this.deploy||(0,o.defineReadOnly)(this,"deploy",x.ConstructorFragment.from({payable:!1,type:"constructor"})),(0,o.defineReadOnly)(this,"_isInterface",!0)}format(e){e||(e=x.FormatTypes.full),e===x.FormatTypes.sighash&&E.throwArgumentError("interface does not support formatting sighash","format",e);let t=this.fragments.map(t=>t.format(e));return e===x.FormatTypes.json?JSON.stringify(t.map(e=>JSON.parse(e))):t}static getAbiCoder(){return T}static getAddress(e){return(0,t.getAddress)(e)}static getSighash(e){return(0,i.hexDataSlice)((0,n.id)(e.format()),0,4)}static getEventTopic(e){return(0,n.id)(e.format())}getFunction(e){if((0,i.isHexString)(e)){for(let t in this.functions)if(e===this.getSighash(t))return this.functions[t];E.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){let t=e.trim(),r=Object.keys(this.functions).filter(e=>e.split("(")[0]===t);return 0===r.length?E.throwArgumentError("no matching function","name",t):r.length>1&&E.throwArgumentError("multiple matching functions","name",t),this.functions[r[0]]}let t=this.functions[x.FunctionFragment.fromString(e).format()];return t||E.throwArgumentError("no matching function","signature",e),t}getEvent(e){if((0,i.isHexString)(e)){let t=e.toLowerCase();for(let e in this.events)if(t===this.getEventTopic(e))return this.events[e];E.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){let t=e.trim(),r=Object.keys(this.events).filter(e=>e.split("(")[0]===t);return 0===r.length?E.throwArgumentError("no matching event","name",t):r.length>1&&E.throwArgumentError("multiple matching events","name",t),this.events[r[0]]}let t=this.events[x.EventFragment.fromString(e).format()];return t||E.throwArgumentError("no matching event","signature",e),t}getError(e){if((0,i.isHexString)(e)){let t=(0,o.getStatic)(this.constructor,"getSighash");for(let r in this.errors)if(e===t(this.errors[r]))return this.errors[r];E.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){let t=e.trim(),r=Object.keys(this.errors).filter(e=>e.split("(")[0]===t);return 0===r.length?E.throwArgumentError("no matching error","name",t):r.length>1&&E.throwArgumentError("multiple matching errors","name",t),this.errors[r[0]]}let t=this.errors[x.FunctionFragment.fromString(e).format()];return t||E.throwArgumentError("no matching error","signature",e),t}getSighash(e){if("string"==typeof e)try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(e){throw t}}return(0,o.getStatic)(this.constructor,"getSighash")(e)}getEventTopic(e){return"string"==typeof e&&(e=this.getEvent(e)),(0,o.getStatic)(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){"string"==typeof e&&(e=this.getError(e));let r=(0,i.arrayify)(t);return(0,i.hexlify)(r.slice(0,4))!==this.getSighash(e)&&E.throwArgumentError(`data signature does not match error ${e.name}.`,"data",(0,i.hexlify)(r)),this._decodeParams(e.inputs,r.slice(4))}encodeErrorResult(e,t){return"string"==typeof e&&(e=this.getError(e)),(0,i.hexlify)((0,i.concat)([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){"string"==typeof e&&(e=this.getFunction(e));let r=(0,i.arrayify)(t);return(0,i.hexlify)(r.slice(0,4))!==this.getSighash(e)&&E.throwArgumentError(`data signature does not match function ${e.name}.`,"data",(0,i.hexlify)(r)),this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,t){return"string"==typeof e&&(e=this.getFunction(e)),(0,i.hexlify)((0,i.concat)([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){"string"==typeof e&&(e=this.getFunction(e));let r=(0,i.arrayify)(t),n=null,a="",o=null,u=null,l=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch(e){}break;case 4:{let e=(0,i.hexlify)(r.slice(0,4)),t=N[e];if(t)o=this._abiCoder.decode(t.inputs,r.slice(4)),u=t.name,l=t.signature,t.reason&&(n=o[0]),"Error"===u?a=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:"Panic"===u&&(a=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{let t=this.getError(e);o=this._abiCoder.decode(t.inputs,r.slice(4)),u=t.name,l=t.format()}catch(e){}}}return E.throwError("call revert exception"+a,s.Logger.errors.CALL_EXCEPTION,{method:e.format(),data:(0,i.hexlify)(t),errorArgs:o,errorName:u,errorSignature:l,reason:n})}encodeFunctionResult(e,t){return"string"==typeof e&&(e=this.getFunction(e)),(0,i.hexlify)(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){"string"==typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&E.throwError("too many arguments for "+e.format(),s.Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let o=[];e.anonymous||o.push(this.getEventTopic(e));let u=(e,t)=>"string"===e.type?(0,n.id)(t):"bytes"===e.type?(0,a.keccak256)((0,i.hexlify)(t)):("bool"===e.type&&"boolean"==typeof t&&(t=t?"0x01":"0x00"),e.type.match(/^u?int/)&&(t=r.BigNumber.from(t).toHexString()),"address"===e.type&&this._abiCoder.encode(["address"],[t]),(0,i.hexZeroPad)((0,i.hexlify)(t),32));for(t.forEach((t,r)=>{let i=e.inputs[r];if(!i.indexed){null!=t&&E.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+i.name,t);return}null==t?o.push(null):"array"===i.baseType||"tuple"===i.baseType?E.throwArgumentError("filtering with tuples or arrays not supported","contract."+i.name,t):Array.isArray(t)?o.push(t.map(e=>u(i,e))):o.push(u(i,t))});o.length&&null===o[o.length-1];)o.pop();return o}encodeEventLog(e,t){"string"==typeof e&&(e=this.getEvent(e));let r=[],i=[],o=[];return e.anonymous||r.push(this.getEventTopic(e)),t.length!==e.inputs.length&&E.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((e,s)=>{let u=t[s];if(e.indexed)if("string"===e.type)r.push((0,n.id)(u));else if("bytes"===e.type)r.push((0,a.keccak256)(u));else if("tuple"===e.baseType||"array"===e.baseType)throw Error("not implemented");else r.push(this._abiCoder.encode([e.type],[u]));else i.push(e),o.push(u)}),{data:this._abiCoder.encode(i,o),topics:r}}decodeEventLog(e,t,r){if("string"==typeof e&&(e=this.getEvent(e)),null!=r&&!e.anonymous){let t=this.getEventTopic(e);(0,i.isHexString)(r[0],32)&&r[0].toLowerCase()===t||E.throwError("fragment/topic mismatch",s.Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:t,value:r[0]}),r=r.slice(1)}let n=[],a=[],o=[];e.inputs.forEach((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(n.push(x.ParamType.fromObject({type:"bytes32",name:e.name})),o.push(!0)):(n.push(e),o.push(!1)):(a.push(e),o.push(!1))});let u=null!=r?this._abiCoder.decode(n,(0,i.concat)(r)):null,l=this._abiCoder.decode(a,t,!0),c=[],d=0,f=0;e.inputs.forEach((e,t)=>{if(e.indexed)if(null==u)c[t]=new I({_isIndexed:!0,hash:null});else if(o[t])c[t]=new I({_isIndexed:!0,hash:u[f++]});else try{c[t]=u[f++]}catch(e){c[t]=e}else try{c[t]=l[d++]}catch(e){c[t]=e}if(e.name&&null==c[e.name]){let r=c[t];r instanceof Error?Object.defineProperty(c,e.name,{enumerable:!0,get:()=>{throw R(`property ${JSON.stringify(e.name)}`,r)}}):c[e.name]=r}});for(let e=0;e<c.length;e++){let t=c[e];t instanceof Error&&Object.defineProperty(c,e,{enumerable:!0,get:()=>{throw R(`index ${e}`,t)}})}return Object.freeze(c)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new P({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:r.BigNumber.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new k({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){let t=(0,i.hexlify)(e),r=this.getError(t.substring(0,10).toLowerCase());return r?new _({args:this._abiCoder.decode(r.inputs,"0x"+t.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(e){return!!(e&&e._isInterface)}}e.s(["Indexed",()=>I,"Interface",()=>B,"LogDescription",()=>k,"TransactionDescription",()=>P],246383)},811874,e=>{"use strict";var t=e.i(791078),r=e.i(144180),i=e.i(735381),n=e.i(246383);e.s([],44412),e.i(44412),e.s(["AbiCoder",()=>r.AbiCoder,"ConstructorFragment",()=>t.ConstructorFragment,"ErrorFragment",()=>t.ErrorFragment,"EventFragment",()=>t.EventFragment,"FormatTypes",()=>t.FormatTypes,"Fragment",()=>t.Fragment,"FunctionFragment",()=>t.FunctionFragment,"Indexed",()=>n.Indexed,"Interface",()=>n.Interface,"LogDescription",()=>n.LogDescription,"ParamType",()=>t.ParamType,"TransactionDescription",()=>n.TransactionDescription,"checkResultErrors",()=>i.checkResultErrors,"defaultAbiCoder",()=>r.defaultAbiCoder],811874)},545004,e=>{"use strict";var t=e.i(403011);function r(e){e=atob(e);let r=[];for(let t=0;t<e.length;t++)r.push(e.charCodeAt(t));return(0,t.arrayify)(r)}function i(e){e=(0,t.arrayify)(e);let r="";for(let t=0;t<e.length;t++)r+=String.fromCharCode(e[t]);return btoa(r)}e.s(["decode",()=>r,"encode",()=>i])},630759,e=>{"use strict";e.s([],745933),e.i(745933);var t=e.i(545004);e.s(["decode",()=>t.decode,"encode",()=>t.encode],630759)},206641,e=>{"use strict";var t=e.i(403011),r=e.i(526579);class i{constructor(e){(0,r.defineReadOnly)(this,"alphabet",e),(0,r.defineReadOnly)(this,"base",e.length),(0,r.defineReadOnly)(this,"_alphabetMap",{}),(0,r.defineReadOnly)(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let r=(0,t.arrayify)(e);if(0===r.length)return"";let i=[0];for(let e=0;e<r.length;++e){let t=r[e];for(let e=0;e<i.length;++e)t+=i[e]<<8,i[e]=t%this.base,t=t/this.base|0;for(;t>0;)i.push(t%this.base),t=t/this.base|0}let n="";for(let e=0;0===r[e]&&e<r.length-1;++e)n+=this._leader;for(let e=i.length-1;e>=0;--e)n+=this.alphabet[i[e]];return n}decode(e){if("string"!=typeof e)throw TypeError("Expected String");let r=[];if(0===e.length)return new Uint8Array(r);r.push(0);for(let t=0;t<e.length;t++){let i=this._alphabetMap[e[t]];if(void 0===i)throw Error("Non-base"+this.base+" character");let n=i;for(let e=0;e<r.length;++e)n+=r[e]*this.base,r[e]=255&n,n>>=8;for(;n>0;)r.push(255&n),n>>=8}for(let t=0;e[t]===this._leader&&t<e.length-1;++t)r.push(0);return(0,t.arrayify)(new Uint8Array(r.reverse()))}}let n=new i("abcdefghijklmnopqrstuvwxyz234567"),a=new i("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");e.s(["Base32",()=>n,"Base58",()=>a,"BaseX",()=>i])},849266,e=>{"use strict";e.s(["version",0,"hash/5.8.0"])},857518,e=>{"use strict";let t,r;var i,n=e.i(403011),a=e.i(840858),o=e.i(447172),s=e.i(875353),u=e.i(849266),l=e.i(545004);function c(e,t){null==t&&(t=1);let r=[],i=r.forEach,n=function(e,t){i.call(e,function(e){t>0&&Array.isArray(e)?n(e,t-1):r.push(e)})};return n(e,t),r}function d(e,t){let r=Array(e);for(let i=0,n=-1;i<e;i++)r[i]=n+=1+t();return r}function f(e,t){let r=d(e(),e),i=e(),n=d(i,e),a=function(e,t){let r=Array(e);for(let i=0;i<e;i++)r[i]=1+t();return r}(i,e);for(let e=0;e<i;e++)for(let t=0;t<a[e];t++)r.push(n[e]+t);return t?r.map(e=>t[e]):r}function p(e,t,r){let i=Array(e).fill(void 0).map(()=>[]);for(let n=0;n<t;n++)(function(e,t){let r=Array(e);for(let n=0,a=0;n<e;n++){var i;r[n]=a+=1&(i=t())?~i>>1:i>>1}return r})(e,r).forEach((e,t)=>i[t].push(e));return i}let h=(i=function(e){let t=0;function r(){return e[t++]<<8|e[t++]}let i=r(),n=1,a=[0,1];for(let e=1;e<i;e++)a.push(n+=r());let o=r(),s=t;t+=o;let u=0,l=0;function c(){return 0==u&&(l=l<<8|e[t++],u=8),l>>--u&1}let d=0;for(let e=0;e<31;e++)d=d<<1|c();let f=[],p=0,h=0x80000000;for(;;){let e=Math.floor(((d-p+1)*n-1)/h),t=0,r=i;for(;r-t>1;){let i=t+r>>>1;e<a[i]?r=i:t=i}if(0==t)break;f.push(t);let o=p+Math.floor(h*a[t]/n),s=p+Math.floor(h*a[t+1]/n)-1;for(;((o^s)&0x40000000)==0;)d=d<<1&0x7fffffff|c(),o=o<<1&0x7fffffff,s=s<<1&0x7fffffff|1;for(;o&~s&0x20000000;)d=0x40000000&d|d<<1&0x3fffffff|c(),o=o<<1^0x40000000,s=(0x40000000^s)<<1|0x40000001;p=o,h=1+s-o}let m=i-4;return f.map(t=>{switch(t-m){case 3:return m+65792+(e[s++]<<16|e[s++]<<8|e[s++]);case 2:return m+256+(e[s++]<<8|e[s++]);case 1:return m+e[s++];default:return t-1}})}((0,l.decode)("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA==")),r=0,()=>i[r++]),m=new Set(f(h)),b=new Set(f(h)),g=function(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(function(e,t){let r=1+t(),i=t(),n=function(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(r)}return t}(t);return c(p(n.length,1+e,t).map((e,t)=>{let a=e[0],o=e.slice(1);return Array(n[t]).fill(void 0).map((e,t)=>{let n=t*i;return[a+t*r,o.map(e=>e+n)]})}))}(r,e))}for(;;){var r,i;let n=e()-1;if(n<0)break;t.push((r=n,p(1+(i=e)(),1+r,i).map(e=>[e[0],e.slice(1)])))}return function(e){let t={};for(let r=0;r<e.length;r++){let i=e[r];t[i[0]]=i[1]}return t}(c(t))}(h),y=(t=f(h).sort((e,t)=>e-t),function e(){let r=[];for(;;){let i=f(h,t);if(0==i.length)break;r.push({set:new Set(i),node:e()})}r.sort((e,t)=>t.set.size-e.set.size);let i=h(),n=i%3;return{branches:r,valid:n,fe0f:!!(1&(i=i/3|0)),save:1==(i>>=1),check:2==i}}());function x(e){return(0,a.toUtf8CodePoints)(e)}function A(e){return e.filter(e=>65039!=e)}function w(e){for(let t of e.split(".")){let e=x(t);try{for(let t=e.lastIndexOf(95)-1;t>=0;t--)if(95!==e[t])throw Error("underscore only allowed at start");if(e.length>=4&&e.every(e=>e<128)&&45===e[2]&&45===e[3])throw Error("invalid label extension")}catch(e){throw Error(`Invalid label "${t}": ${e.message}`)}}return e}let v=new s.Logger(u.version),S=new Uint8Array(32);function T(e){if(0===e.length)throw Error("invalid ENS name; empty component");return e}function E(e){let t=(0,a.toUtf8Bytes)(w(function(e,t){let r=x(e).reverse(),i=[];for(;r.length;){let e=function(e,t){var r;let i,n,a=y,o=[],s=e.length;for(;s;){let t=e[--s];if(!(a=null==(r=a.branches.find(e=>e.set.has(t)))?void 0:r.node))break;if(a.save)n=t;else if(a.check&&t===n)break;o.push(t),a.fe0f&&(o.push(65039),s>0&&65039==e[s-1]&&s--),a.valid&&(i=o.slice(),2==a.valid&&i.splice(1,1),e.length=s)}return i}(r);if(e){i.push(...t(e));continue}let n=r.pop();if(m.has(n)){i.push(n);continue}if(b.has(n))continue;let a=g[n];if(a){i.push(...a);continue}throw Error(`Disallowed codepoint: 0x${n.toString(16).toUpperCase()}`)}return w(String.fromCodePoint(...i).normalize("NFC"))}(e,A))),r=[];if(0===e.length)return r;let i=0;for(let e=0;e<t.length;e++)46===t[e]&&(r.push(T(t.slice(i,e))),i=e+1);if(i>=t.length)throw Error("invalid ENS name; empty component");return r.push(T(t.slice(i))),r}function k(e){return E(e).map(e=>(0,a.toUtf8String)(e)).join(".")}function P(e){try{return 0!==E(e).length}catch(e){}return!1}function _(e){"string"!=typeof e&&v.throwArgumentError("invalid ENS name; not a string","name",e);let t=S,r=E(e);for(;r.length;)t=(0,o.keccak256)((0,n.concat)([t,(0,o.keccak256)(r.pop())]));return(0,n.hexlify)(t)}function I(e){return(0,n.hexlify)((0,n.concat)(E(e).map(e=>{if(e.length>63)throw Error("invalid DNS encoded entry; length exceeds 63 bytes");let t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"}S.fill(0),e.s(["dnsEncode",()=>I,"ensNormalize",()=>k,"isValidName",()=>P,"namehash",()=>_],857518)},142621,e=>{"use strict";var t=e.i(403011),r=e.i(447172),i=e.i(840858);let n="\x19Ethereum Signed Message:\n";function a(e){return"string"==typeof e&&(e=(0,i.toUtf8Bytes)(e)),(0,r.keccak256)((0,t.concat)([(0,i.toUtf8Bytes)(n),(0,i.toUtf8Bytes)(String(e.length)),e]))}e.s(["hashMessage",()=>a,"messagePrefix",0,n])},407224,e=>{"use strict";var t=e.i(47771),r=e.i(839341),i=e.i(403011),n=e.i(447172),a=e.i(526579),o=e.i(875353),s=e.i(849266),u=e.i(83090);let l=new o.Logger(s.version),c=new Uint8Array(32);c.fill(0);let d=r.BigNumber.from(-1),f=r.BigNumber.from(0),p=r.BigNumber.from(1),h=r.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),m=(0,i.hexZeroPad)(p.toHexString(),32),b=(0,i.hexZeroPad)(f.toHexString(),32),g={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},y=["name","version","chainId","verifyingContract","salt"];function x(e){return function(t){return"string"!=typeof t&&l.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}let A={name:x("name"),version:x("version"),chainId:function(e){try{return r.BigNumber.from(e).toString()}catch(e){}return l.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return(0,t.getAddress)(e).toLowerCase()}catch(e){}return l.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{let t=(0,i.arrayify)(e);if(32!==t.length)throw Error("bad length");return(0,i.hexlify)(t)}catch(e){}return l.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function w(e){{let t=e.match(/^(u?)int(\d*)$/);if(t){let n=""===t[1],a=parseInt(t[2]||"256");(a%8!=0||a>256||t[2]&&t[2]!==String(a))&&l.throwArgumentError("invalid numeric width","type",e);let o=h.mask(n?a-1:a),s=n?o.add(p).mul(d):f;return function(t){let n=r.BigNumber.from(t);return(n.lt(s)||n.gt(o))&&l.throwArgumentError(`value out-of-bounds for ${e}`,"value",t),(0,i.hexZeroPad)(n.toTwos(256).toHexString(),32)}}}{let t=e.match(/^bytes(\d+)$/);if(t){let r=parseInt(t[1]);return(0===r||r>32||t[1]!==String(r))&&l.throwArgumentError("invalid bytes width","type",e),function(t){let n,a;return(0,i.arrayify)(t).length!==r&&l.throwArgumentError(`invalid length for ${e}`,"value",t),(a=(n=(0,i.arrayify)(t)).length%32)?(0,i.hexConcat)([n,c.slice(a)]):(0,i.hexlify)(n)}}}switch(e){case"address":return function(e){return(0,i.hexZeroPad)((0,t.getAddress)(e),32)};case"bool":return function(e){return e?m:b};case"bytes":return function(e){return(0,n.keccak256)(e)};case"string":return function(e){return(0,u.id)(e)}}return null}function v(e,t){return`${e}(${t.map(({name:e,type:t})=>t+" "+e).join(",")})`}class S{constructor(e){(0,a.defineReadOnly)(this,"types",Object.freeze((0,a.deepCopy)(e))),(0,a.defineReadOnly)(this,"_encoderCache",{}),(0,a.defineReadOnly)(this,"_types",{});const t={},r={},i={};for(const n in Object.keys(e).forEach(e=>{t[e]={},r[e]=[],i[e]={}}),e){const i={};e[n].forEach(a=>{i[a.name]&&l.throwArgumentError(`duplicate variable name ${JSON.stringify(a.name)} in ${JSON.stringify(n)}`,"types",e),i[a.name]=!0;let o=a.type.match(/^([^\x5b]*)(\x5b|$)/)[1];o===n&&l.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e),w(o)||(r[o]||l.throwArgumentError(`unknown type ${JSON.stringify(o)}`,"types",e),r[o].push(n),t[n][o]=!0)})}const n=Object.keys(r).filter(e=>0===r[e].length);for(const o in 0===n.length?l.throwArgumentError("missing primary type","types",e):n.length>1&&l.throwArgumentError(`ambiguous primary types or unused types: ${n.map(e=>JSON.stringify(e)).join(", ")}`,"types",e),(0,a.defineReadOnly)(this,"primaryType",n[0]),!function n(a,o){o[a]&&l.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),o[a]=!0,Object.keys(t[a]).forEach(e=>{r[e]&&(n(e,o),Object.keys(o).forEach(t=>{i[t][e]=!0}))}),delete o[a]}(this.primaryType,{}),i){const t=Object.keys(i[o]);t.sort(),this._types[o]=v(o,e[o])+t.map(t=>v(t,e[t])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{let t=w(e);if(t)return t}let t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){let e=t[1],r=this.getEncoder(e),a=parseInt(t[3]);return t=>{a>=0&&t.length!==a&&l.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t);let o=t.map(r);return this._types[e]&&(o=o.map(n.keccak256)),(0,n.keccak256)((0,i.hexConcat)(o))}}let r=this.types[e];if(r){let t=(0,u.id)(this._types[e]);return e=>{let a=r.map(({name:t,type:r})=>{let i=this.getEncoder(r)(e[t]);return this._types[r]?(0,n.keccak256)(i):i});return a.unshift(t),(0,i.hexConcat)(a)}}return l.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){let t=this._types[e];return t||l.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return(0,n.keccak256)(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(w(e))return r(e,t);let i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){let e=i[1],n=parseInt(i[3]);return n>=0&&t.length!==n&&l.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(t=>this._visit(e,t,r))}let n=this.types[e];return n?n.reduce((e,{name:i,type:n})=>(e[i]=this._visit(n,t[i],r),e),{}):l.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new S(e)}static getPrimaryType(e){return S.from(e).primaryType}static hashStruct(e,t,r){return S.from(t).hashStruct(e,r)}static hashDomain(e){let t=[];for(let r in e){let i=g[r];i||l.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:i})}return t.sort((e,t)=>y.indexOf(e.name)-y.indexOf(t.name)),S.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return(0,i.hexConcat)(["0x1901",S.hashDomain(e),S.from(t).hash(r)])}static hash(e,t,r){return(0,n.keccak256)(S.encode(e,t,r))}static resolveNames(e,t,r,n){var o,s,u,l;return o=this,s=void 0,u=void 0,l=function*(){e=(0,a.shallowCopy)(e);let o={};e.verifyingContract&&!(0,i.isHexString)(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");let s=S.from(t);for(let e in s.visit(r,(e,t)=>("address"!==e||(0,i.isHexString)(t,20)||(o[t]="0x"),t)),o)o[e]=yield n(e);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),r=s.visit(r,(e,t)=>"address"===e&&o[t]?o[t]:t),{domain:e,value:r}},new(u||(u=Promise))(function(e,t){function r(e){try{n(l.next(e))}catch(e){t(e)}}function i(e){try{n(l.throw(e))}catch(e){t(e)}}function n(t){var n;t.done?e(t.value):((n=t.value)instanceof u?n:new u(function(e){e(n)})).then(r,i)}n((l=l.apply(o,s||[])).next())})}static getPayload(e,t,n){S.hashDomain(e);let o={},s=[];y.forEach(t=>{let r=e[t];null!=r&&(o[t]=A[t](r),s.push({name:t,type:g[t]}))});let u=S.from(t),c=(0,a.shallowCopy)(t);return c.EIP712Domain?l.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):c.EIP712Domain=s,u.encode(n),{types:c,domain:o,primaryType:u.primaryType,message:u.visit(n,(e,t)=>{if(e.match(/^bytes(\d*)/))return(0,i.hexlify)((0,i.arrayify)(t));if(e.match(/^u?int/))return r.BigNumber.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!=typeof t&&l.throwArgumentError("invalid string","value",t),t}return l.throwArgumentError("unsupported type","type",e)})}}}e.s(["TypedDataEncoder",()=>S])},776030,e=>{"use strict";var t=e.i(83090),r=e.i(857518),i=e.i(142621),n=e.i(407224);e.s([],75009),e.i(75009),e.s(["_TypedDataEncoder",()=>n.TypedDataEncoder,"dnsEncode",()=>r.dnsEncode,"ensNormalize",()=>r.ensNormalize,"hashMessage",()=>i.hashMessage,"id",()=>t.id,"isValidName",()=>r.isValidName,"messagePrefix",()=>i.messagePrefix,"namehash",()=>r.namehash],776030)},252646,(e,t,r)=>{function i(e,t){if(!e)throw Error(t||"Assertion failed")}t.exports=i,i.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)}},988935,(e,t,r)=>{"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},109460,(e,t,r)=>{"use strict";var i=e.r(252646);function n(e){return(e>>>24|e>>>8&65280|e<<8&0xff0000|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function o(e){if(7===e.length)return"0"+e;if(6===e.length)return"00"+e;if(5===e.length)return"000"+e;if(4===e.length)return"0000"+e;if(3===e.length)return"00000"+e;else if(2===e.length)return"000000"+e;else if(1===e.length)return"0000000"+e;else return e}r.inherits=e.r(988935),r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var i=0,n=0;n<e.length;n++){var a,o,s=e.charCodeAt(n);s<128?r[i++]=s:(s<2048?r[i++]=s>>6|192:((a=e,o=n,(64512&a.charCodeAt(o))!=55296||o<0||o+1>=a.length?1:(64512&a.charCodeAt(o+1))!=56320)?r[i++]=s>>12|224:(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++n)),r[i++]=s>>18|240,r[i++]=s>>12&63|128),r[i++]=s>>6&63|128),r[i++]=63&s|128)}else for(n=0;n<e.length;n++)r[n]=0|e[n];return r},r.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=a(e[r].toString(16));return t},r.htonl=n,r.toHex32=function(e,t){for(var r="",i=0;i<e.length;i++){var a=e[i];"little"===t&&(a=n(a)),r+=o(a.toString(16))}return r},r.zero2=a,r.zero8=o,r.join32=function(e,t,r,n){var a,o=r-t;i(o%4==0);for(var s=Array(o/4),u=0,l=t;u<s.length;u++,l+=4)a="big"===n?e[l]<<24|e[l+1]<<16|e[l+2]<<8|e[l+3]:e[l+3]<<24|e[l+2]<<16|e[l+1]<<8|e[l],s[u]=a>>>0;return s},r.split32=function(e,t){for(var r=Array(4*e.length),i=0,n=0;i<e.length;i++,n+=4){var a=e[i];"big"===t?(r[n]=a>>>24,r[n+1]=a>>>16&255,r[n+2]=a>>>8&255,r[n+3]=255&a):(r[n+3]=a>>>24,r[n+2]=a>>>16&255,r[n+1]=a>>>8&255,r[n]=255&a)}return r},r.rotr32=function(e,t){return e>>>t|e<<32-t},r.rotl32=function(e,t){return e<<t|e>>>32-t},r.sum32=function(e,t){return e+t>>>0},r.sum32_3=function(e,t,r){return e+t+r>>>0},r.sum32_4=function(e,t,r,i){return e+t+r+i>>>0},r.sum32_5=function(e,t,r,i,n){return e+t+r+i+n>>>0},r.sum64=function(e,t,r,i){var n=e[t],a=i+e[t+1]>>>0;e[t]=+(a<i)+r+n>>>0,e[t+1]=a},r.sum64_hi=function(e,t,r,i){return+(t+i>>>0<t)+e+r>>>0},r.sum64_lo=function(e,t,r,i){return t+i>>>0},r.sum64_4_hi=function(e,t,r,i,n,a,o,s){var u,l=t;return e+r+n+o+(u=0+ +((l=l+i>>>0)<t)+ +((l=l+a>>>0)<a)+ +((l=l+s>>>0)<s))>>>0},r.sum64_4_lo=function(e,t,r,i,n,a,o,s){return t+i+a+s>>>0},r.sum64_5_hi=function(e,t,r,i,n,a,o,s,u,l){var c,d=t;return e+r+n+o+u+(c=0+ +((d=d+i>>>0)<t)+ +((d=d+a>>>0)<a)+ +((d=d+s>>>0)<s)+ +((d=d+l>>>0)<l))>>>0},r.sum64_5_lo=function(e,t,r,i,n,a,o,s,u,l){return t+i+a+s+l>>>0},r.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},r.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},r.shr64_hi=function(e,t,r){return e>>>r},r.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},425078,(e,t,r)=>{"use strict";var i=e.r(109460),n=e.r(252646);function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}r.BlockHash=a,a.prototype.update=function(e,t){if(e=i.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=i.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},a.prototype.digest=function(e){return this.update(this._pad()),n(null===this.pending),this._digest(e)},a.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(e<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=e>>>24&255,i[n++]=e>>>16&255,i[n++]=e>>>8&255,i[n++]=255&e}else for(a=8,i[n++]=255&e,i[n++]=e>>>8&255,i[n++]=e>>>16&255,i[n++]=e>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0;a<this.padLength;a++)i[n++]=0;return i}},144944,(e,t,r)=>{"use strict";var i=e.r(109460).rotr32;function n(e,t,r){return e&t^e&r^t&r}r.ft_1=function(e,t,r,i){var a;return 0===e?(a=t)&r^~a&i:1===e||3===e?t^r^i:2===e?n(t,r,i):void 0},r.ch32=function(e,t,r){return e&t^~e&r},r.maj32=n,r.p32=function(e,t,r){return e^t^r},r.s0_256=function(e){return i(e,2)^i(e,13)^i(e,22)},r.s1_256=function(e){return i(e,6)^i(e,11)^i(e,25)},r.g0_256=function(e){return i(e,7)^i(e,18)^e>>>3},r.g1_256=function(e){return i(e,17)^i(e,19)^e>>>10}},360205,(e,t,r)=>{"use strict";var i=e.r(109460),n=e.r(425078),a=e.r(144944),o=i.rotl32,s=i.sum32,u=i.sum32_5,l=a.ft_1,c=n.BlockHash,d=[0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xca62c1d6];function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0],this.W=Array(80)}i.inherits(f,c),t.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=o(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],a=this.h[1],c=this.h[2],f=this.h[3],p=this.h[4];for(i=0;i<r.length;i++){var h=~~(i/20),m=u(o(n,5),l(h,a,c,f),p,r[i],d[h]);p=f,f=c,c=o(a,30),a=n,n=m}this.h[0]=s(this.h[0],n),this.h[1]=s(this.h[1],a),this.h[2]=s(this.h[2],c),this.h[3]=s(this.h[3],f),this.h[4]=s(this.h[4],p)},f.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},249891,(e,t,r)=>{"use strict";var i=e.r(109460),n=e.r(425078),a=e.r(144944),o=e.r(252646),s=i.sum32,u=i.sum32_4,l=i.sum32_5,c=a.ch32,d=a.maj32,f=a.s0_256,p=a.s1_256,h=a.g0_256,m=a.g1_256,b=n.BlockHash,g=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2];function y(){if(!(this instanceof y))return new y;b.call(this),this.h=[0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19],this.k=g,this.W=Array(64)}i.inherits(y,b),t.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=u(m(r[i-2]),r[i-7],h(r[i-15]),r[i-16]);var n=this.h[0],a=this.h[1],b=this.h[2],g=this.h[3],y=this.h[4],x=this.h[5],A=this.h[6],w=this.h[7];for(o(this.k.length===r.length),i=0;i<r.length;i++){var v=l(w,p(y),c(y,x,A),this.k[i],r[i]),S=s(f(n),d(n,a,b));w=A,A=x,x=y,y=s(g,v),g=b,b=a,a=n,n=s(v,S)}this.h[0]=s(this.h[0],n),this.h[1]=s(this.h[1],a),this.h[2]=s(this.h[2],b),this.h[3]=s(this.h[3],g),this.h[4]=s(this.h[4],y),this.h[5]=s(this.h[5],x),this.h[6]=s(this.h[6],A),this.h[7]=s(this.h[7],w)},y.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},365498,(e,t,r)=>{"use strict";var i=e.r(109460),n=e.r(249891);function a(){if(!(this instanceof a))return new a;n.call(this),this.h=[0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4]}i.inherits(a,n),t.exports=a,a.blockSize=512,a.outSize=224,a.hmacStrength=192,a.padLength=64,a.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},845007,(e,t,r)=>{"use strict";var i=e.r(109460),n=e.r(425078),a=e.r(252646),o=i.rotr64_hi,s=i.rotr64_lo,u=i.shr64_hi,l=i.shr64_lo,c=i.sum64,d=i.sum64_hi,f=i.sum64_lo,p=i.sum64_4_hi,h=i.sum64_4_lo,m=i.sum64_5_hi,b=i.sum64_5_lo,g=n.BlockHash,y=[0x428a2f98,0xd728ae22,0x71374491,0x23ef65cd,0xb5c0fbcf,0xec4d3b2f,0xe9b5dba5,0x8189dbbc,0x3956c25b,0xf348b538,0x59f111f1,0xb605d019,0x923f82a4,0xaf194f9b,0xab1c5ed5,0xda6d8118,0xd807aa98,0xa3030242,0x12835b01,0x45706fbe,0x243185be,0x4ee4b28c,0x550c7dc3,0xd5ffb4e2,0x72be5d74,0xf27b896f,0x80deb1fe,0x3b1696b1,0x9bdc06a7,0x25c71235,0xc19bf174,0xcf692694,0xe49b69c1,0x9ef14ad2,0xefbe4786,0x384f25e3,0xfc19dc6,0x8b8cd5b5,0x240ca1cc,0x77ac9c65,0x2de92c6f,0x592b0275,0x4a7484aa,0x6ea6e483,0x5cb0a9dc,0xbd41fbd4,0x76f988da,0x831153b5,0x983e5152,0xee66dfab,0xa831c66d,0x2db43210,0xb00327c8,0x98fb213f,0xbf597fc7,0xbeef0ee4,0xc6e00bf3,0x3da88fc2,0xd5a79147,0x930aa725,0x6ca6351,0xe003826f,0x14292967,0xa0e6e70,0x27b70a85,0x46d22ffc,0x2e1b2138,0x5c26c926,0x4d2c6dfc,0x5ac42aed,0x53380d13,0x9d95b3df,0x650a7354,0x8baf63de,0x766a0abb,0x3c77b2a8,0x81c2c92e,0x47edaee6,0x92722c85,0x1482353b,0xa2bfe8a1,0x4cf10364,0xa81a664b,0xbc423001,0xc24b8b70,0xd0f89791,0xc76c51a3,0x654be30,0xd192e819,0xd6ef5218,0xd6990624,0x5565a910,0xf40e3585,0x5771202a,0x106aa070,0x32bbd1b8,0x19a4c116,0xb8d2d0c8,0x1e376c08,0x5141ab53,0x2748774c,0xdf8eeb99,0x34b0bcb5,0xe19b48a8,0x391c0cb3,0xc5c95a63,0x4ed8aa4a,0xe3418acb,0x5b9cca4f,0x7763e373,0x682e6ff3,0xd6b2b8a3,0x748f82ee,0x5defb2fc,0x78a5636f,0x43172f60,0x84c87814,0xa1f0ab72,0x8cc70208,0x1a6439ec,0x90befffa,0x23631e28,0xa4506ceb,0xde82bde9,0xbef9a3f7,0xb2c67915,0xc67178f2,0xe372532b,0xca273ece,0xea26619c,0xd186b8c7,0x21c0c207,0xeada7dd6,0xcde0eb1e,0xf57d4f7f,0xee6ed178,0x6f067aa,0x72176fba,0xa637dc5,0xa2c898a6,0x113f9804,0xbef90dae,0x1b710b35,0x131c471b,0x28db77f5,0x23047d84,0x32caab7b,0x40c72493,0x3c9ebe0a,0x15c9bebc,0x431d67c4,0x9c100d4c,0x4cc5d4be,0xcb3e42b6,0x597f299c,0xfc657e2a,0x5fcb6fab,0x3ad6faec,0x6c44198c,0x4a475817];function x(){if(!(this instanceof x))return new x;g.call(this),this.h=[0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179],this.k=y,this.W=Array(160)}i.inherits(x,g),t.exports=x,x.blockSize=1024,x.outSize=512,x.hmacStrength=192,x.padLength=128,x.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var n=function(e,t){var r=o(e,t,19)^o(t,e,29)^u(e,t,6);return r<0&&(r+=0x100000000),r}(r[i-4],r[i-3]),a=function(e,t){var r=s(e,t,19)^s(t,e,29)^l(e,t,6);return r<0&&(r+=0x100000000),r}(r[i-4],r[i-3]),c=r[i-14],d=r[i-13],f=function(e,t){var r=o(e,t,1)^o(e,t,8)^u(e,t,7);return r<0&&(r+=0x100000000),r}(r[i-30],r[i-29]),m=function(e,t){var r=s(e,t,1)^s(e,t,8)^l(e,t,7);return r<0&&(r+=0x100000000),r}(r[i-30],r[i-29]),b=r[i-32],g=r[i-31];r[i]=p(n,a,c,d,f,m,b,g),r[i+1]=h(n,a,c,d,f,m,b,g)}},x.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],n=this.h[1],u=this.h[2],l=this.h[3],p=this.h[4],h=this.h[5],g=this.h[6],y=this.h[7],x=this.h[8],A=this.h[9],w=this.h[10],v=this.h[11],S=this.h[12],T=this.h[13],E=this.h[14],k=this.h[15];a(this.k.length===r.length);for(var P=0;P<r.length;P+=2){var _=E,I=k,N=function(e,t){var r=o(e,t,14)^o(e,t,18)^o(t,e,9);return r<0&&(r+=0x100000000),r}(x,A),R=function(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=0x100000000),r}(x,A),B=function(e,t,r,i,n){var a=e&r^~e&n;return a<0&&(a+=0x100000000),a}(x,0,w,0,S,T),C=function(e,t,r,i,n,a){var o=t&i^~t&a;return o<0&&(o+=0x100000000),o}(0,A,0,v,0,T),O=this.k[P],D=this.k[P+1],M=r[P],U=r[P+1],F=m(_,I,N,R,B,C,O,D,M,U),L=b(_,I,N,R,B,C,O,D,M,U);_=function(e,t){var r=o(e,t,28)^o(t,e,2)^o(t,e,7);return r<0&&(r+=0x100000000),r}(i,n),I=function(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=0x100000000),r}(i,n);var q=d(_,I,N=function(e,t,r,i,n){var a=e&r^e&n^r&n;return a<0&&(a+=0x100000000),a}(i,0,u,0,p,h),R=function(e,t,r,i,n,a){var o=t&i^t&a^i&a;return o<0&&(o+=0x100000000),o}(0,n,0,l,0,h)),K=f(_,I,N,R);E=S,k=T,S=w,T=v,w=x,v=A,x=d(g,y,F,L),A=f(y,y,F,L),g=p,y=h,p=u,h=l,u=i,l=n,i=d(F,L,q,K),n=f(F,L,q,K)}c(this.h,0,i,n),c(this.h,2,u,l),c(this.h,4,p,h),c(this.h,6,g,y),c(this.h,8,x,A),c(this.h,10,w,v),c(this.h,12,S,T),c(this.h,14,E,k)},x.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},263098,(e,t,r)=>{"use strict";var i=e.r(109460),n=e.r(845007);function a(){if(!(this instanceof a))return new a;n.call(this),this.h=[0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]}i.inherits(a,n),t.exports=a,a.blockSize=1024,a.outSize=384,a.hmacStrength=192,a.padLength=128,a.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},105490,(e,t,r)=>{"use strict";r.sha1=e.r(360205),r.sha224=e.r(365498),r.sha256=e.r(249891),r.sha384=e.r(263098),r.sha512=e.r(845007)},133916,(e,t,r)=>{"use strict";var i=e.r(109460),n=e.r(425078),a=i.rotl32,o=i.sum32,s=i.sum32_3,u=i.sum32_4,l=n.BlockHash;function c(){if(!(this instanceof c))return new c;l.call(this),this.h=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0],this.endian="little"}function d(e,t,r,i){return e<=15?t^r^i:e<=31?t&r|~t&i:e<=47?(t|~r)^i:e<=63?t&i|r&~i:t^(r|~i)}i.inherits(c,l),r.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],n=this.h[2],l=this.h[3],c=this.h[4],b=r,g=i,y=n,x=l,A=c,w=0;w<80;w++){var v,S,T=o(a(u(r,d(w,i,n,l),e[f[w]+t],(v=w)<=15?0:v<=31?0x5a827999:v<=47?0x6ed9eba1:v<=63?0x8f1bbcdc:0xa953fd4e),h[w]),c);r=c,c=l,l=a(n,10),n=i,i=T,T=o(a(u(b,d(79-w,g,y,x),e[p[w]+t],(S=w)<=15?0x50a28be6:S<=31?0x5c4dd124:S<=47?0x6d703ef3:0x7a6d76e9*!!(S<=63)),m[w]),A),b=A,A=x,x=a(y,10),y=g,g=T}T=s(this.h[1],n,x),this.h[1]=s(this.h[2],l,A),this.h[2]=s(this.h[3],c,b),this.h[3]=s(this.h[4],r,g),this.h[4]=s(this.h[0],i,y),this.h[0]=T},c.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],p=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},564141,(e,t,r)=>{"use strict";var i=e.r(109460),n=e.r(252646);function a(e,t,r){if(!(this instanceof a))return new a(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(t,r))}t.exports=a,a.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),n(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(t=0,this.inner=new this.Hash().update(e);t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},a.prototype.update=function(e,t){return this.inner.update(e,t),this},a.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},70148,(e,t,r)=>{r.utils=e.r(109460),r.common=e.r(425078),r.sha=e.r(105490),r.ripemd=e.r(133916),r.hmac=e.r(564141),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},942558,691846,e=>{"use strict";var t,r,i=e.i(70148),n=e.i(403011);(t=r||(r={})).sha256="sha256",t.sha512="sha512",e.s(["SupportedAlgorithm",()=>r],691846);var a=e.i(875353);let o=new a.Logger("sha2/5.8.0");function s(e){return"0x"+i.default.ripemd160().update((0,n.arrayify)(e)).digest("hex")}function u(e){return"0x"+i.default.sha256().update((0,n.arrayify)(e)).digest("hex")}function l(e){return"0x"+i.default.sha512().update((0,n.arrayify)(e)).digest("hex")}function c(e,t,s){return r[e]||o.throwError("unsupported algorithm "+e,a.Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+i.default.hmac(i.default[e],(0,n.arrayify)(t)).update((0,n.arrayify)(s)).digest("hex")}e.s(["computeHmac",()=>c,"ripemd160",()=>s,"sha256",()=>u,"sha512",()=>l],942558)},346469,e=>{"use strict";var t=e.i(659341),r=e.i(70148);function i(e,t,r){return e(r={path:t,exports:{},require:function(e,t){throw null==t&&r.path,Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}},r.exports),r.exports}"u">typeof globalThis||("u">typeof window?window:e.g);var n=a;function a(e,t){if(!e)throw Error(t||"Assertion failed")}a.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)};var o=i(function(e,t){function r(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",i=0;i<e.length;i++)t+=r(e[i].toString(16));return t}t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var i=0;i<e.length;i++)r[i]=0|e[i];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(e="0"+e);for(var i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var i=0;i<e.length;i++){var n=e.charCodeAt(i),a=n>>8,o=255&n;a?r.push(a,o):r.push(o)}return r},t.zero2=r,t.toHex=i,t.encode=function(e,t){return"hex"===t?i(e):e}}),s=i(function(e,r){r.assert=n,r.toArray=o.toArray,r.zero2=o.zero2,r.toHex=o.toHex,r.encode=o.encode,r.getNAF=function(e,t,r){var i=Array(Math.max(e.bitLength(),r)+1);for(o=0;o<i.length;o+=1)i[o]=0;var n=1<<t+1,a=e.clone();for(o=0;o<i.length;o++){var o,s,u=a.andln(n-1);a.isOdd()?(s=u>(n>>1)-1?(n>>1)-u:u,a.isubn(s)):s=0,i[o]=s,a.iushrn(1)}return i},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var i=0,n=0;e.cmpn(-i)>0||t.cmpn(-n)>0;){var a,o,s,u=e.andln(3)+i&3,l=t.andln(3)+n&3;3===u&&(u=-1),3===l&&(l=-1),o=(1&u)==0?0:(3==(a=e.andln(7)+i&7)||5===a)&&2===l?-u:u,r[0].push(o),s=(1&l)==0?0:(3==(a=t.andln(7)+n&7)||5===a)&&2===u?-l:l,r[1].push(s),2*i===o+1&&(i=1-i),2*n===s+1&&(n=1-n),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var i="_"+t;e.prototype[t]=function(){return void 0!==this[i]?this[i]:this[i]=r.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new t.default(e,"hex","le")}}),u=s.getNAF,l=s.getJSF,c=s.assert;function d(e,r){this.type=e,this.p=new t.default(r.p,16),this.red=r.prime?t.default.red(r.prime):t.default.mont(this.p),this.zero=new t.default(0).toRed(this.red),this.one=new t.default(1).toRed(this.red),this.two=new t.default(2).toRed(this.red),this.n=r.n&&new t.default(r.n,16),this.g=r.g&&this.pointFromJSON(r.g,r.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var i=this.n&&this.p.div(this.n);!i||i.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function f(e,t){this.curve=e,this.type=t,this.precomputed=null}d.prototype.point=function(){throw Error("Not implemented")},d.prototype.validate=function(){throw Error("Not implemented")},d.prototype._fixedNafMul=function(e,t){c(e.precomputed);var r,i,n=e._getDoubles(),a=u(t,1,this._bitLength),o=(1<<n.step+1)-(n.step%2==0?2:1);o/=3;var s=[];for(r=0;r<a.length;r+=n.step){i=0;for(var l=r+n.step-1;l>=r;l--)i=(i<<1)+a[l];s.push(i)}for(var d=this.jpoint(null,null,null),f=this.jpoint(null,null,null),p=o;p>0;p--){for(r=0;r<s.length;r++)(i=s[r])===p?f=f.mixedAdd(n.points[r]):i===-p&&(f=f.mixedAdd(n.points[r].neg()));d=d.add(f)}return d.toP()},d.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var n=i.points,a=u(t,r,this._bitLength),o=this.jpoint(null,null,null),s=a.length-1;s>=0;s--){for(var l=0;s>=0&&0===a[s];s--)l++;if(s>=0&&l++,o=o.dblp(l),s<0)break;var d=a[s];c(0!==d),o="affine"===e.type?d>0?o.mixedAdd(n[d-1>>1]):o.mixedAdd(n[-d-1>>1].neg()):d>0?o.add(n[d-1>>1]):o.add(n[-d-1>>1].neg())}return"affine"===e.type?o.toP():o},d.prototype._wnafMulAdd=function(e,t,r,i,n){var a,o,s,c=this._wnafT1,d=this._wnafT2,f=this._wnafT3,p=0;for(a=0;a<i;a++){var h=(s=t[a])._getNAFPoints(e);c[a]=h.wnd,d[a]=h.points}for(a=i-1;a>=1;a-=2){var m=a-1,b=a;if(1!==c[m]||1!==c[b]){f[m]=u(r[m],c[m],this._bitLength),f[b]=u(r[b],c[b],this._bitLength),p=Math.max(f[m].length,p),p=Math.max(f[b].length,p);continue}var g=[t[m],null,null,t[b]];0===t[m].y.cmp(t[b].y)?(g[1]=t[m].add(t[b]),g[2]=t[m].toJ().mixedAdd(t[b].neg())):0===t[m].y.cmp(t[b].y.redNeg())?(g[1]=t[m].toJ().mixedAdd(t[b]),g[2]=t[m].add(t[b].neg())):(g[1]=t[m].toJ().mixedAdd(t[b]),g[2]=t[m].toJ().mixedAdd(t[b].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],x=l(r[m],r[b]);for(o=0,p=Math.max(x[0].length,p),f[m]=Array(p),f[b]=Array(p);o<p;o++){var A=0|x[0][o],w=0|x[1][o];f[m][o]=y[(A+1)*3+(w+1)],f[b][o]=0,d[m]=g}}var v=this.jpoint(null,null,null),S=this._wnafT4;for(a=p;a>=0;a--){for(var T=0;a>=0;){var E=!0;for(o=0;o<i;o++)S[o]=0|f[o][a],0!==S[o]&&(E=!1);if(!E)break;T++,a--}if(a>=0&&T++,v=v.dblp(T),a<0)break;for(o=0;o<i;o++){var k=S[o];0!==k&&(k>0?s=d[o][k-1>>1]:k<0&&(s=d[o][-k-1>>1].neg()),v="affine"===s.type?v.mixedAdd(s):v.add(s))}}for(a=0;a<i;a++)d[a]=null;return n?v:v.toP()},d.BasePoint=f,f.prototype.eq=function(){throw Error("Not implemented")},f.prototype.validate=function(){return this.curve.validate(this)},d.prototype.decodePoint=function(e,t){e=s.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?c(e[e.length-1]%2==0):7===e[0]&&c(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw Error("Unknown point format")},f.prototype.encodeCompressed=function(e){return this.encode(e,!0)},f.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},f.prototype.encode=function(e,t){return s.encode(this._encode(t),e)},f.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},f.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},f.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<t;n+=e){for(var a=0;a<e;a++)i=i.dbl();r.push(i)}return{step:e,points:r}},f.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=1===r?null:this.dbl(),n=1;n<r;n++)t[n]=t[n-1].add(i);return{wnd:e,points:t}},f.prototype._getBeta=function(){return null},f.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var p=i(function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}}),h=s.assert;function m(e){d.call(this,"short",e),this.a=new t.default(e.a,16).toRed(this.red),this.b=new t.default(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function b(e,r,i,n){d.BasePoint.call(this,e,"affine"),null===r&&null===i?(this.x=null,this.y=null,this.inf=!0):(this.x=new t.default(r,16),this.y=new t.default(i,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function g(e,r,i,n){d.BasePoint.call(this,e,"jacobian"),null===r&&null===i&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new t.default(0)):(this.x=new t.default(r,16),this.y=new t.default(i,16),this.z=new t.default(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}p(m,d),m.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){if(e.beta)r=new t.default(e.beta,16).toRed(this.red);else{var r,i,n,a=this._getEndoRoots(this.p);r=(r=0>a[0].cmp(a[1])?a[0]:a[1]).toRed(this.red)}if(e.lambda)i=new t.default(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))?i=o[0]:(i=o[1],h(0===this.g.mul(i).x.cmp(this.g.x.redMul(r))))}return n=e.basis?e.basis.map(function(e){return{a:new t.default(e.a,16),b:new t.default(e.b,16)}}):this._getEndoBasis(i),{beta:r,lambda:i,basis:n}}},m.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:t.default.mont(e),i=new t.default(2).toRed(r).redInvm(),n=i.redNeg(),a=new t.default(3).toRed(r).redNeg().redSqrt().redMul(i);return[n.redAdd(a).fromRed(),n.redSub(a).fromRed()]},m.prototype._getEndoBasis=function(e){for(var r,i,n,a,o,s,u,l,c,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,p=this.n.clone(),h=new t.default(1),m=new t.default(0),b=new t.default(0),g=new t.default(1),y=0;0!==f.cmpn(0);){var x=p.div(f);l=p.sub(x.mul(f)),c=b.sub(x.mul(h));var A=g.sub(x.mul(m));if(!n&&0>l.cmp(d))r=u.neg(),i=h,n=l.neg(),a=c;else if(n&&2==++y)break;u=l,p=f,f=l,b=h,h=c,g=m,m=A}o=l.neg(),s=c;var w=n.sqr().add(a.sqr());return o.sqr().add(s.sqr()).cmp(w)>=0&&(o=r,s=i),n.negative&&(n=n.neg(),a=a.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:a},{a:o,b:s}]},m.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),o=n.mul(r.a),s=a.mul(i.a),u=n.mul(r.b),l=a.mul(i.b);return{k1:e.sub(o).sub(s),k2:u.add(l).neg()}},m.prototype.pointFromX=function(e,r){(e=new t.default(e,16)).red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=i.redSqrt();if(0!==n.redSqr().redSub(i).cmp(this.zero))throw Error("invalid point");var a=n.fromRed().isOdd();return(r&&!a||!r&&a)&&(n=n.redNeg()),this.point(e,n)},m.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return 0===r.redSqr().redISub(n).cmpn(0)},m.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(t[a]),s=e[a],u=s._getBeta();o.k1.negative&&(o.k1.ineg(),s=s.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),i[2*a]=s,i[2*a+1]=u,n[2*a]=o.k1,n[2*a+1]=o.k2}for(var l=this._wnafMulAdd(1,i,n,2*a,r),c=0;c<2*a;c++)i[c]=null,n[c]=null;return l},p(b,d.BasePoint),m.prototype.point=function(e,t,r){return new b(this,e,t,r)},m.prototype.pointFromJSON=function(e,t){return b.fromJSON(this,e,t)},b.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},b.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},b.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function n(t){return e.point(t[0],t[1],r)}var a=t[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(n))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(n))}},i},b.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},b.prototype.isInfinity=function(){return this.inf},b.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e)||0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},b.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),a=n.redSqr().redISub(this.x.redAdd(this.x)),o=n.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)},b.prototype.getX=function(){return this.x.fromRed()},b.prototype.getY=function(){return this.y.fromRed()},b.prototype.mul=function(e){return(e=new t.default(e,16),this.isInfinity())?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},b.prototype.mulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},b.prototype.jmulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},b.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},b.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},b.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},p(g,d.BasePoint),m.prototype.jpoint=function(e,t,r){return new g(this,e,t,r)},g.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},g.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},g.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),a=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),s=i.redSub(n),u=a.redSub(o);if(0===s.cmpn(0))if(0!==u.cmpn(0))return this.curve.jpoint(null,null,null);else return this.dbl();var l=s.redSqr(),c=l.redMul(s),d=i.redMul(l),f=u.redSqr().redIAdd(c).redISub(d).redISub(d),p=u.redMul(d.redISub(f)).redISub(a.redMul(c)),h=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(f,p,h)},g.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,a=e.y.redMul(t).redMul(this.z),o=r.redSub(i),s=n.redSub(a);if(0===o.cmpn(0))if(0!==s.cmpn(0))return this.curve.jpoint(null,null,null);else return this.dbl();var u=o.redSqr(),l=u.redMul(o),c=r.redMul(u),d=s.redSqr().redIAdd(l).redISub(c).redISub(c),f=s.redMul(c.redISub(d)).redISub(n.redMul(l)),p=this.z.redMul(o);return this.curve.jpoint(d,f,p)},g.prototype.dblp=function(e){if(0===e||this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var t,r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,a=this.x,o=this.y,s=this.z,u=s.redSqr().redSqr(),l=o.redAdd(o);for(t=0;t<e;t++){var c=a.redSqr(),d=l.redSqr(),f=d.redSqr(),p=c.redAdd(c).redIAdd(c).redIAdd(i.redMul(u)),h=a.redMul(d),m=p.redSqr().redISub(h.redAdd(h)),b=h.redISub(m),g=p.redMul(b);g=g.redIAdd(g).redISub(f);var y=l.redMul(s);t+1<e&&(u=u.redMul(f)),a=m,s=y,l=g}return this.curve.jpoint(a,l.redMul(n),s)},g.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},g.prototype._zeroDbl=function(){if(this.zOne){var e,t,r,i=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var s=i.redAdd(i).redIAdd(i),u=s.redSqr().redISub(o).redISub(o),l=a.redIAdd(a);l=(l=l.redIAdd(l)).redIAdd(l),e=u,t=s.redMul(o.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),d=this.y.redSqr(),f=d.redSqr(),p=this.x.redAdd(d).redSqr().redISub(c).redISub(f);p=p.redIAdd(p);var h=c.redAdd(c).redIAdd(c),m=h.redSqr(),b=f.redIAdd(f);b=(b=b.redIAdd(b)).redIAdd(b),e=m.redISub(p).redISub(p),t=h.redMul(p.redISub(e)).redISub(b),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},g.prototype._threeDbl=function(){if(this.zOne){var e,t,r,i=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var s=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),u=s.redSqr().redISub(o).redISub(o);e=u;var l=a.redIAdd(a);l=(l=l.redIAdd(l)).redIAdd(l),t=s.redMul(o.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),d=this.y.redSqr(),f=this.x.redMul(d),p=this.x.redSub(c).redMul(this.x.redAdd(c));p=p.redAdd(p).redIAdd(p);var h=f.redIAdd(f),m=(h=h.redIAdd(h)).redAdd(h);e=p.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(c);var b=d.redSqr();b=(b=(b=b.redIAdd(b)).redIAdd(b)).redIAdd(b),t=p.redMul(h.redISub(e)).redISub(b)}return this.curve.jpoint(e,t,r)},g.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),a=t.redSqr(),o=r.redSqr(),s=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(n)),u=t.redAdd(t),l=(u=u.redIAdd(u)).redMul(o),c=s.redSqr().redISub(l.redAdd(l)),d=l.redISub(c),f=o.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var p=s.redMul(d).redISub(f),h=r.redAdd(r).redMul(i);return this.curve.jpoint(c,p,h)},g.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),n=e.redAdd(e).redIAdd(e),a=n.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(i),s=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(a)).redSqr(),u=i.redIAdd(i);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=n.redIAdd(o).redSqr().redISub(a).redISub(s).redISub(u),c=t.redMul(l);c=(c=c.redIAdd(c)).redIAdd(c);var d=this.x.redMul(s).redISub(c);d=(d=d.redIAdd(d)).redIAdd(d);var f=this.y.redMul(l.redMul(u.redISub(l)).redISub(o.redMul(s)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var p=this.z.redAdd(o).redSqr().redISub(r).redISub(s);return this.curve.jpoint(d,f,p)},g.prototype.mul=function(e,r){return e=new t.default(e,r),this.curve._wnafMul(this,e)},g.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var i=t.redMul(this.z),n=r.redMul(e.z);return 0===this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)},g.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var i=e.clone(),n=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),0===this.x.cmp(r))return!0}},g.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},g.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var y=i(function(e,t){t.base=d,t.short=m,t.mont=null,t.edwards=null}),x=i(function(e,t){var i,n=s.assert;function a(e){"short"===e.type?this.curve=new y.short(e):"edwards"===e.type?this.curve=new y.edwards(e):this.curve=new y.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var i=new a(r);return Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:i}),i}})}t.PresetCurve=a,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.default.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.default.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.default.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.default.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.default.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.default.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.default.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=null.crash()}catch(e){i=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.default.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})});function A(e){if(!(this instanceof A))return new A(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=o.toArray(e.entropy,e.entropyEnc||"hex"),r=o.toArray(e.nonce,e.nonceEnc||"hex"),i=o.toArray(e.pers,e.persEnc||"hex");n(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}A.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=0x1000000000000},A.prototype._hmac=function(){return new r.default.hmac(this.hash,this.K)},A.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},A.prototype.reseed=function(e,t,r,i){"string"!=typeof t&&(i=r,r=t,t=null),e=o.toArray(e,t),r=o.toArray(r,i),n(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},A.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof t&&(i=r,r=t,t=null),r&&(r=o.toArray(r,i||"hex"),this._update(r));for(var n=[];n.length<e;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var a=n.slice(0,e);return this._update(r),this._reseed++,o.encode(a,t)};var w=s.assert;function v(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}v.fromPublic=function(e,t,r){return t instanceof v?t:new v(e,{pub:t,pubEnc:r})},v.fromPrivate=function(e,t,r){return t instanceof v?t:new v(e,{priv:t,privEnc:r})},v.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},v.prototype.getPublic=function(e,t){return("string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t)?this.pub.encode(t,e):this.pub},v.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},v.prototype._importPrivate=function(e,r){this.priv=new t.default(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)},v.prototype._importPublic=function(e,t){if(e.x||e.y){"mont"===this.ec.curve.type?w(e.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&w(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},v.prototype.derive=function(e){return e.validate()||w(e.validate(),"public point not validated"),e.mul(this.priv).getX()},v.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},v.prototype.verify=function(e,t,r){return this.ec.verify(e,t,this,void 0,r)},v.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var S=s.assert;function T(e,r){if(e instanceof T)return e;this._importDER(e,r)||(S(e.r&&e.s,"Signature without r or s"),this.r=new t.default(e.r,16),this.s=new t.default(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function E(){this.place=0}function k(e,t){var r=e[t.place++];if(!(128&r))return r;var i=15&r;if(0===i||i>4||0===e[t.place])return!1;for(var n=0,a=0,o=t.place;a<i;a++,o++)n<<=8,n|=e[o],n>>>=0;return!(n<=127)&&(t.place=o,n)}function P(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function _(e,t){if(t<128)return void e.push(t);var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}T.prototype._importDER=function(e,r){e=s.toArray(e,r);var i=new E;if(48!==e[i.place++])return!1;var n=k(e,i);if(!1===n||n+i.place!==e.length||2!==e[i.place++])return!1;var a=k(e,i);if(!1===a||(128&e[i.place])!=0)return!1;var o=e.slice(i.place,a+i.place);if(i.place+=a,2!==e[i.place++])return!1;var u=k(e,i);if(!1===u||e.length!==u+i.place||(128&e[i.place])!=0)return!1;var l=e.slice(i.place,u+i.place);if(0===o[0])if(!(128&o[1]))return!1;else o=o.slice(1);if(0===l[0])if(!(128&l[1]))return!1;else l=l.slice(1);return this.r=new t.default(o),this.s=new t.default(l),this.recoveryParam=null,!0},T.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=P(t),r=P(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var i=[2];_(i,t.length),(i=i.concat(t)).push(2),_(i,r.length);var n=i.concat(r),a=[48];return _(a,n.length),a=a.concat(n),s.encode(a,e)};var I=function(){throw Error("unsupported")},N=s.assert;function R(e){if(!(this instanceof R))return new R(e);"string"==typeof e&&(N(Object.prototype.hasOwnProperty.call(x,e),"Unknown curve "+e),e=x[e]),e instanceof x.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}R.prototype.keyPair=function(e){return new v(this,e)},R.prototype.keyFromPrivate=function(e,t){return v.fromPrivate(this,e,t)},R.prototype.keyFromPublic=function(e,t){return v.fromPublic(this,e,t)},R.prototype.genKeyPair=function(e){e||(e={});for(var r=new A({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||I(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),n=this.n.sub(new t.default(2));;){var a=new t.default(r.generate(i));if(!(a.cmp(n)>0))return a.iaddn(1),this.keyFromPrivate(a)}},R.prototype._truncateToN=function(e,r,i){if(t.default.isBN(e)||"number"==typeof e)n=(e=new t.default(e,16)).byteLength();else if("object"==typeof e)n=e.length,e=new t.default(e,16);else{var n,a=e.toString();n=a.length+1>>>1,e=new t.default(a,16)}"number"!=typeof i&&(i=8*n);var o=i-this.n.bitLength();return(o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0)?e.sub(this.n):e},R.prototype.sign=function(e,r,i,n){if("object"==typeof i&&(n=i,i=null),n||(n={}),"string"!=typeof e&&"number"!=typeof e&&!t.default.isBN(e)){N("object"==typeof e&&e&&"number"==typeof e.length,"Expected message to be an array-like, a hex string, or a BN instance"),N(e.length>>>0===e.length);for(var a=0;a<e.length;a++)N((255&e[a])===e[a])}r=this.keyFromPrivate(r,i),N(!(e=this._truncateToN(e,!1,n.msgBitLength)).isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),s=r.getPrivate().toArray("be",o),u=e.toArray("be",o);N(new t.default(u).eq(e),"Can not sign message");for(var l=new A({hash:this.hash,entropy:s,nonce:u,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new t.default(1)),d=0;;d++){var f=n.k?n.k(d):new t.default(l.generate(this.n.byteLength()));if(0>=(f=this._truncateToN(f,!0)).cmpn(1)||f.cmp(c)>=0)continue;var p=this.g.mul(f);if(!p.isInfinity()){var h=p.getX(),m=h.umod(this.n);if(0!==m.cmpn(0)){var b=f.invm(this.n).mul(m.mul(r.getPrivate()).iadd(e));if(0!==(b=b.umod(this.n)).cmpn(0)){var g=!!p.getY().isOdd()|2*(0!==h.cmp(m));return n.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),g^=1),new T({r:m,s:b,recoveryParam:g})}}}}},R.prototype.verify=function(e,t,r,i,n){n||(n={}),e=this._truncateToN(e,!1,n.msgBitLength),r=this.keyFromPublic(r,i);var a,o=(t=new T(t,"hex")).r,s=t.s;if(0>o.cmpn(1)||o.cmp(this.n)>=0||0>s.cmpn(1)||s.cmp(this.n)>=0)return!1;var u=s.invm(this.n),l=u.mul(e).umod(this.n),c=u.mul(o).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(l,r.getPublic(),c)).isInfinity()&&a.eqXToP(o):!(a=this.g.mulAdd(l,r.getPublic(),c)).isInfinity()&&0===a.getX().umod(this.n).cmp(o)},R.prototype.recoverPubKey=function(e,r,i,n){N((3&i)===i,"The recovery param is more than two bits"),r=new T(r,n);var a=this.n,o=new t.default(e),s=r.r,u=r.s,l=1&i,c=i>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw Error("Unable to find sencond key candinate");s=c?this.curve.pointFromX(s.add(this.curve.n),l):this.curve.pointFromX(s,l);var d=r.r.invm(a),f=a.sub(o).mul(d).umod(a),p=u.mul(d).umod(a);return this.g.mulAdd(f,s,p)},R.prototype.getKeyRecoveryParam=function(e,t,r,i){if(null!==(t=new T(t,i)).recoveryParam)return t.recoveryParam;for(var n,a=0;a<4;a++){try{n=this.recoverPubKey(e,t,a)}catch(e){continue}if(n.eq(r))return a}throw Error("Unable to find valid recovery factor")};var B=i(function(e,t){t.version="6.6.1",t.utils=s,t.rand=function(){throw Error("unsupported")},t.curve=y,t.curves=x,t.ec=R,t.eddsa=null}).ec,C=e.i(403011),O=e.i(526579);let D=new(e.i(875353)).Logger("signing-key/5.8.0"),M=null;function U(){return M||(M=new B("secp256k1")),M}class F{constructor(e){(0,O.defineReadOnly)(this,"curve","secp256k1"),(0,O.defineReadOnly)(this,"privateKey",(0,C.hexlify)(e)),32!==(0,C.hexDataLength)(this.privateKey)&&D.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=U().keyFromPrivate((0,C.arrayify)(this.privateKey));(0,O.defineReadOnly)(this,"publicKey","0x"+t.getPublic(!1,"hex")),(0,O.defineReadOnly)(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),(0,O.defineReadOnly)(this,"_isSigningKey",!0)}_addPoint(e){let t=U().keyFromPublic((0,C.arrayify)(this.publicKey)),r=U().keyFromPublic((0,C.arrayify)(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){let t=U().keyFromPrivate((0,C.arrayify)(this.privateKey)),r=(0,C.arrayify)(e);32!==r.length&&D.throwArgumentError("bad digest length","digest",e);let i=t.sign(r,{canonical:!0});return(0,C.splitSignature)({recoveryParam:i.recoveryParam,r:(0,C.hexZeroPad)("0x"+i.r.toString(16),32),s:(0,C.hexZeroPad)("0x"+i.s.toString(16),32)})}computeSharedSecret(e){let t=U().keyFromPrivate((0,C.arrayify)(this.privateKey)),r=U().keyFromPublic((0,C.arrayify)(q(e)));return(0,C.hexZeroPad)("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function L(e,t){let r=(0,C.splitSignature)(t),i={r:(0,C.arrayify)(r.r),s:(0,C.arrayify)(r.s)};return"0x"+U().recoverPubKey((0,C.arrayify)(e),i,r.recoveryParam).encode("hex",!1)}function q(e,t){let r=(0,C.arrayify)(e);if(32===r.length){let e=new F(r);return t?"0x"+U().keyFromPrivate(r).getPublic(!0,"hex"):e.publicKey}return 33===r.length?t?(0,C.hexlify)(r):"0x"+U().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+U().keyFromPublic(r).getPublic(!0,"hex"):(0,C.hexlify)(r):D.throwArgumentError("invalid public or private key","key","[REDACTED]")}e.s(["SigningKey",()=>F,"computePublicKey",()=>q,"recoverPublicKey",()=>L],346469)},840722,e=>{"use strict";var t,r,i=e.i(47771),n=e.i(839341),a=e.i(403011),o=e.i(25363),s=e.i(447172),u=e.i(526579),l=e.i(222223),c=e.i(346469),d=e.i(875353);let f=new d.Logger("transactions/5.8.0");function p(e){return"0x"===e?null:(0,i.getAddress)(e)}function h(e){return"0x"===e?o.Zero:n.BigNumber.from(e)}(t=r||(r={}))[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559";let m=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],b={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function g(e){let t=(0,c.computePublicKey)(e);return(0,i.getAddress)((0,a.hexDataSlice)((0,s.keccak256)((0,a.hexDataSlice)(t,1)),12))}function y(e,t){return g((0,c.recoverPublicKey)((0,a.arrayify)(e),t))}function x(e,t){let r=(0,a.stripZeros)(n.BigNumber.from(e).toHexString());return r.length>32&&f.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function A(e,t){return{address:(0,i.getAddress)(e),storageKeys:(t||[]).map((t,r)=>(32!==(0,a.hexDataLength)(t)&&f.throwArgumentError("invalid access list storageKey",`accessList[${e}:${r}]`,t),t.toLowerCase()))}}function w(e){if(Array.isArray(e))return e.map((e,t)=>Array.isArray(e)?(e.length>2&&f.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),A(e[0],e[1])):A(e.address,e.storageKeys));let t=Object.keys(e).map(t=>{let r=e[t].reduce((e,t)=>(e[t]=!0,e),{});return A(t,Object.keys(r).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}function v(e){return w(e).map(e=>[e.address,e.storageKeys])}function S(e,t){if(null!=e.gasPrice){let t=n.BigNumber.from(e.gasPrice),r=n.BigNumber.from(e.maxFeePerGas||0);t.eq(r)||f.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:r})}let r=[x(e.chainId||0,"chainId"),x(e.nonce||0,"nonce"),x(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),x(e.maxFeePerGas||0,"maxFeePerGas"),x(e.gasLimit||0,"gasLimit"),null!=e.to?(0,i.getAddress)(e.to):"0x",x(e.value||0,"value"),e.data||"0x",v(e.accessList||[])];if(t){let e=(0,a.splitSignature)(t);r.push(x(e.recoveryParam,"recoveryParam")),r.push((0,a.stripZeros)(e.r)),r.push((0,a.stripZeros)(e.s))}return(0,a.hexConcat)(["0x02",l.encode(r)])}function T(e,t){let r=[x(e.chainId||0,"chainId"),x(e.nonce||0,"nonce"),x(e.gasPrice||0,"gasPrice"),x(e.gasLimit||0,"gasLimit"),null!=e.to?(0,i.getAddress)(e.to):"0x",x(e.value||0,"value"),e.data||"0x",v(e.accessList||[])];if(t){let e=(0,a.splitSignature)(t);r.push(x(e.recoveryParam,"recoveryParam")),r.push((0,a.stripZeros)(e.r)),r.push((0,a.stripZeros)(e.s))}return(0,a.hexConcat)(["0x01",l.encode(r)])}function E(e,t){if(null==e.type||0===e.type){null!=e.accessList&&f.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e);(0,u.checkProperties)(e,b);let r=[];m.forEach(function(t){let i=e[t.name]||[],n={};t.numeric&&(n.hexPad="left"),i=(0,a.arrayify)((0,a.hexlify)(i,n)),t.length&&i.length!==t.length&&i.length>0&&f.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,i),t.maxLength&&(i=(0,a.stripZeros)(i)).length>t.maxLength&&f.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,i),r.push((0,a.hexlify)(i))});let i=0;if(null!=e.chainId?"number"!=typeof(i=e.chainId)&&f.throwArgumentError("invalid transaction.chainId","transaction",e):t&&!(0,a.isBytesLike)(t)&&t.v>28&&(i=Math.floor((t.v-35)/2)),0!==i&&(r.push((0,a.hexlify)(i)),r.push("0x"),r.push("0x")),!t)return l.encode(r);let n=(0,a.splitSignature)(t),o=27+n.recoveryParam;return 0!==i?(r.pop(),r.pop(),r.pop(),o+=2*i+8,n.v>28&&n.v!==o&&f.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)):n.v!==o&&f.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t),r.push((0,a.hexlify)(o)),r.push((0,a.stripZeros)((0,a.arrayify)(n.r))),r.push((0,a.stripZeros)((0,a.arrayify)(n.s))),l.encode(r)}switch(e.type){case 1:return T(e,t);case 2:return S(e,t)}return f.throwError(`unsupported transaction type: ${e.type}`,d.Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})}function k(e,t,r){try{let r=h(t[0]).toNumber();if(0!==r&&1!==r)throw Error("bad recid");e.v=r}catch(e){f.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=(0,a.hexZeroPad)(t[1],32),e.s=(0,a.hexZeroPad)(t[2],32);try{let t=(0,s.keccak256)(r(e));e.from=y(t,{r:e.r,s:e.s,recoveryParam:e.v})}catch(e){}}function P(e){let t=(0,a.arrayify)(e);if(t[0]>127)return function(e){let t=l.decode(e);9!==t.length&&6!==t.length&&f.throwArgumentError("invalid raw transaction","rawTransaction",e);let r={nonce:h(t[0]).toNumber(),gasPrice:h(t[1]),gasLimit:h(t[2]),to:p(t[3]),value:h(t[4]),data:t[5],chainId:0};if(6===t.length)return r;try{r.v=n.BigNumber.from(t[6]).toNumber()}catch(e){return r}if(r.r=(0,a.hexZeroPad)(t[7],32),r.s=(0,a.hexZeroPad)(t[8],32),n.BigNumber.from(r.r).isZero()&&n.BigNumber.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let i=r.v-27,n=t.slice(0,6);0!==r.chainId&&(n.push((0,a.hexlify)(r.chainId)),n.push("0x"),n.push("0x"),i-=2*r.chainId+8);let o=(0,s.keccak256)(l.encode(n));try{r.from=y(o,{r:(0,a.hexlify)(r.r),s:(0,a.hexlify)(r.s),recoveryParam:i})}catch(e){}r.hash=(0,s.keccak256)(e)}return r.type=null,r}(t);switch(t[0]){case 1:let r,i;return 8!==(r=l.decode(t.slice(1))).length&&11!==r.length&&f.throwArgumentError("invalid component count for transaction type: 1","payload",(0,a.hexlify)(t)),i={type:1,chainId:h(r[0]).toNumber(),nonce:h(r[1]).toNumber(),gasPrice:h(r[2]),gasLimit:h(r[3]),to:p(r[4]),value:h(r[5]),data:r[6],accessList:w(r[7])},8===r.length||(i.hash=(0,s.keccak256)(t),k(i,r.slice(8),T)),i;case 2:let o,u,c,m;return 9!==(o=l.decode(t.slice(1))).length&&12!==o.length&&f.throwArgumentError("invalid component count for transaction type: 2","payload",(0,a.hexlify)(t)),u=h(o[2]),c=h(o[3]),m={type:2,chainId:h(o[0]).toNumber(),nonce:h(o[1]).toNumber(),maxPriorityFeePerGas:u,maxFeePerGas:c,gasPrice:null,gasLimit:h(o[4]),to:p(o[5]),value:h(o[6]),data:o[7],accessList:w(o[8])},9===o.length||(m.hash=(0,s.keccak256)(t),k(m,o.slice(9),S)),m}return f.throwError(`unsupported transaction type: ${t[0]}`,d.Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}e.s(["TransactionTypes",()=>r,"accessListify",()=>w,"computeAddress",()=>g,"parse",()=>P,"recoverAddress",()=>y,"serialize",()=>E],840722)},891368,957508,422955,309302,e=>{"use strict";var t=e.i(206641),r=e.i(403011),i=e.i(839341),n=e.i(840858),a=e.i(942558);function o(e,t,i,n,o){let s,u,l;e=(0,r.arrayify)(e),t=(0,r.arrayify)(t);let c=1,d=new Uint8Array(n),f=new Uint8Array(t.length+4);f.set(t);for(let p=1;p<=c;p++){f[t.length]=p>>24&255,f[t.length+1]=p>>16&255,f[t.length+2]=p>>8&255,f[t.length+3]=255&p;let h=(0,r.arrayify)((0,a.computeHmac)(o,e,f));s||(l=new Uint8Array(s=h.length),c=Math.ceil(n/s),u=n-(c-1)*s),l.set(h);for(let t=1;t<i;t++){h=(0,r.arrayify)((0,a.computeHmac)(o,e,h));for(let e=0;e<s;e++)l[e]^=h[e]}let m=(p-1)*s,b=p===c?u:s;d.set((0,r.arrayify)(l).slice(0,b),m)}return(0,r.hexlify)(d)}e.s(["pbkdf2",()=>o],957508);var s=e.i(526579),u=e.i(346469),l=e.i(691846),c=e.i(840722),d=e.i(83090),f=e.i(875353);let p=new f.Logger("wordlists/5.8.0");class h{constructor(e){p.checkAbstract(new.target,h),(0,s.defineReadOnly)(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){let t=[];for(let r=0;r<2048;r++){let i=e.getWord(r);if(r!==e.getWordIndex(i))return"0x";t.push(i)}return(0,d.id)(t.join("\n")+"\n")}static register(e,t){t||(t=e.locale)}}e.s(["Wordlist",()=>h],422955);let m=null;function b(e){if(null==m&&(m="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==h.check(e)))throw m=null,Error("BIP39 Wordlist for en (English) FAILED")}let g=new class extends h{constructor(){super("en")}getWord(e){return b(this),m[e]}getWordIndex(e){return b(this),m.indexOf(e)}};h.register(g);let y={en:g};e.s(["wordlists",0,y],309302);let x=new f.Logger("hdnode/5.8.0"),A=i.BigNumber.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),w=(0,n.toUtf8Bytes)("Bitcoin seed");function v(e){return(1<<e)-1<<8-e}function S(e){return(0,r.hexZeroPad)((0,r.hexlify)(e),32)}function T(e){return t.Base58.encode((0,r.concat)([e,(0,r.hexDataSlice)((0,a.sha256)((0,a.sha256)(e)),0,4)]))}function E(e){if(null==e)return y.en;if("string"==typeof e){let t=y[e];return null==t&&x.throwArgumentError("unknown locale","wordlist",e),t}return e}let k={};class P{constructor(e,t,i,n,o,l,d,f){if(e!==k)throw Error("HDNode constructor cannot be called directly");if(t){const e=new u.SigningKey(t);(0,s.defineReadOnly)(this,"privateKey",e.privateKey),(0,s.defineReadOnly)(this,"publicKey",e.compressedPublicKey)}else(0,s.defineReadOnly)(this,"privateKey",null),(0,s.defineReadOnly)(this,"publicKey",(0,r.hexlify)(i));(0,s.defineReadOnly)(this,"parentFingerprint",n),(0,s.defineReadOnly)(this,"fingerprint",(0,r.hexDataSlice)((0,a.ripemd160)((0,a.sha256)(this.publicKey)),0,4)),(0,s.defineReadOnly)(this,"address",(0,c.computeAddress)(this.publicKey)),(0,s.defineReadOnly)(this,"chainCode",o),(0,s.defineReadOnly)(this,"index",l),(0,s.defineReadOnly)(this,"depth",d),null==f?((0,s.defineReadOnly)(this,"mnemonic",null),(0,s.defineReadOnly)(this,"path",null)):"string"==typeof f?((0,s.defineReadOnly)(this,"mnemonic",null),(0,s.defineReadOnly)(this,"path",f)):((0,s.defineReadOnly)(this,"mnemonic",f),(0,s.defineReadOnly)(this,"path",f.path))}get extendedKey(){if(this.depth>=256)throw Error("Depth too large!");return T((0,r.concat)([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",(0,r.hexlify)(this.depth),this.parentFingerprint,(0,r.hexZeroPad)((0,r.hexlify)(this.index),4),this.chainCode,null!=this.privateKey?(0,r.concat)(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new P(k,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>0xffffffff)throw Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(0x7fffffff&e));let n=new Uint8Array(37);if(0x80000000&e){if(!this.privateKey)throw Error("cannot derive child of neutered node");n.set((0,r.arrayify)(this.privateKey),1),t&&(t+="'")}else n.set((0,r.arrayify)(this.publicKey));for(let t=24;t>=0;t-=8)n[33+(t>>3)]=e>>24-t&255;let o=(0,r.arrayify)((0,a.computeHmac)(l.SupportedAlgorithm.sha512,this.chainCode,n)),s=o.slice(0,32),c=o.slice(32),d=null,f=null;this.privateKey?d=S(i.BigNumber.from(s).add(this.privateKey).mod(A)):f=new u.SigningKey((0,r.hexlify)(s))._addPoint(this.publicKey);let p=t,h=this.mnemonic;return h&&(p=Object.freeze({phrase:h.phrase,path:t,locale:h.locale||"en"})),new P(k,d,f,this.fingerprint,S(c),e,this.depth+1,p)}derivePath(e){let t=e.split("/");if(0===t.length||"m"===t[0]&&0!==this.depth)throw Error("invalid path - "+e);"m"===t[0]&&t.shift();let r=this;for(let e=0;e<t.length;e++){let i=t[e];if(i.match(/^[0-9]+'$/)){let e=parseInt(i.substring(0,i.length-1));if(e>=0x80000000)throw Error("invalid path index - "+i);r=r._derive(0x80000000+e)}else if(i.match(/^[0-9]+$/)){let e=parseInt(i);if(e>=0x80000000)throw Error("invalid path index - "+i);r=r._derive(e)}else throw Error("invalid path component - "+i)}return r}static _fromSeed(e,t){let i=(0,r.arrayify)(e);if(i.length<16||i.length>64)throw Error("invalid seed");let n=(0,r.arrayify)((0,a.computeHmac)(l.SupportedAlgorithm.sha512,w,i));return new P(k,S(n.slice(0,32)),null,"0x00000000",S(n.slice(32)),0,0,t)}static fromMnemonic(e,t,r){return r=E(r),e=N(I(e,r),r),P._fromSeed(_(e,t),{phrase:e,path:"m",locale:r.locale})}static fromSeed(e){return P._fromSeed(e,null)}static fromExtendedKey(e){let i=t.Base58.decode(e);(82!==i.length||T(i.slice(0,78))!==e)&&x.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");let n=i[4],a=(0,r.hexlify)(i.slice(5,9)),o=parseInt((0,r.hexlify)(i.slice(9,13)).substring(2),16),s=(0,r.hexlify)(i.slice(13,45)),u=i.slice(45,78);switch((0,r.hexlify)(i.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new P(k,null,(0,r.hexlify)(u),a,s,o,n,null);case"0x0488ade4":case"0x04358394 ":if(0!==u[0])break;return new P(k,(0,r.hexlify)(u.slice(1)),null,a,s,o,n,null)}return x.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function _(e,t){t||(t="");let r=(0,n.toUtf8Bytes)("mnemonic"+t,n.UnicodeNormalizationForm.NFKD);return o((0,n.toUtf8Bytes)(e,n.UnicodeNormalizationForm.NFKD),r,2048,64,"sha512")}function I(e,t){t=E(t),x.checkNormalize();let i=t.split(e);if(i.length%3!=0)throw Error("invalid mnemonic");let n=(0,r.arrayify)(new Uint8Array(Math.ceil(11*i.length/8))),o=0;for(let e=0;e<i.length;e++){let r=t.getWordIndex(i[e].normalize("NFKD"));if(-1===r)throw Error("invalid mnemonic");for(let e=0;e<11;e++)r&1<<10-e&&(n[o>>3]|=1<<7-o%8),o++}let s=32*i.length/3,u=v(i.length/3);if(((0,r.arrayify)((0,a.sha256)(n.slice(0,s/8)))[0]&u)!=(n[n.length-1]&u))throw Error("invalid checksum");return(0,r.hexlify)(n.slice(0,s/8))}function N(e,t){if(t=E(t),(e=(0,r.arrayify)(e)).length%4!=0||e.length<16||e.length>32)throw Error("invalid entropy");let i=[0],n=11;for(let t=0;t<e.length;t++)n>8?(i[i.length-1]<<=8,i[i.length-1]|=e[t],n-=8):(i[i.length-1]<<=n,i[i.length-1]|=e[t]>>8-n,i.push(e[t]&(1<<8-n)-1),n+=3);let o=e.length/4,s=(0,r.arrayify)((0,a.sha256)(e))[0]&v(o);return i[i.length-1]<<=o,i[i.length-1]|=s>>8-o,t.join(i.map(e=>t.getWord(e)))}function R(e,t){try{return I(e,t),!0}catch(e){}return!1}function B(e){return("number"!=typeof e||e<0||e>=0x80000000||e%1)&&x.throwArgumentError("invalid account index","index",e),`m/44'/60'/${e}'/0/0`}e.s(["HDNode",()=>P,"defaultPath",0,"m/44'/60'/0'/0/0","entropyToMnemonic",()=>N,"getAccountPath",()=>B,"isValidMnemonic",()=>R,"mnemonicToEntropy",()=>I,"mnemonicToSeed",()=>_],891368)},639232,(e,t,r)=>{"use strict";!function(e){function r(e){return parseInt(e)===e}function i(e){if(!r(e.length))return!1;for(var t=0;t<e.length;t++)if(!r(e[t])||e[t]<0||e[t]>255)return!1;return!0}function n(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!i(e))throw Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(r(e.length)&&i(e))return new Uint8Array(e);throw Error("unsupported array-like object")}function a(e){return new Uint8Array(e)}function o(e,t,r,i,n){(null!=i||null!=n)&&(e=e.slice?e.slice(i,n):Array.prototype.slice.call(e,i,n)),t.set(e,r)}var s,u=(s="0123456789abcdef",{toBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},fromBytes:function(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];t.push(s[(240&i)>>4]+s[15&i])}return t.join("")}}),l={16:10,24:12,32:14},c=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],d=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],f=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],p=[0xc66363a5,0xf87c7c84,0xee777799,0xf67b7b8d,0xfff2f20d,0xd66b6bbd,0xde6f6fb1,0x91c5c554,0x60303050,0x2010103,0xce6767a9,0x562b2b7d,0xe7fefe19,0xb5d7d762,0x4dababe6,0xec76769a,0x8fcaca45,0x1f82829d,0x89c9c940,0xfa7d7d87,0xeffafa15,0xb25959eb,0x8e4747c9,0xfbf0f00b,0x41adadec,0xb3d4d467,0x5fa2a2fd,0x45afafea,0x239c9cbf,0x53a4a4f7,0xe4727296,0x9bc0c05b,0x75b7b7c2,0xe1fdfd1c,0x3d9393ae,0x4c26266a,0x6c36365a,0x7e3f3f41,0xf5f7f702,0x83cccc4f,0x6834345c,0x51a5a5f4,0xd1e5e534,0xf9f1f108,0xe2717193,0xabd8d873,0x62313153,0x2a15153f,0x804040c,0x95c7c752,0x46232365,0x9dc3c35e,0x30181828,0x379696a1,0xa05050f,0x2f9a9ab5,0xe070709,0x24121236,0x1b80809b,0xdfe2e23d,0xcdebeb26,0x4e272769,0x7fb2b2cd,0xea75759f,0x1209091b,0x1d83839e,0x582c2c74,0x341a1a2e,0x361b1b2d,0xdc6e6eb2,0xb45a5aee,0x5ba0a0fb,0xa45252f6,0x763b3b4d,0xb7d6d661,0x7db3b3ce,0x5229297b,0xdde3e33e,0x5e2f2f71,0x13848497,0xa65353f5,0xb9d1d168,0,0xc1eded2c,0x40202060,0xe3fcfc1f,0x79b1b1c8,0xb65b5bed,0xd46a6abe,0x8dcbcb46,0x67bebed9,0x7239394b,0x944a4ade,0x984c4cd4,0xb05858e8,0x85cfcf4a,0xbbd0d06b,0xc5efef2a,0x4faaaae5,0xedfbfb16,0x864343c5,0x9a4d4dd7,0x66333355,0x11858594,0x8a4545cf,0xe9f9f910,0x4020206,0xfe7f7f81,0xa05050f0,0x783c3c44,0x259f9fba,0x4ba8a8e3,0xa25151f3,0x5da3a3fe,0x804040c0,0x58f8f8a,0x3f9292ad,0x219d9dbc,0x70383848,0xf1f5f504,0x63bcbcdf,0x77b6b6c1,0xafdada75,0x42212163,0x20101030,0xe5ffff1a,0xfdf3f30e,0xbfd2d26d,0x81cdcd4c,0x180c0c14,0x26131335,0xc3ecec2f,0xbe5f5fe1,0x359797a2,0x884444cc,0x2e171739,0x93c4c457,0x55a7a7f2,0xfc7e7e82,0x7a3d3d47,0xc86464ac,0xba5d5de7,0x3219192b,0xe6737395,0xc06060a0,0x19818198,0x9e4f4fd1,0xa3dcdc7f,0x44222266,0x542a2a7e,0x3b9090ab,0xb888883,0x8c4646ca,0xc7eeee29,0x6bb8b8d3,0x2814143c,0xa7dede79,0xbc5e5ee2,0x160b0b1d,0xaddbdb76,0xdbe0e03b,0x64323256,0x743a3a4e,0x140a0a1e,0x924949db,0xc06060a,0x4824246c,0xb85c5ce4,0x9fc2c25d,0xbdd3d36e,0x43acacef,0xc46262a6,0x399191a8,0x319595a4,0xd3e4e437,0xf279798b,0xd5e7e732,0x8bc8c843,0x6e373759,0xda6d6db7,0x18d8d8c,0xb1d5d564,0x9c4e4ed2,0x49a9a9e0,0xd86c6cb4,0xac5656fa,0xf3f4f407,0xcfeaea25,0xca6565af,0xf47a7a8e,0x47aeaee9,0x10080818,0x6fbabad5,0xf0787888,0x4a25256f,0x5c2e2e72,0x381c1c24,0x57a6a6f1,0x73b4b4c7,0x97c6c651,0xcbe8e823,0xa1dddd7c,0xe874749c,0x3e1f1f21,0x964b4bdd,0x61bdbddc,0xd8b8b86,0xf8a8a85,0xe0707090,0x7c3e3e42,0x71b5b5c4,0xcc6666aa,0x904848d8,0x6030305,0xf7f6f601,0x1c0e0e12,0xc26161a3,0x6a35355f,0xae5757f9,0x69b9b9d0,0x17868691,0x99c1c158,0x3a1d1d27,0x279e9eb9,0xd9e1e138,0xebf8f813,0x2b9898b3,0x22111133,0xd26969bb,0xa9d9d970,0x78e8e89,0x339494a7,0x2d9b9bb6,0x3c1e1e22,0x15878792,0xc9e9e920,0x87cece49,0xaa5555ff,0x50282878,0xa5dfdf7a,0x38c8c8f,0x59a1a1f8,0x9898980,0x1a0d0d17,0x65bfbfda,0xd7e6e631,0x844242c6,0xd06868b8,0x824141c3,0x299999b0,0x5a2d2d77,0x1e0f0f11,0x7bb0b0cb,0xa85454fc,0x6dbbbbd6,0x2c16163a],h=[0xa5c66363,0x84f87c7c,0x99ee7777,0x8df67b7b,0xdfff2f2,0xbdd66b6b,0xb1de6f6f,0x5491c5c5,0x50603030,0x3020101,0xa9ce6767,0x7d562b2b,0x19e7fefe,0x62b5d7d7,0xe64dabab,0x9aec7676,0x458fcaca,0x9d1f8282,0x4089c9c9,0x87fa7d7d,0x15effafa,0xebb25959,0xc98e4747,0xbfbf0f0,0xec41adad,0x67b3d4d4,0xfd5fa2a2,0xea45afaf,0xbf239c9c,0xf753a4a4,0x96e47272,0x5b9bc0c0,0xc275b7b7,0x1ce1fdfd,0xae3d9393,0x6a4c2626,0x5a6c3636,0x417e3f3f,0x2f5f7f7,0x4f83cccc,0x5c683434,0xf451a5a5,0x34d1e5e5,0x8f9f1f1,0x93e27171,0x73abd8d8,0x53623131,0x3f2a1515,0xc080404,0x5295c7c7,0x65462323,0x5e9dc3c3,0x28301818,0xa1379696,0xf0a0505,0xb52f9a9a,0x90e0707,0x36241212,0x9b1b8080,0x3ddfe2e2,0x26cdebeb,0x694e2727,0xcd7fb2b2,0x9fea7575,0x1b120909,0x9e1d8383,0x74582c2c,0x2e341a1a,0x2d361b1b,0xb2dc6e6e,0xeeb45a5a,0xfb5ba0a0,0xf6a45252,0x4d763b3b,0x61b7d6d6,0xce7db3b3,0x7b522929,0x3edde3e3,0x715e2f2f,0x97138484,0xf5a65353,0x68b9d1d1,0,0x2cc1eded,0x60402020,0x1fe3fcfc,0xc879b1b1,0xedb65b5b,0xbed46a6a,0x468dcbcb,0xd967bebe,0x4b723939,0xde944a4a,0xd4984c4c,0xe8b05858,0x4a85cfcf,0x6bbbd0d0,0x2ac5efef,0xe54faaaa,0x16edfbfb,0xc5864343,0xd79a4d4d,0x55663333,0x94118585,0xcf8a4545,0x10e9f9f9,0x6040202,0x81fe7f7f,0xf0a05050,0x44783c3c,0xba259f9f,0xe34ba8a8,0xf3a25151,0xfe5da3a3,0xc0804040,0x8a058f8f,0xad3f9292,0xbc219d9d,0x48703838,0x4f1f5f5,0xdf63bcbc,0xc177b6b6,0x75afdada,0x63422121,0x30201010,0x1ae5ffff,0xefdf3f3,0x6dbfd2d2,0x4c81cdcd,0x14180c0c,0x35261313,0x2fc3ecec,0xe1be5f5f,0xa2359797,0xcc884444,0x392e1717,0x5793c4c4,0xf255a7a7,0x82fc7e7e,0x477a3d3d,0xacc86464,0xe7ba5d5d,0x2b321919,0x95e67373,0xa0c06060,0x98198181,0xd19e4f4f,0x7fa3dcdc,0x66442222,0x7e542a2a,0xab3b9090,0x830b8888,0xca8c4646,0x29c7eeee,0xd36bb8b8,0x3c281414,0x79a7dede,0xe2bc5e5e,0x1d160b0b,0x76addbdb,0x3bdbe0e0,0x56643232,0x4e743a3a,0x1e140a0a,0xdb924949,0xa0c0606,0x6c482424,0xe4b85c5c,0x5d9fc2c2,0x6ebdd3d3,0xef43acac,0xa6c46262,0xa8399191,0xa4319595,0x37d3e4e4,0x8bf27979,0x32d5e7e7,0x438bc8c8,0x596e3737,0xb7da6d6d,0x8c018d8d,0x64b1d5d5,0xd29c4e4e,0xe049a9a9,0xb4d86c6c,0xfaac5656,0x7f3f4f4,0x25cfeaea,0xafca6565,0x8ef47a7a,0xe947aeae,0x18100808,0xd56fbaba,0x88f07878,0x6f4a2525,0x725c2e2e,0x24381c1c,0xf157a6a6,0xc773b4b4,0x5197c6c6,0x23cbe8e8,0x7ca1dddd,0x9ce87474,0x213e1f1f,0xdd964b4b,0xdc61bdbd,0x860d8b8b,0x850f8a8a,0x90e07070,0x427c3e3e,0xc471b5b5,0xaacc6666,0xd8904848,0x5060303,0x1f7f6f6,0x121c0e0e,0xa3c26161,0x5f6a3535,0xf9ae5757,0xd069b9b9,0x91178686,0x5899c1c1,0x273a1d1d,0xb9279e9e,0x38d9e1e1,0x13ebf8f8,0xb32b9898,0x33221111,0xbbd26969,0x70a9d9d9,0x89078e8e,0xa7339494,0xb62d9b9b,0x223c1e1e,0x92158787,0x20c9e9e9,0x4987cece,0xffaa5555,0x78502828,0x7aa5dfdf,0x8f038c8c,0xf859a1a1,0x80098989,0x171a0d0d,0xda65bfbf,0x31d7e6e6,0xc6844242,0xb8d06868,0xc3824141,0xb0299999,0x775a2d2d,0x111e0f0f,0xcb7bb0b0,0xfca85454,0xd66dbbbb,0x3a2c1616],m=[0x63a5c663,0x7c84f87c,0x7799ee77,0x7b8df67b,0xf20dfff2,0x6bbdd66b,0x6fb1de6f,0xc55491c5,0x30506030,0x1030201,0x67a9ce67,0x2b7d562b,0xfe19e7fe,0xd762b5d7,0xabe64dab,0x769aec76,0xca458fca,0x829d1f82,0xc94089c9,0x7d87fa7d,0xfa15effa,0x59ebb259,0x47c98e47,0xf00bfbf0,0xadec41ad,0xd467b3d4,0xa2fd5fa2,0xafea45af,0x9cbf239c,0xa4f753a4,0x7296e472,0xc05b9bc0,0xb7c275b7,0xfd1ce1fd,0x93ae3d93,0x266a4c26,0x365a6c36,0x3f417e3f,0xf702f5f7,0xcc4f83cc,0x345c6834,0xa5f451a5,0xe534d1e5,0xf108f9f1,0x7193e271,0xd873abd8,0x31536231,0x153f2a15,0x40c0804,0xc75295c7,0x23654623,0xc35e9dc3,0x18283018,0x96a13796,0x50f0a05,0x9ab52f9a,0x7090e07,0x12362412,0x809b1b80,0xe23ddfe2,0xeb26cdeb,0x27694e27,0xb2cd7fb2,0x759fea75,0x91b1209,0x839e1d83,0x2c74582c,0x1a2e341a,0x1b2d361b,0x6eb2dc6e,0x5aeeb45a,0xa0fb5ba0,0x52f6a452,0x3b4d763b,0xd661b7d6,0xb3ce7db3,0x297b5229,0xe33edde3,0x2f715e2f,0x84971384,0x53f5a653,0xd168b9d1,0,0xed2cc1ed,0x20604020,0xfc1fe3fc,0xb1c879b1,0x5bedb65b,0x6abed46a,0xcb468dcb,0xbed967be,0x394b7239,0x4ade944a,0x4cd4984c,0x58e8b058,0xcf4a85cf,0xd06bbbd0,0xef2ac5ef,0xaae54faa,0xfb16edfb,0x43c58643,0x4dd79a4d,0x33556633,0x85941185,0x45cf8a45,0xf910e9f9,0x2060402,0x7f81fe7f,0x50f0a050,0x3c44783c,0x9fba259f,0xa8e34ba8,0x51f3a251,0xa3fe5da3,0x40c08040,0x8f8a058f,0x92ad3f92,0x9dbc219d,0x38487038,0xf504f1f5,0xbcdf63bc,0xb6c177b6,0xda75afda,0x21634221,0x10302010,0xff1ae5ff,0xf30efdf3,0xd26dbfd2,0xcd4c81cd,0xc14180c,0x13352613,0xec2fc3ec,0x5fe1be5f,0x97a23597,0x44cc8844,0x17392e17,0xc45793c4,0xa7f255a7,0x7e82fc7e,0x3d477a3d,0x64acc864,0x5de7ba5d,0x192b3219,0x7395e673,0x60a0c060,0x81981981,0x4fd19e4f,0xdc7fa3dc,0x22664422,0x2a7e542a,0x90ab3b90,0x88830b88,0x46ca8c46,0xee29c7ee,0xb8d36bb8,0x143c2814,0xde79a7de,0x5ee2bc5e,0xb1d160b,0xdb76addb,0xe03bdbe0,0x32566432,0x3a4e743a,0xa1e140a,0x49db9249,0x60a0c06,0x246c4824,0x5ce4b85c,0xc25d9fc2,0xd36ebdd3,0xacef43ac,0x62a6c462,0x91a83991,0x95a43195,0xe437d3e4,0x798bf279,0xe732d5e7,0xc8438bc8,0x37596e37,0x6db7da6d,0x8d8c018d,0xd564b1d5,0x4ed29c4e,0xa9e049a9,0x6cb4d86c,0x56faac56,0xf407f3f4,0xea25cfea,0x65afca65,0x7a8ef47a,0xaee947ae,0x8181008,0xbad56fba,0x7888f078,0x256f4a25,0x2e725c2e,0x1c24381c,0xa6f157a6,0xb4c773b4,0xc65197c6,0xe823cbe8,0xdd7ca1dd,0x749ce874,0x1f213e1f,0x4bdd964b,0xbddc61bd,0x8b860d8b,0x8a850f8a,0x7090e070,0x3e427c3e,0xb5c471b5,0x66aacc66,0x48d89048,0x3050603,0xf601f7f6,0xe121c0e,0x61a3c261,0x355f6a35,0x57f9ae57,0xb9d069b9,0x86911786,0xc15899c1,0x1d273a1d,0x9eb9279e,0xe138d9e1,0xf813ebf8,0x98b32b98,0x11332211,0x69bbd269,0xd970a9d9,0x8e89078e,0x94a73394,0x9bb62d9b,0x1e223c1e,0x87921587,0xe920c9e9,0xce4987ce,0x55ffaa55,0x28785028,0xdf7aa5df,0x8c8f038c,0xa1f859a1,0x89800989,0xd171a0d,0xbfda65bf,0xe631d7e6,0x42c68442,0x68b8d068,0x41c38241,0x99b02999,0x2d775a2d,0xf111e0f,0xb0cb7bb0,0x54fca854,0xbbd66dbb,0x163a2c16],b=[0x6363a5c6,0x7c7c84f8,0x777799ee,0x7b7b8df6,0xf2f20dff,0x6b6bbdd6,0x6f6fb1de,0xc5c55491,0x30305060,0x1010302,0x6767a9ce,0x2b2b7d56,0xfefe19e7,0xd7d762b5,0xababe64d,0x76769aec,0xcaca458f,0x82829d1f,0xc9c94089,0x7d7d87fa,0xfafa15ef,0x5959ebb2,0x4747c98e,0xf0f00bfb,0xadadec41,0xd4d467b3,0xa2a2fd5f,0xafafea45,0x9c9cbf23,0xa4a4f753,0x727296e4,0xc0c05b9b,0xb7b7c275,0xfdfd1ce1,0x9393ae3d,0x26266a4c,0x36365a6c,0x3f3f417e,0xf7f702f5,0xcccc4f83,0x34345c68,0xa5a5f451,0xe5e534d1,0xf1f108f9,0x717193e2,0xd8d873ab,0x31315362,0x15153f2a,0x4040c08,0xc7c75295,0x23236546,0xc3c35e9d,0x18182830,0x9696a137,0x5050f0a,0x9a9ab52f,0x707090e,0x12123624,0x80809b1b,0xe2e23ddf,0xebeb26cd,0x2727694e,0xb2b2cd7f,0x75759fea,0x9091b12,0x83839e1d,0x2c2c7458,0x1a1a2e34,0x1b1b2d36,0x6e6eb2dc,0x5a5aeeb4,0xa0a0fb5b,0x5252f6a4,0x3b3b4d76,0xd6d661b7,0xb3b3ce7d,0x29297b52,0xe3e33edd,0x2f2f715e,0x84849713,0x5353f5a6,0xd1d168b9,0,0xeded2cc1,0x20206040,0xfcfc1fe3,0xb1b1c879,0x5b5bedb6,0x6a6abed4,0xcbcb468d,0xbebed967,0x39394b72,0x4a4ade94,0x4c4cd498,0x5858e8b0,0xcfcf4a85,0xd0d06bbb,0xefef2ac5,0xaaaae54f,0xfbfb16ed,0x4343c586,0x4d4dd79a,0x33335566,0x85859411,0x4545cf8a,0xf9f910e9,0x2020604,0x7f7f81fe,0x5050f0a0,0x3c3c4478,0x9f9fba25,0xa8a8e34b,0x5151f3a2,0xa3a3fe5d,0x4040c080,0x8f8f8a05,0x9292ad3f,0x9d9dbc21,0x38384870,0xf5f504f1,0xbcbcdf63,0xb6b6c177,0xdada75af,0x21216342,0x10103020,0xffff1ae5,0xf3f30efd,0xd2d26dbf,0xcdcd4c81,0xc0c1418,0x13133526,0xecec2fc3,0x5f5fe1be,0x9797a235,0x4444cc88,0x1717392e,0xc4c45793,0xa7a7f255,0x7e7e82fc,0x3d3d477a,0x6464acc8,0x5d5de7ba,0x19192b32,0x737395e6,0x6060a0c0,0x81819819,0x4f4fd19e,0xdcdc7fa3,0x22226644,0x2a2a7e54,0x9090ab3b,0x8888830b,0x4646ca8c,0xeeee29c7,0xb8b8d36b,0x14143c28,0xdede79a7,0x5e5ee2bc,0xb0b1d16,0xdbdb76ad,0xe0e03bdb,0x32325664,0x3a3a4e74,0xa0a1e14,0x4949db92,0x6060a0c,0x24246c48,0x5c5ce4b8,0xc2c25d9f,0xd3d36ebd,0xacacef43,0x6262a6c4,0x9191a839,0x9595a431,0xe4e437d3,0x79798bf2,0xe7e732d5,0xc8c8438b,0x3737596e,0x6d6db7da,0x8d8d8c01,0xd5d564b1,0x4e4ed29c,0xa9a9e049,0x6c6cb4d8,0x5656faac,0xf4f407f3,0xeaea25cf,0x6565afca,0x7a7a8ef4,0xaeaee947,0x8081810,0xbabad56f,0x787888f0,0x25256f4a,0x2e2e725c,0x1c1c2438,0xa6a6f157,0xb4b4c773,0xc6c65197,0xe8e823cb,0xdddd7ca1,0x74749ce8,0x1f1f213e,0x4b4bdd96,0xbdbddc61,0x8b8b860d,0x8a8a850f,0x707090e0,0x3e3e427c,0xb5b5c471,0x6666aacc,0x4848d890,0x3030506,0xf6f601f7,0xe0e121c,0x6161a3c2,0x35355f6a,0x5757f9ae,0xb9b9d069,0x86869117,0xc1c15899,0x1d1d273a,0x9e9eb927,0xe1e138d9,0xf8f813eb,0x9898b32b,0x11113322,0x6969bbd2,0xd9d970a9,0x8e8e8907,0x9494a733,0x9b9bb62d,0x1e1e223c,0x87879215,0xe9e920c9,0xcece4987,0x5555ffaa,0x28287850,0xdfdf7aa5,0x8c8c8f03,0xa1a1f859,0x89898009,0xd0d171a,0xbfbfda65,0xe6e631d7,0x4242c684,0x6868b8d0,0x4141c382,0x9999b029,0x2d2d775a,0xf0f111e,0xb0b0cb7b,0x5454fca8,0xbbbbd66d,0x16163a2c],g=[0x51f4a750,0x7e416553,0x1a17a4c3,0x3a275e96,0x3bab6bcb,0x1f9d45f1,0xacfa58ab,0x4be30393,0x2030fa55,0xad766df6,0x88cc7691,0xf5024c25,0x4fe5d7fc,0xc52acbd7,0x26354480,0xb562a38f,0xdeb15a49,0x25ba1b67,0x45ea0e98,0x5dfec0e1,0xc32f7502,0x814cf012,0x8d4697a3,0x6bd3f9c6,0x38f5fe7,0x15929c95,0xbf6d7aeb,0x955259da,0xd4be832d,0x587421d3,0x49e06929,0x8ec9c844,0x75c2896a,0xf48e7978,0x99583e6b,0x27b971dd,0xbee14fb6,0xf088ad17,0xc920ac66,0x7dce3ab4,0x63df4a18,0xe51a3182,0x97513360,0x62537f45,0xb16477e0,0xbb6bae84,0xfe81a01c,0xf9082b94,0x70486858,0x8f45fd19,0x94de6c87,0x527bf8b7,0xab73d323,0x724b02e2,0xe31f8f57,0x6655ab2a,0xb2eb2807,0x2fb5c203,0x86c57b9a,0xd33708a5,0x302887f2,0x23bfa5b2,0x2036aba,0xed16825c,0x8acf1c2b,0xa779b492,0xf307f2f0,0x4e69e2a1,0x65daf4cd,0x605bed5,0xd134621f,0xc4a6fe8a,0x342e539d,0xa2f355a0,0x58ae132,0xa4f6eb75,0xb83ec39,0x4060efaa,0x5e719f06,0xbd6e1051,0x3e218af9,0x96dd063d,0xdd3e05ae,0x4de6bd46,0x91548db5,0x71c45d05,0x406d46f,0x605015ff,0x1998fb24,0xd6bde997,0x894043cc,0x67d99e77,0xb0e842bd,0x7898b88,0xe7195b38,0x79c8eedb,0xa17c0a47,0x7c420fe9,0xf8841ec9,0,0x9808683,0x322bed48,0x1e1170ac,0x6c5a724e,0xfd0efffb,0xf853856,0x3daed51e,0x362d3927,0xa0fd964,0x685ca621,0x9b5b54d1,0x24362e3a,0xc0a67b1,0x9357e70f,0xb4ee96d2,0x1b9b919e,0x80c0c54f,0x61dc20a2,0x5a774b69,0x1c121a16,0xe293ba0a,0xc0a02ae5,0x3c22e043,0x121b171d,0xe090d0b,0xf28bc7ad,0x2db6a8b9,0x141ea9c8,0x57f11985,0xaf75074c,0xee99ddbb,0xa37f60fd,0xf701269f,0x5c72f5bc,0x44663bc5,0x5bfb7e34,0x8b432976,0xcb23c6dc,0xb6edfc68,0xb8e4f163,0xd731dcca,0x42638510,0x13972240,0x84c61120,0x854a247d,0xd2bb3df8,0xaef93211,0xc729a16d,0x1d9e2f4b,0xdcb230f3,0xd8652ec,0x77c1e3d0,0x2bb3166c,0xa970b999,0x119448fa,0x47e96422,0xa8fc8cc4,0xa0f03f1a,0x567d2cd8,0x223390ef,0x87494ec7,0xd938d1c1,0x8ccaa2fe,0x98d40b36,0xa6f581cf,0xa57ade28,0xdab78e26,0x3fadbfa4,0x2c3a9de4,0x5078920d,0x6a5fcc9b,0x547e4662,0xf68d13c2,0x90d8b8e8,0x2e39f75e,0x82c3aff5,0x9f5d80be,0x69d0937c,0x6fd52da9,0xcf2512b3,0xc8ac993b,0x10187da7,0xe89c636e,0xdb3bbb7b,0xcd267809,0x6e5918f4,0xec9ab701,0x834f9aa8,0xe6956e65,0xaaffe67e,0x21bccf08,0xef15e8e6,0xbae79bd9,0x4a6f36ce,0xea9f09d4,0x29b07cd6,0x31a4b2af,0x2a3f2331,0xc6a59430,0x35a266c0,0x744ebc37,0xfc82caa6,0xe090d0b0,0x33a7d815,0xf104984a,0x41ecdaf7,0x7fcd500e,0x1791f62f,0x764dd68d,0x43efb04d,0xccaa4d54,0xe49604df,0x9ed1b5e3,0x4c6a881b,0xc12c1fb8,0x4665517f,0x9d5eea04,0x18c355d,0xfa877473,0xfb0b412e,0xb3671d5a,0x92dbd252,0xe9105633,0x6dd64713,0x9ad7618c,0x37a10c7a,0x59f8148e,0xeb133c89,0xcea927ee,0xb761c935,0xe11ce5ed,0x7a47b13c,0x9cd2df59,0x55f2733f,0x1814ce79,0x73c737bf,0x53f7cdea,0x5ffdaa5b,0xdf3d6f14,0x7844db86,0xcaaff381,0xb968c43e,0x3824342c,0xc2a3405f,0x161dc372,0xbce2250c,0x283c498b,0xff0d9541,0x39a80171,0x80cb3de,0xd8b4e49c,0x6456c190,0x7bcb8461,0xd532b670,0x486c5c74,0xd0b85742],y=[0x5051f4a7,0x537e4165,0xc31a17a4,0x963a275e,0xcb3bab6b,0xf11f9d45,0xabacfa58,0x934be303,0x552030fa,0xf6ad766d,0x9188cc76,0x25f5024c,0xfc4fe5d7,0xd7c52acb,0x80263544,0x8fb562a3,0x49deb15a,0x6725ba1b,0x9845ea0e,0xe15dfec0,0x2c32f75,0x12814cf0,0xa38d4697,0xc66bd3f9,0xe7038f5f,0x9515929c,0xebbf6d7a,0xda955259,0x2dd4be83,0xd3587421,0x2949e069,0x448ec9c8,0x6a75c289,0x78f48e79,0x6b99583e,0xdd27b971,0xb6bee14f,0x17f088ad,0x66c920ac,0xb47dce3a,0x1863df4a,0x82e51a31,0x60975133,0x4562537f,0xe0b16477,0x84bb6bae,0x1cfe81a0,0x94f9082b,0x58704868,0x198f45fd,0x8794de6c,0xb7527bf8,0x23ab73d3,0xe2724b02,0x57e31f8f,0x2a6655ab,0x7b2eb28,0x32fb5c2,0x9a86c57b,0xa5d33708,0xf2302887,0xb223bfa5,0xba02036a,0x5ced1682,0x2b8acf1c,0x92a779b4,0xf0f307f2,0xa14e69e2,0xcd65daf4,0xd50605be,0x1fd13462,0x8ac4a6fe,0x9d342e53,0xa0a2f355,0x32058ae1,0x75a4f6eb,0x390b83ec,0xaa4060ef,0x65e719f,0x51bd6e10,0xf93e218a,0x3d96dd06,0xaedd3e05,0x464de6bd,0xb591548d,0x571c45d,0x6f0406d4,0xff605015,0x241998fb,0x97d6bde9,0xcc894043,0x7767d99e,0xbdb0e842,0x8807898b,0x38e7195b,0xdb79c8ee,0x47a17c0a,0xe97c420f,0xc9f8841e,0,0x83098086,0x48322bed,0xac1e1170,0x4e6c5a72,0xfbfd0eff,0x560f8538,0x1e3daed5,0x27362d39,0x640a0fd9,0x21685ca6,0xd19b5b54,0x3a24362e,0xb10c0a67,0xf9357e7,0xd2b4ee96,0x9e1b9b91,0x4f80c0c5,0xa261dc20,0x695a774b,0x161c121a,0xae293ba,0xe5c0a02a,0x433c22e0,0x1d121b17,0xb0e090d,0xadf28bc7,0xb92db6a8,0xc8141ea9,0x8557f119,0x4caf7507,0xbbee99dd,0xfda37f60,0x9ff70126,0xbc5c72f5,0xc544663b,0x345bfb7e,0x768b4329,0xdccb23c6,0x68b6edfc,0x63b8e4f1,0xcad731dc,0x10426385,0x40139722,0x2084c611,0x7d854a24,0xf8d2bb3d,0x11aef932,0x6dc729a1,0x4b1d9e2f,0xf3dcb230,0xec0d8652,0xd077c1e3,0x6c2bb316,0x99a970b9,0xfa119448,0x2247e964,0xc4a8fc8c,0x1aa0f03f,0xd8567d2c,0xef223390,0xc787494e,0xc1d938d1,0xfe8ccaa2,0x3698d40b,0xcfa6f581,0x28a57ade,0x26dab78e,0xa43fadbf,0xe42c3a9d,0xd507892,0x9b6a5fcc,0x62547e46,0xc2f68d13,0xe890d8b8,0x5e2e39f7,0xf582c3af,0xbe9f5d80,0x7c69d093,0xa96fd52d,0xb3cf2512,0x3bc8ac99,0xa710187d,0x6ee89c63,0x7bdb3bbb,0x9cd2678,0xf46e5918,0x1ec9ab7,0xa8834f9a,0x65e6956e,0x7eaaffe6,0x821bccf,0xe6ef15e8,0xd9bae79b,0xce4a6f36,0xd4ea9f09,0xd629b07c,0xaf31a4b2,0x312a3f23,0x30c6a594,0xc035a266,0x37744ebc,0xa6fc82ca,0xb0e090d0,0x1533a7d8,0x4af10498,0xf741ecda,0xe7fcd50,0x2f1791f6,0x8d764dd6,0x4d43efb0,0x54ccaa4d,0xdfe49604,0xe39ed1b5,0x1b4c6a88,0xb8c12c1f,0x7f466551,0x49d5eea,0x5d018c35,0x73fa8774,0x2efb0b41,0x5ab3671d,0x5292dbd2,0x33e91056,0x136dd647,0x8c9ad761,0x7a37a10c,0x8e59f814,0x89eb133c,0xeecea927,0x35b761c9,0xede11ce5,0x3c7a47b1,0x599cd2df,0x3f55f273,0x791814ce,0xbf73c737,0xea53f7cd,0x5b5ffdaa,0x14df3d6f,0x867844db,0x81caaff3,0x3eb968c4,0x2c382434,0x5fc2a340,0x72161dc3,0xcbce225,0x8b283c49,0x41ff0d95,0x7139a801,0xde080cb3,0x9cd8b4e4,0x906456c1,0x617bcb84,0x70d532b6,0x74486c5c,0x42d0b857],x=[0xa75051f4,0x65537e41,0xa4c31a17,0x5e963a27,0x6bcb3bab,0x45f11f9d,0x58abacfa,0x3934be3,0xfa552030,0x6df6ad76,0x769188cc,0x4c25f502,0xd7fc4fe5,0xcbd7c52a,0x44802635,0xa38fb562,0x5a49deb1,0x1b6725ba,0xe9845ea,0xc0e15dfe,0x7502c32f,0xf012814c,0x97a38d46,0xf9c66bd3,0x5fe7038f,0x9c951592,0x7aebbf6d,0x59da9552,0x832dd4be,0x21d35874,0x692949e0,0xc8448ec9,0x896a75c2,0x7978f48e,1047239e3,0x71dd27b9,0x4fb6bee1,0xad17f088,0xac66c920,0x3ab47dce,0x4a1863df,0x3182e51a,0x33609751,0x7f456253,0x77e0b164,0xae84bb6b,0xa01cfe81,0x2b94f908,0x68587048,0xfd198f45,0x6c8794de,0xf8b7527b,0xd323ab73,0x2e2724b,0x8f57e31f,0xab2a6655,0x2807b2eb,0xc2032fb5,0x7b9a86c5,0x8a5d337,0x87f23028,0xa5b223bf,0x6aba0203,0x825ced16,0x1c2b8acf,0xb492a779,0xf2f0f307,0xe2a14e69,0xf4cd65da,0xbed50605,0x621fd134,0xfe8ac4a6,0x539d342e,0x55a0a2f3,0xe132058a,0xeb75a4f6,0xec390b83,0xefaa4060,0x9f065e71,0x1051bd6e,0x8af93e21,0x63d96dd,0x5aedd3e,0xbd464de6,0x8db59154,0x5d0571c4,0xd46f0406,0x15ff6050,0xfb241998,0xe997d6bd,0x43cc8940,0x9e7767d9,0x42bdb0e8,0x8b880789,0x5b38e719,0xeedb79c8,0xa47a17c,0xfe97c42,0x1ec9f884,0,0x86830980,0xed48322b,0x70ac1e11,0x724e6c5a,0xfffbfd0e,0x38560f85,0xd51e3dae,0x3927362d,0xd9640a0f,0xa621685c,0x54d19b5b,0x2e3a2436,0x67b10c0a,0xe70f9357,0x96d2b4ee,0x919e1b9b,0xc54f80c0,0x20a261dc,0x4b695a77,0x1a161c12,0xba0ae293,0x2ae5c0a0,0xe0433c22,0x171d121b,0xd0b0e09,0xc7adf28b,0xa8b92db6,0xa9c8141e,0x198557f1,0x74caf75,0xddbbee99,0x60fda37f,0x269ff701,0xf5bc5c72,0x3bc54466,0x7e345bfb,0x29768b43,0xc6dccb23,0xfc68b6ed,0xf163b8e4,0xdccad731,0x85104263,0x22401397,0x112084c6,0x247d854a,0x3df8d2bb,0x3211aef9,0xa16dc729,0x2f4b1d9e,0x30f3dcb2,0x52ec0d86,0xe3d077c1,0x166c2bb3,0xb999a970,0x48fa1194,0x642247e9,0x8cc4a8fc,0x3f1aa0f0,0x2cd8567d,0x90ef2233,0x4ec78749,0xd1c1d938,0xa2fe8cca,0xb3698d4,0x81cfa6f5,0xde28a57a,0x8e26dab7,0xbfa43fad,0x9de42c3a,0x920d5078,0xcc9b6a5f,0x4662547e,0x13c2f68d,0xb8e890d8,0xf75e2e39,0xaff582c3,0x80be9f5d,0x937c69d0,0x2da96fd5,0x12b3cf25,0x993bc8ac,0x7da71018,0x636ee89c,0xbb7bdb3b,0x7809cd26,0x18f46e59,0xb701ec9a,0x9aa8834f,0x6e65e695,0xe67eaaff,0xcf0821bc,0xe8e6ef15,0x9bd9bae7,0x36ce4a6f,0x9d4ea9f,0x7cd629b0,0xb2af31a4,0x23312a3f,0x9430c6a5,0x66c035a2,0xbc37744e,0xcaa6fc82,0xd0b0e090,0xd81533a7,0x984af104,0xdaf741ec,0x500e7fcd,0xf62f1791,0xd68d764d,0xb04d43ef,0x4d54ccaa,0x4dfe496,0xb5e39ed1,0x881b4c6a,0x1fb8c12c,0x517f4665,0xea049d5e,0x355d018c,0x7473fa87,0x412efb0b,0x1d5ab367,0xd25292db,0x5633e910,0x47136dd6,0x618c9ad7,0xc7a37a1,0x148e59f8,0x3c89eb13,0x27eecea9,0xc935b761,0xe5ede11c,0xb13c7a47,0xdf599cd2,0x733f55f2,0xce791814,0x37bf73c7,0xcdea53f7,0xaa5b5ffd,0x6f14df3d,0xdb867844,0xf381caaf,0xc43eb968,0x342c3824,0x405fc2a3,0xc372161d,0x250cbce2,0x498b283c,0x9541ff0d,0x17139a8,0xb3de080c,0xe49cd8b4,0xc1906456,0x84617bcb,0xb670d532,0x5c74486c,0x5742d0b8],A=[0xf4a75051,0x4165537e,0x17a4c31a,0x275e963a,0xab6bcb3b,0x9d45f11f,0xfa58abac,0xe303934b,0x30fa5520,0x766df6ad,0xcc769188,0x24c25f5,0xe5d7fc4f,0x2acbd7c5,0x35448026,0x62a38fb5,0xb15a49de,0xba1b6725,0xea0e9845,0xfec0e15d,0x2f7502c3,0x4cf01281,0x4697a38d,0xd3f9c66b,0x8f5fe703,0x929c9515,0x6d7aebbf,0x5259da95,0xbe832dd4,0x7421d358,0xe0692949,0xc9c8448e,0xc2896a75,0x8e7978f4,0x583e6b99,0xb971dd27,0xe14fb6be,0x88ad17f0,0x20ac66c9,0xce3ab47d,0xdf4a1863,0x1a3182e5,0x51336097,0x537f4562,0x6477e0b1,0x6bae84bb,0x81a01cfe,0x82b94f9,0x48685870,0x45fd198f,0xde6c8794,0x7bf8b752,0x73d323ab,0x4b02e272,0x1f8f57e3,0x55ab2a66,0xeb2807b2,0xb5c2032f,0xc57b9a86,0x3708a5d3,679998e3,0xbfa5b223,0x36aba02,0x16825ced,0xcf1c2b8a,0x79b492a7,0x7f2f0f3,0x69e2a14e,0xdaf4cd65,0x5bed506,0x34621fd1,0xa6fe8ac4,0x2e539d34,0xf355a0a2,0x8ae13205,0xf6eb75a4,0x83ec390b,0x60efaa40,0x719f065e,0x6e1051bd,0x218af93e,0xdd063d96,0x3e05aedd,0xe6bd464d,0x548db591,0xc45d0571,0x6d46f04,0x5015ff60,0x98fb2419,0xbde997d6,0x4043cc89,0xd99e7767,0xe842bdb0,0x898b8807,0x195b38e7,0xc8eedb79,0x7c0a47a1,0x420fe97c,0x841ec9f8,0,0x80868309,0x2bed4832,0x1170ac1e,0x5a724e6c,0xefffbfd,0x8538560f,0xaed51e3d,0x2d392736,0xfd9640a,0x5ca62168,0x5b54d19b,0x362e3a24,0xa67b10c,0x57e70f93,0xee96d2b4,0x9b919e1b,0xc0c54f80,0xdc20a261,0x774b695a,0x121a161c,0x93ba0ae2,0xa02ae5c0,0x22e0433c,0x1b171d12,0x90d0b0e,0x8bc7adf2,0xb6a8b92d,0x1ea9c814,0xf1198557,0x75074caf,0x99ddbbee,0x7f60fda3,0x1269ff7,0x72f5bc5c,0x663bc544,0xfb7e345b,0x4329768b,0x23c6dccb,0xedfc68b6,0xe4f163b8,0x31dccad7,0x63851042,0x97224013,0xc6112084,0x4a247d85,0xbb3df8d2,0xf93211ae,0x29a16dc7,0x9e2f4b1d,0xb230f3dc,0x8652ec0d,0xc1e3d077,0xb3166c2b,0x70b999a9,0x9448fa11,0xe9642247,0xfc8cc4a8,0xf03f1aa0,0x7d2cd856,0x3390ef22,0x494ec787,0x38d1c1d9,0xcaa2fe8c,0xd40b3698,0xf581cfa6,0x7ade28a5,0xb78e26da,0xadbfa43f,0x3a9de42c,0x78920d50,0x5fcc9b6a,0x7e466254,0x8d13c2f6,0xd8b8e890,0x39f75e2e,0xc3aff582,0x5d80be9f,0xd0937c69,0xd52da96f,0x2512b3cf,0xac993bc8,0x187da710,0x9c636ee8,0x3bbb7bdb,0x267809cd,0x5918f46e,0x9ab701ec,0x4f9aa883,0x956e65e6,0xffe67eaa,0xbccf0821,0x15e8e6ef,0xe79bd9ba,0x6f36ce4a,0x9f09d4ea,0xb07cd629,0xa4b2af31,0x3f23312a,0xa59430c6,0xa266c035,0x4ebc3774,0x82caa6fc,0x90d0b0e0,0xa7d81533,0x4984af1,0xecdaf741,0xcd500e7f,0x91f62f17,0x4dd68d76,0xefb04d43,0xaa4d54cc,0x9604dfe4,0xd1b5e39e,0x6a881b4c,0x2c1fb8c1,0x65517f46,0x5eea049d,0x8c355d01,0x877473fa,0xb412efb,0x671d5ab3,0xdbd25292,0x105633e9,0xd647136d,0xd7618c9a,0xa10c7a37,0xf8148e59,0x133c89eb,0xa927eece,0x61c935b7,0x1ce5ede1,0x47b13c7a,0xd2df599c,0xf2733f55,0x14ce7918,0xc737bf73,0xf7cdea53,0xfdaa5b5f,0x3d6f14df,0x44db8678,0xaff381ca,0x68c43eb9,0x24342c38,0xa3405fc2,0x1dc37216,0xe2250cbc,0x3c498b28,0xd9541ff,0xa8017139,0xcb3de08,0xb4e49cd8,0x56c19064,0xcb84617b,0x32b670d5,0x6c5c7448,0xb85742d0],w=[0,0xe090d0b,0x1c121a16,0x121b171d,0x3824342c,0x362d3927,0x24362e3a,0x2a3f2331,0x70486858,0x7e416553,0x6c5a724e,0x62537f45,0x486c5c74,0x4665517f,0x547e4662,0x5a774b69,0xe090d0b0,0xee99ddbb,0xfc82caa6,0xf28bc7ad,0xd8b4e49c,0xd6bde997,0xc4a6fe8a,0xcaaff381,0x90d8b8e8,0x9ed1b5e3,0x8ccaa2fe,0x82c3aff5,0xa8fc8cc4,0xa6f581cf,0xb4ee96d2,0xbae79bd9,0xdb3bbb7b,0xd532b670,0xc729a16d,0xc920ac66,0xe31f8f57,0xed16825c,0xff0d9541,0xf104984a,0xab73d323,0xa57ade28,0xb761c935,0xb968c43e,0x9357e70f,0x9d5eea04,0x8f45fd19,0x814cf012,0x3bab6bcb,0x35a266c0,0x27b971dd,0x29b07cd6,0x38f5fe7,0xd8652ec,0x1f9d45f1,0x119448fa,0x4be30393,0x45ea0e98,0x57f11985,0x59f8148e,0x73c737bf,0x7dce3ab4,0x6fd52da9,0x61dc20a2,0xad766df6,0xa37f60fd,0xb16477e0,0xbf6d7aeb,0x955259da,0x9b5b54d1,0x894043cc,0x87494ec7,0xdd3e05ae,0xd33708a5,0xc12c1fb8,0xcf2512b3,0xe51a3182,0xeb133c89,0xf9082b94,0xf701269f,0x4de6bd46,0x43efb04d,0x51f4a750,0x5ffdaa5b,0x75c2896a,0x7bcb8461,0x69d0937c,0x67d99e77,0x3daed51e,0x33a7d815,0x21bccf08,0x2fb5c203,0x58ae132,0xb83ec39,0x1998fb24,0x1791f62f,0x764dd68d,0x7844db86,0x6a5fcc9b,0x6456c190,0x4e69e2a1,0x4060efaa,0x527bf8b7,0x5c72f5bc,0x605bed5,0x80cb3de,0x1a17a4c3,0x141ea9c8,0x3e218af9,0x302887f2,0x223390ef,0x2c3a9de4,0x96dd063d,0x98d40b36,0x8acf1c2b,0x84c61120,0xaef93211,0xa0f03f1a,0xb2eb2807,0xbce2250c,0xe6956e65,0xe89c636e,0xfa877473,0xf48e7978,0xdeb15a49,0xd0b85742,0xc2a3405f,0xccaa4d54,0x41ecdaf7,0x4fe5d7fc,0x5dfec0e1,0x53f7cdea,0x79c8eedb,0x77c1e3d0,0x65daf4cd,0x6bd3f9c6,0x31a4b2af,0x3fadbfa4,0x2db6a8b9,0x23bfa5b2,0x9808683,0x7898b88,0x15929c95,0x1b9b919e,0xa17c0a47,0xaf75074c,0xbd6e1051,0xb3671d5a,0x99583e6b,0x97513360,0x854a247d,0x8b432976,0xd134621f,0xdf3d6f14,0xcd267809,0xc32f7502,0xe9105633,0xe7195b38,0xf5024c25,0xfb0b412e,0x9ad7618c,0x94de6c87,0x86c57b9a,0x88cc7691,0xa2f355a0,0xacfa58ab,0xbee14fb6,0xb0e842bd,0xea9f09d4,0xe49604df,0xf68d13c2,0xf8841ec9,0xd2bb3df8,0xdcb230f3,0xcea927ee,0xc0a02ae5,0x7a47b13c,0x744ebc37,0x6655ab2a,0x685ca621,0x42638510,0x4c6a881b,0x5e719f06,0x5078920d,0xa0fd964,0x406d46f,0x161dc372,0x1814ce79,0x322bed48,0x3c22e043,0x2e39f75e,0x2030fa55,0xec9ab701,0xe293ba0a,0xf088ad17,0xfe81a01c,0xd4be832d,0xdab78e26,0xc8ac993b,0xc6a59430,0x9cd2df59,0x92dbd252,0x80c0c54f,0x8ec9c844,0xa4f6eb75,0xaaffe67e,0xb8e4f163,0xb6edfc68,0xc0a67b1,0x2036aba,0x10187da7,0x1e1170ac,0x342e539d,0x3a275e96,0x283c498b,0x26354480,0x7c420fe9,0x724b02e2,0x605015ff,0x6e5918f4,0x44663bc5,0x4a6f36ce,0x587421d3,0x567d2cd8,0x37a10c7a,0x39a80171,0x2bb3166c,0x25ba1b67,0xf853856,0x18c355d,0x13972240,0x1d9e2f4b,0x47e96422,0x49e06929,0x5bfb7e34,0x55f2733f,0x7fcd500e,0x71c45d05,0x63df4a18,0x6dd64713,0xd731dcca,0xd938d1c1,0xcb23c6dc,0xc52acbd7,0xef15e8e6,0xe11ce5ed,0xf307f2f0,0xfd0efffb,0xa779b492,0xa970b999,0xbb6bae84,0xb562a38f,0x9f5d80be,0x91548db5,0x834f9aa8,0x8d4697a3],v=[0,0xb0e090d,0x161c121a,0x1d121b17,0x2c382434,0x27362d39,0x3a24362e,0x312a3f23,0x58704868,0x537e4165,0x4e6c5a72,0x4562537f,0x74486c5c,0x7f466551,0x62547e46,0x695a774b,0xb0e090d0,0xbbee99dd,0xa6fc82ca,0xadf28bc7,0x9cd8b4e4,0x97d6bde9,0x8ac4a6fe,0x81caaff3,0xe890d8b8,0xe39ed1b5,0xfe8ccaa2,0xf582c3af,0xc4a8fc8c,0xcfa6f581,0xd2b4ee96,0xd9bae79b,0x7bdb3bbb,0x70d532b6,0x6dc729a1,0x66c920ac,0x57e31f8f,0x5ced1682,0x41ff0d95,0x4af10498,0x23ab73d3,0x28a57ade,0x35b761c9,0x3eb968c4,0xf9357e7,0x49d5eea,0x198f45fd,0x12814cf0,0xcb3bab6b,0xc035a266,0xdd27b971,0xd629b07c,0xe7038f5f,0xec0d8652,0xf11f9d45,0xfa119448,0x934be303,0x9845ea0e,0x8557f119,0x8e59f814,0xbf73c737,0xb47dce3a,0xa96fd52d,0xa261dc20,0xf6ad766d,0xfda37f60,0xe0b16477,0xebbf6d7a,0xda955259,0xd19b5b54,0xcc894043,0xc787494e,0xaedd3e05,0xa5d33708,0xb8c12c1f,0xb3cf2512,0x82e51a31,0x89eb133c,0x94f9082b,0x9ff70126,0x464de6bd,0x4d43efb0,0x5051f4a7,0x5b5ffdaa,0x6a75c289,0x617bcb84,0x7c69d093,0x7767d99e,0x1e3daed5,0x1533a7d8,0x821bccf,0x32fb5c2,0x32058ae1,0x390b83ec,0x241998fb,0x2f1791f6,0x8d764dd6,0x867844db,0x9b6a5fcc,0x906456c1,0xa14e69e2,0xaa4060ef,0xb7527bf8,0xbc5c72f5,0xd50605be,0xde080cb3,0xc31a17a4,0xc8141ea9,0xf93e218a,0xf2302887,0xef223390,0xe42c3a9d,0x3d96dd06,0x3698d40b,0x2b8acf1c,0x2084c611,0x11aef932,0x1aa0f03f,0x7b2eb28,0xcbce225,0x65e6956e,0x6ee89c63,0x73fa8774,0x78f48e79,0x49deb15a,0x42d0b857,0x5fc2a340,0x54ccaa4d,0xf741ecda,0xfc4fe5d7,0xe15dfec0,0xea53f7cd,0xdb79c8ee,0xd077c1e3,0xcd65daf4,0xc66bd3f9,0xaf31a4b2,0xa43fadbf,0xb92db6a8,0xb223bfa5,0x83098086,0x8807898b,0x9515929c,0x9e1b9b91,0x47a17c0a,0x4caf7507,0x51bd6e10,0x5ab3671d,0x6b99583e,0x60975133,0x7d854a24,0x768b4329,0x1fd13462,0x14df3d6f,0x9cd2678,0x2c32f75,0x33e91056,0x38e7195b,0x25f5024c,0x2efb0b41,0x8c9ad761,0x8794de6c,0x9a86c57b,0x9188cc76,0xa0a2f355,0xabacfa58,0xb6bee14f,0xbdb0e842,0xd4ea9f09,0xdfe49604,0xc2f68d13,0xc9f8841e,0xf8d2bb3d,0xf3dcb230,0xeecea927,0xe5c0a02a,0x3c7a47b1,0x37744ebc,0x2a6655ab,0x21685ca6,0x10426385,0x1b4c6a88,0x65e719f,0xd507892,0x640a0fd9,0x6f0406d4,0x72161dc3,0x791814ce,0x48322bed,0x433c22e0,0x5e2e39f7,0x552030fa,0x1ec9ab7,0xae293ba,0x17f088ad,0x1cfe81a0,0x2dd4be83,0x26dab78e,0x3bc8ac99,0x30c6a594,0x599cd2df,0x5292dbd2,0x4f80c0c5,0x448ec9c8,0x75a4f6eb,0x7eaaffe6,0x63b8e4f1,0x68b6edfc,0xb10c0a67,0xba02036a,0xa710187d,0xac1e1170,0x9d342e53,0x963a275e,0x8b283c49,0x80263544,0xe97c420f,0xe2724b02,0xff605015,0xf46e5918,0xc544663b,0xce4a6f36,0xd3587421,0xd8567d2c,0x7a37a10c,0x7139a801,0x6c2bb316,0x6725ba1b,0x560f8538,0x5d018c35,0x40139722,0x4b1d9e2f,0x2247e964,0x2949e069,0x345bfb7e,0x3f55f273,0xe7fcd50,0x571c45d,0x1863df4a,0x136dd647,0xcad731dc,0xc1d938d1,0xdccb23c6,0xd7c52acb,0xe6ef15e8,0xede11ce5,0xf0f307f2,0xfbfd0eff,0x92a779b4,0x99a970b9,0x84bb6bae,0x8fb562a3,0xbe9f5d80,0xb591548d,0xa8834f9a,0xa38d4697],S=[0,0xd0b0e09,0x1a161c12,0x171d121b,0x342c3824,0x3927362d,0x2e3a2436,0x23312a3f,0x68587048,0x65537e41,0x724e6c5a,0x7f456253,0x5c74486c,0x517f4665,0x4662547e,0x4b695a77,0xd0b0e090,0xddbbee99,0xcaa6fc82,0xc7adf28b,0xe49cd8b4,0xe997d6bd,0xfe8ac4a6,0xf381caaf,0xb8e890d8,0xb5e39ed1,0xa2fe8cca,0xaff582c3,0x8cc4a8fc,0x81cfa6f5,0x96d2b4ee,0x9bd9bae7,0xbb7bdb3b,0xb670d532,0xa16dc729,0xac66c920,0x8f57e31f,0x825ced16,0x9541ff0d,0x984af104,0xd323ab73,0xde28a57a,0xc935b761,0xc43eb968,0xe70f9357,0xea049d5e,0xfd198f45,0xf012814c,0x6bcb3bab,0x66c035a2,0x71dd27b9,0x7cd629b0,0x5fe7038f,0x52ec0d86,0x45f11f9d,0x48fa1194,0x3934be3,0xe9845ea,0x198557f1,0x148e59f8,0x37bf73c7,0x3ab47dce,0x2da96fd5,0x20a261dc,0x6df6ad76,0x60fda37f,0x77e0b164,0x7aebbf6d,0x59da9552,0x54d19b5b,0x43cc8940,0x4ec78749,0x5aedd3e,0x8a5d337,0x1fb8c12c,0x12b3cf25,0x3182e51a,0x3c89eb13,0x2b94f908,0x269ff701,0xbd464de6,0xb04d43ef,0xa75051f4,0xaa5b5ffd,0x896a75c2,0x84617bcb,0x937c69d0,0x9e7767d9,0xd51e3dae,0xd81533a7,0xcf0821bc,0xc2032fb5,0xe132058a,0xec390b83,0xfb241998,0xf62f1791,0xd68d764d,0xdb867844,0xcc9b6a5f,0xc1906456,0xe2a14e69,0xefaa4060,0xf8b7527b,0xf5bc5c72,0xbed50605,0xb3de080c,0xa4c31a17,0xa9c8141e,0x8af93e21,0x87f23028,0x90ef2233,0x9de42c3a,0x63d96dd,0xb3698d4,0x1c2b8acf,0x112084c6,0x3211aef9,0x3f1aa0f0,0x2807b2eb,0x250cbce2,0x6e65e695,0x636ee89c,0x7473fa87,0x7978f48e,0x5a49deb1,0x5742d0b8,0x405fc2a3,0x4d54ccaa,0xdaf741ec,0xd7fc4fe5,0xc0e15dfe,0xcdea53f7,0xeedb79c8,0xe3d077c1,0xf4cd65da,0xf9c66bd3,0xb2af31a4,0xbfa43fad,0xa8b92db6,0xa5b223bf,0x86830980,0x8b880789,0x9c951592,0x919e1b9b,0xa47a17c,0x74caf75,0x1051bd6e,0x1d5ab367,1047239e3,0x33609751,0x247d854a,0x29768b43,0x621fd134,0x6f14df3d,0x7809cd26,0x7502c32f,0x5633e910,0x5b38e719,0x4c25f502,0x412efb0b,0x618c9ad7,0x6c8794de,0x7b9a86c5,0x769188cc,0x55a0a2f3,0x58abacfa,0x4fb6bee1,0x42bdb0e8,0x9d4ea9f,0x4dfe496,0x13c2f68d,0x1ec9f884,0x3df8d2bb,0x30f3dcb2,0x27eecea9,0x2ae5c0a0,0xb13c7a47,0xbc37744e,0xab2a6655,0xa621685c,0x85104263,0x881b4c6a,0x9f065e71,0x920d5078,0xd9640a0f,0xd46f0406,0xc372161d,0xce791814,0xed48322b,0xe0433c22,0xf75e2e39,0xfa552030,0xb701ec9a,0xba0ae293,0xad17f088,0xa01cfe81,0x832dd4be,0x8e26dab7,0x993bc8ac,0x9430c6a5,0xdf599cd2,0xd25292db,0xc54f80c0,0xc8448ec9,0xeb75a4f6,0xe67eaaff,0xf163b8e4,0xfc68b6ed,0x67b10c0a,0x6aba0203,0x7da71018,0x70ac1e11,0x539d342e,0x5e963a27,0x498b283c,0x44802635,0xfe97c42,0x2e2724b,0x15ff6050,0x18f46e59,0x3bc54466,0x36ce4a6f,0x21d35874,0x2cd8567d,0xc7a37a1,0x17139a8,0x166c2bb3,0x1b6725ba,0x38560f85,0x355d018c,0x22401397,0x2f4b1d9e,0x642247e9,0x692949e0,0x7e345bfb,0x733f55f2,0x500e7fcd,0x5d0571c4,0x4a1863df,0x47136dd6,0xdccad731,0xd1c1d938,0xc6dccb23,0xcbd7c52a,0xe8e6ef15,0xe5ede11c,0xf2f0f307,0xfffbfd0e,0xb492a779,0xb999a970,0xae84bb6b,0xa38fb562,0x80be9f5d,0x8db59154,0x9aa8834f,0x97a38d46],T=[0,0x90d0b0e,0x121a161c,0x1b171d12,0x24342c38,0x2d392736,0x362e3a24,0x3f23312a,0x48685870,0x4165537e,0x5a724e6c,0x537f4562,0x6c5c7448,0x65517f46,0x7e466254,0x774b695a,0x90d0b0e0,0x99ddbbee,0x82caa6fc,0x8bc7adf2,0xb4e49cd8,0xbde997d6,0xa6fe8ac4,0xaff381ca,0xd8b8e890,0xd1b5e39e,0xcaa2fe8c,0xc3aff582,0xfc8cc4a8,0xf581cfa6,0xee96d2b4,0xe79bd9ba,0x3bbb7bdb,0x32b670d5,0x29a16dc7,0x20ac66c9,0x1f8f57e3,0x16825ced,0xd9541ff,0x4984af1,0x73d323ab,0x7ade28a5,0x61c935b7,0x68c43eb9,0x57e70f93,0x5eea049d,0x45fd198f,0x4cf01281,0xab6bcb3b,0xa266c035,0xb971dd27,0xb07cd629,0x8f5fe703,0x8652ec0d,0x9d45f11f,0x9448fa11,0xe303934b,0xea0e9845,0xf1198557,0xf8148e59,0xc737bf73,0xce3ab47d,0xd52da96f,0xdc20a261,0x766df6ad,0x7f60fda3,0x6477e0b1,0x6d7aebbf,0x5259da95,0x5b54d19b,0x4043cc89,0x494ec787,0x3e05aedd,0x3708a5d3,0x2c1fb8c1,0x2512b3cf,0x1a3182e5,0x133c89eb,0x82b94f9,0x1269ff7,0xe6bd464d,0xefb04d43,0xf4a75051,0xfdaa5b5f,0xc2896a75,0xcb84617b,0xd0937c69,0xd99e7767,0xaed51e3d,0xa7d81533,0xbccf0821,0xb5c2032f,0x8ae13205,0x83ec390b,0x98fb2419,0x91f62f17,0x4dd68d76,0x44db8678,0x5fcc9b6a,0x56c19064,0x69e2a14e,0x60efaa40,0x7bf8b752,0x72f5bc5c,0x5bed506,0xcb3de08,0x17a4c31a,0x1ea9c814,0x218af93e,679998e3,0x3390ef22,0x3a9de42c,0xdd063d96,0xd40b3698,0xcf1c2b8a,0xc6112084,0xf93211ae,0xf03f1aa0,0xeb2807b2,0xe2250cbc,0x956e65e6,0x9c636ee8,0x877473fa,0x8e7978f4,0xb15a49de,0xb85742d0,0xa3405fc2,0xaa4d54cc,0xecdaf741,0xe5d7fc4f,0xfec0e15d,0xf7cdea53,0xc8eedb79,0xc1e3d077,0xdaf4cd65,0xd3f9c66b,0xa4b2af31,0xadbfa43f,0xb6a8b92d,0xbfa5b223,0x80868309,0x898b8807,0x929c9515,0x9b919e1b,0x7c0a47a1,0x75074caf,0x6e1051bd,0x671d5ab3,0x583e6b99,0x51336097,0x4a247d85,0x4329768b,0x34621fd1,0x3d6f14df,0x267809cd,0x2f7502c3,0x105633e9,0x195b38e7,0x24c25f5,0xb412efb,0xd7618c9a,0xde6c8794,0xc57b9a86,0xcc769188,0xf355a0a2,0xfa58abac,0xe14fb6be,0xe842bdb0,0x9f09d4ea,0x9604dfe4,0x8d13c2f6,0x841ec9f8,0xbb3df8d2,0xb230f3dc,0xa927eece,0xa02ae5c0,0x47b13c7a,0x4ebc3774,0x55ab2a66,0x5ca62168,0x63851042,0x6a881b4c,0x719f065e,0x78920d50,0xfd9640a,0x6d46f04,0x1dc37216,0x14ce7918,0x2bed4832,0x22e0433c,0x39f75e2e,0x30fa5520,0x9ab701ec,0x93ba0ae2,0x88ad17f0,0x81a01cfe,0xbe832dd4,0xb78e26da,0xac993bc8,0xa59430c6,0xd2df599c,0xdbd25292,0xc0c54f80,0xc9c8448e,0xf6eb75a4,0xffe67eaa,0xe4f163b8,0xedfc68b6,0xa67b10c,0x36aba02,0x187da710,0x1170ac1e,0x2e539d34,0x275e963a,0x3c498b28,0x35448026,0x420fe97c,0x4b02e272,0x5015ff60,0x5918f46e,0x663bc544,0x6f36ce4a,0x7421d358,0x7d2cd856,0xa10c7a37,0xa8017139,0xb3166c2b,0xba1b6725,0x8538560f,0x8c355d01,0x97224013,0x9e2f4b1d,0xe9642247,0xe0692949,0xfb7e345b,0xf2733f55,0xcd500e7f,0xc45d0571,0xdf4a1863,0xd647136d,0x31dccad7,0x38d1c1d9,0x23c6dccb,0x2acbd7c5,0x15e8e6ef,0x1ce5ede1,0x7f2f0f3,0xefffbfd,0x79b492a7,0x70b999a9,0x6bae84bb,0x62a38fb5,0x5d80be9f,0x548db591,0x4f9aa883,0x4697a38d];function E(e){for(var t=[],r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}var k=function(e){if(!(this instanceof k))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:n(e,!0)}),this._prepare()};k.prototype._prepare=function(){var e=l[this.key.length];if(null==e)throw Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var r=(e+1)*4,i=this.key.length/4,n=E(this.key),t=0;t<i;t++)a=t>>2,this._Ke[a][t%4]=n[t],this._Kd[e-a][t%4]=n[t];for(var a,o,s=0,u=i;u<r;){if(o=n[i-1],n[0]^=d[o>>16&255]<<24^d[o>>8&255]<<16^d[255&o]<<8^d[o>>24&255]^c[s]<<24,s+=1,8!=i)for(var t=1;t<i;t++)n[t]^=n[t-1];else{for(var t=1;t<i/2;t++)n[t]^=n[t-1];o=n[i/2-1],n[i/2]^=d[255&o]^d[o>>8&255]<<8^d[o>>16&255]<<16^d[o>>24&255]<<24;for(var t=i/2+1;t<i;t++)n[t]^=n[t-1]}for(var f,p,t=0;t<i&&u<r;)f=u>>2,p=u%4,this._Ke[f][p]=n[t],this._Kd[e-f][p]=n[t++],u++}for(var f=1;f<e;f++)for(var p=0;p<4;p++)o=this._Kd[f][p],this._Kd[f][p]=w[o>>24&255]^v[o>>16&255]^S[o>>8&255]^T[255&o]},k.prototype.encrypt=function(e){if(16!=e.length)throw Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,r=[0,0,0,0],i=E(e),n=0;n<4;n++)i[n]^=this._Ke[0][n];for(var o=1;o<t;o++){for(var n=0;n<4;n++)r[n]=p[i[n]>>24&255]^h[i[(n+1)%4]>>16&255]^m[i[(n+2)%4]>>8&255]^b[255&i[(n+3)%4]]^this._Ke[o][n];i=r.slice()}for(var s,u=a(16),n=0;n<4;n++)s=this._Ke[t][n],u[4*n]=(d[i[n]>>24&255]^s>>24)&255,u[4*n+1]=(d[i[(n+1)%4]>>16&255]^s>>16)&255,u[4*n+2]=(d[i[(n+2)%4]>>8&255]^s>>8)&255,u[4*n+3]=(d[255&i[(n+3)%4]]^s)&255;return u},k.prototype.decrypt=function(e){if(16!=e.length)throw Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,r=[0,0,0,0],i=E(e),n=0;n<4;n++)i[n]^=this._Kd[0][n];for(var o=1;o<t;o++){for(var n=0;n<4;n++)r[n]=g[i[n]>>24&255]^y[i[(n+3)%4]>>16&255]^x[i[(n+2)%4]>>8&255]^A[255&i[(n+1)%4]]^this._Kd[o][n];i=r.slice()}for(var s,u=a(16),n=0;n<4;n++)s=this._Kd[t][n],u[4*n]=(f[i[n]>>24&255]^s>>24)&255,u[4*n+1]=(f[i[(n+3)%4]>>16&255]^s>>16)&255,u[4*n+2]=(f[i[(n+2)%4]>>8&255]^s>>8)&255,u[4*n+3]=(f[255&i[(n+1)%4]]^s)&255;return u};var P=function(e){if(!(this instanceof P))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new k(e)};P.prototype.encrypt=function(e){if((e=n(e)).length%16!=0)throw Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=a(e.length),r=a(16),i=0;i<e.length;i+=16)o(e,r,0,i,i+16),o(r=this._aes.encrypt(r),t,i);return t},P.prototype.decrypt=function(e){if((e=n(e)).length%16!=0)throw Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=a(e.length),r=a(16),i=0;i<e.length;i+=16)o(e,r,0,i,i+16),o(r=this._aes.decrypt(r),t,i);return t};var _=function(e,t){if(!(this instanceof _))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw Error("invalid initialation vector size (must be 16 bytes)")}else t=a(16);this._lastCipherblock=n(t,!0),this._aes=new k(e)};_.prototype.encrypt=function(e){if((e=n(e)).length%16!=0)throw Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=a(e.length),r=a(16),i=0;i<e.length;i+=16){o(e,r,0,i,i+16);for(var s=0;s<16;s++)r[s]^=this._lastCipherblock[s];this._lastCipherblock=this._aes.encrypt(r),o(this._lastCipherblock,t,i)}return t},_.prototype.decrypt=function(e){if((e=n(e)).length%16!=0)throw Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=a(e.length),r=a(16),i=0;i<e.length;i+=16){o(e,r,0,i,i+16),r=this._aes.decrypt(r);for(var s=0;s<16;s++)t[i+s]=r[s]^this._lastCipherblock[s];o(e,this._lastCipherblock,0,i,i+16)}return t};var I=function(e,t,r){if(!(this instanceof I))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw Error("invalid initialation vector size (must be 16 size)")}else t=a(16);r||(r=1),this.segmentSize=r,this._shiftRegister=n(t,!0),this._aes=new k(e)};I.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw Error("invalid plaintext size (must be segmentSize bytes)");for(var t,r=n(e,!0),i=0;i<r.length;i+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var a=0;a<this.segmentSize;a++)r[i+a]^=t[a];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(r,this._shiftRegister,16-this.segmentSize,i,i+this.segmentSize)}return r},I.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,r=n(e,!0),i=0;i<r.length;i+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var a=0;a<this.segmentSize;a++)r[i+a]^=t[a];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(e,this._shiftRegister,16-this.segmentSize,i,i+this.segmentSize)}return r};var N=function(e,t){if(!(this instanceof N))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw Error("invalid initialation vector size (must be 16 bytes)")}else t=a(16);this._lastPrecipher=n(t,!0),this._lastPrecipherIndex=16,this._aes=new k(e)};N.prototype.encrypt=function(e){for(var t=n(e,!0),r=0;r<t.length;r++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[r]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},N.prototype.decrypt=N.prototype.encrypt;var R=function(e){if(!(this instanceof R))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"==typeof e?(this._counter=a(16),this.setValue(e)):this.setBytes(e)};R.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw Error("invalid counter value (must be an integer)");for(var t=15;t>=0;--t)this._counter[t]=e%256,e>>=8},R.prototype.setBytes=function(e){if(16!=(e=n(e,!0)).length)throw Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},R.prototype.increment=function(){for(var e=15;e>=0;e--)if(255===this._counter[e])this._counter[e]=0;else{this._counter[e]++;break}};var B=function(e,t){if(!(this instanceof B))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof R||(t=new R(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new k(e)};B.prototype.encrypt=function(e){for(var t=n(e,!0),r=0;r<t.length;r++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[r]^=this._remainingCounter[this._remainingCounterIndex++];return t},B.prototype.decrypt=B.prototype.encrypt,t.exports={AES:k,Counter:R,ModeOfOperation:{ecb:P,cbc:_,cfb:I,ofb:N,ctr:B},utils:{hex:u,utf8:{toBytes:function(e){var t=[],r=0;for(e=encodeURI(e);r<e.length;){var i=e.charCodeAt(r++);37===i?(t.push(parseInt(e.substr(r,2),16)),r+=2):t.push(i)}return n(t)},fromBytes:function(e){for(var t=[],r=0;r<e.length;){var i=e[r];i<128?(t.push(String.fromCharCode(i)),r++):i>191&&i<224?(t.push(String.fromCharCode((31&i)<<6|63&e[r+1])),r+=2):(t.push(String.fromCharCode((15&i)<<12|(63&e[r+1])<<6|63&e[r+2])),r+=3)}return t.join("")}}},padding:{pkcs7:{pad:function(e){var t=16-(e=n(e,!0)).length%16,r=a(e.length+t);o(e,r);for(var i=e.length;i<r.length;i++)r[i]=t;return r},strip:function(e){if((e=n(e,!0)).length<16)throw Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw Error("PKCS#7 padding byte out of range");for(var r=e.length-t,i=0;i<t;i++)if(e[r+i]!==t)throw Error("PKCS#7 invalid padding byte");var s=a(r);return o(e,s,0,0,r),s}}},_arrayTest:{coerceArray:n,createArray:a,copyArray:o}}}(e.e)},47913,(e,t,r)=>{"use strict";!function(e){function r(e){let t=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),r=0x6a09e667,i=0xbb67ae85,n=0x3c6ef372,a=0xa54ff53a,o=0x510e527f,s=0x9b05688c,u=0x1f83d9ab,l=0x5be0cd19,c=new Uint32Array(64);function d(e){let d=0,f=e.length;for(;f>=64;){let p=r,h=i,m=n,b=a,g=o,y=s,x=u,A=l,w,v,S,T,E;for(v=0;v<16;v++)S=d+4*v,c[v]=(255&e[S])<<24|(255&e[S+1])<<16|(255&e[S+2])<<8|255&e[S+3];for(v=16;v<64;v++)T=((w=c[v-2])>>>17|w<<15)^(w>>>19|w<<13)^w>>>10,E=((w=c[v-15])>>>7|w<<25)^(w>>>18|w<<14)^w>>>3,c[v]=(T+c[v-7]|0)+(E+c[v-16]|0)|0;for(v=0;v<64;v++)T=(((g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&y^~g&x)|0)+(A+(t[v]+c[v]|0)|0)|0,E=((p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10))+(p&h^p&m^h&m)|0,A=x,x=y,y=g,g=b+T|0,b=m,m=h,h=p,p=T+E|0;r=r+p|0,i=i+h|0,n=n+m|0,a=a+b|0,o=o+g|0,s=s+y|0,u=u+x|0,l=l+A|0,d+=64,f-=64}}d(e);let f,p=e.length%64,h=e.length/0x20000000|0,m=e.length<<3,b=p<56?56:120,g=e.slice(e.length-p,e.length);for(g.push(128),f=p+1;f<b;f++)g.push(0);return g.push(h>>>24&255),g.push(h>>>16&255),g.push(h>>>8&255),g.push(h>>>0&255),g.push(m>>>24&255),g.push(m>>>16&255),g.push(m>>>8&255),g.push(m>>>0&255),d(g),[r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,u>>>24&255,u>>>16&255,u>>>8&255,u>>>0&255,l>>>24&255,l>>>16&255,l>>>8&255,l>>>0&255]}function i(e,t,i){let n;e=e.length<=64?e:r(e);let a=64+t.length+4,o=Array(a),s=Array(64),u=[];for(n=0;n<64;n++)o[n]=54;for(n=0;n<e.length;n++)o[n]^=e[n];for(n=0;n<t.length;n++)o[64+n]=t[n];for(n=a-4;n<a;n++)o[n]=0;for(n=0;n<64;n++)s[n]=92;for(n=0;n<e.length;n++)s[n]^=e[n];function l(){for(let e=a-1;e>=a-4;e--){if(o[e]++,o[e]<=255)return;o[e]=0}}for(;i>=32;)l(),u=u.concat(r(s.concat(r(o)))),i-=32;return i>0&&(l(),u=u.concat(r(s.concat(r(o))).slice(0,i))),u}function n(e,t,r,i,n){let u;for(s(e,(2*r-1)*16,n,0,16),u=0;u<2*r;u++)o(e,16*u,n,16),function(e,t){s(e,0,t,0,16);for(let e=8;e>0;e-=2)t[4]^=a(t[0]+t[12],7),t[8]^=a(t[4]+t[0],9),t[12]^=a(t[8]+t[4],13),t[0]^=a(t[12]+t[8],18),t[9]^=a(t[5]+t[1],7),t[13]^=a(t[9]+t[5],9),t[1]^=a(t[13]+t[9],13),t[5]^=a(t[1]+t[13],18),t[14]^=a(t[10]+t[6],7),t[2]^=a(t[14]+t[10],9),t[6]^=a(t[2]+t[14],13),t[10]^=a(t[6]+t[2],18),t[3]^=a(t[15]+t[11],7),t[7]^=a(t[3]+t[15],9),t[11]^=a(t[7]+t[3],13),t[15]^=a(t[11]+t[7],18),t[1]^=a(t[0]+t[3],7),t[2]^=a(t[1]+t[0],9),t[3]^=a(t[2]+t[1],13),t[0]^=a(t[3]+t[2],18),t[6]^=a(t[5]+t[4],7),t[7]^=a(t[6]+t[5],9),t[4]^=a(t[7]+t[6],13),t[5]^=a(t[4]+t[7],18),t[11]^=a(t[10]+t[9],7),t[8]^=a(t[11]+t[10],9),t[9]^=a(t[8]+t[11],13),t[10]^=a(t[9]+t[8],18),t[12]^=a(t[15]+t[14],7),t[13]^=a(t[12]+t[15],9),t[14]^=a(t[13]+t[12],13),t[15]^=a(t[14]+t[13],18);for(let r=0;r<16;++r)e[r]+=t[r]}(n,i),s(n,0,e,t+16*u,16);for(u=0;u<r;u++)s(e,t+2*u*16,e,16*u,16);for(u=0;u<r;u++)s(e,t+(2*u+1)*16,e,(u+r)*16,16)}function a(e,t){return e<<t|e>>>32-t}function o(e,t,r,i){for(let n=0;n<i;n++)r[n]^=e[t+n]}function s(e,t,r,i,n){for(;n--;)r[i++]=e[t++]}function u(e){if(!e||"number"!=typeof e.length)return!1;for(let t=0;t<e.length;t++){let r=e[t];if("number"!=typeof r||r%1||r<0||r>=256)return!1}return!0}function l(e,t){if("number"!=typeof e||e%1)throw Error("invalid "+t);return e}function c(e,t,r,a,c,d,f){let p;if(r=l(r,"N"),a=l(a,"r"),c=l(c,"p"),d=l(d,"dkLen"),0===r||(r&r-1)!=0)throw Error("N must be power of 2");if(r>0x7fffffff/128/a)throw Error("N too large");if(a>0x7fffffff/128/c)throw Error("r too large");if(!u(e))throw Error("password must be an array or buffer");if(e=Array.prototype.slice.call(e),!u(t))throw Error("salt must be an array or buffer");t=Array.prototype.slice.call(t);let h=i(e,t,128*c*a),m=new Uint32Array(32*c*a);for(let e=0;e<m.length;e++){let t=4*e;m[e]=(255&h[t+3])<<24|(255&h[t+2])<<16|(255&h[t+1])<<8|255&h[t+0]}let b=new Uint32Array(64*a),g=new Uint32Array(32*a*r),y=32*a,x=new Uint32Array(16),A=new Uint32Array(16),w=c*r*2,v=0,S=null,T=!1,E=0,k=0,P,_=f?parseInt(1e3/a):0xffffffff,I="u">typeof setImmediate?setImmediate:setTimeout,N=function(){let t;if(T)return f(Error("cancelled"),v/w);switch(E){case 0:s(m,p=32*k*a,b,0,y),E=1,P=0;case 1:(t=r-P)>_&&(t=_);for(let e=0;e<t;e++)s(b,0,g,(P+e)*y,y),n(b,y,a,x,A);if(P+=t,v+=t,f){let e=parseInt(1e3*v/w);if(e!==S){if(T=f(null,v/w))break;S=e}}if(P<r)break;P=0,E=2;case 2:(t=r-P)>_&&(t=_);for(let e=0;e<t;e++)o(g,(b[(2*a-1)*16]&r-1)*y,b,y),n(b,y,a,x,A);if(P+=t,v+=t,f){let e=parseInt(1e3*v/w);if(e!==S){if(T=f(null,v/w))break;S=e}}if(P<r)break;if(s(b,0,m,p,y),++k<c){E=0;break}h=[];for(let e=0;e<m.length;e++)h.push(255&m[e]),h.push(m[e]>>8&255),h.push(m[e]>>16&255),h.push(m[e]>>24&255);let u=i(e,h,d);return f&&f(null,1,u),u}f&&I(N)};if(!f)for(;;){let e=N();if(void 0!=e)return e}N()}t.exports={scrypt:function(e,t,r,i,n,a,o){return new Promise(function(s,u){let l=0;o&&o(0),c(e,t,r,i,n,a,function(e,t,r){if(e)u(e);else if(r)o&&1!==l&&o(1),s(new Uint8Array(r));else if(o&&t!==l)return l=t,o(t)})})},syncScrypt:function(e,t,r,i,n,a){return new Uint8Array(c(e,t,r,i,n,a))}}}(e.e)},666843,e=>{"use strict";var t=e.i(403011),r=e.i(875353);let i=new r.Logger("random/5.8.0"),n="u">typeof self?self:"u">typeof window?window:e.g,a=n.crypto||n.msCrypto;function o(e){(e<=0||e>1024||e%1||e!=e)&&i.throwArgumentError("invalid length","length",e);let r=new Uint8Array(e);return a.getRandomValues(r),(0,t.arrayify)(r)}a&&a.getRandomValues||(i.warn("WARNING: Missing strong random number source"),a={getRandomValues:function(e){return i.throwError("no secure random source avaialble",r.Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}}),e.s(["randomBytes",()=>o],666843)},896350,828054,407351,592875,e=>{"use strict";var t=e.i(639232),r=e.i(47771),i=e.i(403011),n=e.i(447172),a=e.i(957508),o=e.i(840858),s=e.i(526579),u=e.i(875353);let l="json-wallets/5.8.0";function c(e){return"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),(0,i.arrayify)(e)}function d(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function f(e){return"string"==typeof e?(0,o.toUtf8Bytes)(e,o.UnicodeNormalizationForm.NFKC):(0,i.arrayify)(e)}function p(e,t){let r=e,i=t.toLowerCase().split("/");for(let e=0;e<i.length;e++){let t=null;for(let n in r)if(n.toLowerCase()===i[e]){t=r[n];break}if(null===t)return null;r=t}return r}let h=new u.Logger(l);class m extends s.Description{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function b(e,s){let u=JSON.parse(e);s=f(s);let l=(0,r.getAddress)(p(u,"ethaddr")),d=c(p(u,"encseed"));d&&d.length%16==0||h.throwArgumentError("invalid encseed","json",e);let b=(0,i.arrayify)((0,a.pbkdf2)(s,s,2e3,32,"sha256")).slice(0,16),g=d.slice(0,16),y=d.slice(16),x=new t.default.ModeOfOperation.cbc(b,g),A=t.default.padding.pkcs7.strip((0,i.arrayify)(x.decrypt(y))),w="";for(let e=0;e<A.length;e++)w+=String.fromCharCode(A[e]);let v=(0,o.toUtf8Bytes)(w);return new m({_isCrowdsaleAccount:!0,address:l,privateKey:(0,n.keccak256)(v)})}function g(e){let t=null;try{t=JSON.parse(e)}catch(e){return!1}return t.encseed&&t.ethaddr}function y(e){let t=null;try{t=JSON.parse(e)}catch(e){return!1}return!!t.version&&parseInt(t.version)===t.version&&3===parseInt(t.version)}function x(e){if(g(e))try{return(0,r.getAddress)(JSON.parse(e).ethaddr)}catch(e){return null}if(y(e))try{return(0,r.getAddress)(JSON.parse(e).address)}catch(e){}return null}e.s(["decrypt",()=>b],828054),e.s(["getJsonWalletAddress",()=>x,"isCrowdsaleWallet",()=>g,"isKeystoreWallet",()=>y],407351);var A=e.i(47913),w=e.i(891368),v=e.i(666843),S=s,T=e.i(840722);let E=new u.Logger(l);function k(e){return null!=e&&e.mnemonic&&e.mnemonic.phrase}class P extends S.Description{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function _(e,a){let o=c(p(e,"crypto/ciphertext"));if((0,i.hexlify)((0,n.keccak256)((0,i.concat)([a.slice(16,32),o]))).substring(2)!==p(e,"crypto/mac").toLowerCase())throw Error("invalid password");let s=function(e,r,n){if("aes-128-ctr"===p(e,"crypto/cipher")){let a=c(p(e,"crypto/cipherparams/iv")),o=new t.default.Counter(a),s=new t.default.ModeOfOperation.ctr(r,o);return(0,i.arrayify)(s.decrypt(n))}return null}(e,a.slice(0,16),o);s||E.throwError("unsupported cipher",u.Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});let l=a.slice(32,64),d=(0,T.computeAddress)(s);if(e.address){let t=e.address.toLowerCase();if("0x"!==t.substring(0,2)&&(t="0x"+t),(0,r.getAddress)(t)!==d)throw Error("address mismatch")}let f={_isKeystoreAccount:!0,address:d,privateKey:(0,i.hexlify)(s)};if("0.1"===p(e,"x-ethers/version")){let r=c(p(e,"x-ethers/mnemonicCiphertext")),n=c(p(e,"x-ethers/mnemonicCounter")),a=new t.default.Counter(n),o=new t.default.ModeOfOperation.ctr(l,a),s=p(e,"x-ethers/path")||w.defaultPath,d=p(e,"x-ethers/locale")||"en",h=(0,i.arrayify)(o.decrypt(r));try{let e=(0,w.entropyToMnemonic)(h,d),t=w.HDNode.fromMnemonic(e,null,d).derivePath(s);if(t.privateKey!=f.privateKey)throw Error("mnemonic mismatch");f.mnemonic=t.mnemonic}catch(e){if(e.code!==u.Logger.errors.INVALID_ARGUMENT||"wordlist"!==e.argument)throw e}}return new P(f)}function I(e,t,r,n,o){return(0,i.arrayify)((0,a.pbkdf2)(e,t,r,n,o))}function N(e,t,r,i,n){return Promise.resolve(I(e,t,r,i,n))}function R(e,t,r,i,n){let a=f(t),o=p(e,"crypto/kdf");if(o&&"string"==typeof o){let t=function(e,t){return E.throwArgumentError("invalid key-derivation function parameters",e,t)};if("scrypt"===o.toLowerCase()){let r=c(p(e,"crypto/kdfparams/salt")),s=parseInt(p(e,"crypto/kdfparams/n")),u=parseInt(p(e,"crypto/kdfparams/r")),l=parseInt(p(e,"crypto/kdfparams/p"));s&&u&&l||t("kdf",o),(s&s-1)!=0&&t("N",s);let d=parseInt(p(e,"crypto/kdfparams/dklen"));return 32!==d&&t("dklen",d),i(a,r,s,u,l,64,n)}if("pbkdf2"===o.toLowerCase()){let i=c(p(e,"crypto/kdfparams/salt")),n=null,o=p(e,"crypto/kdfparams/prf");"hmac-sha256"===o?n="sha256":"hmac-sha512"===o?n="sha512":t("prf",o);let s=parseInt(p(e,"crypto/kdfparams/c")),u=parseInt(p(e,"crypto/kdfparams/dklen"));return 32!==u&&t("dklen",u),r(a,i,s,u,n)}}return E.throwArgumentError("unsupported key-derivation function","kdf",o)}function B(e,t){let r=JSON.parse(e),i=R(r,t,I,A.default.syncScrypt);return _(r,i)}function C(e,t,r){var i,n,a,o;return i=this,n=void 0,a=void 0,o=function*(){let i=JSON.parse(e),n=yield R(i,t,N,A.default.scrypt,r);return _(i,n)},new(a||(a=Promise))(function(e,t){function r(e){try{u(o.next(e))}catch(e){t(e)}}function s(e){try{u(o.throw(e))}catch(e){t(e)}}function u(t){var i;t.done?e(t.value):((i=t.value)instanceof a?i:new a(function(e){e(i)})).then(r,s)}u((o=o.apply(i,n||[])).next())})}function O(e,a,o,s){try{if((0,r.getAddress)(e.address)!==(0,T.computeAddress)(e.privateKey))throw Error("address/privateKey mismatch");if(k(e)){let t=e.mnemonic;if(w.HDNode.fromMnemonic(t.phrase,null,t.locale).derivePath(t.path||w.defaultPath).privateKey!=e.privateKey)throw Error("mnemonic mismatch")}}catch(e){return Promise.reject(e)}"function"!=typeof o||s||(s=o,o={}),o||(o={});let u=(0,i.arrayify)(e.privateKey),l=f(a),c=null,p=null,h=null;if(k(e)){let t=e.mnemonic;c=(0,i.arrayify)((0,w.mnemonicToEntropy)(t.phrase,t.locale||"en")),p=t.path||w.defaultPath,h=t.locale||"en"}let m=o.client;m||(m="ethers.js");let b=null;b=o.salt?(0,i.arrayify)(o.salt):(0,v.randomBytes)(32);let g=null;if(o.iv){if(16!==(g=(0,i.arrayify)(o.iv)).length)throw Error("invalid iv")}else g=(0,v.randomBytes)(16);let y=null;if(o.uuid){if(16!==(y=(0,i.arrayify)(o.uuid)).length)throw Error("invalid uuid")}else y=(0,v.randomBytes)(16);let x=131072,S=8,E=1;return o.scrypt&&(o.scrypt.N&&(x=o.scrypt.N),o.scrypt.r&&(S=o.scrypt.r),o.scrypt.p&&(E=o.scrypt.p)),A.default.scrypt(l,b,x,S,E,64,s).then(r=>{var a;let o,s,l=(r=(0,i.arrayify)(r)).slice(0,16),f=r.slice(16,32),A=r.slice(32,64),w=new t.default.Counter(g),T=new t.default.ModeOfOperation.ctr(l,w),k=(0,i.arrayify)(T.encrypt(u)),P=(0,n.keccak256)((0,i.concat)([f,k])),_={address:e.address.substring(2).toLowerCase(),id:(a=y,(o=(0,i.arrayify)(a))[6]=15&o[6]|64,o[8]=63&o[8]|128,[(s=(0,i.hexlify)(o)).substring(2,10),s.substring(10,14),s.substring(14,18),s.substring(18,22),s.substring(22,34)].join("-")),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,i.hexlify)(g).substring(2)},ciphertext:(0,i.hexlify)(k).substring(2),kdf:"scrypt",kdfparams:{salt:(0,i.hexlify)(b).substring(2),n:x,dklen:32,p:E,r:S},mac:P.substring(2)}};if(c){let e=(0,v.randomBytes)(16),r=new t.default.Counter(e),n=new t.default.ModeOfOperation.ctr(A,r),a=(0,i.arrayify)(n.encrypt(c)),o=new Date,s=o.getUTCFullYear()+"-"+d(o.getUTCMonth()+1,2)+"-"+d(o.getUTCDate(),2)+"T"+d(o.getUTCHours(),2)+"-"+d(o.getUTCMinutes(),2)+"-"+d(o.getUTCSeconds(),2)+".0Z";_["x-ethers"]={client:m,gethFilename:"UTC--"+s+"--"+_.address,mnemonicCounter:(0,i.hexlify)(e).substring(2),mnemonicCiphertext:(0,i.hexlify)(a).substring(2),path:p,locale:h,version:"0.1"}}return JSON.stringify(_)})}function D(e,t,r){if(g(e)){r&&r(0);let i=b(e,t);return r&&r(1),Promise.resolve(i)}return y(e)?C(e,t,r):Promise.reject(Error("invalid JSON wallet"))}function M(e,t){if(g(e))return b(e,t);if(y(e))return B(e,t);throw Error("invalid JSON wallet")}e.s(["decrypt",()=>C,"decryptSync",()=>B,"encrypt",()=>O],592875),e.s(["decryptJsonWallet",()=>D,"decryptJsonWalletSync",()=>M],896350)},818650,e=>{"use strict";var t=e.i(896350),r=e.i(828054),i=e.i(407351),n=e.i(592875);e.s(["decryptCrowdsale",()=>r.decrypt,"decryptJsonWallet",()=>t.decryptJsonWallet,"decryptJsonWalletSync",()=>t.decryptJsonWalletSync,"decryptKeystore",()=>n.decrypt,"decryptKeystoreSync",()=>n.decryptSync,"encryptKeystore",()=>n.encrypt,"getJsonWalletAddress",()=>i.getJsonWalletAddress,"isCrowdsaleWallet",()=>i.isCrowdsaleWallet,"isKeystoreWallet",()=>i.isKeystoreWallet])},303609,e=>{"use strict";var t=e.i(942558),r=e.i(691846);e.s([],39252),e.i(39252),e.s(["SupportedAlgorithm",()=>r.SupportedAlgorithm,"computeHmac",()=>t.computeHmac,"ripemd160",()=>t.ripemd160,"sha256",()=>t.sha256,"sha512",()=>t.sha512],303609)},575111,e=>{"use strict";var t=e.i(839341),r=e.i(403011),i=e.i(447172),n=e.i(942558),a=e.i(840858),o=e.i(875353);let s=RegExp("^bytes([0-9]+)$"),u=RegExp("^(u?int)([0-9]*)$"),l=RegExp("^(.*)\\[([0-9]*)\\]$"),c=new o.Logger("solidity/5.8.0");function d(e,i){e.length!=i.length&&c.throwArgumentError("wrong number of values; expected ${ types.length }","values",i);let n=[];return e.forEach(function(e,o){n.push(function e(i,n,o){switch(i){case"address":if(o)return(0,r.zeroPad)(n,32);return(0,r.arrayify)(n);case"string":return(0,a.toUtf8Bytes)(n);case"bytes":return(0,r.arrayify)(n);case"bool":if(n=n?"0x01":"0x00",o)return(0,r.zeroPad)(n,32);return(0,r.arrayify)(n)}let d=i.match(u);if(d){let e=parseInt(d[2]||"256");return(d[2]&&String(e)!==d[2]||e%8!=0||0===e||e>256)&&c.throwArgumentError("invalid number type","type",i),o&&(e=256),n=t.BigNumber.from(n).toTwos(e),(0,r.zeroPad)(n,e/8)}if(d=i.match(s)){let e=parseInt(d[1]);return((String(e)!==d[1]||0===e||e>32)&&c.throwArgumentError("invalid bytes type","type",i),(0,r.arrayify)(n).byteLength!==e&&c.throwArgumentError(`invalid value for ${i}`,"value",n),o)?(0,r.arrayify)((n+"0000000000000000000000000000000000000000000000000000000000000000").substring(0,66)):n}if((d=i.match(l))&&Array.isArray(n)){let t=d[1];parseInt(d[2]||String(n.length))!=n.length&&c.throwArgumentError(`invalid array length for ${i}`,"value",n);let a=[];return n.forEach(function(r){a.push(e(t,r,!0))}),(0,r.concat)(a)}return c.throwArgumentError("invalid type","type",i)}(e,i[o]))}),(0,r.hexlify)((0,r.concat)(n))}function f(e,t){return(0,i.keccak256)(d(e,t))}function p(e,t){return(0,n.sha256)(d(e,t))}e.s(["keccak256",()=>f,"pack",()=>d,"sha256",()=>p],575111)},216368,e=>{"use strict";function t(e){e=e.slice();for(let t=e.length-1;t>0;t--){let r=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[r],e[r]=i}return e}e.s(["shuffled",()=>t])},131518,e=>{"use strict";e.s([],236645),e.i(236645);var t=e.i(666843),r=e.i(216368);e.s(["randomBytes",()=>t.randomBytes,"shuffled",()=>r.shuffled],131518)},299797,203358,812196,e=>{"use strict";let t="0x0000000000000000000000000000000000000000000000000000000000000000";e.s(["HashZero",0,t],203358);var r=e.i(403011),i=e.i(840858);function n(e){let n=(0,i.toUtf8Bytes)(e);if(n.length>31)throw Error("bytes32 string must be less than 32 bytes");return(0,r.hexlify)((0,r.concat)([n,t]).slice(0,32))}function a(e){let t=(0,r.arrayify)(e);if(32!==t.length)throw Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw Error("invalid bytes32 string - no null terminator");let n=31;for(;0===t[n-1];)n--;return(0,i.toUtf8String)(t.slice(0,n))}function o(e,t){t||(t=function(e){return[parseInt(e,16)]});let r=0,i={};return e.split(",").forEach(e=>{let n=e.split(":");i[r+=parseInt(n[0],16)]=t(n[1])}),i}function s(e){let t=0;return e.split(",").map(e=>{let r=e.split("-");return 1===r.length?r[1]="0":""===r[1]&&(r[1]="1"),{l:t+parseInt(r[0],16),h:t=parseInt(r[1],16)}})}function u(e,t){let r=0;for(let i=0;i<t.length;i++){let n=t[i];if(e>=(r+=n.l)&&e<=r+n.h&&(e-r)%(n.d||1)==0){if(n.e&&-1!==n.e.indexOf(e-r))continue;return n}}return null}e.s(["formatBytes32String",()=>n,"parseBytes32String",()=>a],299797);let l=s("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),c="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(e=>parseInt(e,16)),d=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],f=o("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),p=o("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),h=o("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",function(e){if(e.length%4!=0)throw Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}),m=s("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function b(e){if(e.match(/^[a-z0-9-]*$/i)&&e.length<=59)return e.toLowerCase();let t=(0,i.toUtf8CodePoints)(e);t=t.map(e=>{if(c.indexOf(e)>=0||e>=65024&&e<=65039)return[];let t=function(e){let t=u(e,d);if(t)return[e+t.s];let r=f[e];if(r)return r;let i=p[e];if(i)return[e+i[0]];let n=h[e];return n||null}(e);return t||[e]}).reduce((e,t)=>(t.forEach(t=>{e.push(t)}),e),[]),(t=(0,i.toUtf8CodePoints)((0,i._toUtf8String)(t),i.UnicodeNormalizationForm.NFKC)).forEach(e=>{if(u(e,m))throw Error("STRINGPREP_CONTAINS_PROHIBITED")}),t.forEach(e=>{if(u(e,l))throw Error("STRINGPREP_CONTAINS_UNASSIGNED")});let r=(0,i._toUtf8String)(t);if("-"===r.substring(0,1)||"--"===r.substring(2,4)||"-"===r.substring(r.length-1))throw Error("invalid hyphen");return r}e.s(["nameprep",()=>b],812196)},757357,e=>{"use strict";var t=e.i(299797),r=e.i(812196),i=e.i(840858);e.s([],842374),e.i(842374),e.s(["UnicodeNormalizationForm",()=>i.UnicodeNormalizationForm,"Utf8ErrorFuncs",()=>i.Utf8ErrorFuncs,"Utf8ErrorReason",()=>i.Utf8ErrorReason,"_toEscapedUtf8String",()=>i._toEscapedUtf8String,"formatBytes32String",()=>t.formatBytes32String,"nameprep",()=>r.nameprep,"parseBytes32String",()=>t.parseBytes32String,"toUtf8Bytes",()=>i.toUtf8Bytes,"toUtf8CodePoints",()=>i.toUtf8CodePoints,"toUtf8String",()=>i.toUtf8String],757357)},299697,382312,e=>{"use strict";var t=e.i(403011),r=e.i(875353),i=e.i(994284),n=e.i(839341);let a=new r.Logger(i.version),o={},s=n.BigNumber.from(0),u=n.BigNumber.from(-1);function l(e,t,i,n){let o={fault:t,operation:i};return void 0!==n&&(o.value=n),a.throwError(e,r.Logger.errors.NUMERIC_FAULT,o)}let c="0";for(;c.length<256;)c+=c;function d(e){if("number"!=typeof e)try{e=n.BigNumber.from(e).toNumber()}catch(e){}return"number"==typeof e&&e>=0&&e<=256&&!(e%1)?"1"+c.substring(0,e):a.throwArgumentError("invalid decimal size","decimals",e)}function f(e,t){null==t&&(t=0);let r=d(t),i=(e=n.BigNumber.from(e)).lt(s);i&&(e=e.mul(u));let a=e.mod(r).toString();for(;a.length<r.length-1;)a="0"+a;a=a.match(/^([0-9]*[1-9]|0)(0*)/)[1];let o=e.div(r).toString();return e=1===r.length?o:o+"."+a,i&&(e="-"+e),e}function p(e,t){null==t&&(t=0);let r=d(t);"string"==typeof e&&e.match(/^-?[0-9.]+$/)||a.throwArgumentError("invalid decimal value","value",e);let i="-"===e.substring(0,1);i&&(e=e.substring(1)),"."===e&&a.throwArgumentError("missing value","value",e);let o=e.split(".");o.length>2&&a.throwArgumentError("too many decimal points","value",e);let s=o[0],c=o[1];for(s||(s="0"),c||(c="0");"0"===c[c.length-1];)c=c.substring(0,c.length-1);for(c.length>r.length-1&&l("fractional component exceeds decimals","underflow","parseFixed"),""===c&&(c="0");c.length<r.length-1;)c+="0";let f=n.BigNumber.from(s),p=n.BigNumber.from(c),h=f.mul(r).add(p);return i&&(h=h.mul(u)),h}class h{constructor(e,t,i,n){e!==o&&a.throwError("cannot use FixedFormat constructor; use FixedFormat.from",r.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=i,this.decimals=n,this.name=(t?"":"u")+"fixed"+String(i)+"x"+String(n),this._multiplier=d(n),Object.freeze(this)}static from(e){if(e instanceof h)return e;"number"==typeof e&&(e=`fixed128x${e}`);let t=!0,r=128,i=18;if("string"==typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{let n=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);n||a.throwArgumentError("invalid fixed format","format",e),t="u"!==n[1],r=parseInt(n[2]),i=parseInt(n[3])}else if(e){let n=(t,r,i)=>null==e[t]?i:(typeof e[t]!==r&&a.throwArgumentError("invalid fixed format ("+t+" not "+r+")","format."+t,e[t]),e[t]);t=n("signed","boolean",t),r=n("width","number",r),i=n("decimals","number",i)}return r%8&&a.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),i>80&&a.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new h(o,t,r,i)}}class m{constructor(e,t,i,n){e!==o&&a.throwError("cannot use FixedNumber constructor; use FixedNumber.from",r.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=t,this._value=i,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&a.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);let t=p(this._value,this.format.decimals),r=p(e._value,e.format.decimals);return m.fromValue(t.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);let t=p(this._value,this.format.decimals),r=p(e._value,e.format.decimals);return m.fromValue(t.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);let t=p(this._value,this.format.decimals),r=p(e._value,e.format.decimals);return m.fromValue(t.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);let t=p(this._value,this.format.decimals),r=p(e._value,e.format.decimals);return m.fromValue(t.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){let e=this.toString().split(".");1===e.length&&e.push("0");let t=m.from(e[0],this.format),r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(t=t.subUnsafe(b.toFormat(t.format))),t}ceiling(){let e=this.toString().split(".");1===e.length&&e.push("0");let t=m.from(e[0],this.format),r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(t=t.addUnsafe(b.toFormat(t.format))),t}round(e){null==e&&(e=0);let t=this.toString().split(".");if(1===t.length&&t.push("0"),(e<0||e>80||e%1)&&a.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;let r=m.from("1"+c.substring(0,e),this.format),i=g.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(i).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(e){if(null==e)return this._hex;e%8&&a.throwArgumentError("invalid byte width","width",e);let r=n.BigNumber.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return(0,t.hexZeroPad)(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return m.fromString(this._value,e)}static fromValue(e,t,r){return null!=r||null==t||(0,n.isBigNumberish)(t)||(r=t,t=null),null==t&&(t=0),null==r&&(r="fixed"),m.fromString(f(e,t),h.from(r))}static fromString(e,r){null==r&&(r="fixed");let i=h.from(r),n=p(e,i.decimals);!i.signed&&n.lt(s)&&l("unsigned value cannot be negative","overflow","value",e);let a=null;return i.signed?a=n.toTwos(i.width).toHexString():(a=n.toHexString(),a=(0,t.hexZeroPad)(a,i.width/8)),new m(o,a,f(n,i.decimals),i)}static fromBytes(e,r){null==r&&(r="fixed");let i=h.from(r);if((0,t.arrayify)(e).length>i.width/8)throw Error("overflow");let a=n.BigNumber.from(e);return i.signed&&(a=a.fromTwos(i.width)),new m(o,a.toTwos(+!i.signed+i.width).toHexString(),f(a,i.decimals),i)}static from(e,i){if("string"==typeof e)return m.fromString(e,i);if((0,t.isBytes)(e))return m.fromBytes(e,i);try{return m.fromValue(e,0,i)}catch(e){if(e.code!==r.Logger.errors.INVALID_ARGUMENT)throw e}return a.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}let b=m.from(1),g=m.from("0.5");e.s(["FixedNumber",()=>m,"formatFixed",()=>f,"parseFixed",()=>p],382312);let y=new r.Logger("units/5.8.0"),x=["wei","kwei","mwei","gwei","szabo","finney","ether"];function A(e){let t=String(e).split(".");(t.length>2||!t[0].match(/^-?[0-9]*$/)||t[1]&&!t[1].match(/^[0-9]*$/)||"."===e||"-."===e)&&y.throwArgumentError("invalid value","value",e);let r=t[0],i="";for("-"===r.substring(0,1)&&(i="-",r=r.substring(1));"0"===r.substring(0,1);)r=r.substring(1);""===r&&(r="0");let n="";for(2===t.length&&(n="."+(t[1]||"0"));n.length>2&&"0"===n[n.length-1];)n=n.substring(0,n.length-1);let a=[];for(;r.length;)if(r.length<=3){a.unshift(r);break}else{let e=r.length-3;a.unshift(r.substring(e)),r=r.substring(0,e)}return i+a.join(",")+n}function w(e,t){if("string"==typeof t){let e=x.indexOf(t);-1!==e&&(t=3*e)}return f(e,null!=t?t:18)}function v(e,t){if("string"!=typeof e&&y.throwArgumentError("value must be a string","value",e),"string"==typeof t){let e=x.indexOf(t);-1!==e&&(t=3*e)}return p(e,null!=t?t:18)}function S(e){return w(e,18)}function T(e){return v(e,18)}e.s(["commify",()=>A,"formatEther",()=>S,"formatUnits",()=>w,"parseEther",()=>T,"parseUnits",()=>v],299697)},508663,341591,90413,123795,e=>{"use strict";var t=e.i(47771),r=e.i(839341),i=e.i(403011),n=e.i(526579),a=e.i(875353);let o=new a.Logger("abstract-provider/5.8.0");class s extends n.Description{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class u{constructor(){o.checkAbstract(new.target,u),(0,n.defineReadOnly)(this,"_isProvider",!0)}getFeeData(){var e,t,i,a;return e=this,t=void 0,i=void 0,a=function*(){let{block:e,gasPrice:t}=yield(0,n.resolveProperties)({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(e=>null)}),i=null,a=null,o=null;return e&&e.baseFeePerGas&&(i=e.baseFeePerGas,o=r.BigNumber.from("1500000000"),a=e.baseFeePerGas.mul(2).add(o)),{lastBaseFeePerGas:i,maxFeePerGas:a,maxPriorityFeePerGas:o,gasPrice:t}},new(i||(i=Promise))(function(r,n){function o(e){try{u(a.next(e))}catch(e){n(e)}}function s(e){try{u(a.throw(e))}catch(e){n(e)}}function u(e){var t;e.done?r(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(o,s)}u((a=a.apply(e,t||[])).next())})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}e.s(["ForkEvent",()=>s,"Provider",()=>u],341591);var l=function(e,t,r,i){return new(r||(r=Promise))(function(n,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}u((i=i.apply(e,t||[])).next())})};let c=new a.Logger("abstract-signer/5.8.0"),d=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],f=[a.Logger.errors.INSUFFICIENT_FUNDS,a.Logger.errors.NONCE_EXPIRED,a.Logger.errors.REPLACEMENT_UNDERPRICED];class p{constructor(){c.checkAbstract(new.target,p),(0,n.defineReadOnly)(this,"_isSigner",!0)}getBalance(e){return l(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return l(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return l(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let t=yield(0,n.resolveProperties)(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return l(this,void 0,void 0,function*(){this._checkProvider("call");let r=yield(0,n.resolveProperties)(this.checkTransaction(e));return yield this.provider.call(r,t)})}sendTransaction(e){return l(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let t=yield this.populateTransaction(e),r=yield this.signTransaction(t);return yield this.provider.sendTransaction(r)})}getChainId(){return l(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return l(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return l(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return l(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(let t in e)-1===d.indexOf(t)&&c.throwArgumentError("invalid transaction key: "+t,"transaction",e);let t=(0,n.shallowCopy)(e);return null==t.from?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&c.throwArgumentError("from address mismatch","transaction",e),t[0])),t}populateTransaction(e){return l(this,void 0,void 0,function*(){let t=yield(0,n.resolveProperties)(this.checkTransaction(e));null!=t.to&&(t.to=Promise.resolve(t.to).then(e=>l(this,void 0,void 0,function*(){if(null==e)return null;let t=yield this.resolveName(e);return null==t&&c.throwArgumentError("provided ENS name resolves to null","tx.to",e),t})),t.to.catch(e=>{}));let r=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas;if(null!=t.gasPrice&&(2===t.type||r)?c.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(0===t.type||1===t.type)&&r&&c.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(2===t.type||null==t.type)&&null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)t.type=2;else if(0===t.type||1===t.type)null==t.gasPrice&&(t.gasPrice=this.getGasPrice());else{let e=yield this.getFeeData();if(null==t.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(t.type=2,null!=t.gasPrice){let e=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=e,t.maxPriorityFeePerGas=e}else null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(r&&c.throwError("network does not support EIP-1559",a.Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=e.gasPrice),t.type=0):c.throwError("failed to get consistent fee data",a.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch(e=>{if(f.indexOf(e.code)>=0)throw e;return c.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",a.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})})),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(t=>(0!==t[1]&&t[0]!==t[1]&&c.throwArgumentError("chainId address mismatch","transaction",e),t[0])),yield(0,n.resolveProperties)(t)})}_checkProvider(e){this.provider||c.throwError("missing provider",a.Logger.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class h extends p{constructor(e,t){super(),(0,n.defineReadOnly)(this,"address",e),(0,n.defineReadOnly)(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{c.throwError(e,a.Logger.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new h(this.address,e)}}e.s(["Signer",()=>p,"VoidSigner",()=>h],90413);var m=e.i(142621),b=e.i(407224);e.s(["_TypedDataEncoder",()=>b.TypedDataEncoder],123795);var b=b,g=e.i(891368),y=e.i(447172),x=e.i(666843),A=e.i(346469),w=e.i(896350),v=e.i(592875),v=v,S=e.i(840722),T=function(e,t,r,i){return new(r||(r=Promise))(function(n,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}u((i=i.apply(e,t||[])).next())})};let E=new a.Logger("wallet/5.8.0");class k extends p{constructor(e,r){if(super(),function(e){return null!=e&&(0,i.isHexString)(e.privateKey,32)&&null!=e.address}(e)){const r=new A.SigningKey(e.privateKey);if((0,n.defineReadOnly)(this,"_signingKey",()=>r),(0,n.defineReadOnly)(this,"address",(0,S.computeAddress)(this.publicKey)),this.address!==(0,t.getAddress)(e.address)&&E.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),function(e){let t=e.mnemonic;return t&&t.phrase}(e)){const t=e.mnemonic;(0,n.defineReadOnly)(this,"_mnemonic",()=>({phrase:t.phrase,path:t.path||g.defaultPath,locale:t.locale||"en"}));const r=this.mnemonic,i=g.HDNode.fromMnemonic(r.phrase,null,r.locale).derivePath(r.path);(0,S.computeAddress)(i.privateKey)!==this.address&&E.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else(0,n.defineReadOnly)(this,"_mnemonic",()=>null)}else{if(A.SigningKey.isSigningKey(e))"secp256k1"!==e.curve&&E.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),(0,n.defineReadOnly)(this,"_signingKey",()=>e);else{"string"==typeof e&&e.match(/^[0-9a-f]*$/i)&&64===e.length&&(e="0x"+e);const t=new A.SigningKey(e);(0,n.defineReadOnly)(this,"_signingKey",()=>t)}(0,n.defineReadOnly)(this,"_mnemonic",()=>null),(0,n.defineReadOnly)(this,"address",(0,S.computeAddress)(this.publicKey))}r&&!u.isProvider(r)&&E.throwArgumentError("invalid provider","provider",r),(0,n.defineReadOnly)(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new k(this,e)}signTransaction(e){return(0,n.resolveProperties)(e).then(r=>{null!=r.from&&((0,t.getAddress)(r.from)!==this.address&&E.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);let i=this._signingKey().signDigest((0,y.keccak256)((0,S.serialize)(r)));return(0,S.serialize)(r,i)})}signMessage(e){return T(this,void 0,void 0,function*(){return(0,i.joinSignature)(this._signingKey().signDigest((0,m.hashMessage)(e)))})}_signTypedData(e,t,r){return T(this,void 0,void 0,function*(){let n=yield b.TypedDataEncoder.resolveNames(e,t,r,e=>(null==this.provider&&E.throwError("cannot resolve ENS names without a provider",a.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:e}),this.provider.resolveName(e)));return(0,i.joinSignature)(this._signingKey().signDigest(b.TypedDataEncoder.hash(n.domain,t,n.value)))})}encrypt(e,t,r){if("function"!=typeof t||r||(r=t,t={}),r&&"function"!=typeof r)throw Error("invalid callback");return t||(t={}),(0,v.encrypt)(this,e,t,r)}static createRandom(e){let t=(0,x.randomBytes)(16);e||(e={}),e.extraEntropy&&(t=(0,i.arrayify)((0,i.hexDataSlice)((0,y.keccak256)((0,i.concat)([t,e.extraEntropy])),0,16)));let r=(0,g.entropyToMnemonic)(t,e.locale);return k.fromMnemonic(r,e.path,e.locale)}static fromEncryptedJson(e,t,r){return(0,w.decryptJsonWallet)(e,t,r).then(e=>new k(e))}static fromEncryptedJsonSync(e,t){return new k((0,w.decryptJsonWalletSync)(e,t))}static fromMnemonic(e,t,r){return t||(t=g.defaultPath),new k(g.HDNode.fromMnemonic(e,null,r).derivePath(t))}}function P(e,t){return(0,S.recoverAddress)((0,m.hashMessage)(e),t)}function _(e,t,r,i){return(0,S.recoverAddress)(b.TypedDataEncoder.hash(e,t,r),i)}e.s(["Wallet",()=>k,"verifyMessage",()=>P,"verifyTypedData",()=>_],508663)},367933,e=>{"use strict";var t=e.i(545004),r=e.i(403011),i=e.i(526579),n=e.i(840858),a=e.i(875353);let o=new a.Logger("web/5.8.0");function s(e){return new Promise(t=>{setTimeout(t,e)})}function u(e,t){if(null==e)return null;if("string"==typeof e)return e;if((0,r.isBytesLike)(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return(0,n.toUtf8String)(e)}catch(e){}return(0,r.hexlify)(e)}return e}function l(e,l,c){let d,f="object"==typeof e&&null!=e.throttleLimit?e.throttleLimit:12;o.assertArgument(f>0&&f%1==0,"invalid connection throttle limit","connection.throttleLimit",f);let p="object"==typeof e?e.throttleCallback:null,h="object"==typeof e&&"number"==typeof e.throttleSlotInterval?e.throttleSlotInterval:100;o.assertArgument(h>0&&h%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",h);let m="object"==typeof e&&!!e.errorPassThrough,b={},g=null,y={method:"GET"},x=!1,A=12e4;if("string"==typeof e)g=e;else if("object"==typeof e){if((null==e||null==e.url)&&o.throwArgumentError("missing URL","connection.url",e),g=e.url,"number"==typeof e.timeout&&e.timeout>0&&(A=e.timeout),e.headers)for(let t in e.headers)b[t.toLowerCase()]={key:t,value:String(e.headers[t])},["if-none-match","if-modified-since"].indexOf(t.toLowerCase())>=0&&(x=!0);if(y.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password){"https:"!==g.substring(0,6)&&!0!==e.allowInsecureAuthentication&&o.throwError("basic authentication requires a secure https url",a.Logger.errors.INVALID_ARGUMENT,{argument:"url",url:g,user:e.user,password:"[REDACTED]"});let r=e.user+":"+e.password;b.authorization={key:"Authorization",value:"Basic "+(0,t.encode)((0,n.toUtf8Bytes)(r))}}null!=e.skipFetchSetup&&(y.skipFetchSetup=!!e.skipFetchSetup),null!=e.fetchOptions&&(y.fetchOptions=(0,i.shallowCopy)(e.fetchOptions))}let w=RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),v=g?g.match(w):null;if(v)try{var S;let e={statusCode:200,statusMessage:"OK",headers:{"content-type":v[1]||"text/plain"},body:v[2]?(0,t.decode)(v[3]):(S=v[3],(0,n.toUtf8Bytes)(S.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16)))))},r=e.body;return c&&(r=c(e.body,e)),Promise.resolve(r)}catch(e){o.throwError("processing response error",a.Logger.errors.SERVER_ERROR,{body:u(v[1],v[2]),error:e,requestBody:null,requestMethod:"GET",url:g})}l&&(y.method="POST",y.body=l,null==b["content-type"]&&(b["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==b["content-length"]&&(b["content-length"]={key:"Content-Length",value:String(l.length)}));let T={};Object.keys(b).forEach(e=>{let t=b[e];T[t.key]=t.value}),y.headers=T;let E=(d=null,{promise:new Promise(function(e,t){A&&(d=setTimeout(()=>{null!=d&&(d=null,t(o.makeError("timeout",a.Logger.errors.TIMEOUT,{requestBody:u(y.body,T["content-type"]),requestMethod:y.method,timeout:A,url:g})))},A))}),cancel:function(){null!=d&&(clearTimeout(d),d=null)}}),k=function(){var e,t,i,n;return e=this,t=void 0,i=void 0,n=function*(){for(let e=0;e<f;e++){let t=null;try{if(t=yield function(e,t){var i,n,a,o;return i=this,n=void 0,a=void 0,o=function*(){null==t&&(t={});let i={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0};if(!0!==t.skipFetchSetup&&(i.mode="cors",i.cache="no-cache",i.credentials="same-origin",i.redirect="follow",i.referrer="client"),null!=t.fetchOptions){let e=t.fetchOptions;e.mode&&(i.mode=e.mode),e.cache&&(i.cache=e.cache),e.credentials&&(i.credentials=e.credentials),e.redirect&&(i.redirect=e.redirect),e.referrer&&(i.referrer=e.referrer)}let n=yield fetch(e,i),a=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach((e,t)=>{o[t.toLowerCase()]=e}):n.headers.keys().forEach(e=>{o[e.toLowerCase()]=n.headers.get(e)}),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:(0,r.arrayify)(new Uint8Array(a))}},new(a||(a=Promise))(function(e,t){function r(e){try{u(o.next(e))}catch(e){t(e)}}function s(e){try{u(o.throw(e))}catch(e){t(e)}}function u(t){var i;t.done?e(t.value):((i=t.value)instanceof a?i:new a(function(e){e(i)})).then(r,s)}u((o=o.apply(i,n||[])).next())})}(g,y),e<f){if(301===t.statusCode||302===t.statusCode){let e=t.headers.location||"";if("GET"===y.method&&e.match(/^https:/)){g=t.headers.location;continue}}else if(429===t.statusCode){let r=!0;if(p&&(r=yield p(e,g)),r){let r=0,i=t.headers["retry-after"];r="string"==typeof i&&i.match(/^[1-9][0-9]*$/)?1e3*parseInt(i):h*parseInt(String(Math.random()*Math.pow(2,e))),yield s(r);continue}}}}catch(e){null==(t=e.response)&&(E.cancel(),o.throwError("missing response",a.Logger.errors.SERVER_ERROR,{requestBody:u(y.body,T["content-type"]),requestMethod:y.method,serverError:e,url:g}))}let i=t.body;if(x&&304===t.statusCode?i=null:!m&&(t.statusCode<200||t.statusCode>=300)&&(E.cancel(),o.throwError("bad response",a.Logger.errors.SERVER_ERROR,{status:t.statusCode,headers:t.headers,body:u(i,t.headers?t.headers["content-type"]:null),requestBody:u(y.body,T["content-type"]),requestMethod:y.method,url:g})),c)try{let e=yield c(i,t);return E.cancel(),e}catch(r){if(r.throttleRetry&&e<f){let t=!0;if(p&&(t=yield p(e,g)),t){let t=h*parseInt(String(Math.random()*Math.pow(2,e)));yield s(t);continue}}E.cancel(),o.throwError("processing response error",a.Logger.errors.SERVER_ERROR,{body:u(i,t.headers?t.headers["content-type"]:null),error:r,requestBody:u(y.body,T["content-type"]),requestMethod:y.method,url:g})}return E.cancel(),i}return o.throwError("failed response",a.Logger.errors.SERVER_ERROR,{requestBody:u(y.body,T["content-type"]),requestMethod:y.method,url:g})},new(i||(i=Promise))(function(r,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?r(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(o,s)}u((n=n.apply(e,t||[])).next())})}();return Promise.race([E.promise,k])}function c(e,t,r){let s=null;if(null!=t){s=(0,n.toUtf8Bytes)(t);let r="string"==typeof e?{url:e}:(0,i.shallowCopy)(e);r.headers?0===Object.keys(r.headers).filter(e=>"content-type"===e.toLowerCase()).length&&(r.headers=(0,i.shallowCopy)(r.headers),r.headers["content-type"]="application/json"):r.headers={"content-type":"application/json"},e=r}return l(e,s,(e,t)=>{let i=null;if(null!=e)try{i=JSON.parse((0,n.toUtf8String)(e))}catch(t){o.throwError("invalid JSON",a.Logger.errors.SERVER_ERROR,{body:e,error:t})}return r&&(i=r(i,t)),i})}function d(e,t){return t||(t={}),null==(t=(0,i.shallowCopy)(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise(function(r,i){let n=null,a=!1,o=()=>!a&&(a=!0,n&&clearTimeout(n),!0);t.timeout&&(n=setTimeout(()=>{o()&&i(Error("timeout"))},t.timeout));let s=t.retryLimit,u=0;!function n(){return e().then(function(e){if(void 0!==e)o()&&r(e);else if(t.oncePoll)t.oncePoll.once("poll",n);else if(t.onceBlock)t.onceBlock.once("block",n);else if(!a){if(++u>s){o()&&i(Error("retry limit reached"));return}let e=t.interval*parseInt(String(Math.random()*Math.pow(2,u)));e<t.floor&&(e=t.floor),e>t.ceiling&&(e=t.ceiling),setTimeout(n,e)}return null},function(e){o()&&i(e)})}()})}e.s(["_fetchData",()=>l,"fetchJson",()=>c,"poll",()=>d],367933)},847994,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.formatBytes32String=r.Utf8ErrorFuncs=r.toUtf8String=r.toUtf8CodePoints=r.toUtf8Bytes=r._toEscapedUtf8String=r.nameprep=r.hexDataSlice=r.hexDataLength=r.hexZeroPad=r.hexValue=r.hexStripZeros=r.hexConcat=r.isHexString=r.hexlify=r.base64=r.base58=r.TransactionDescription=r.LogDescription=r.Interface=r.SigningKey=r.HDNode=r.defaultPath=r.isBytesLike=r.isBytes=r.zeroPad=r.stripZeros=r.concat=r.arrayify=r.shallowCopy=r.resolveProperties=r.getStatic=r.defineReadOnly=r.deepCopy=r.checkProperties=r.poll=r.fetchJson=r._fetchData=r.RLP=r.Logger=r.checkResultErrors=r.FormatTypes=r.ParamType=r.FunctionFragment=r.EventFragment=r.ErrorFragment=r.ConstructorFragment=r.Fragment=r.defaultAbiCoder=r.AbiCoder=void 0,r.Indexed=r.Utf8ErrorReason=r.UnicodeNormalizationForm=r.SupportedAlgorithm=r.mnemonicToSeed=r.isValidMnemonic=r.entropyToMnemonic=r.mnemonicToEntropy=r.getAccountPath=r.verifyTypedData=r.verifyMessage=r.recoverPublicKey=r.computePublicKey=r.recoverAddress=r.computeAddress=r.getJsonWalletAddress=r.TransactionTypes=r.serializeTransaction=r.parseTransaction=r.accessListify=r.joinSignature=r.splitSignature=r.soliditySha256=r.solidityKeccak256=r.solidityPack=r.shuffled=r.randomBytes=r.sha512=r.sha256=r.ripemd160=r.keccak256=r.computeHmac=r.commify=r.parseUnits=r.formatUnits=r.parseEther=r.formatEther=r.isAddress=r.getCreate2Address=r.getContractAddress=r.getIcapAddress=r.getAddress=r._TypedDataEncoder=r.id=r.isValidName=r.namehash=r.hashMessage=r.dnsEncode=r.parseBytes32String=void 0;var o=e.r(811874);Object.defineProperty(r,"AbiCoder",{enumerable:!0,get:function(){return o.AbiCoder}}),Object.defineProperty(r,"checkResultErrors",{enumerable:!0,get:function(){return o.checkResultErrors}}),Object.defineProperty(r,"ConstructorFragment",{enumerable:!0,get:function(){return o.ConstructorFragment}}),Object.defineProperty(r,"defaultAbiCoder",{enumerable:!0,get:function(){return o.defaultAbiCoder}}),Object.defineProperty(r,"ErrorFragment",{enumerable:!0,get:function(){return o.ErrorFragment}}),Object.defineProperty(r,"EventFragment",{enumerable:!0,get:function(){return o.EventFragment}}),Object.defineProperty(r,"FormatTypes",{enumerable:!0,get:function(){return o.FormatTypes}}),Object.defineProperty(r,"Fragment",{enumerable:!0,get:function(){return o.Fragment}}),Object.defineProperty(r,"FunctionFragment",{enumerable:!0,get:function(){return o.FunctionFragment}}),Object.defineProperty(r,"Indexed",{enumerable:!0,get:function(){return o.Indexed}}),Object.defineProperty(r,"Interface",{enumerable:!0,get:function(){return o.Interface}}),Object.defineProperty(r,"LogDescription",{enumerable:!0,get:function(){return o.LogDescription}}),Object.defineProperty(r,"ParamType",{enumerable:!0,get:function(){return o.ParamType}}),Object.defineProperty(r,"TransactionDescription",{enumerable:!0,get:function(){return o.TransactionDescription}});var s=e.r(47771);Object.defineProperty(r,"getAddress",{enumerable:!0,get:function(){return s.getAddress}}),Object.defineProperty(r,"getCreate2Address",{enumerable:!0,get:function(){return s.getCreate2Address}}),Object.defineProperty(r,"getContractAddress",{enumerable:!0,get:function(){return s.getContractAddress}}),Object.defineProperty(r,"getIcapAddress",{enumerable:!0,get:function(){return s.getIcapAddress}}),Object.defineProperty(r,"isAddress",{enumerable:!0,get:function(){return s.isAddress}}),r.base64=a(e.r(630759));var u=e.r(206641);Object.defineProperty(r,"base58",{enumerable:!0,get:function(){return u.Base58}});var l=e.r(403011);Object.defineProperty(r,"arrayify",{enumerable:!0,get:function(){return l.arrayify}}),Object.defineProperty(r,"concat",{enumerable:!0,get:function(){return l.concat}}),Object.defineProperty(r,"hexConcat",{enumerable:!0,get:function(){return l.hexConcat}}),Object.defineProperty(r,"hexDataSlice",{enumerable:!0,get:function(){return l.hexDataSlice}}),Object.defineProperty(r,"hexDataLength",{enumerable:!0,get:function(){return l.hexDataLength}}),Object.defineProperty(r,"hexlify",{enumerable:!0,get:function(){return l.hexlify}}),Object.defineProperty(r,"hexStripZeros",{enumerable:!0,get:function(){return l.hexStripZeros}}),Object.defineProperty(r,"hexValue",{enumerable:!0,get:function(){return l.hexValue}}),Object.defineProperty(r,"hexZeroPad",{enumerable:!0,get:function(){return l.hexZeroPad}}),Object.defineProperty(r,"isBytes",{enumerable:!0,get:function(){return l.isBytes}}),Object.defineProperty(r,"isBytesLike",{enumerable:!0,get:function(){return l.isBytesLike}}),Object.defineProperty(r,"isHexString",{enumerable:!0,get:function(){return l.isHexString}}),Object.defineProperty(r,"joinSignature",{enumerable:!0,get:function(){return l.joinSignature}}),Object.defineProperty(r,"zeroPad",{enumerable:!0,get:function(){return l.zeroPad}}),Object.defineProperty(r,"splitSignature",{enumerable:!0,get:function(){return l.splitSignature}}),Object.defineProperty(r,"stripZeros",{enumerable:!0,get:function(){return l.stripZeros}});var c=e.r(776030);Object.defineProperty(r,"_TypedDataEncoder",{enumerable:!0,get:function(){return c._TypedDataEncoder}}),Object.defineProperty(r,"dnsEncode",{enumerable:!0,get:function(){return c.dnsEncode}}),Object.defineProperty(r,"hashMessage",{enumerable:!0,get:function(){return c.hashMessage}}),Object.defineProperty(r,"id",{enumerable:!0,get:function(){return c.id}}),Object.defineProperty(r,"isValidName",{enumerable:!0,get:function(){return c.isValidName}}),Object.defineProperty(r,"namehash",{enumerable:!0,get:function(){return c.namehash}});var d=e.r(891368);Object.defineProperty(r,"defaultPath",{enumerable:!0,get:function(){return d.defaultPath}}),Object.defineProperty(r,"entropyToMnemonic",{enumerable:!0,get:function(){return d.entropyToMnemonic}}),Object.defineProperty(r,"getAccountPath",{enumerable:!0,get:function(){return d.getAccountPath}}),Object.defineProperty(r,"HDNode",{enumerable:!0,get:function(){return d.HDNode}}),Object.defineProperty(r,"isValidMnemonic",{enumerable:!0,get:function(){return d.isValidMnemonic}}),Object.defineProperty(r,"mnemonicToEntropy",{enumerable:!0,get:function(){return d.mnemonicToEntropy}}),Object.defineProperty(r,"mnemonicToSeed",{enumerable:!0,get:function(){return d.mnemonicToSeed}});var f=e.r(818650);Object.defineProperty(r,"getJsonWalletAddress",{enumerable:!0,get:function(){return f.getJsonWalletAddress}});var p=e.r(447172);Object.defineProperty(r,"keccak256",{enumerable:!0,get:function(){return p.keccak256}});var h=e.r(875353);Object.defineProperty(r,"Logger",{enumerable:!0,get:function(){return h.Logger}});var m=e.r(303609);Object.defineProperty(r,"computeHmac",{enumerable:!0,get:function(){return m.computeHmac}}),Object.defineProperty(r,"ripemd160",{enumerable:!0,get:function(){return m.ripemd160}}),Object.defineProperty(r,"sha256",{enumerable:!0,get:function(){return m.sha256}}),Object.defineProperty(r,"sha512",{enumerable:!0,get:function(){return m.sha512}});var b=e.r(575111);Object.defineProperty(r,"solidityKeccak256",{enumerable:!0,get:function(){return b.keccak256}}),Object.defineProperty(r,"solidityPack",{enumerable:!0,get:function(){return b.pack}}),Object.defineProperty(r,"soliditySha256",{enumerable:!0,get:function(){return b.sha256}});var g=e.r(131518);Object.defineProperty(r,"randomBytes",{enumerable:!0,get:function(){return g.randomBytes}}),Object.defineProperty(r,"shuffled",{enumerable:!0,get:function(){return g.shuffled}});var y=e.r(526579);Object.defineProperty(r,"checkProperties",{enumerable:!0,get:function(){return y.checkProperties}}),Object.defineProperty(r,"deepCopy",{enumerable:!0,get:function(){return y.deepCopy}}),Object.defineProperty(r,"defineReadOnly",{enumerable:!0,get:function(){return y.defineReadOnly}}),Object.defineProperty(r,"getStatic",{enumerable:!0,get:function(){return y.getStatic}}),Object.defineProperty(r,"resolveProperties",{enumerable:!0,get:function(){return y.resolveProperties}}),Object.defineProperty(r,"shallowCopy",{enumerable:!0,get:function(){return y.shallowCopy}}),r.RLP=a(e.r(222223));var x=e.r(346469);Object.defineProperty(r,"computePublicKey",{enumerable:!0,get:function(){return x.computePublicKey}}),Object.defineProperty(r,"recoverPublicKey",{enumerable:!0,get:function(){return x.recoverPublicKey}}),Object.defineProperty(r,"SigningKey",{enumerable:!0,get:function(){return x.SigningKey}});var A=e.r(757357);Object.defineProperty(r,"formatBytes32String",{enumerable:!0,get:function(){return A.formatBytes32String}}),Object.defineProperty(r,"nameprep",{enumerable:!0,get:function(){return A.nameprep}}),Object.defineProperty(r,"parseBytes32String",{enumerable:!0,get:function(){return A.parseBytes32String}}),Object.defineProperty(r,"_toEscapedUtf8String",{enumerable:!0,get:function(){return A._toEscapedUtf8String}}),Object.defineProperty(r,"toUtf8Bytes",{enumerable:!0,get:function(){return A.toUtf8Bytes}}),Object.defineProperty(r,"toUtf8CodePoints",{enumerable:!0,get:function(){return A.toUtf8CodePoints}}),Object.defineProperty(r,"toUtf8String",{enumerable:!0,get:function(){return A.toUtf8String}}),Object.defineProperty(r,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return A.Utf8ErrorFuncs}});var w=e.r(840722);Object.defineProperty(r,"accessListify",{enumerable:!0,get:function(){return w.accessListify}}),Object.defineProperty(r,"computeAddress",{enumerable:!0,get:function(){return w.computeAddress}}),Object.defineProperty(r,"parseTransaction",{enumerable:!0,get:function(){return w.parse}}),Object.defineProperty(r,"recoverAddress",{enumerable:!0,get:function(){return w.recoverAddress}}),Object.defineProperty(r,"serializeTransaction",{enumerable:!0,get:function(){return w.serialize}}),Object.defineProperty(r,"TransactionTypes",{enumerable:!0,get:function(){return w.TransactionTypes}});var v=e.r(299697);Object.defineProperty(r,"commify",{enumerable:!0,get:function(){return v.commify}}),Object.defineProperty(r,"formatEther",{enumerable:!0,get:function(){return v.formatEther}}),Object.defineProperty(r,"parseEther",{enumerable:!0,get:function(){return v.parseEther}}),Object.defineProperty(r,"formatUnits",{enumerable:!0,get:function(){return v.formatUnits}}),Object.defineProperty(r,"parseUnits",{enumerable:!0,get:function(){return v.parseUnits}});var S=e.r(508663);Object.defineProperty(r,"verifyMessage",{enumerable:!0,get:function(){return S.verifyMessage}}),Object.defineProperty(r,"verifyTypedData",{enumerable:!0,get:function(){return S.verifyTypedData}});var T=e.r(367933);Object.defineProperty(r,"_fetchData",{enumerable:!0,get:function(){return T._fetchData}}),Object.defineProperty(r,"fetchJson",{enumerable:!0,get:function(){return T.fetchJson}}),Object.defineProperty(r,"poll",{enumerable:!0,get:function(){return T.poll}});var E=e.r(303609);Object.defineProperty(r,"SupportedAlgorithm",{enumerable:!0,get:function(){return E.SupportedAlgorithm}});var k=e.r(757357);Object.defineProperty(r,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return k.UnicodeNormalizationForm}}),Object.defineProperty(r,"Utf8ErrorReason",{enumerable:!0,get:function(){return k.Utf8ErrorReason}})},852388,223560,868904,e=>{"use strict";e.s(["createBurnDustTx",()=>A],852388);var t,r,i,n,a,o,s,u,l,c=e.i(467034),d=e.i(444610);e.i(559136);var f=e.i(150237),p=e.i(127261),h=e.i(422876),m=e.i(717725),b=e.i(858010);let g=(0,d.struct)([(0,d.u8)("instruction"),(0,f.u64)("amount")]);var y=e.i(761405),x=e.i(85026);async function A(e,t,r,i){let n=e.tokenAccounts.find(e=>e.tokenAddress===r);if(!n)throw Error("Token account not found");let a=[],o=Number(n.balanceRaw);(0,x.addPriorityFeeInstructions)({instructions:a,computeUnits:8500,microLamports:1e6});let s=function(e,t,r,i,n=[],a=h.TOKEN_PROGRAM_ID){let o=(0,m.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],r,n),s=c.Buffer.alloc(g.span);return g.encode({instruction:b.TokenInstruction.Burn,amount:BigInt(i)},s),new p.TransactionInstruction({keys:o,programId:a,data:s})}(new p.PublicKey(n.tokenAccountAddress),new p.PublicKey(r),new p.PublicKey(e.publicKey),o,void 0,new p.PublicKey(n.tokenProgram)),u=(0,y.createCloseAccountInstruction)(new p.PublicKey(n.tokenAccountAddress),new p.PublicKey(e.publicKey),new p.PublicKey(e.publicKey),void 0,new p.PublicKey(n.tokenProgram)),l=p.SystemProgram.transfer({fromPubkey:new p.PublicKey(e.publicKey),toPubkey:new p.PublicKey("AxiomDotTrade1111111111111111111111EventLog"),lamports:0});a.push(s,u,l);let{base64Tx:d}=await (0,x.compileTransaction)({signer:t,instructions:a,blockhash:i});return d}e.s(["fillPairInfo",()=>tv,"generateSolMemeSwapTx",()=>tT,"validateSolMemeParams",()=>tS],868904);var w=e.i(946865),v=e.i(994447),S=e.i(50454),T=e.i(592e3),E=e.i(447800),k=e.i(542251),P=e.i(181937),_=e.i(973444);e.i(465903);var I=e.i(767924),N=e.i(284456),R=e.i(408136),B=e.i(290705),C=e.i(726801),O=e.i(682382),D=e.i(719387),M=e.i(517207);let U="cpamdpZCGKUy5JxQXB4dcpGPiikHawvSWAd6mEn1sGG";async function F({type:e,amount:t,tokenAddress:r,userTokenAccountAddress:i,protocolDetails:n,blockhash:a,wallet:o,pairAddress:s,swapSettings:u,nonceInstruction:l,providers:c,supplementalData:d,rewardsData:f,usdPerSol:p,tokenDecimals:h,liquidityToken:m}){let b=[],g=await (0,x.addTokenAccountInstructions)({userWalletAddress:o.publicKey,tokenAddress:r,tokenProgramAddress:n.tokenProgramA,instructions:b,userTokenAccountAddress:i,wsolAmount:"buy"===e?t:(0,_.newSafeBN)(0),usdc:n.isUsdc,usd1:n.isUsd1}),y=(0,_.newSafeBN)(0);"buy"===e&&(y=(0,x.calculateAxiomFee)(t),t=t.sub(y));let{swapInstruction:A,expectedAmountOut:w}=await L({type:e,amount:t,slippage:u.slippage,userAccountAddress:o.publicKey,userTokenAccountAddress:g.userTokenAccountAddress,userSolAccountAddress:g.userWsolAccountAddress,protocolDetails:n,pairAddress:s,supplementalData:d,usdPerSol:p,userUsdcAccountAddress:g.userUsdcAccountAddress,userUsd1AccountAddress:g.userUsd1AccountAddress,tokenDecimals:h,liquidityToken:m,rewardsData:f});return b.push(A),n.isUsdc&&(0,x.isVanishSigner)(o)&&(0,x.addTokenAccountCloseInstruction)(o.publicKey,g.userUsdcAccountAddress,b),n.isUsd1&&(0,x.isVanishSigner)(o)&&(0,x.addTokenAccountCloseInstruction)(o.publicKey,g.userUsd1AccountAddress,b),await (0,x.handleMassSwapTxCreation)({instructions:b,wallet:o,swapSettings:u,blockhash:a,nonceInstruction:l,providers:c,computeUnits:(0,x.calculateComputeUnits)({baseComputeUnits:n.isUsdc||n.isUsd1?2e5:15e4,isUsdc:n.isUsdc,isUsd1:n.isUsd1,isVanish:(0,x.isVanishSigner)(o)}),lookupTables:x.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:f.userRewardsPercentage,swapInfo:{amount:t,expectedAmountOut:w,tokenDecimals:h,sourceTokenAddress:"buy"===e?O.NATIVE_SOL_TOKEN_ADDRESS:r,targetTokenAddress:"buy"===e?r:O.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,x.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:n.isUsdc??!1,isUsd1:n.isUsd1??!1,amount:t,expectedAmountOut:w,tokenDecimals:h})}})}async function L({type:e,amount:t,slippage:r,userAccountAddress:i,userSolAccountAddress:n,userTokenAccountAddress:a,protocolDetails:o,pairAddress:s,supplementalData:u,usdPerSol:l,userUsdcAccountAddress:c,userUsd1AccountAddress:d,tokenDecimals:f,liquidityToken:p,rewardsData:h}){if(o.isUsd1){if(o.tokenProgramA!==I.TOKEN_PROGRAM_ADDRESS||o.tokenProgramB!==I.TOKEN_PROGRAM_ADDRESS)throw Error("Trading Token 2022 pairs with USD1 is not supported yet.");let c=await (0,M.getFeeModes)(s,u),m=2===c.baseFeeMode,b=0===c.collectFeeMode&&"sell"===e||1===c.collectFeeMode&&o.tokenMintB===I.USD1_TOKEN_ADDRESS,g=q({type:e,pairAddress:s,userAccountAddress:i,userQuoteAccountAddress:d,userTokenAccountAddress:a,protocolDetails:o,useFee:b,isUsd1:!0,needSysVarAccount:m});return await (0,D.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usd1",userAccountAddress:i,userWsolAccountAddress:n,userUsdAccountAddress:d,userTokenAccountAddress:a,usdPerSol:l,amountIn:t,tokenDecimals:f,priceInUsdc:p,slippage:r,rewardsData:h,steps:[{programAddress:U,accounts:g}]})}if(o.isUsdc){if(o.tokenProgramA!==I.TOKEN_PROGRAM_ADDRESS||o.tokenProgramB!==I.TOKEN_PROGRAM_ADDRESS)throw Error("Trading Token 2022 pairs with USDC is not supported yet.");let d=await (0,M.getFeeModes)(s,u),m=2===d.baseFeeMode,b=0===d.collectFeeMode&&"sell"===e||1===d.collectFeeMode&&o.tokenMintB===I.USDC_TOKEN_ADDRESS,g=q({type:e,pairAddress:s,userAccountAddress:i,userQuoteAccountAddress:c,userTokenAccountAddress:a,protocolDetails:o,useFee:b,isUsd1:!1,needSysVarAccount:m});return await (0,D.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usdc",userAccountAddress:i,userWsolAccountAddress:n,userUsdAccountAddress:c,userTokenAccountAddress:a,usdPerSol:l,amountIn:t,tokenDecimals:f,priceInUsdc:p,slippage:r,rewardsData:h,steps:[{programAddress:U,accounts:g}]})}let{minAmountOut:m,expectedAmountOut:b,collectFeeMode:g,baseFeeMode:y}=await K(e,t,r,s,u),x=0===g&&"sell"===e||1===g&&o.tokenMintB===I.WSOL_TOKEN_ADDRESS,A=q({type:e,pairAddress:s,userAccountAddress:i,userQuoteAccountAddress:n,userTokenAccountAddress:a,protocolDetails:o,useFee:x,isUsd1:!1,needSysVarAccount:2===y});return{swapInstruction:(0,D.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:m,userWalletAddress:i,inputTokenAccount:"buy"===e?n:a,solWrapperToken:{type:"wsol",userWrappedTokenAccount:n},steps:[{programAddress:U,accounts:A}],rewardsData:h}),expectedAmountOut:b}}function q(e){let t=U;e.useFee&&(t=e.isUsd1?U:e.protocolDetails.isUsdc?(0,I.getAxiomUsdcFeeAddress)():(0,I.getAxiomWSolFeeAddress)());let r=[{pubkey:new p.PublicKey("HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC"),isSigner:!1,isWritable:!1},{pubkey:new p.PublicKey(e.pairAddress),isSigner:!1,isWritable:!0},{pubkey:new p.PublicKey("buy"===e.type?e.userQuoteAccountAddress:e.userTokenAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new p.PublicKey("buy"===e.type?e.userTokenAccountAddress:e.userQuoteAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new p.PublicKey(e.protocolDetails.tokenVaultA),isSigner:!1,isWritable:!0},{pubkey:new p.PublicKey(e.protocolDetails.tokenVaultB),isSigner:!1,isWritable:!0},{pubkey:new p.PublicKey(e.protocolDetails.tokenMintA),isSigner:!1,isWritable:!1},{pubkey:new p.PublicKey(e.protocolDetails.tokenMintB),isSigner:!1,isWritable:!1},{pubkey:new p.PublicKey(e.userAccountAddress),isSigner:!0,isWritable:!0},{pubkey:new p.PublicKey(e.protocolDetails.tokenProgramA),isSigner:!1,isWritable:!1},{pubkey:new p.PublicKey(e.protocolDetails.tokenProgramB),isSigner:!1,isWritable:!1},{pubkey:new p.PublicKey(t),isSigner:!1,isWritable:e.useFee&&!e.isUsd1},{pubkey:new p.PublicKey("3rmHSu74h1ZcmAisVcWerTCiRDQbUrBKmcwptYGjHfet"),isSigner:!1,isWritable:!1},{pubkey:new p.PublicKey(U),isSigner:!1,isWritable:!1}];return e.needSysVarAccount&&r.push({pubkey:new p.PublicKey(I.SYSVAR_INSTRUCTIONS_ADDRESS),isSigner:!1,isWritable:!1}),r}let K=async(e,t,r,i,n)=>{let a,o,s=await (0,M.calculateSwap)({pairAddress:i,amount:t,type:e,supplementalData:n});if((o=(0,_.newSafeBN)(s.minimumAmountOut)).lte((0,_.newSafeBN)(0)))throw Error(`Would have received 0 ${"buy"===e?"tokens":"SOL"}`);if("buy"===e)a=o.mul((0,_.newSafeBN)(1e4)).div((0,_.newSafeBN)(1e4+100*r));else if("sell"===e)a=o.mul((0,_.newSafeBN)(1e4-100*r)).div((0,_.newSafeBN)(1e4));else throw Error("Invalid type");return{minAmountOut:a,expectedAmountOut:o,collectFeeMode:s.collectFeeMode,baseFeeMode:s.baseFeeMode}};var W=e.i(659341),V=e.i(458768);let G="LBUZKhRxPF3XUpBCjp4YzTKgLccjZhTSDM9YuVaPwxo";async function z({amount:e,priorityFeeSol:t,wallet:r,preset:i,providers:n,blockhash:a,swapParams:o,nonceInstruction:s,protocolDetails:u,liquidityToken:l,usdPerSol:d,userTokenAccountAddress:f,tokenDecimals:h,rewardsData:m}){let b,g,y,A=[],w="buy"===o.type?e.mul(new W.default(99)).div(new W.default(100)):e;b="buy"===o.type&&u.isUsdc?e.mul((0,_.newSafeBN)(1e3*d)).div((0,_.newSafeBN)(1e6)):e;let v=await S.axiomApiV2.post("/generate-meteora-swap-tx-v2",{params:{type:o.type,amountRaw:b.toString(),pairAddress:o.pairAddress,tokenAddress:o.tokenAddress,priorityFee:t},slippage:i.slippage,walletAddress:r.publicKey,blockhash:a}),T=c.Buffer.from(v.serializedTx,"base64"),E=p.MessageV0.deserialize(T),k=p.TransactionMessage.decompile(E).instructions.find(e=>e.programId.toBase58()===G);if(!k)throw Error("Swap instruction not found");"buy"===o.type&&(k.keys[9]={pubkey:new p.PublicKey(u.isUsdc?(0,I.getAxiomUsdcFeeAddress)():(0,I.getAxiomWSolFeeAddress)()),isSigner:!1,isWritable:!0}),v.isPartial&&V.default.warn("This trade will only partially fill, executing...");let P=await (0,x.addTokenAccountInstructions)({userWalletAddress:r.publicKey,tokenAddress:o.tokenAddress,tokenProgramAddress:v.tokenProgram,instructions:A,userTokenAccountAddress:f,wsolAmount:"buy"===o.type?w:(0,_.newSafeBN)(0),usdc:u.isUsdc});"buy"===o.type?(k.keys[4].pubkey=new p.PublicKey(u.isUsdc?P.userUsdcAccountAddress:P.userWsolAccountAddress),k.keys[5].pubkey=new p.PublicKey(P.userTokenAccountAddress)):(k.keys[4].pubkey=new p.PublicKey(P.userTokenAccountAddress),k.keys[5].pubkey=new p.PublicKey(u.isUsdc?P.userUsdcAccountAddress:P.userWsolAccountAddress));let N=c.Buffer.concat([c.Buffer.alloc(2),k.data.subarray(24)]);if(N.writeUInt16LE(N.length-2,0),u.isUsdc){let{swapInstruction:e,expectedAmountOut:t}=await (0,D.buildUsdAxiomRouterInstruction)({type:o.type,stableCoin:"usdc",userAccountAddress:r.publicKey,userWsolAccountAddress:P.userWsolAccountAddress,userUsdAccountAddress:P.userUsdcAccountAddress,userTokenAccountAddress:P.userTokenAccountAddress,usdPerSol:d,amountIn:w,tokenDecimals:h,priceInUsdc:l,slippage:i.slippage,steps:[{programAddress:G,accounts:k.keys,extraData:N}],rewardsData:m});g=e,y=t}else g=(0,D.buildAxiomRouterInstruction)({type:o.type,amountIn:w,minAmountOut:new W.default(k.data.subarray(16,24),"le"),userWalletAddress:r.publicKey,inputTokenAccount:"buy"===o.type?P.userWsolAccountAddress:P.userTokenAccountAddress,solWrapperToken:{type:"wsol",userWrappedTokenAccount:P.userWsolAccountAddress},steps:[{programAddress:G,accounts:k.keys,extraData:N}],rewardsData:m}),y=(0,_.newSafeBN)(v.expectedAmountOut);return A.push(g),u.isUsdc&&(0,x.isVanishSigner)(r)&&(0,x.addTokenAccountCloseInstruction)(r.publicKey,P.userUsdcAccountAddress,A),await (0,x.handleMassSwapTxCreation)({instructions:A,wallet:r,swapSettings:i,blockhash:a,nonceInstruction:s,providers:n,computeUnits:(0,x.calculateComputeUnits)({baseComputeUnits:2e5,isUsdc:u.isUsdc,isVanish:(0,x.isVanishSigner)(r)}),lookupTables:x.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:m.userRewardsPercentage,swapInfo:{amount:e,expectedAmountOut:y,tokenDecimals:h,sourceTokenAddress:"buy"===o.type?O.NATIVE_SOL_TOKEN_ADDRESS:o.tokenAddress,targetTokenAddress:"buy"===o.type?o.tokenAddress:O.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,x.calculateVanishLoanExtraLamports)({type:o.type,isWsol:!0,isUsdc:u.isUsdc??!1,amount:e,expectedAmountOut:y,tokenDecimals:h})}})}var j=e.i(518152),H=e.i(631157),X=e.i(994999),Q=e.i(587896),J=e.i(441960),Y=((t=Y||{})[t.AddMemo=0]="AddMemo",t);e.i(247167);var Z=e.i(912440),$=e.i(38340),ee=e.i(27408),et=e.i(696319);e.i(634583);var er=e.i(654312),ei=e.i(850631),en=e.i(642108),ea=((r=ea||{})[r.Uninitialized=0]="Uninitialized",r[r.Initialized=1]="Initialized",r[r.Frozen=2]="Frozen",r),eo=((i=eo||{})[i.MintTokens=0]="MintTokens",i[i.FreezeAccount=1]="FreezeAccount",i[i.AccountOwner=2]="AccountOwner",i[i.CloseAccount=3]="CloseAccount",i[i.TransferFeeConfig=4]="TransferFeeConfig",i[i.WithheldWithdraw=5]="WithheldWithdraw",i[i.CloseMint=6]="CloseMint",i[i.InterestRate=7]="InterestRate",i[i.PermanentDelegate=8]="PermanentDelegate",i[i.ConfidentialTransferMint=9]="ConfidentialTransferMint",i[i.TransferHookProgramId=10]="TransferHookProgramId",i[i.ConfidentialTransferFeeConfig=11]="ConfidentialTransferFeeConfig",i[i.MetadataPointer=12]="MetadataPointer",i[i.GroupPointer=13]="GroupPointer",i[i.GroupMemberPointer=14]="GroupMemberPointer",i[i.ScaledUiAmount=15]="ScaledUiAmount",i[i.Pause=16]="Pause",i);function es(){return(0,Q.fixDecoderSize)((0,H.getBytesDecoder)(),64)}var eu=((n=eu||{})[n.Uninitialized=0]="Uninitialized",n[n.TransferFeeConfig=1]="TransferFeeConfig",n[n.TransferFeeAmount=2]="TransferFeeAmount",n[n.MintCloseAuthority=3]="MintCloseAuthority",n[n.ConfidentialTransferMint=4]="ConfidentialTransferMint",n[n.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",n[n.DefaultAccountState=6]="DefaultAccountState",n[n.ImmutableOwner=7]="ImmutableOwner",n[n.MemoTransfer=8]="MemoTransfer",n[n.NonTransferable=9]="NonTransferable",n[n.InterestBearingConfig=10]="InterestBearingConfig",n[n.CpiGuard=11]="CpiGuard",n[n.PermanentDelegate=12]="PermanentDelegate",n[n.NonTransferableAccount=13]="NonTransferableAccount",n[n.TransferHook=14]="TransferHook",n[n.TransferHookAccount=15]="TransferHookAccount",n[n.ConfidentialTransferFee=16]="ConfidentialTransferFee",n[n.ConfidentialTransferFeeAmount=17]="ConfidentialTransferFeeAmount",n[n.ScaledUiAmountConfig=18]="ScaledUiAmountConfig",n[n.PausableConfig=19]="PausableConfig",n[n.PausableAccount=20]="PausableAccount",n[n.MetadataPointer=21]="MetadataPointer",n[n.TokenMetadata=22]="TokenMetadata",n[n.GroupPointer=23]="GroupPointer",n[n.TokenGroup=24]="TokenGroup",n[n.GroupMemberPointer=25]="GroupMemberPointer",n[n.TokenGroupMember=26]="TokenGroupMember",n);function el(){return(0,H.getStructDecoder)([["epoch",(0,$.getU64Decoder)()],["maximumFee",(0,$.getU64Decoder)()],["transferFeeBasisPoints",(0,$.getU16Decoder)()]])}async function ec(e,t,r){let i=await ed(e,t,r);return(0,et.assertAccountsExist)(i),i}async function ed(e,t,r){return(await (0,et.fetchEncodedAccounts)(e,t,r)).map(e=>(0,et.decodeAccount)(e,(0,H.getStructDecoder)([["mintAuthority",(0,ee.getOptionDecoder)((0,Z.getAddressDecoder)(),{prefix:(0,$.getU32Decoder)(),noneValue:"zeroes"})],["supply",(0,$.getU64Decoder)()],["decimals",(0,$.getU8Decoder)()],["isInitialized",(0,H.getBooleanDecoder)()],["freezeAuthority",(0,ee.getOptionDecoder)((0,Z.getAddressDecoder)(),{prefix:(0,$.getU32Decoder)(),noneValue:"zeroes"})],["extensions",(0,ee.getOptionDecoder)((0,H.getHiddenPrefixDecoder)((0,H.getArrayDecoder)((0,H.getDiscriminatedUnionDecoder)([["Uninitialized",(0,H.getUnitDecoder)()],["TransferFeeConfig",(0,Q.addDecoderSizePrefix)((0,H.getStructDecoder)([["transferFeeConfigAuthority",(0,Z.getAddressDecoder)()],["withdrawWithheldAuthority",(0,Z.getAddressDecoder)()],["withheldAmount",(0,$.getU64Decoder)()],["olderTransferFee",el()],["newerTransferFee",el()]]),(0,$.getU16Decoder)())],["TransferFeeAmount",(0,Q.addDecoderSizePrefix)((0,H.getStructDecoder)([["withheldAmount",(0,$.getU64Decoder)()]]),(0,$.getU16Decoder)())],["MintCloseAuthority",(0,Q.addDecoderSizePrefix)((0,H.getStructDecoder)([["closeAuthority",(0,Z.getAddressDecoder)()]]),(0,$.getU16Decoder)())],["ConfidentialTransferMint",(0,Q.addDecoderSizePrefix)((0,H.getStructDecoder)([["authority",(0,ee.getOptionDecoder)((0,Z.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})],["autoApproveNewAccounts",(0,H.getBooleanDecoder)()],["auditorElgamalPubkey",(0,ee.getOptionDecoder)((0,Z.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})]]),(0,$.getU16Decoder)())],["ConfidentialTransferAccount",(0,Q.addDecoderSizePrefix)((0,H.getStructDecoder)([["approved",(0,H.getBooleanDecoder)()],["elgamalPubkey",(0,Z.getAddressDecoder)()],["pendingBalanceLow",es()],["pendingBalanceHigh",es()],["availableBalance",es()],["decryptableAvailableBalance",(0,Q.fixDecoderSize)((0,H.getBytesDecoder)(),36)],["allowConfidentialCredits",(0,H.getBooleanDecoder)()],["allowNonConfidentialCredits",(0,H.getBooleanDecoder)()],["pendingBalanceCreditCounter",(0,$.getU64Decoder)()],["maximumPendingBalanceCreditCounter",(0,$.getU64Decoder)()],["expectedPendingBalanceCreditCounter",(0,$.getU64Decoder)()],["actualPendingBalanceCreditCounter",(0,$.getU64Decoder)()]]),(0,$.getU16Decoder)())],["DefaultAccountState",(0,Q.addDecoderSizePrefix)((0,H.getStructDecoder)([["state",(0,H.getEnumDecoder)(ea)]]),(0,$.getU16Decoder)())],["ImmutableOwner",(0,Q.addDecoderSizePrefix)((0,H.getStructDecoder)([]),(0,$.getU16Decoder)())],["MemoTransfer",(0,Q.addDecoderSizePrefix)((0,H.getStructDecoder)([["requireIncomingTransferMemos",(0,H.getBooleanDecoder)()]]),(0,$.getU16Decoder)())],["NonTransferable",(0,Q.addDecoderSizePrefix)((0,H.getStructDecoder)([]),(0,$.getU16Decoder)())],["InterestBearingConfig",(0,Q.addDecoderSizePrefix)((0,H.getStructDecoder)([["rateAuthority",(0,Z.getAddressDecoder)()],["initializationTimestamp",(0,$.getU64Decoder)()],["preUpdateAverageRate",(0,$.getI16Decoder)()],["lastUpdateTimestamp",(0,$.getU64Decoder)()],["currentRate",(0,$.getI16Decoder)()]]),(0,$.getU16Decoder)())],["CpiGuard",(0,Q.addDecoderSizePrefix)((0,H.getStructDecoder)([["lockCpi",(0,H.getBooleanDecoder)()]]),(0,$.getU16Decoder)())],["PermanentDelegate",(0,Q.addDecoderSizePrefix)((0,H.getStructDecoder)([["delegate",(0,Z.getAddressDecoder)()]]),(0,$.getU16Decoder)())],["NonTransferableAccount",(0,Q.addDecoderSizePrefix)((0,H.getStructDecoder)([]),(0,$.getU16Decoder)())],["TransferHook",(0,Q.addDecoderSizePrefix)((0,H.getStructDecoder)([["authority",(0,Z.getAddressDecoder)()],["programId",(0,Z.getAddressDecoder)()]]),(0,$.getU16Decoder)())],["TransferHookAccount",(0,Q.addDecoderSizePrefix)((0,H.getStructDecoder)([["transferring",(0,H.getBooleanDecoder)()]]),(0,$.getU16Decoder)())],["ConfidentialTransferFee",(0,Q.addDecoderSizePrefix)((0,H.getStructDecoder)([["authority",(0,ee.getOptionDecoder)((0,Z.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})],["elgamalPubkey",(0,Z.getAddressDecoder)()],["harvestToMintEnabled",(0,H.getBooleanDecoder)()],["withheldAmount",es()]]),(0,$.getU16Decoder)())],["ConfidentialTransferFeeAmount",(0,Q.addDecoderSizePrefix)((0,H.getStructDecoder)([["withheldAmount",es()]]),(0,$.getU16Decoder)())],["MetadataPointer",(0,Q.addDecoderSizePrefix)((0,H.getStructDecoder)([["authority",(0,ee.getOptionDecoder)((0,Z.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})],["metadataAddress",(0,ee.getOptionDecoder)((0,Z.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})]]),(0,$.getU16Decoder)())],["TokenMetadata",(0,Q.addDecoderSizePrefix)((0,H.getStructDecoder)([["updateAuthority",(0,ee.getOptionDecoder)((0,Z.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})],["mint",(0,Z.getAddressDecoder)()],["name",(0,Q.addDecoderSizePrefix)((0,X.getUtf8Decoder)(),(0,$.getU32Decoder)())],["symbol",(0,Q.addDecoderSizePrefix)((0,X.getUtf8Decoder)(),(0,$.getU32Decoder)())],["uri",(0,Q.addDecoderSizePrefix)((0,X.getUtf8Decoder)(),(0,$.getU32Decoder)())],["additionalMetadata",(0,H.getMapDecoder)((0,Q.addDecoderSizePrefix)((0,X.getUtf8Decoder)(),(0,$.getU32Decoder)()),(0,Q.addDecoderSizePrefix)((0,X.getUtf8Decoder)(),(0,$.getU32Decoder)()))]]),(0,$.getU16Decoder)())],["GroupPointer",(0,Q.addDecoderSizePrefix)((0,H.getStructDecoder)([["authority",(0,ee.getOptionDecoder)((0,Z.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})],["groupAddress",(0,ee.getOptionDecoder)((0,Z.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})]]),(0,$.getU16Decoder)())],["TokenGroup",(0,Q.addDecoderSizePrefix)((0,H.getStructDecoder)([["updateAuthority",(0,ee.getOptionDecoder)((0,Z.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})],["mint",(0,Z.getAddressDecoder)()],["size",(0,$.getU64Decoder)()],["maxSize",(0,$.getU64Decoder)()]]),(0,$.getU16Decoder)())],["GroupMemberPointer",(0,Q.addDecoderSizePrefix)((0,H.getStructDecoder)([["authority",(0,ee.getOptionDecoder)((0,Z.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})],["memberAddress",(0,ee.getOptionDecoder)((0,Z.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})]]),(0,$.getU16Decoder)())],["TokenGroupMember",(0,Q.addDecoderSizePrefix)((0,H.getStructDecoder)([["mint",(0,Z.getAddressDecoder)()],["group",(0,Z.getAddressDecoder)()],["memberNumber",(0,$.getU64Decoder)()]]),(0,$.getU16Decoder)())],["ConfidentialMintBurn",(0,H.getUnitDecoder)()],["ScaledUiAmountConfig",(0,Q.addDecoderSizePrefix)((0,H.getStructDecoder)([["authority",(0,Z.getAddressDecoder)()],["multiplier",(0,$.getF64Decoder)()],["newMultiplierEffectiveTimestamp",(0,$.getU64Decoder)()],["newMultiplier",(0,$.getF64Decoder)()]]),(0,$.getU16Decoder)())],["PausableConfig",(0,Q.addDecoderSizePrefix)((0,H.getStructDecoder)([["authority",(0,ee.getOptionDecoder)((0,Z.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})],["paused",(0,H.getBooleanDecoder)()]]),(0,$.getU16Decoder)())],["PausableAccount",(0,H.getUnitDecoder)()]],{size:(0,$.getU16Decoder)()}),{size:"remainder"}),[(0,H.getConstantDecoder)((0,Q.padLeftEncoder)((0,$.getU8Encoder)(),83).encode(1))]),{prefix:null})]])))}var ef=((a=ef||{})[a.CreateAssociatedToken=0]="CreateAssociatedToken",a[a.CreateAssociatedTokenIdempotent=1]="CreateAssociatedTokenIdempotent",a[a.RecoverNestedAssociatedToken=2]="RecoverNestedAssociatedToken",a),ep=((o=ep||{})[o.Mint=0]="Mint",o[o.Token=1]="Token",o[o.Multisig=2]="Multisig",o),eh=((s=eh||{})[s.InitializeMint=0]="InitializeMint",s[s.InitializeAccount=1]="InitializeAccount",s[s.InitializeMultisig=2]="InitializeMultisig",s[s.Transfer=3]="Transfer",s[s.Approve=4]="Approve",s[s.Revoke=5]="Revoke",s[s.SetAuthority=6]="SetAuthority",s[s.MintTo=7]="MintTo",s[s.Burn=8]="Burn",s[s.CloseAccount=9]="CloseAccount",s[s.FreezeAccount=10]="FreezeAccount",s[s.ThawAccount=11]="ThawAccount",s[s.TransferChecked=12]="TransferChecked",s[s.ApproveChecked=13]="ApproveChecked",s[s.MintToChecked=14]="MintToChecked",s[s.BurnChecked=15]="BurnChecked",s[s.InitializeAccount2=16]="InitializeAccount2",s[s.SyncNative=17]="SyncNative",s[s.InitializeAccount3=18]="InitializeAccount3",s[s.InitializeMultisig2=19]="InitializeMultisig2",s[s.InitializeMint2=20]="InitializeMint2",s[s.GetAccountDataSize=21]="GetAccountDataSize",s[s.InitializeImmutableOwner=22]="InitializeImmutableOwner",s[s.AmountToUiAmount=23]="AmountToUiAmount",s[s.UiAmountToAmount=24]="UiAmountToAmount",s[s.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",s[s.InitializeTransferFeeConfig=26]="InitializeTransferFeeConfig",s[s.TransferCheckedWithFee=27]="TransferCheckedWithFee",s[s.WithdrawWithheldTokensFromMint=28]="WithdrawWithheldTokensFromMint",s[s.WithdrawWithheldTokensFromAccounts=29]="WithdrawWithheldTokensFromAccounts",s[s.HarvestWithheldTokensToMint=30]="HarvestWithheldTokensToMint",s[s.SetTransferFee=31]="SetTransferFee",s[s.InitializeConfidentialTransferMint=32]="InitializeConfidentialTransferMint",s[s.UpdateConfidentialTransferMint=33]="UpdateConfidentialTransferMint",s[s.ConfigureConfidentialTransferAccount=34]="ConfigureConfidentialTransferAccount",s[s.ApproveConfidentialTransferAccount=35]="ApproveConfidentialTransferAccount",s[s.EmptyConfidentialTransferAccount=36]="EmptyConfidentialTransferAccount",s[s.ConfidentialDeposit=37]="ConfidentialDeposit",s[s.ConfidentialWithdraw=38]="ConfidentialWithdraw",s[s.ConfidentialTransfer=39]="ConfidentialTransfer",s[s.ApplyConfidentialPendingBalance=40]="ApplyConfidentialPendingBalance",s[s.EnableConfidentialCredits=41]="EnableConfidentialCredits",s[s.DisableConfidentialCredits=42]="DisableConfidentialCredits",s[s.EnableNonConfidentialCredits=43]="EnableNonConfidentialCredits",s[s.DisableNonConfidentialCredits=44]="DisableNonConfidentialCredits",s[s.ConfidentialTransferWithFee=45]="ConfidentialTransferWithFee",s[s.InitializeDefaultAccountState=46]="InitializeDefaultAccountState",s[s.UpdateDefaultAccountState=47]="UpdateDefaultAccountState",s[s.Reallocate=48]="Reallocate",s[s.EnableMemoTransfers=49]="EnableMemoTransfers",s[s.DisableMemoTransfers=50]="DisableMemoTransfers",s[s.CreateNativeMint=51]="CreateNativeMint",s[s.InitializeNonTransferableMint=52]="InitializeNonTransferableMint",s[s.InitializeInterestBearingMint=53]="InitializeInterestBearingMint",s[s.UpdateRateInterestBearingMint=54]="UpdateRateInterestBearingMint",s[s.EnableCpiGuard=55]="EnableCpiGuard",s[s.DisableCpiGuard=56]="DisableCpiGuard",s[s.InitializePermanentDelegate=57]="InitializePermanentDelegate",s[s.InitializeTransferHook=58]="InitializeTransferHook",s[s.UpdateTransferHook=59]="UpdateTransferHook",s[s.InitializeConfidentialTransferFee=60]="InitializeConfidentialTransferFee",s[s.WithdrawWithheldTokensFromMintForConfidentialTransferFee=61]="WithdrawWithheldTokensFromMintForConfidentialTransferFee",s[s.WithdrawWithheldTokensFromAccountsForConfidentialTransferFee=62]="WithdrawWithheldTokensFromAccountsForConfidentialTransferFee",s[s.HarvestWithheldTokensToMintForConfidentialTransferFee=63]="HarvestWithheldTokensToMintForConfidentialTransferFee",s[s.EnableHarvestToMint=64]="EnableHarvestToMint",s[s.DisableHarvestToMint=65]="DisableHarvestToMint",s[s.WithdrawExcessLamports=66]="WithdrawExcessLamports",s[s.InitializeMetadataPointer=67]="InitializeMetadataPointer",s[s.UpdateMetadataPointer=68]="UpdateMetadataPointer",s[s.InitializeGroupPointer=69]="InitializeGroupPointer",s[s.UpdateGroupPointer=70]="UpdateGroupPointer",s[s.InitializeGroupMemberPointer=71]="InitializeGroupMemberPointer",s[s.UpdateGroupMemberPointer=72]="UpdateGroupMemberPointer",s[s.InitializeScaledUiAmountMint=73]="InitializeScaledUiAmountMint",s[s.UpdateMultiplierScaledUiMint=74]="UpdateMultiplierScaledUiMint",s[s.InitializePausableConfig=75]="InitializePausableConfig",s[s.Pause=76]="Pause",s[s.Resume=77]="Resume",s[s.InitializeTokenMetadata=78]="InitializeTokenMetadata",s[s.UpdateTokenMetadataField=79]="UpdateTokenMetadataField",s[s.RemoveTokenMetadataKey=80]="RemoveTokenMetadataKey",s[s.UpdateTokenMetadataUpdateAuthority=81]="UpdateTokenMetadataUpdateAuthority",s[s.EmitTokenMetadata=82]="EmitTokenMetadata",s[s.InitializeTokenGroup=83]="InitializeTokenGroup",s[s.UpdateTokenGroupMaxSize=84]="UpdateTokenGroupMaxSize",s[s.UpdateTokenGroupUpdateAuthority=85]="UpdateTokenGroupUpdateAuthority",s[s.InitializeTokenGroupMember=86]="InitializeTokenGroupMember",s);new Uint8Array([250,166,180,250,13,12,184,70]),new Uint8Array([121,113,108,39,54,51,0,4]),new Uint8Array([152,32,222,176,223,237,116,134]),new Uint8Array([210,225,30,162,88,184,77,141]),new Uint8Array([234,18,32,56,89,141,37,181]),new Uint8Array([108,37,171,143,248,30,18,110]),new Uint8Array([161,105,88,1,237,221,216,203]),new Uint8Array([221,233,49,45,181,202,220,200]),new Uint8Array([215,228,166,228,84,100,86,123]);var em=0n;function eb(e){return!(null==e||"object"!=typeof e||Array.isArray(e))&&"jsonrpc"in e&&"2.0"===e.jsonrpc&&"method"in e&&"string"==typeof e.method&&"params"in e}var eg=e.i(631985);function ey(e){return"bigint"==typeof e?Number(e):e}var ex={};function eA(e){return function t(r,i){if(Array.isArray(r))return r.map((e,r)=>t(e,{...i,keyPath:[...i.keyPath,r]}));if("object"!=typeof r||null===r)return e.reduce((e,t)=>t(e,i),r);{let e={};for(let n in r){if(!Object.prototype.hasOwnProperty.call(r,n))continue;let a={...i,keyPath:[...i.keyPath,n]};e[n]=t(r[n],a)}return e}}}function ew(e,t){return r=>{let i=eA(e);return Object.freeze({...r,params:i(r.params,t)})}}var ev={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1},eS=[["data","parsed","info","tokenAmount","decimals"],["data","parsed","info","tokenAmount","uiAmount"],["data","parsed","info","rentExemptReserve","decimals"],["data","parsed","info","rentExemptReserve","uiAmount"],["data","parsed","info","delegatedAmount","decimals"],["data","parsed","info","delegatedAmount","uiAmount"],["data","parsed","info","extensions",ex,"state","olderTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",ex,"state","newerTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",ex,"state","preUpdateAverageRate"],["data","parsed","info","extensions",ex,"state","currentRate"]],eT=[...eS,["data","parsed","info","lastExtendedSlotStartIndex"],["data","parsed","info","slashPenalty"],["data","parsed","info","warmupCooldownRate"],["data","parsed","info","decimals"],["data","parsed","info","numRequiredSigners"],["data","parsed","info","numValidSigners"],["data","parsed","info","stake","delegation","warmupCooldownRate"],["data","parsed","info","exemptionThreshold"],["data","parsed","info","burnPercent"],["data","parsed","info","commission"],["data","parsed","info","votes",ex,"confirmationCount"]],eE=[["index"],["instructions",ex,"accounts",ex],["instructions",ex,"programIdIndex"],["instructions",ex,"stackHeight"]],ek=[["addressTableLookups",ex,"writableIndexes",ex],["addressTableLookups",ex,"readonlyIndexes",ex],["header","numReadonlySignedAccounts"],["header","numReadonlyUnsignedAccounts"],["header","numRequiredSignatures"],["instructions",ex,"accounts",ex],["instructions",ex,"programIdIndex"],["instructions",ex,"stackHeight"]],eP=["getAccountInfo","getBalance","getBlock","getBlockCommitment","getBlockHeight","getBlockProduction","getBlocks","getBlocksWithLimit","getBlockTime","getClusterNodes","getEpochInfo","getEpochSchedule","getFeeForMessage","getFirstAvailableBlock","getGenesisHash","getHealth","getHighestSnapshotSlot","getIdentity","getInflationGovernor","getInflationRate","getInflationReward","getLargestAccounts","getLatestBlockhash","getLeaderSchedule","getMaxRetransmitSlot","getMaxShredInsertSlot","getMinimumBalanceForRentExemption","getMultipleAccounts","getProgramAccounts","getRecentPerformanceSamples","getRecentPrioritizationFees","getSignaturesForAddress","getSignatureStatuses","getSlot","getSlotLeader","getSlotLeaders","getStakeMinimumDelegation","getSupply","getTokenAccountBalance","getTokenAccountsByDelegate","getTokenAccountsByOwner","getTokenLargestAccounts","getTokenSupply","getTransaction","getTransactionCount","getVersion","getVoteAccounts","index","isBlockhashValid","minimumLedgerSlot","requestAirdrop","sendTransaction","simulateTransaction"];function e_(e){return eb(e)&&eP.includes(e.method)}var eI=Object.prototype.toString,eN=Object.keys||function(e){let t=[];for(let r in e)t.push(r);return t},eR={defaultCommitment:"confirmed",onIntegerOverflow(e,t,r){throw function e(t,r,i){let n="";if("number"==typeof r[0]){let e=r[0]+1,t=e%10,i=e%100;n=1==t&&11!=i?e+"st":2==t&&12!=i?e+"nd":3==t&&13!=i?e+"rd":e+"th"}else n=`\`${r[0].toString()}\``;let a=r.length>1?r.slice(1).map(e=>"number"==typeof e?`[${e}]`:e).join("."):void 0,o=new en.SolanaError(en.SOLANA_ERROR__RPC__INTEGER_OVERFLOW,{argumentLabel:n,keyPath:r,methodName:t,optionalPathLabel:a?` at path \`${a}\``:"",value:i,...void 0!==a?{path:a}:void 0});return(0,en.safeCaptureStackTrace)(o,e),o}(e.methodName,t,r)}},eB=globalThis.AbortController;function eC(e){return eb(e)?function(e){let t=function e(t,r){let i,n,a,o,s,u,l;if(!0===t)return"true";if(!1===t)return"false";switch(typeof t){case"object":if(null===t)return null;if("toJSON"in t&&"function"==typeof t.toJSON)return e(t.toJSON(),r);if("[object Array]"===(l=eI.call(t))){for(i=0,a="[",n=t.length-1;i<n;i++)a+=e(t[i],!0)+",";return n>-1&&(a+=e(t[i],!0)),a+"]"}if("[object Object]"!==l)return JSON.stringify(t);for(n=(o=eN(t).sort()).length,a="",i=0;i<n;)void 0!==(u=e(t[s=o[i]],!1))&&(a&&(a+=","),a+=JSON.stringify(s)+":"+u),i++;return"{"+a+"}";case"function":case"undefined":return r?null:void 0;case"bigint":return`${t.toString()}n`;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}(e,!1);if(void 0!==t)return""+t}([e.method,e.params]):void 0}var eO=e.i(103476);e.i(89928);var eD=e.i(623318),eM=e.i(412129);let eU="whirLbMiicVdio4qvUfM5KAg6Ct8VwpYzGff3uctyCc";async function eF({type:e,amount:t,tokenAddress:r,userTokenAccountAddress:i,protocolDetails:n,blockhash:a,wallet:o,pairAddress:s,swapSettings:u,nonceInstruction:l,providers:c,rewardsData:d,usdPerSol:f,tokenDecimals:p,liquidityToken:h}){let m=[],b=n.tokenProgram===eM.TokenProgram.TOKEN?I.TOKEN_PROGRAM_ADDRESS:I.TOKEN_PROGRAM_2022_ADDRESS,g=await (0,x.addTokenAccountInstructions)({userWalletAddress:o.publicKey,tokenAddress:r,tokenProgramAddress:b,instructions:m,userTokenAccountAddress:i,wsolAmount:"buy"===e?t:(0,_.newSafeBN)(0),usdc:n.isUsdc});"buy"===e&&(t=t.sub((0,x.calculateAxiomFee)(t)));let{swapInstruction:y,expectedAmountOut:A}=await eV({type:e,amount:t,slippage:u.slippage,userAccountAddress:o.publicKey,userTokenAccountAddress:g.userTokenAccountAddress,userSolAccountAddress:g.userWsolAccountAddress,protocolDetails:n,pairAddress:s,tokenAddress:r,tokenDecimals:p,liquidityToken:h,userUsdcAccountAddress:g.userUsdcAccountAddress,usdPerSol:f,rewardsData:d});return m.push(y),n.isUsdc&&(0,x.isVanishSigner)(o)&&(0,x.addTokenAccountCloseInstruction)(o.publicKey,g.userUsdcAccountAddress,m),n.isUsd1&&(0,x.isVanishSigner)(o)&&(0,x.addTokenAccountCloseInstruction)(o.publicKey,g.userUsd1AccountAddress,m),await (0,x.handleMassSwapTxCreation)({instructions:m,wallet:o,swapSettings:u,blockhash:a,nonceInstruction:l,providers:c,computeUnits:(0,x.calculateComputeUnits)({baseComputeUnits:2e5,isUsdc:n.isUsdc,isVanish:(0,x.isVanishSigner)(o)}),lookupTables:x.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:d.userRewardsPercentage,swapInfo:{amount:t,expectedAmountOut:A,tokenDecimals:p,sourceTokenAddress:"buy"===e?O.NATIVE_SOL_TOKEN_ADDRESS:r,targetTokenAddress:"buy"===e?r:O.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,x.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:n.isUsdc??!1,amount:t,expectedAmountOut:A,tokenDecimals:p})}})}async function eL(e,t,r,i,n){try{let a,o=(0,Z.address)(i);a="buy"===e?n?(0,Z.address)(I.USDC_TOKEN_ADDRESS):(0,Z.address)(I.WSOL_TOKEN_ADDRESS):(0,Z.address)(r);let s=BigInt(t),{instructions:u,quote:l,aToB:d}=await eK({inputAmount:s,mint:a,poolAddress:o,slippageToleranceBps:1e4}),f=[],p="";for(let e of u)if(e.programAddress===eU){f=e.accounts?.map(e=>({pubkey:e.address.toString(),isWritable:e.role===J.AccountRole.WRITABLE||e.role===J.AccountRole.WRITABLE_SIGNER,isSigner:e.role===J.AccountRole.READONLY_SIGNER||e.role===J.AccountRole.WRITABLE_SIGNER}))??[],p=c.Buffer.from(e.data??[]).toString("base64");break}let h=l.tokenEstOut.toString();return{accounts:f,expectedAmountOut:h,dataB64:p,aToB:d}}catch(e){throw console.error(e),Error("Error calculating swap")}}function eq(e,t){if(null==e||"exists"in e&&!e.exists||"None"===e.data.extensions.__option)return;let r=e.data.extensions.value.find(e=>"TransferFeeConfig"===e.__kind);if(null==r)return;let i=t>=r.newerTransferFee.epoch?r.newerTransferFee:r.olderTransferFee;return{feeBps:i.transferFeeBasisPoints,maxFee:i.maximumFee}}async function eK(t){var r,i,n,a,o,s,d,f,p,h,m,b;let[{_TICK_ARRAY_SIZE:g,getTickArrayStartTickIndex:y,swapQuoteByInputToken:x,swapQuoteByOutputToken:A},{fetchWhirlpool:w,getOracleAddress:v,getSwapV2Instruction:S,getTickArrayAddress:T,fetchOracle:E,AccountsType:k,fetchAllMaybeTickArray:P}]=await Promise.all([e.A(668889),e.A(924874)]),{poolAddress:_,slippageToleranceBps:I}=t,N=function(e){let t;var r,i,n={api:(i={requestTransformer:(t=eR?.onIntegerOverflow,e=>(0,eg.pipe)(e,t?e=>{var r;return ew([(r=(...r)=>t(e,...r),(e,{keyPath:t})=>("bigint"==typeof e&&r&&(e>Number.MAX_SAFE_INTEGER||e<-Number.MAX_SAFE_INTEGER)&&r(t,e),e))],{keyPath:[]})(e)}:e=>e,ew([ey],{keyPath:[]}),function({defaultCommitment:e,optionsObjectPositionByMethod:t}){return r=>{let{params:i,methodName:n}=r;if(!Array.isArray(i))return r;let a=t[n];return null==a?r:Object.freeze({methodName:n,params:function({commitmentPropertyName:e,params:t,optionsObjectPositionInParams:r,overrideCommitment:i}){let n=t[r];if(void 0===n||n&&"object"==typeof n&&!Array.isArray(n)){if(n&&e in n){if(!n[e]||"finalized"===n[e]){let i=[...t],{[e]:a,...o}=n;return Object.keys(o).length>0?i[r]=o:r===i.length-1?i.length--:i[r]=void 0,i}}else if("finalized"!==i){let a=[...t];return a[r]={...n,[e]:i},a}}return t}({commitmentPropertyName:"sendTransaction"===n?"preflightCommitment":"commitment",optionsObjectPositionInParams:a,overrideCommitment:e,params:i})})}}({defaultCommitment:eR?.defaultCommitment,optionsObjectPositionByMethod:ev}))),responseTransformer:(r={allowedNumericKeyPaths:(u||(u={getAccountInfo:eT.map(e=>["value",...e]),getBlock:[["transactions",ex,"meta","preTokenBalances",ex,"accountIndex"],["transactions",ex,"meta","preTokenBalances",ex,"uiTokenAmount","decimals"],["transactions",ex,"meta","postTokenBalances",ex,"accountIndex"],["transactions",ex,"meta","postTokenBalances",ex,"uiTokenAmount","decimals"],["transactions",ex,"meta","rewards",ex,"commission"],...eE.map(e=>["transactions",ex,"meta","innerInstructions",ex,...e]),...ek.map(e=>["transactions",ex,"transaction","message",...e]),["rewards",ex,"commission"]],getClusterNodes:[[ex,"featureSet"],[ex,"shredVersion"]],getInflationGovernor:[["initial"],["foundation"],["foundationTerm"],["taper"],["terminal"]],getInflationRate:[["foundation"],["total"],["validator"]],getInflationReward:[[ex,"commission"]],getMultipleAccounts:eT.map(e=>["value",ex,...e]),getProgramAccounts:eT.flatMap(e=>[["value",ex,"account",...e],[ex,"account",...e]]),getRecentPerformanceSamples:[[ex,"samplePeriodSecs"]],getTokenAccountBalance:[["value","decimals"],["value","uiAmount"]],getTokenAccountsByDelegate:eS.map(e=>["value",ex,"account",...e]),getTokenAccountsByOwner:eS.map(e=>["value",ex,"account",...e]),getTokenLargestAccounts:[["value",ex,"decimals"],["value",ex,"uiAmount"]],getTokenSupply:[["value","decimals"],["value","uiAmount"]],getTransaction:[["meta","preTokenBalances",ex,"accountIndex"],["meta","preTokenBalances",ex,"uiTokenAmount","decimals"],["meta","postTokenBalances",ex,"accountIndex"],["meta","postTokenBalances",ex,"uiTokenAmount","decimals"],["meta","rewards",ex,"commission"],...eE.map(e=>["meta","innerInstructions",ex,...e]),...ek.map(e=>["transaction","message",...e])],getVersion:[["feature-set"]],getVoteAccounts:[["current",ex,"commission"],["delinquent",ex,"commission"]],simulateTransaction:[...eT.map(e=>["value","accounts",ex,...e]),...eE.map(e=>["value","innerInstructions",ex,...e])]}),u)},(e,t)=>{let i=t.methodName,n=r?.allowedNumericKeyPaths&&i?r.allowedNumericKeyPaths[i]:void 0;return(0,eg.pipe)(e,e=>(e=>{if("error"in e)throw(0,en.getSolanaErrorFromJsonRpcError)(e.error);return e})(e,t),e=>e.result,e=>{var r,i,a;return(i=[(r=n??[],function(e,{keyPath:t}){var i;return"number"==typeof e&&Number.isInteger(e)||"bigint"==typeof e?(i=t,r.some(e=>{if(e.length!==i.length)return!1;for(let t=i.length-1;t>=0;t--){let r=i[t],n=e[t];if(n!==r&&(n!==ex||"number"!=typeof r))return!1}return!0}))?Number(e):BigInt(e):e})],a={keyPath:[]},e=>eA(i)(e,a))(e,t)})})},new Proxy({},{defineProperty:()=>!1,deleteProperty:()=>!1,get(...e){let[t,r]=e,n=r.toString();return function(...e){let t=Object.freeze({methodName:n,params:e}),r=i?.requestTransformer?i?.requestTransformer(t):t;return Object.freeze({execute:async({signal:e,transport:t})=>{let n,a={id:(n=em,em++,n.toString()),jsonrpc:"2.0",method:r.methodName,params:r.params},o=await t({payload:a,signal:e});return i?.responseTransformer?i.responseTransformer(o,r):o}})}}})),transport:e};return new Proxy(n.api,{defineProperty:()=>!1,deleteProperty:()=>!1,get(e,t,r){if("then"!==t)return function(...i){let a=t.toString(),o=Reflect.get(e,a,r);if(!o)throw new en.SolanaError(en.SOLANA_ERROR__RPC__API_PLAN_MISSING_FOR_RPC_METHOD,{method:a,params:i});return function({transport:e},t){return{send:async r=>await t.execute({signal:r?.abortSignal,transport:e})}}(n,o(...i))}}})}((r={url:`${eD.WORKERS_API_BASE_URL}/orca-fetch`,...void 0},(0,eg.pipe)(function(e){let t,{fromJson:r,headers:i,toJson:n,url:a}=e,o=i&&function(e){let t={};for(let r in e)t[r.toLowerCase()]=e[r];return t}(i);return async function({payload:e,signal:i}){let s=n?n(e):JSON.stringify(e),u={...t,body:s,headers:{...o,accept:"application/json","content-length":s.length.toString(),"content-type":"application/json; charset=utf-8"},method:"POST",signal:i},l=await fetch(a,u);if(!l.ok)throw new en.SolanaError(en.SOLANA_ERROR__RPC__TRANSPORT_HTTP_ERROR,{headers:l.headers,message:l.statusText,statusCode:l.status});return r?r(await l.text(),e):await l.json()}}({...{...r,headers:{...!1,...r.headers?function(e){let t={};for(let r in e)t[r.toLowerCase()]=e[r];return t}(r.headers):void 0,"solana-client":"js/2.3.0"}},fromJson:(e,t)=>e_(t)?JSON.parse(function(e){let t=[],r=!1;for(let n=0;n<e.length;n++){let a=!1;if("\\"===e[n]&&(t.push(e[n++]),a=!a),'"'===e[n]){t.push(e[n]),a||(r=!r);continue}if(!r){let r=function(e,t){if(!e[t]?.match(/[-\d]/))return null;let r=e.slice(t).match(/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/);return r?r[0]:null}(e,n);if(r?.length){var i;n+=r.length-1,r.match(/\.|[eE]-/)?t.push(r):t.push((i=r,`{"$n":"${i}"}`));continue}}t.push(e[n])}return t.join("")}(e),(e,t)=>{var r;return(r=t)&&"object"==typeof r&&"$n"in r&&"string"==typeof r.$n?function({$n:e}){if(e.match(/[eE]/)){let[t,r]=e.split(/[eE]/);return BigInt(t)*BigInt(10)**BigInt(r)}return BigInt(e)}(t):t}):JSON.parse(e),toJson:e=>e_(e)?JSON.stringify(e,(e,t)=>{var r;return"bigint"==typeof t?(r=t,{$n:`${r}`}):t},void 0).replace(/\{\s*"\$n"\s*:\s*"(-?\d+)"\s*\}/g,"$1"):JSON.stringify(e)}),e=>{let t;return async function(r){let{payload:i,signal:n}=r,a=eC(i);if(void 0===a)return await e(r);if(t||(queueMicrotask(()=>{t=void 0}),t={}),null==t[a]){let i=new eB,n=(async()=>{try{return await e({...r,signal:i.signal})}catch(e){if(e===(l||={}))return;throw e}})();t[a]={abortController:i,numConsumers:0,responsePromise:n}}let o=t[a];if(o.numConsumers++,!n)return await o.responsePromise;{let e=o.responsePromise;return await new Promise((t,r)=>{let i=e=>{n.removeEventListener("abort",i),o.numConsumers-=1,queueMicrotask(()=>{0===o.numConsumers&&o.abortController.abort(l||={})}),r(e.target.reason)};n.addEventListener("abort",i),e.then(t).catch(r).finally(()=>{n.removeEventListener("abort",i)})})}}}))),R=await w(N,_),B=async()=>{let e=await v(R.address).then(e=>e[0]);return{oracle:await ez(N,e,R.data,E),oracleAddress:e}},[[C,O],D,M,U,F]=await Promise.all([ec(N,[R.data.tokenMintA,R.data.tokenMintB]),(0,er.createKeyPairSignerFromBytes)(c.Buffer.from(eO.default.decode("YZet6abx8NWJ5gADzX6orPNdBCGRNekiLkJLohybapfmgDDZSv5wHazv5snBLArEcpJutaoYgtKKVti3pEtzCFh"))),eG(N,R,g,y,T,P),B(),N.getEpochInfo().send()]),{oracle:L,oracleAddress:q}=U,K=t.mint===R.data.tokenMintA,W="inputAmount"in t,V=eq(C,F.epoch),G=eq(O,F.epoch),z=BigInt(Math.floor(Date.now()/1e3)),j=(i=t,n=R.data,a=V,o=G,s=M.map(e=>e.data),d=L,f=K,p=I,h=z,m=x,b=A,"inputAmount"in i?m(i.inputAmount,f,p,n,d,s,h,a,o):b(i.outputAmount,f,p,n,d,s,h,a,o)),H=K===W,X=[],Q=t.inputAmount,Y=j.tokenMinOut,$=S({tokenProgramA:C.programAddress,tokenProgramB:O.programAddress,memoProgram:"MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr",tokenAuthority:D,whirlpool:R.address,tokenMintA:R.data.tokenMintA,tokenMintB:R.data.tokenMintB,tokenOwnerAccountA:(0,Z.address)("11111111111111111111111111111111"),tokenOwnerAccountB:(0,Z.address)("11111111111111111111111111111111"),tokenVaultA:R.data.tokenVaultA,tokenVaultB:R.data.tokenVaultB,tickArray0:M[0].address,tickArray1:M[1].address,tickArray2:M[2].address,amount:Q,otherAmountThreshold:Y,sqrtPriceLimit:0,amountSpecifiedIsInput:W,aToB:H,oracle:q,remainingAccountsInfo:{slices:[{accountsType:k.SupplementalTickArrays,length:2}]}});return $.accounts.push({address:M[3].address,role:J.AccountRole.WRITABLE},{address:M[4].address,role:J.AccountRole.WRITABLE}),X.push($),{instructions:X,quote:j,aToB:H}}let eW=async(e,t,r,i,n,a,o,s,u)=>{let l,d,f=await eL(e,t.toString(),i,n,u),h=f.accounts.map(e=>({pubkey:new p.PublicKey(e.pubkey),isSigner:e.isSigner,isWritable:e.isWritable}));if("buy"===e)d=t,l=(l=(0,_.newSafeBN)(f.expectedAmountOut)).mul((0,_.newSafeBN)(1e4)).div((0,_.newSafeBN)(1e4+100*r));else if("sell"===e)l=t,d=(0,_.newSafeBN)(f.expectedAmountOut).mul((0,_.newSafeBN)(1e4-100*r)).div((0,_.newSafeBN)(1e4));else throw Error("Invalid type");h[5].pubkey.toString()!==I.WSOL_TOKEN_ADDRESS||u?h[6].pubkey.toString()!==I.WSOL_TOKEN_ADDRESS||u?h[5].pubkey.toString()===I.USDC_TOKEN_ADDRESS&&u?(h[7].pubkey=new p.PublicKey(s),h[9].pubkey=new p.PublicKey(o)):h[6].pubkey.toString()===I.USDC_TOKEN_ADDRESS&&u&&(h[9].pubkey=new p.PublicKey(s),h[7].pubkey=new p.PublicKey(o)):(h[9].pubkey=new p.PublicKey(s),h[7].pubkey=new p.PublicKey(o)):(h[7].pubkey=new p.PublicKey(s),h[9].pubkey=new p.PublicKey(o)),h[3].pubkey=new p.PublicKey(a);let m=c.Buffer.from(f.dataB64,"base64"),b=c.Buffer.concat([c.Buffer.alloc(2),m.subarray(42)]);return b.writeUInt16LE(b.length-2,0),{extraData:b,minAmountOut:"buy"===e?l:d,expectedAmountOut:(0,_.newSafeBN)(f.expectedAmountOut),accounts:h,aToB:f.aToB}};async function eV({type:e,amount:t,slippage:r,userAccountAddress:i,userSolAccountAddress:n,userTokenAccountAddress:a,protocolDetails:o,pairAddress:s,tokenAddress:u,usdPerSol:l,userUsdcAccountAddress:c,tokenDecimals:d,liquidityToken:f,rewardsData:p}){if(o.isUsdc){let h;if("buy"===e&&o.isUsdc){let e=(0,_.fromSafeBN)(t);h=(0,_.newSafeBN)(e*l/1e3)}else h=t;let m=await eW(e,h,r,u,s,i,a,c,o.isUsdc);return(0,D.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usdc",userAccountAddress:i,userWsolAccountAddress:n,userUsdAccountAddress:c,userTokenAccountAddress:a,usdPerSol:l,amountIn:t,tokenDecimals:d,priceInUsdc:f,slippage:r,steps:[{programAddress:eU,accounts:m.accounts,extraData:m.extraData}],rewardsData:p})}let{minAmountOut:h,expectedAmountOut:m,accounts:b,extraData:g}=await eW(e,t,r,u,s,i,a,n,o.isUsdc);return{swapInstruction:(0,D.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:h,userWalletAddress:i,inputTokenAccount:"buy"===e?n:a,solWrapperToken:{type:"wsol",userWrappedTokenAccount:n},steps:[{programAddress:eU,accounts:b,extraData:g}],rewardsData:p}),expectedAmountOut:m}}async function eG(e,t,r,i,n,a){let o=i(t.data.tickCurrentIndex,t.data.tickSpacing),s=t.data.tickSpacing*r(),u=[o,o+s,o+2*s,o-s,o-2*s],l=await Promise.all(u.map(e=>n(t.address,e).then(e=>e[0]))),c=await a(e,l),d=[];for(let e=0;e<c.length;e++){let i=c[e];if(i.exists)d.push(i);else{var f,p,h;d.push((f=l[e],p=u[e],h=t.programAddress,{address:f,data:{startTickIndex:p,ticks:Array(r()).fill({initialized:!1,liquidityNet:BigInt(0),liquidityGross:BigInt(0),feeGrowthOutsideA:BigInt(0),feeGrowthOutsideB:BigInt(0),rewardGrowthsOutside:[BigInt(0),BigInt(0),BigInt(0)]})},space:BigInt(0),executable:!1,lamports:(0,ei.lamports)(BigInt(0)),programAddress:h}))}}return d}async function ez(e,t,r,i){let n=r.feeTierIndexSeed[0]+256*r.feeTierIndexSeed[1];if(r.tickSpacing!==n)return(await i(e,t)).data}var ej=e.i(739663),eH=e.i(799689),eX=e.i(426436);let eQ="Ce6TQqeHC9p8KetsN6JsjHK7UTZk7nasjjnr7XxXp9F1",eJ=async(e,t)=>{let r=eX.pumpCreatorCache.get(e),i=r||t.creator;i&&null!==r||(i=(await ej.workersApi.post("/pump-creator",{bondingCurve:e})).creator,eX.pumpCreatorCache.set(e,i));let[n]=(0,eH.findProgramAddressSync)([c.Buffer.from("creator-vault","utf8"),new p.PublicKey(i).toBuffer()],new p.PublicKey(I.PUMP_PROGRAM_ADDRESS));return n},eY=async e=>{let t,r,i=e.protocolDetails.tokenProgram===eM.TokenProgram.TOKEN_2022?I.TOKEN_PROGRAM_2022_ADDRESS:I.TOKEN_PROGRAM_ADDRESS,n=[{pubkey:new p.PublicKey("4wTV1YmiEkRvAtNtsSGPtUrqRYQMe5SKy2uB4Jjaxnjf"),isSigner:!1,isWritable:!1},{pubkey:new p.PublicKey(e.protocolDetails.isMayhem?(t=["GesfTA3X2arioaHp8bbKdjG9vJtskViWACZoYvxp4twS","4budycTjhs9fD6xw62VBducVTNgMgJJ5BgtKq7mAZwn6","8SBKzEQU4nLSzcwF4a74F2iaUDQyTfjGndn6qUWBnrpR","4UQeTP1T39KZ9Sfxzo3WR5skgsaP6NZa87BAkuazLEKH","8sNeir4QsLsJdYpc9RZacohhK1Y5FLU3nC5LXgYB4aa6","Fh9HmeLNUMVCvejxCtCL2DbYaRyBFVJ5xrWkLnMH6fdk","463MEnMeGyJekNZFQSTUABBEbLnvMTALbT6ZmsxAbAdq","6AUH3WEHucYZyC61hqpqYUWVto5qA5hjHuNQ32GNnNxA"])[Math.floor(Math.random()*t.length)]:(r=["CebN5WGQ4jvEPvsVU4EoHEpgzq1VV7AbicfhtW4xC9iM","62qc2CNXwrYqQScmEdiZFFAnJR262PxWEuNQtxfafNgV","7VtfL8fvgNfhz17qKRMjzQEXgbdpnHHHQRh54R9jP2RJ","7hTckgnGnLQR6sdH7YkqFTAA7VwTfYFaZ6EhEsU3saCX","9rPYyANsfQZw3DnDmKE3YCQF5E8oD89UXoHn9JFEhJUz","AVmoTthdrX6tKt4nDjco2D775W2YK3sDhxPcMmzUAmTY","FWsW1xNtWscwNmKv6wVsU1iTzRN6wmmk3MjxRP5tT7hz","G5UZAVbAf46s7cKWoyKu8kYTip9DGTpbLZ2qa9Aq69dP"])[Math.floor(Math.random()*r.length)]),isSigner:!1,isWritable:!0},{pubkey:new p.PublicKey(e.tokenAddress),isSigner:!1,isWritable:!1},{pubkey:new p.PublicKey(e.bondingCurve),isSigner:!1,isWritable:!0},{pubkey:new p.PublicKey(e.protocolDetails.associatedBondingCurve),isSigner:!1,isWritable:!0},{pubkey:new p.PublicKey(e.userTokenAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new p.PublicKey(e.userAccountAddress),isSigner:!0,isWritable:!0},{pubkey:new p.PublicKey(I.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}];if("buy"===e.type)n.push({pubkey:new p.PublicKey(i),isSigner:!1,isWritable:!1}),n.push({pubkey:new p.PublicKey(await eJ(e.bondingCurve,e.protocolDetails)),isSigner:!1,isWritable:!0});else if("sell"===e.type)n.push({pubkey:new p.PublicKey(await eJ(e.bondingCurve,e.protocolDetails)),isSigner:!1,isWritable:!0}),n.push({pubkey:new p.PublicKey(i),isSigner:!1,isWritable:!1});else throw Error("Invalid type");n.push({pubkey:new p.PublicKey(eQ),isSigner:!1,isWritable:!1}),n.push({pubkey:new p.PublicKey(I.PUMP_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}),"buy"===e.type&&(n.push({pubkey:new p.PublicKey(function(e=new p.PublicKey(e$)){return(0,eH.findProgramAddressSync)([c.Buffer.from("global_volume_accumulator")],e)}()[0]),isSigner:!1,isWritable:!1}),n.push({pubkey:new p.PublicKey(e0(new p.PublicKey(e.userAccountAddress))[0]),isSigner:!1,isWritable:!0})),n.push({pubkey:new p.PublicKey("8Wf5TiAheLUqBrKXeYg2JtAFFMWtKdG2BSFgqUcPVwTt"),isSigner:!1,isWritable:!1}),n.push({pubkey:new p.PublicKey("pfeeUxB6jkeY1Hxd7CsFCAjcbHA9rWtchMGdZ6VojVZ"),isSigner:!1,isWritable:!1});let{amountIn:a,minimumAmountOut:o,expectedAmountOut:s}=((e,t,r,i,n,a)=>{let o,s,u,l=null;if("buy"===e){s=t;let e=t.mul((0,_.newSafeBN)(1e4)).div((0,_.newSafeBN)(1e4+I.PUMP_FEE_BASIS_POINTS));o=(u=i.sub(r.mul(i).div(r.add(e)).add((0,_.newSafeBN)(1)))).mul((0,_.newSafeBN)(1e4)).div((0,_.newSafeBN)(1e4+100*n));let a=(0,_.newSafeBN)(I.PUMP_V1_AVAILABLE_RESERVES_TOKEN_RAW).sub((0,_.newSafeBN)(I.PUMP_V1_INITIAL_VIRTUAL_LIQUIDITY_TOKEN_RAW).sub(i));return a.gt(new W.default(0))&&(o=W.default.min(o,a),u=W.default.min(u,a)),{amountIn:t,minimumAmountOut:o,expectedAmountOut:u}}if("sell"===e){if(l=t,a.isMayhem){let e=(0,_.newSafeBN)(I.PUMP_V1_INITIAL_VIRTUAL_LIQUIDITY_TOKEN_RAW).sub(i);if(e.lte(new W.default(0)))throw Error("Insufficient liquidity: pool is out of SOL due to Mayhem mode");l=W.default.min(t,e)}if(o=l,u=s=l.mul(r).div(i.add(l)).mul((0,_.newSafeBN)(1e4-I.PUMP_FEE_BASIS_POINTS)).div((0,_.newSafeBN)(1e4)).add((0,_.newSafeBN)(1)),s=s.mul((0,_.newSafeBN)(1e4-100*n)).div((0,_.newSafeBN)(1e4)),a.isMayhem&&l.lt(t)&&u.eq(new W.default(0)))throw Error("Insufficient liquidity: pool is out of SOL due to Mayhem mode");return{amountIn:l,minimumAmountOut:s,expectedAmountOut:u}}throw Error("Invalid type")})(e.type,e.amount,e.virtualLiquiditySol,e.virtualLiquidityToken,e.slippage,e.protocolDetails),u="buy"===e.type?"F5tfvbLog9VdGUPqBDTT8rgXvTTcq7e5UiGnupL1zvBq":I.PUMP_PROGRAM_ADDRESS;return{pumpInstruction:(0,D.buildAxiomRouterInstruction)({type:e.type,amountIn:a,minAmountOut:o,userWalletAddress:e.userAccountAddress,inputTokenAccount:"buy"===e.type?e.userAccountAddress:e.userTokenAccountAddress,solWrapperToken:null,steps:[{programAddress:u,accounts:n}],rewardsData:e.rewardsData}),amountIn:a,expectedAmountOut:s}},eZ=async({type:e,amount:t,virtualLiquiditySol:r,virtualLiquidityToken:i,tokenAddress:n,userTokenAccountAddress:a,protocolDetails:o,blockhash:s,wallet:u,bondingCurve:l,swapSettings:d,nonceInstruction:f,providers:h,rewardsData:m,tokenDecimals:b})=>{let g=[],y=await (0,x.addTokenAccountInstructions)({userWalletAddress:u.publicKey,tokenAddress:n,tokenProgramAddress:o.tokenProgram===eM.TokenProgram.TOKEN_2022?I.TOKEN_PROGRAM_2022_ADDRESS:I.TOKEN_PROGRAM_ADDRESS,instructions:g,userTokenAccountAddress:a});"buy"===e&&(t=t.sub((0,x.calculateAxiomFee)(t)));let{pumpInstruction:A,amountIn:w,expectedAmountOut:v}=await eY({type:e,amount:t,slippage:d.slippage,virtualLiquiditySol:r,virtualLiquidityToken:i,tokenAddress:n,userAccountAddress:u.publicKey,userTokenAccountAddress:y.userTokenAccountAddress,protocolDetails:o,bondingCurve:l,rewardsData:m});return g.push(A),"buy"===e&&(0,x.isVanishSigner)(u)&&g.push(new p.TransactionInstruction({keys:[{pubkey:new p.PublicKey(u.publicKey),isSigner:!0,isWritable:!0},{pubkey:new p.PublicKey(e0(new p.PublicKey(u.publicKey))[0]),isSigner:!1,isWritable:!0},{pubkey:new p.PublicKey(eQ),isSigner:!1,isWritable:!1},{pubkey:new p.PublicKey(I.PUMP_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}],programId:new p.PublicKey(I.PUMP_PROGRAM_ADDRESS),data:c.Buffer.from([249,69,164,218,150,103,84,138])})),await (0,x.handleMassSwapTxCreation)({instructions:g,wallet:u,swapSettings:d,blockhash:s,nonceInstruction:f,providers:h,rewardsPercentage:m.userRewardsPercentage,lookupTables:x.AXIOM_ADDRESS_LOOKUP_TABLES_V2,computeUnits:(0,x.calculateComputeUnits)({baseComputeUnits:15e4,isVanish:(0,x.isVanishSigner)(u)}),swapInfo:{amount:"buy"===e?w.add((0,_.newSafeBN)(1)):w,expectedAmountOut:v,tokenDecimals:b,sourceTokenAddress:"buy"===e?O.NATIVE_SOL_TOKEN_ADDRESS:n,targetTokenAddress:"buy"===e?n:O.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,x.calculateVanishLoanExtraLamports)({type:e,isWsol:!1,isUsdc:!1,isUsd1:!1,amount:t,expectedAmountOut:v,tokenDecimals:b,extraLamports:(0,_.newSafeBN)(I.EXTENDED_PUMP_RENT_EXEMPTION_LAMPORTS+I.TOKEN_ACCOUNT_RENT_EXEMPTION_LAMPORTS+("buy"===e?I.PUMP_VOLUME_ACCUMULATOR_RENT_EXEMPTION_LAMPORTS:0))})}})},e$="6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P";function e0(e,t=new p.PublicKey(e$)){return(0,eH.findProgramAddressSync)([c.Buffer.from("user_volume_accumulator"),e.toBuffer()],t)}var e1=e.i(233191);e.s(["swapRaydium",()=>e4],223560);let e2=new W.default(25),e5=new W.default(1e4),e6=new W.default(1),e3=new W.default(0);async function e4({pairAddress:e,tokenAddress:t,type:r,amount:i,tokenDecimals:n,liquiditySol:a,liquidityToken:o,userTokenAccountAddress:s,protocolDetails:u,blockhash:l,swapSettings:c,wallet:d,nonceInstruction:f,providers:p,rewardsData:h,usdPerSol:m}){let b=[],g=await (0,x.addTokenAccountInstructions)({userWalletAddress:d.publicKey,tokenAddress:t,tokenProgramAddress:I.TOKEN_PROGRAM_ADDRESS,instructions:b,userTokenAccountAddress:s,wsolAmount:"buy"===r?i:e3,usdc:u.isUsdc,usd1:u.isUsd1}),y=(0,_.newSafeBN)(0);"buy"===r&&(y=(0,x.calculateAxiomFee)(i),i=i.sub(y));let{swapInstruction:A,expectedAmountOut:w}=await e8({type:r,amount:i,slippage:c.slippage,userAccountAddress:d.publicKey,userTokenAccountAddress:g.userTokenAccountAddress,userSolAccountAddress:g.userWsolAccountAddress,protocolDetails:u,pairAddress:e,tokenDecimals:n,liquiditySol:a,liquidityToken:o,userUsdcAccountAddress:g.userUsdcAccountAddress,userUsd1AccountAddress:g.userUsd1AccountAddress,usdPerSol:m,rewardsData:h});return b.push(A),await (0,x.handleMassSwapTxCreation)({instructions:b,wallet:d,swapSettings:c,blockhash:l,nonceInstruction:f,providers:p,lookupTables:x.AXIOM_ADDRESS_LOOKUP_TABLES_V2,computeUnits:(0,x.calculateComputeUnits)({baseComputeUnits:u.isUsd1||u.isUsdc?15e4:1e5,isUsdc:u.isUsdc,isUsd1:u.isUsd1,isVanish:(0,x.isVanishSigner)(d)}),rewardsPercentage:h.userRewardsPercentage,swapInfo:{amount:i,sourceTokenAddress:"buy"===r?O.NATIVE_SOL_TOKEN_ADDRESS:t,targetTokenAddress:"buy"===r?t:O.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,x.calculateVanishLoanExtraLamports)({type:r,isWsol:!0,isUsdc:u.isUsdc??!1,isUsd1:u.isUsd1??!1,amount:i,expectedAmountOut:w,tokenDecimals:n}),expectedAmountOut:w,tokenDecimals:n}})}async function e8({type:e,amount:t,slippage:r,userAccountAddress:i,userTokenAccountAddress:n,userSolAccountAddress:a,protocolDetails:o,pairAddress:s,tokenDecimals:u,liquiditySol:l,liquidityToken:c,userUsdcAccountAddress:d,userUsd1AccountAddress:f,usdPerSol:p,rewardsData:h}){if(o.isUsd1){let l=e7({type:e,pairAddress:s,userAccountAddress:i,userQuoteAccountAddress:f,userTokenAccountAddress:n,protocolDetails:o});return await (0,D.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usd1",userAccountAddress:i,userWsolAccountAddress:a,userUsdAccountAddress:f,userTokenAccountAddress:n,usdPerSol:p,amountIn:t,tokenDecimals:u,priceInUsdc:c,slippage:r,steps:[{programAddress:I.RAYDIUM_V4_PROGRAM_ADDRESS,accounts:l}],rewardsData:h})}if(o.isUsdc){let l=e7({type:e,pairAddress:s,userAccountAddress:i,userQuoteAccountAddress:d,userTokenAccountAddress:n,protocolDetails:o});return await (0,D.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usdc",userAccountAddress:i,userWsolAccountAddress:a,userUsdAccountAddress:d,userTokenAccountAddress:n,usdPerSol:p,amountIn:t,tokenDecimals:u,priceInUsdc:c,slippage:r,steps:[{programAddress:I.RAYDIUM_V4_PROGRAM_ADDRESS,accounts:l}],rewardsData:h})}let m=e7({type:e,pairAddress:s,userAccountAddress:i,userQuoteAccountAddress:a,userTokenAccountAddress:n,protocolDetails:o}),{minAmountOut:b,expectedAmountOut:g}=e9({amountIn:t,slippage:r,liquiditySol:l,liquidityToken:c,decimals:u,type:e});return{swapInstruction:(0,D.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:b,userWalletAddress:i,inputTokenAccount:"buy"===e?a:n,solWrapperToken:{type:"wsol",userWrappedTokenAccount:a},steps:[{programAddress:I.RAYDIUM_V4_PROGRAM_ADDRESS,accounts:m}],rewardsData:h}),expectedAmountOut:g}}function e7(e){let{type:t,pairAddress:r,userAccountAddress:i,userQuoteAccountAddress:n,userTokenAccountAddress:a,protocolDetails:o}=e,s=[{pubkey:new p.PublicKey(I.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new p.PublicKey(r),isSigner:!1,isWritable:!0},{pubkey:new p.PublicKey("5Q544fKrFoe6tsEbD7S8EmxGTJYAKtTVhAW5Q5pge4j1"),isSigner:!1,isWritable:!1}];return s.push({pubkey:new p.PublicKey(o.baseVault),isSigner:!1,isWritable:!0},{pubkey:new p.PublicKey(o.quoteVault),isSigner:!1,isWritable:!0}),s.push({pubkey:new p.PublicKey("buy"===t?n:a),isSigner:!1,isWritable:!0},{pubkey:new p.PublicKey("buy"===t?a:n),isSigner:!1,isWritable:!0},{pubkey:new p.PublicKey(i),isSigner:!0,isWritable:!0}),s}let e9=({amountIn:e,slippage:t,liquiditySol:r,liquidityToken:i,decimals:n,type:a})=>{let o=e,s=e3;"buy"===a&&(s=(0,x.calculateAxiomFee)(o));let u=function(e,t){let{div:r,mod:i}=e.divmod(t);return i.gt(e3)?r.add(e6):r}((o=o.sub(s)).mul(e2),e5),l=(0,_.newSafeBN)(1e9*r),c=(0,_.newSafeBN)(i*10**n),d=o.sub(u),f=e3;if("buy"===a){let e=l.add(d);f=c.mul(d).div(e)}else if("sell"===a){let e=c.add(d);f=l.mul(d).div(e)}else throw Error("invalid type");return{minAmountOut:"buy"===a?f.mul((0,_.newSafeBN)(1e4)).div((0,_.newSafeBN)(1e4+100*t)):f.mul((0,_.newSafeBN)(1e4-100*t)).div((0,_.newSafeBN)(1e4)),expectedAmountOut:f}};var te=e.i(49498),tt=e.i(191476),tr=e.i(847994);function ti(e,t,r){try{let i;if("object"!=typeof e||null===e||!("pool"in e)||!("exbitmap"in e))return null;let n=c.Buffer.from(e.pool,"base64"),a=c.Buffer.from(e.exbitmap,"base64"),o=tr.base58.encode(n.subarray(201,233)),s=tr.base58.encode(n.subarray(73,105))===r;i="buy"===t?s:!s;let u=n.subarray(235,237).readUInt16LE(0);if(new W.default(n.subarray(237,245),"le").eq(te.ZERO))throw Error("No liquidity deposited yet in the pool");let l=n.subarray(269,273).readInt32LE(0),d=te.TickUtils.getTickArrayStartIndexByTick(l,u),f=[];for(let e=0;e<16;e++)f.push(new W.default(n.subarray(904+8*e,904+8*e+8),"le"));let h=new p.PublicKey(a.subarray(8,40)),m=40,b=[];for(let e=0;e<14;e++){let e=[];for(let t=0;t<8;t++)e.push(new W.default(a.subarray(m,m+8),"le")),m+=8;b.push(e)}let g=[];for(let e=0;e<14;e++){let e=[];for(let t=0;t<8;t++)e.push(new W.default(a.subarray(m,m+8),"le")),m+=8;g.push(e)}let y={poolId:h,positiveTickArrayBitmap:b,negativeTickArrayBitmap:g},x=te.TickUtils.getInitializedTickArrayInRange(f,y,u,d,7),A=[],w=[],v=[],S=!1;for(let e of x)e<d?w.push(e):e>d?v.push(e):S=!0;for(let e of(i?(w=S?w.slice(0,1):w.slice(0,2),v=v.slice(0,4)):(v=S?v.slice(0,1):v.slice(0,2),w=w.slice(0,4)),x.filter(e=>w.includes(e)||v.includes(e)||e===d))){let{publicKey:t}=(0,te.getPdaTickArrayAddress)(new p.PublicKey(D.RAYDIUM_CLMM_PROGRAM_ADDRESS),y.poolId,e);e===d?A.unshift(t.toString()):A.push(t.toString())}let T=(0,eH.findProgramAddressSync)([c.Buffer.from("pool_tick_array_bitmap_extension"),y.poolId.toBuffer()],new p.PublicKey(D.RAYDIUM_CLMM_PROGRAM_ADDRESS))[0];return i||A.reverse(),A.unshift(T.toString()),{observationState:o,remainingAccounts:A}}catch{return null}}async function tn({type:e,amount:t,tokenAddress:r,userTokenAccountAddress:i,protocolDetails:n,blockhash:a,wallet:o,pairAddress:s,swapSettings:u,nonceInstruction:l,providers:c,rewardsData:d,usdPerSol:f,tokenDecimals:p,liquidityToken:h,supplementalData:m}){let b=[],g=n.isUsdc?I.USDC_TOKEN_ADDRESS:n.isUsd1?I.USD1_TOKEN_ADDRESS:I.WSOL_TOKEN_ADDRESS,y=n.tokenMintA===g?n.tokenProgramB:n.tokenProgramA,A=await (0,x.addTokenAccountInstructions)({userWalletAddress:o.publicKey,tokenAddress:r,tokenProgramAddress:y,instructions:b,userTokenAccountAddress:i,wsolAmount:"buy"===e?t:te.ZERO,usdc:n.isUsdc,usd1:n.isUsd1});"buy"===e&&(t=t.sub((0,x.calculateAxiomFee)(t)));let{swapInstruction:w,expectedAmountOut:v}=await ts({type:e,amount:t,slippage:u.slippage,userAccountAddress:o.publicKey,userTokenAccountAddress:A.userTokenAccountAddress,userSolAccountAddress:A.userWsolAccountAddress,protocolDetails:n,pairAddress:s,tokenAddress:r,tokenDecimals:p,liquidityToken:h,userUsdcAccountAddress:A.userUsdcAccountAddress,userUsd1AccountAddress:A.userUsd1AccountAddress,usdPerSol:f,rewardsData:d,supplementalData:m});return b.push(w),n.isUsdc&&(0,x.isVanishSigner)(o)&&(0,x.addTokenAccountCloseInstruction)(o.publicKey,A.userUsdcAccountAddress,b),n.isUsd1&&(0,x.isVanishSigner)(o)&&(0,x.addTokenAccountCloseInstruction)(o.publicKey,A.userUsd1AccountAddress,b),await (0,x.handleMassSwapTxCreation)({instructions:b,wallet:o,swapSettings:u,blockhash:a,nonceInstruction:l,providers:c,computeUnits:(0,x.calculateComputeUnits)({baseComputeUnits:2e5,isUsdc:n.isUsdc,isUsd1:n.isUsd1,isVanish:(0,x.isVanishSigner)(o)}),lookupTables:x.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:d.userRewardsPercentage,swapInfo:{amount:t,expectedAmountOut:v,tokenDecimals:p,sourceTokenAddress:"buy"===e?O.NATIVE_SOL_TOKEN_ADDRESS:r,targetTokenAddress:"buy"===e?r:O.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,x.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:n.isUsdc??!1,isUsd1:n.isUsd1??!1,amount:t,expectedAmountOut:v,tokenDecimals:p})}})}async function ta(e,t,r,i,n,a,o){try{return await S.axiomApi.post("/swap-raydium-clmm",{type:e,amount:t,tokenAddress:r,pairAddress:i,isUsdc:n,isUsd1:a,isWsol:o})}catch(e){if(e instanceof tt.AxiosError&&"Invalid tick array"===e.response?.data?.error)throw Error("Not enough liquidity available");throw Error("Error calculating swap")}}let to=async(e,t,r,i,n)=>{let a,o,s,u=await ta(e,t.toString(),i,n);if("buy"===e)o=t,a=(s=(0,_.newSafeBN)(u.minAmountOut)).mul((0,_.newSafeBN)(1e4)).div((0,_.newSafeBN)(1e4+100*r));else if("sell"===e)a=t,o=(s=(0,_.newSafeBN)(u.minAmountOut)).mul((0,_.newSafeBN)(1e4-100*r)).div((0,_.newSafeBN)(1e4));else throw Error("Invalid type");return"buy"===e?{minAmountOut:a,expectedAmountOut:s,observationState:u.observationState,remainingAccounts:u.remainingAccounts}:{minAmountOut:o,expectedAmountOut:s,observationState:u.observationState,remainingAccounts:u.remainingAccounts}};async function ts({type:e,amount:t,slippage:r,userAccountAddress:i,userSolAccountAddress:n,userTokenAccountAddress:a,protocolDetails:o,pairAddress:s,tokenAddress:u,usdPerSol:l,userUsdcAccountAddress:c,userUsd1AccountAddress:d,tokenDecimals:f,liquidityToken:p,rewardsData:h,supplementalData:m}){let b,g,y,x;if(o.isUsdc){let d,b,g;if("buy"===e&&o.isUsdc){let e=(0,_.fromSafeBN)(t);d=(0,_.newSafeBN)(e*l/1e3)}else d=t;let y=ti(m,e,I.USDC_TOKEN_ADDRESS);if(y)b=y.observationState,g=y.remainingAccounts;else{let t=await ta(e,d.toString(),u,s,o.isUsdc);b=t.observationState,g=t.remainingAccounts}let x=tu({type:e,userAccountAddress:i,userQuoteAccountAddress:c,userTokenAccountAddress:a,protocolDetails:o,pairAddress:s,tokenAddress:u,observationState:b,remainingAccounts:g,isUsdc:!0,isUsd1:!1});return(0,D.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usdc",userAccountAddress:i,userWsolAccountAddress:n,userUsdAccountAddress:c,userTokenAccountAddress:a,rewardsData:h,usdPerSol:l,amountIn:t,tokenDecimals:f,priceInUsdc:p,slippage:r,steps:[{programAddress:D.RAYDIUM_CLMM_PROGRAM_ADDRESS,accounts:x}]})}if(o.isUsd1){let c,b,g;if("buy"===e&&o.isUsd1){let e=(0,_.fromSafeBN)(t);c=(0,_.newSafeBN)(e*l/1e3)}else c=t;let y=ti(m,e,I.USD1_TOKEN_ADDRESS);if(y)b=y.observationState,g=y.remainingAccounts;else{let t=await ta(e,c.toString(),u,s,!1,o.isUsd1);b=t.observationState,g=t.remainingAccounts}let x=tu({type:e,userAccountAddress:i,userQuoteAccountAddress:d,userTokenAccountAddress:a,protocolDetails:o,pairAddress:s,tokenAddress:u,observationState:b,remainingAccounts:g,isUsdc:!1,isUsd1:!0});return await (0,D.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usd1",userAccountAddress:i,userWsolAccountAddress:n,userUsdAccountAddress:d,userTokenAccountAddress:a,amountIn:t,usdPerSol:l,tokenDecimals:f,priceInUsdc:p,slippage:r,steps:[{programAddress:D.RAYDIUM_CLMM_PROGRAM_ADDRESS,accounts:x}],rewardsData:h})}let A=ti(m,e,I.WSOL_TOKEN_ADDRESS);if(A){let i,n,a=("buy"===e?n=(i=(0,_.newSafeBN)((0,_.fromSafeBN)(t)/p*10**(f-9))).mul((0,_.newSafeBN)(1e4)).div((0,_.newSafeBN)(1e4+100*r)):(i=(0,_.newSafeBN)((0,_.fromSafeBN)(t)*p*10**(9-f)),n=(0,_.newSafeBN)((0,_.fromSafeBN)(i)*(100-r)/100)),{minAmountOut:n,expectedAmountOut:i});b=a.minAmountOut,g=a.expectedAmountOut,y=A.observationState,x=A.remainingAccounts}else{let i=await to(e,t,r,u,s);b=i.minAmountOut,g=i.expectedAmountOut,y=i.observationState,x=i.remainingAccounts}let w=tu({type:e,userAccountAddress:i,userQuoteAccountAddress:n,userTokenAccountAddress:a,protocolDetails:o,pairAddress:s,tokenAddress:u,observationState:y,remainingAccounts:x,isUsdc:!1,isUsd1:!1});return{swapInstruction:(0,D.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:b,userWalletAddress:i,inputTokenAccount:"buy"===e?n:a,solWrapperToken:{type:"wsol",userWrappedTokenAccount:n},steps:[{programAddress:D.RAYDIUM_CLMM_PROGRAM_ADDRESS,accounts:w}],rewardsData:h}),expectedAmountOut:g}}function tu(e){let t=e.protocolDetails.tokenMintA===e.tokenAddress,r=t?e.protocolDetails.tokenVaultB:e.protocolDetails.tokenVaultA,i=t?e.protocolDetails.tokenVaultA:e.protocolDetails.tokenVaultB,n=e.isUsdc?I.USDC_TOKEN_ADDRESS:e.isUsd1?I.USD1_TOKEN_ADDRESS:I.WSOL_TOKEN_ADDRESS,a=[{pubkey:new p.PublicKey(e.userAccountAddress),isSigner:!0,isWritable:!0},{pubkey:new p.PublicKey(e.protocolDetails.configAddress),isSigner:!1,isWritable:!1},{pubkey:new p.PublicKey(e.pairAddress),isSigner:!1,isWritable:!0},{pubkey:new p.PublicKey("buy"===e.type?e.userQuoteAccountAddress:e.userTokenAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new p.PublicKey("buy"===e.type?e.userTokenAccountAddress:e.userQuoteAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new p.PublicKey("buy"===e.type?r:i),isSigner:!1,isWritable:!0},{pubkey:new p.PublicKey("buy"===e.type?i:r),isSigner:!1,isWritable:!0},{pubkey:new p.PublicKey(e.observationState),isSigner:!1,isWritable:!0},{pubkey:new p.PublicKey(I.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new p.PublicKey(I.TOKEN_PROGRAM_2022_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new p.PublicKey(D.MEMO_V2_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new p.PublicKey("buy"===e.type?n:e.tokenAddress),isSigner:!1,isWritable:!1},{pubkey:new p.PublicKey("buy"===e.type?e.tokenAddress:n),isSigner:!1,isWritable:!1}];for(let t of e.remainingAccounts)a.push({pubkey:new p.PublicKey(t),isSigner:!1,isWritable:!0});return a}let tl=(0,_.newSafeBN)(0),tc=async({pairAddress:e,tokenAddress:t,type:r,amount:i,liquiditySol:n,liquidityToken:a,userTokenAccountAddress:o,protocolDetails:s,blockhash:u,wallet:l,swapSettings:c,tokenDecimals:d,nonceInstruction:f,providers:p,rewardsData:h,usdPerSol:m})=>{var b,g,y;let A;"buy"===r&&(i=i.sub((0,x.calculateAxiomFee)(i)));let w=function(e,t,r,i,n,a){let o,s,u=(0,_.newSafeBN)(1e9*e),l=(0,_.newSafeBN)(t*10**a);if("buy"===i)o=u,s=l;else if("sell"===i)o=l,s=u;else throw Error("invalid type");let c=tl;"buy"===i&&(c=(0,x.calculateAxiomFee)(r));let d=r.mul((0,_.newSafeBN)(n)).div((0,_.newSafeBN)(1e6)),f=r.sub(c).sub(d),p=tp(o.mul(s),o.add(f));return s.sub(p)}(n,a,i,r,s.tradeFeeRate,d),v=(b=w,g=c.slippage,y=r,A=(0,_.newSafeBN)(1e4),"buy"===y?tp(b.mul(A),A.add((0,_.newSafeBN)(100*g))):tp(b.mul((0,_.newSafeBN)((100-g)*100)),A)),S=[],T=await (0,x.addTokenAccountInstructions)({userWalletAddress:l.publicKey,tokenAddress:t,tokenProgramAddress:s.tokenProgram,instructions:S,userTokenAccountAddress:o,wsolAmount:"buy"===r?i:tl,psol:s.isPsol,usdc:s.isUsdc,usd1:s.isUsd1}),{swapInstruction:E,expectedAmountOut:k}=await td({type:r,amount:i,minAmountOutRaw:v,slippage:c.slippage,userAccountAddress:l.publicKey,userTokenAccountAddress:T.userTokenAccountAddress,userSolAccountAddress:T.userWsolAccountAddress,userUsdcAccountAddress:T.userUsdcAccountAddress,userUsd1AccountAddress:T.userUsd1AccountAddress,protocolDetails:s,pairAddress:e,tokenAddress:t,tokenDecimals:d,liquidityToken:a,usdPerSol:m,amountOutRaw:w,rewardsData:h});return S.push(E),s.isUsdc&&(0,x.isVanishSigner)(l)&&(0,x.addTokenAccountCloseInstruction)(l.publicKey,T.userUsdcAccountAddress,S),s.isUsd1&&(0,x.isVanishSigner)(l)&&(0,x.addTokenAccountCloseInstruction)(l.publicKey,T.userUsd1AccountAddress,S),await (0,x.handleMassSwapTxCreation)({instructions:S,wallet:l,swapSettings:c,blockhash:u,nonceInstruction:f,providers:p,lookupTables:x.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:h.userRewardsPercentage,computeUnits:(0,x.calculateComputeUnits)({baseComputeUnits:s.isUsdc||s.isUsd1?2e5:145e3,isUsdc:s.isUsdc,isUsd1:s.isUsd1,isVanish:(0,x.isVanishSigner)(l)}),swapInfo:{amount:i,expectedAmountOut:k,tokenDecimals:d,sourceTokenAddress:"buy"===r?O.NATIVE_SOL_TOKEN_ADDRESS:t,targetTokenAddress:"buy"===r?t:O.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,x.calculateVanishLoanExtraLamports)({type:r,isWsol:!0,isUsdc:s.isUsdc??!1,isUsd1:s.isUsd1??!1,amount:i,expectedAmountOut:k,tokenDecimals:d})}})};async function td({type:e,amount:t,minAmountOutRaw:r,slippage:i,userAccountAddress:n,userSolAccountAddress:a,userTokenAccountAddress:o,userUsdcAccountAddress:s,userUsd1AccountAddress:u,protocolDetails:l,pairAddress:c,tokenAddress:d,tokenDecimals:f,liquidityToken:h,usdPerSol:m,amountOutRaw:b,rewardsData:g}){if(l.isUsdc){let r=tf(new p.PublicKey(n),l,new p.PublicKey(o),new p.PublicKey(s),c,d,e,!0,!1);return(0,D.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usdc",userAccountAddress:n,userWsolAccountAddress:a,userUsdAccountAddress:s,userTokenAccountAddress:o,usdPerSol:m,amountIn:t,tokenDecimals:f,priceInUsdc:h,slippage:i,steps:[{programAddress:I.RAYDIUM_CPMM_PROGRAM_ADDRESS,accounts:r}],rewardsData:g})}if(l.isUsd1){let r=tf(new p.PublicKey(n),l,new p.PublicKey(o),new p.PublicKey(u),c,d,e,!1,!0);return(0,D.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usd1",userAccountAddress:n,userWsolAccountAddress:a,userUsdAccountAddress:u,userTokenAccountAddress:o,usdPerSol:m,amountIn:t,tokenDecimals:f,priceInUsdc:h,slippage:i,steps:[{programAddress:I.RAYDIUM_CPMM_PROGRAM_ADDRESS,accounts:r}],rewardsData:g})}let y=tf(new p.PublicKey(n),l,new p.PublicKey(o),new p.PublicKey(a),c,d,e,!1,!1);return{swapInstruction:(0,D.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:r,userWalletAddress:n,inputTokenAccount:"buy"===e?a:o,solWrapperToken:{type:l.isPsol?"psol":"wsol",userWrappedTokenAccount:a},steps:[{programAddress:I.RAYDIUM_CPMM_PROGRAM_ADDRESS,accounts:y}],rewardsData:g}),expectedAmountOut:b}}let tf=(e,t,r,i,n,a,o,s=!1,u=!1)=>{let l=[],c="buy"===o,d=t.isPsol?x.PSOL_TOKEN_ADDRESS:s?I.USDC_TOKEN_ADDRESS:u?I.USD1_TOKEN_ADDRESS:I.WSOL_TOKEN_ADDRESS;return l.push({pubkey:e,isSigner:!0,isWritable:!0}),l.push({pubkey:new p.PublicKey(t.authority),isSigner:!1,isWritable:!0}),l.push({pubkey:new p.PublicKey(t.ammConfig),isSigner:!1,isWritable:!0}),l.push({pubkey:new p.PublicKey(n),isSigner:!1,isWritable:!0}),l.push({pubkey:c?i:r,isSigner:!1,isWritable:!0}),l.push({pubkey:c?r:i,isSigner:!1,isWritable:!0}),l.push({pubkey:new p.PublicKey(c?t.solVault:t.tokenVault),isSigner:!1,isWritable:!0}),l.push({pubkey:new p.PublicKey(c?t.tokenVault:t.solVault),isSigner:!1,isWritable:!0}),l.push({pubkey:new p.PublicKey(c?I.TOKEN_PROGRAM_ADDRESS:t.tokenProgram),isSigner:!1,isWritable:!1}),l.push({pubkey:new p.PublicKey(c?t.tokenProgram:I.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}),l.push({pubkey:new p.PublicKey(c?d:a),isSigner:!1,isWritable:!0}),l.push({pubkey:new p.PublicKey(c?a:d),isSigner:!1,isWritable:!0}),l.push({pubkey:new p.PublicKey(t.observationState),isSigner:!1,isWritable:!0}),l};function tp(e,t){let r=e.div(t);return e.mod(t).gt(tl)&&(r=r.add((0,_.newSafeBN)(1))),r}var th=e.i(24010),tm=e.i(767714);let tb="vrTGoBuy5rYSxAfV3jaRJWHH6nN9WK4NRExGxsk1bCJ",tg=async(e,t,r,i,n)=>{let a=((e,t,r,i)=>{if("buy"===e){let e=(0,tm.computeVertigoFees)(r,t),n=t.sub(e),{amountB:a}=(0,tm.vertigoTestSwapSolForToken)(r,i,n);if(a.lte((0,_.newSafeBN)(0)))throw Error("Would have received 0 tokens");return a}let{amountA:n}=(0,tm.vertigoTestSwapTokenForSol)(r,i,t);if(n.lte((0,_.newSafeBN)(0)))throw Error("Would have received 0 SOL");let a=(0,tm.computeVertigoFees)(r,n);return n.sub(a)})(e,t,i,n);if("buy"===e)return{minAmountOut:a.mul((0,_.newSafeBN)(1e4)).div((0,_.newSafeBN)(1e4+100*r)),expectedAmountOut:a};if("sell"===e)return{minAmountOut:a.mul((0,_.newSafeBN)(1e4-100*r)).div((0,_.newSafeBN)(1e4)),expectedAmountOut:a};throw Error("Invalid type")},ty=async({type:e,amount:t,slippage:r,userAccountAddress:i,userSolAccountAddress:n,userTokenAccountAddress:a,protocolDetails:o,pairAddress:s,tokenAddress:u,liquidityTokenRaw:l,rewardsData:c})=>{let{minAmountOut:d,expectedAmountOut:f}=await tg(e,t,r,o,l),[h]=(0,eH.findProgramAddressSync)([new p.PublicKey(s).toBuffer(),new p.PublicKey(I.WSOL_TOKEN_ADDRESS).toBuffer()],new p.PublicKey(tb)),[m]=(0,eH.findProgramAddressSync)([new p.PublicKey(s).toBuffer(),new p.PublicKey(u).toBuffer()],new p.PublicKey(tb)),b=[{pubkey:new p.PublicKey(s),isSigner:!1,isWritable:!0},{pubkey:new p.PublicKey(i),isSigner:!0,isWritable:!0},{pubkey:new p.PublicKey(o.owner),isSigner:!1,isWritable:!1},{pubkey:new p.PublicKey(I.WSOL_TOKEN_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new p.PublicKey(u),isSigner:!1,isWritable:!1},{pubkey:new p.PublicKey(n),isSigner:!1,isWritable:!0},{pubkey:new p.PublicKey(a),isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:new p.PublicKey(I.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new p.PublicKey(o.tokenProgram),isSigner:!1,isWritable:!1},{pubkey:new p.PublicKey(I.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new p.PublicKey(tb),isSigner:!1,isWritable:!1}];return{swapInstruction:(0,D.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:d,userWalletAddress:i,inputTokenAccount:"buy"===e?n:a,solWrapperToken:{type:"wsol",userWrappedTokenAccount:n},steps:[{programAddress:tb,accounts:b}],rewardsData:c}),expectedAmountOut:f}},tx=async({type:e,amount:t,tokenAddress:r,userTokenAccountAddress:i,protocolDetails:n,blockhash:a,wallet:o,pairAddress:s,swapSettings:u,nonceInstruction:l,providers:c,rewardsData:d,liquidityTokenRaw:f,tokenDecimals:p})=>{let h=[],m=await (0,x.addTokenAccountInstructions)({userWalletAddress:o.publicKey,tokenAddress:r,tokenProgramAddress:n.tokenProgram,instructions:h,userTokenAccountAddress:i,wsolAmount:"buy"===e?t:(0,_.newSafeBN)(0)});"buy"===e&&(t=t.sub((0,x.calculateAxiomFee)(t)));let{swapInstruction:b,expectedAmountOut:g}=await ty({type:e,amount:t,slippage:u.slippage,userAccountAddress:o.publicKey,userTokenAccountAddress:m.userTokenAccountAddress,userSolAccountAddress:m.userWsolAccountAddress,protocolDetails:n,pairAddress:s,tokenAddress:r,liquidityTokenRaw:f,rewardsData:d});return h.push(b),await (0,x.handleMassSwapTxCreation)({instructions:h,wallet:o,swapSettings:u,blockhash:a,nonceInstruction:l,providers:c,computeUnits:(0,x.calculateComputeUnits)({baseComputeUnits:15e4,isVanish:(0,x.isVanishSigner)(o)}),lookupTables:x.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:d.userRewardsPercentage,swapInfo:{amount:t,expectedAmountOut:g,tokenDecimals:p,sourceTokenAddress:"buy"===e?O.NATIVE_SOL_TOKEN_ADDRESS:r,targetTokenAddress:"buy"===e?r:O.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,x.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:!1,amount:t,expectedAmountOut:g,tokenDecimals:p})}})};var tA=e.i(432265);let tw=new Set(["Raydium V4","Pump V1","Raydium CPMM","Meteora DLMM","Pump AMM","LaunchLab","Meteora AMM","Virtual Curve","Meteora AMM V2","Boop","Moonshot","Raydium CLMM",I.PROTOCOL_VERTIGO,"Orca","Heaven","Sugar"]);async function tv(e){let t;if("full"===e.type)return e;if("pair"===e.type)t=await S.axiomApiV2.get("/swap-info",{pairAddress:e.pairAddress});else if("token"===e.type)t=await S.axiomApiV2.get("/swap-info",{tokenAddress:e.tokenAddress});else throw Error("Invalid pair info type");return e.fetchLiquidity?{type:"full",...t}:{type:"full",...t,liquiditySol:e.liquiditySol,liquidityToken:e.liquidityToken}}function tS(e,t,r,i,n){let a,{protocol:o,protocolDetails:s,liquiditySol:u,liquidityToken:l,tokenDecimals:c,tokenAddress:d}=e,{balanceSol:f,tokenAccounts:p}=i,{slippage:h,priorityFeeSol:m,bribeFeeSol:b,mevProtection:g,enhancedMevProtection:y}=r,{type:x}=t;if(!tw.has(o))throw Error(`Unsupported protocol: ${o}`);if("buy"===x&&t.amountSol<=0)throw Error("Amount to buy must be greater than 0 SOL");if(h<0)throw Error("Slippage must be greater than 0");if(g&&!b)throw Error("Bribe is required with MEV reduction");if(y&&b<.001)throw Error("Minimum bribe with enhanced MEV protection is 0.001 SOL");let A=p.find(e=>e.tokenAddress.toString()===d)?.balanceRaw;if("sell"===x&&(void 0===A||"0"===A))throw Error("Token balance not found");if("sell"===x&&r.slippage>100)throw Error("Sell slippage must be less than or equal to 100");let w=0;"Moonshot"!==o&&"Pump V1"!==o&&w++,void 0===A&&w++;let v=(I.BASE_TRANSACTION_FEE_LAMPORTS+w*I.TOKEN_ACCOUNT_RENT_EXEMPTION_LAMPORTS+I.WALLET_RENT_EXEMPTION_LAMPORTS)/1e9;if(f<("buy"===x?t.amountSol:0))throw Error("Insufficient SOL balance for buy amount");if(f<("buy"===x?t.amountSol:0)+m)throw Error("Insufficient SOL balance to cover priority fee");if(f<("buy"===x?t.amountSol:0)+m+b)throw Error("Insufficient SOL balance to cover priority fee and bribe fee");if(f<("buy"===x?t.amountSol:0)+v+b+m)throw Error("Insufficient SOL balance to cover all fees including Solana base tx fee and rent fees");if("buy"===x)a=(0,_.newSafeBN)(1e9*t.amountSol);else if("sell"===x){if(!A)throw Error("Token balance not found");let e=(0,_.newSafeBN)(A);if(e.isZero())throw Error("Your token balance is 0");let r=t.amount.units;if("percentage"===r){let r=t.amount.percentage;if(r>100)throw Error("Percentage to sell must be less than or equal to 100");if(r<=0)throw Error("Percentage to sell must be greater than 0");a=e.mul((0,_.newSafeBN)(100*r)).div((0,_.newSafeBN)(1e4))}else if("solana"===r){if((a=(0,P.estimateSellInverse)({protocol:o,targetNativeAmount:t.amount.amountSol,liquidityNative:u,liquidityToken:l,decimals:c,protocolDetails:s,usdPerNative:n??E.FALLBACK_USD_PER_SOL})).isZero())throw Error("Must sell more than 0 tokens");if(a.gt(e))if(a.gt(e.mul((0,_.newSafeBN)(10100)).div((0,_.newSafeBN)(1e4))))throw Error(`Not enough tokens to sell for ${t.amount.amountSol} SOL`);else a=e}else if("tokens"===r){if((a=(0,_.newSafeBN)(t.amount.amountTokens*10**c)).isZero())throw Error("Must sell more than 0 tokens");if(a.gt(e))if(a.gt(e.mul((0,_.newSafeBN)(10100)).div((0,_.newSafeBN)(1e4))))throw Error(`Not enough tokens to sell ${t.amount.amountTokens} tokens`);else a=e}else throw Error("Invalid units")}else throw Error("Invalid order type");return{amount:a,extraFees:v}}async function tT(e){let t,r,{swapParams:i,preset:n,wallet:a,blockhash:o,rewardsData:s}=e,{tokenAccounts:u}=a,{priorityFeeSol:l}=n,{type:c,pairInfo:d}=i,{pairAddress:f,tokenAddress:h,protocol:m,protocolDetails:b,liquiditySol:g,liquidityToken:y,tokenDecimals:x}=d;if("buy"===e.swapParams.type&&!e.skipLiquidityCheck&&d.liquiditySol<15&&d.protocol!==I.PROTOCOL_VERTIGO&&!b?.fairLaunch)throw Error("This pair has too little liquidity and buys are not permitted");if(i.pairInfo.tokenAddress===v.AXIOM_LST_MINT)throw Error("You are not allowed to trade Axiom Staked SOL");let{amount:A}=tS(d,i,n,a,e.usdPerSol);if(I.LAUNCHPAD_PROTOCOLS_SET.has(m)&&"Heaven"!==m&&100===(0,k.calculateBondingCurve)({liquidityToken:y,liquiditySol:g,tokenDecimals:x,protocol:m,protocolDetails:b,usdPerSol:e.usdPerSol}))throw Error("Bonding curve is complete, wait for migration");let S=u.find(e=>e.tokenAddress.toString()===h)?.tokenAccountAddress;if(a.vanishSignerPublicKey){let e=T.vanishOneTimeWalletAddress?T.vanishOneTimeWalletAddress:await (0,T.fetchAndSetVanishOneTimeWallet)();if("sell"===c){let t=u.find(e=>e.tokenAddress.toString()===h)?.tokenProgram;if(!t)throw Error("Token program not found");S=(0,w.getAssociatedTokenAddressSync)(new p.PublicKey(h),new p.PublicKey(e),!1,new p.PublicKey(t),new p.PublicKey(I.ASSOCIATED_TOKEN_PROGRAM_ADDRESS)).toString()}else S=void 0;if(!("signTransaction"in a)||!("signMessage"in a))throw Error("Vanish wallet must have signTransaction and signMessage methods");t={publicKey:e,primaryPublicKey:a.vanishSignerPublicKey,signTransaction:a.signTransaction,signMessage:a.signMessage,isVanish:!0}}else{if(!("signTransaction"in a))throw Error("Wallet must have signTransaction method. Use createWalletWithSigner.");t={publicKey:a.publicKey,signTransaction:a.signTransaction,isVanish:!1}}if("Pump V1"===m)try{r=await eZ({type:c,amount:A,virtualLiquiditySol:(0,_.newSafeBN)(1e9*g),virtualLiquidityToken:(0,_.newSafeBN)(y*10**x),tokenAddress:h,userTokenAccountAddress:S,protocolDetails:b,swapSettings:n,blockhash:o,wallet:t,bondingCurve:f,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsData:s,tokenDecimals:x})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Raydium V4"===m)try{r=await e4({pairAddress:f,amount:A,tokenAddress:h,userTokenAccountAddress:S,wallet:t,protocolDetails:b,liquiditySol:g,liquidityToken:y,tokenDecimals:x,type:c,blockhash:o,swapSettings:n,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsData:s,usdPerSol:e.usdPerSol})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Raydium CPMM"===m)try{r=await tc({amount:A,tokenAddress:h,pairAddress:f,userTokenAccountAddress:S,wallet:t,protocolDetails:b,liquiditySol:g,liquidityToken:y,type:c,blockhash:o,swapSettings:n,tokenDecimals:x,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsData:s,usdPerSol:e.usdPerSol})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Meteora DLMM"===m)try{r=await z({amount:A,priorityFeeSol:l,wallet:t,preset:n,providers:e.providers??[],blockhash:o,swapParams:{type:c,amount:A,pairAddress:f,tokenAddress:h},nonceInstruction:e.nonceInstruction,rewardsData:s,protocolDetails:b,liquidityToken:y,usdPerSol:e.usdPerSol,userTokenAccountAddress:S,tokenDecimals:x})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Pump AMM"===m)try{r=await (0,e1.swapPumpAmm)({type:c,amount:A,liquiditySolRaw:(0,_.newSafeBN)(1e9*g),liquidityTokenRaw:(0,_.newSafeBN)(y*10**x),tokenAddress:h,userTokenAccountAddress:S,protocolDetails:b,swapSettings:n,blockhash:o,wallet:t,pairAddress:f,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsData:s,tokenDecimals:x})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("LaunchLab"===m)try{r=await (0,B.swapLaunchLab)({type:c,amount:A,liquiditySolRaw:(0,_.newSafeBN)(1e9*g),liquidityTokenRaw:(0,_.newSafeBN)(y*10**x),tokenAddress:h,userTokenAccountAddress:S,protocolDetails:b,swapSettings:n,blockhash:o,wallet:t,pairAddress:f,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsData:s,tokenDecimals:x,usdPerSol:e.usdPerSol,liquidityToken:y})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Meteora AMM"===m)try{r=await (0,C.swapMeteoraAmm)({type:c,amount:A,liquiditySolRaw:(0,_.newSafeBN)(1e9*g),liquidityTokenRaw:(0,_.newSafeBN)(y*10**x),tokenAddress:h,userTokenAccountAddress:S,protocolDetails:b,swapSettings:n,blockhash:o,wallet:t,pairAddress:f,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsData:s,usdPerSol:e.usdPerSol,tokenDecimals:x,liquidityToken:y})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Virtual Curve"===m)try{r=await (0,tA.swapVirtualCurve)({type:c,amount:A,sqrtPrice:(0,_.newSafeBN)(0xffffffffffffffff*Math.sqrt(y/10**x*1e9)),tokenAddress:h,userTokenAccountAddress:S,protocolDetails:b,swapSettings:n,blockhash:o,wallet:t,pairAddress:f,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsData:s,usdPerSol:e.usdPerSol,tokenDecimals:x,liquidityToken:y,liquiditySolRaw:(0,_.newSafeBN)(1e9*g)})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Meteora AMM V2"===m)try{r=await F({type:c,amount:A,liquiditySol:g,liquidityToken:y,tokenAddress:h,userTokenAccountAddress:S,protocolDetails:b,swapSettings:n,blockhash:o,wallet:t,pairAddress:f,nonceInstruction:e.nonceInstruction,providers:e.providers,supplementalData:e.swapParams.supplementalData,rewardsData:s,usdPerSol:e.usdPerSol,tokenDecimals:x})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Boop"===m)try{r=await (0,N.swapBoop)({type:c,amount:A,liquiditySolRaw:(0,_.newSafeBN)(1e9*g),liquidityTokenRaw:(0,_.newSafeBN)(y*10**x),tokenAddress:h,userTokenAccountAddress:S,protocolDetails:b,swapSettings:n,blockhash:o,wallet:t,pairAddress:f,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsData:s,tokenDecimals:x})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Moonshot"===m)try{r=await (0,j.swapMoonshot)({type:c,amount:A,liquiditySolRaw:(0,_.newSafeBN)(1e9*g),liquidityTokenRaw:(0,_.newSafeBN)(y*10**x),tokenAddress:h,userTokenAccountAddress:S,protocolDetails:b,swapSettings:n,blockhash:o,wallet:t,pairAddress:f,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsData:s,tokenDecimals:x})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Raydium CLMM"===m)try{r=await tn({type:c,amount:A,liquiditySolRaw:(0,_.newSafeBN)(1e9*g),liquidityTokenRaw:(0,_.newSafeBN)(y*10**x),tokenAddress:h,userTokenAccountAddress:S,protocolDetails:b,swapSettings:n,blockhash:o,wallet:t,pairAddress:f,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsData:s,usdPerSol:e.usdPerSol,tokenDecimals:x,liquidityToken:y,supplementalData:e.swapParams.supplementalData})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if(m===I.PROTOCOL_VERTIGO)try{r=await tx({type:c,amount:A,liquiditySolRaw:(0,_.newSafeBN)(1e9*g),liquidityTokenRaw:(0,_.newSafeBN)(y*10**x),tokenAddress:h,userTokenAccountAddress:S,protocolDetails:b,swapSettings:n,blockhash:o,wallet:t,pairAddress:f,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsData:s,tokenDecimals:x})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Orca"===m)try{r=await eF({type:c,amount:A,liquiditySolRaw:(0,_.newSafeBN)(1e9*g),liquidityTokenRaw:(0,_.newSafeBN)(y*10**x),tokenAddress:h,userTokenAccountAddress:S,protocolDetails:b,swapSettings:n,blockhash:o,wallet:t,pairAddress:f,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsData:s,usdPerSol:e.usdPerSol,tokenDecimals:x,liquidityToken:y})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Heaven"===m)try{r=await (0,R.swapHeaven)({type:c,amount:A,liquiditySolRaw:(0,_.newSafeBN)(1e9*g),liquidityTokenRaw:(0,_.newSafeBN)(y*10**x),tokenAddress:h,userTokenAccountAddress:S,protocolDetails:b,swapSettings:n,blockhash:o,wallet:t,pairAddress:f,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsData:s,tokenDecimals:x})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Sugar"===m)try{r=await (0,th.swapSugar)({type:c,amount:A,liquiditySolRaw:(0,_.newSafeBN)(1e9*g),liquidityTokenRaw:(0,_.newSafeBN)(y*10**x),tokenAddress:h,userTokenAccountAddress:S,protocolDetails:b,swapSettings:n,blockhash:o,wallet:t,pairAddress:f,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsData:s,tokenDecimals:x})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else throw Error("Unsupported protocol");return r}},900087,e=>{"use strict";e.s(["useCancelOrder",()=>I,"useCancelOrders",()=>N,"useEditLimitOrder",()=>R,"useLimitOrderSolMeme",()=>P,"useRefreshOrders",()=>_]);var t=e.i(672464),r=e.i(750214),i=e.i(20164),n=e.i(385845),a=e.i(271645),o=e.i(50454),s=e.i(682382),u=e.i(447800),l=e.i(863568),c=e.i(458768),d=e.i(626914),f=e.i(973444);e.i(465903);var p=e.i(700479),h=e.i(767924),m=e.i(247317),b=e.i(350721);e.i(490156);var g=e.i(754825),y=e.i(352120),x=e.i(542119),A=e.i(735013),w=e.i(342271),v=e.i(182781),S=e.i(43351),T=e.i(868904);let E=new Set(["Raydium V4","Raydium CPMM","Pump AMM","Pump V1","Boop","LaunchLab","Virtual Curve","Meteora AMM","Meteora AMM V2",h.PROTOCOL_HEAVEN,h.PROTOCOL_SUGAR,h.PROTOCOL_RAYDIUM_CLMM]),k=new Set(["Meteora AMM V2","Meteora AMM"]);function P(){let e=(0,r.useAtomCallback)(e=>e(g.tokenAccountsAtom)),h=(0,r.useAtomCallback)(e=>e(g.solBalancesAtom)),A=(0,w.useGetSolPreset)(),P=(0,l.useTurnkeyClient)(),_=(0,r.useAtomCallback)(e=>e(x.turnkeyOrgIdAtom)),I=(0,r.useAtomCallback)(e=>e(S.recommendedPriorityFeeAtom)),N=(0,r.useAtomCallback)(e=>e(S.recommendedBribeFeeAtom)),R=(0,r.useAtomCallback)(e=>e(S.usdPerSolAtom)),[C,O]=(0,y.useSnipePriorityFeeSol)(),[D,M]=(0,y.useSnipeBribeFeeSol)(),[U,F]=(0,y.useSnipeSlippage)(),[L]=(0,v.useSettings)("snipeMevProtection",!1,i.default),[q]=(0,v.useSettings)("snipeEnhancedMevProtection",!1,i.default),[K]=(0,v.useSettings)("snipeCustomRpcUrl","",n.default),W=(0,t.useSetAtom)(y.isSnipeModalOpenAtom),V=(0,r.useAtomCallback)((0,a.useCallback)(e=>e(x.rewardsPercentageAtom),[])),G=(0,r.useAtomCallback)((0,a.useCallback)(e=>e(x.referralDataAtom),[]));return(0,a.useCallback)(async t=>{if(t.walletAddresses.includes(s.VANISH_WALLET_ADDRESS))return void c.default.error("Limit orders for Vanish wallets are not supported",{duration:5e3});if(!P)return void c.default.error("Turnkey account not found, if this persists try logging out and in again",{duration:5e3});if("Pump V1"===t.pair.protocol){let e=new Date(t.pair.createdAt??0).getTime();if(Date.now()-e>2592e7)return void c.default.error("Limit orders for old Pump pairs are not supported",{duration:5e3})}if("3fmHKhZUF9uazaLuU6GJYGSnyquSHxBMuAXBExdVCqSh"===t.pair.pairAddress)return void c.default.error("Limit orders for this Pump pair are not supported",{duration:5e3});if("Boop"===t.pair.protocol&&"2"!==t.pair.protocolDetails.version)return void c.default.error("Limit orders for this Boop pair are not supported",{duration:5e3});if("LaunchLab"===t.pair.protocol&&0===t.pair.protocolDetails.migrateType)return void c.default.error("Limit orders not supported for LaunchLab if migrating to Raydium V4",{duration:5e3});if("Raydium V4"===t.pair.protocol&&(t.pair.protocolDetails.isUsdc||t.pair.protocolDetails.isUsd1))return void c.default.error("Limit orders for Raydium V4 USDC/USD1 pair are not supported",{duration:5e3});if(!E.has(t.pair.protocol))return void c.default.error(`Limit orders not supported for ${t.pair.protocol}`,{duration:5e3});if(k.has(t.pair.protocol)&&t.pair.protocolDetails.isUsd1)return void c.default.error(`Limit orders not supported for ${t.pair.protocol} USD1 pairs`,{duration:5e3});let r=c.default.loading(t.isSniper?"Creating Sniper Task...":"Creating Limit Order...",{duration:1/0});try{let i,n,a,s=R()??u.FALLBACK_USD_PER_SOL,l=t.walletAddresses,m=l.length,g=e(),y=h(),x={...t.pair,...t.liquidity},w=t.isSniper?{priorityFeeSol:C,bribeFeeSol:D,slippage:U,mevProtection:L,customRpcUrl:K,enhancedMevProtection:q}:A(t.amount.type,t.presetType);if(w.bribeFeeSol<1e-6)throw Error("Bribe fee must be at least 0.000001 SOL");if(t.isSniper){let e=[];if((F??"")===""&&e.push("slippage"),(O??"")===""&&e.push("priority fee"),(M??"")===""&&e.push("bribe fee"),e.length>0){let i=2===e.length?e.join(" and "):e.slice(0,-1).join(", ")+", and "+e[e.length-1];c.default.error(`You must set sniper ${i}`,{toastId:r,duration:5e3}),W(!0),t.onComplete?.();return}}let v="advanced"===t.order.type&&"migration"===t.order.subType,S=I()??0,E=N()??0;if(v&&(w.bribeFeeSol<11*E||w.priorityFeeSol<11*S)&&c.default.warn(`Your snipe fees are low. Consider increasing the fees to at least ${(11*S).toPrecision(2)} priority fee and ${(11*E).toPrecision(2)} bribe fee for better performance.`,{duration:5e3}),"limit"===t.order.type&&(i=x.protocolDetails.isUsdc||x.protocolDetails.isUsd1?t.order.triggerPriceSol*s:t.order.triggerPriceSol),"limit"===t.order.type)n=t.amount.type+" "+t.order.direction;else if("advanced"===t.order.type)n=t.amount.type+" "+t.order.subType;else throw Error("Invalid order type");let k=[];for(let e of l){let r="buy"===t.amount.type?{type:"buy",amountSol:t.amount.amountSol/l.length}:"sell"===t.amount.type&&"tokens"===t.amount.amount.units?{type:"sell",amount:{units:"tokens",amountTokens:t.amount.amount.tokenAmountsMap.get(e)??0}}:"sell"===t.amount.type&&"percentage"===t.amount.amount.units?{type:"sell",amount:{units:"percentage",percentage:t.amount.amount.percentage}}:null;if(!r)throw Error("Invalid amount type");let i={publicKey:e,balanceSol:y.data.get(e)?.balanceSol??0,tokenAccounts:[...g.data.get(e)?.values()??[]]},{amount:n}=(0,T.validateSolMemeParams)(x,r,w,i,R());k.push({publicKey:e,amount:n})}let z=await o.axiomApiV2.post("/get-nonce-account-batched",{amount:m}),j=[];for(let e=0;e<m;e++){let{nonceAccountAddress:r,nonce:i}=z[e],{amount:n,publicKey:o}=k[e],u=n.toString();if("buy"===t.amount.type)a=n.div((0,f.newSafeBN)(50)).toString();else{let e=Number(u)/10**x.tokenDecimals,r="limit"===t.order.type?t.order.triggerPriceSol:(0,d.default)({protocol:x.protocol,liquidityNative:x.liquiditySol,liquidityToken:x.liquidityToken,protocolDetails:x.protocolDetails,usdPerNative:s}),i=e*r*1e7*2;a=(0,f.newSafeBN)(i).toString()}let l=(0,f.newSafeBN)(1e9*w.bribeFeeSol+1).toString();j.push({maxFeeLamports:a,nonce:i,bribeFeeLamports:l,nonceAccountAddress:r,solPublicKey:o})}let H=_();if(!H)return void c.default.error("Turnkey account not found, if this persists try logging out and in again",{duration:5e3});let X=await B(j,P),Q=[],J=G(),Y={userRewardsPercentage:V(),referralRewardsPercentage:J?.r??0,referralAddress:(0,b.getVaultPda)(J?.rs1),referralLevel2Address:(0,b.getVaultPda)(J?.rs2),referralLevel3Address:(0,b.getVaultPda)(J?.rs3),tokenReferralAddress:null};for(let e=0;e<m;e++){let{amount:r,publicKey:a}=k[e],o=r.toString(),{maxFeeLamports:s,nonce:u,nonceAccountAddress:l}=j[e],c=X[e];Q.push({amount:"buy"===t.amount.type?Number(o)/1e9:Number(o)/10**x.tokenDecimals,triggerPriceSol:i,type:n,orgId:H,walletAddress:a,pair:t.pair,preset:w,instructions:{amountString:o,maxFeeString:s,policyId:c,rewardsData:Y},nonceAccountAddress:l,nonce:u})}await o.axiomApiV2.post("/create-limit-order-batched",{orders:Q},{urlOverride:p.AXIOM_ORDERS_URL}),c.default.success(t.isSniper?"Sniper Task Created!":"Limit Order Placed!",{toastId:r}),t.onComplete?.()}catch(e){c.default.error(`Limit order creation failed: ${(0,m.getErrorMessage)(e)}`,{toastId:r}),t.onComplete?.()}},[e,h,A,C,D,U,L,K,q,I,N,R,_,F,O,M,W,P])}function _(){let e=(0,t.useSetAtom)(A.ordersAtom),i=(0,r.useAtomCallback)((0,a.useCallback)(e=>e(x.isAuthedAtom),[]));return(0,a.useCallback)(async()=>{try{if(!i())return void e([]);let t=await o.axiomApiV2.post("/get-limit-orders");e(e=>0===e.length?t:(t.forEach(t=>{let r=e.find(e=>e.id===t.id);r&&(r.currentPriceSol=t.currentPriceSol)}),[...e]))}catch(e){c.default.error(`Error refreshing orders: ${(0,m.getErrorMessage)(e)}`)}},[i,e])}function I(){let e=(0,t.useSetAtom)(A.ordersAtom);return(0,a.useCallback)(async(t,r=!1)=>{try{await o.axiomApiV2.post("/cancel-limit-order",{id:t},{urlOverride:p.AXIOM_ORDERS_URL}),r||c.default.success("Order cancelled"),e(e=>e.map(e=>e.id===t?{...e,status:"Cancelled"}:e))}catch(e){c.default.error(`Error canceling order: ${(0,m.getErrorMessage)(e)}`)}},[e])}function N(){let e=(0,r.useAtomCallback)((0,a.useCallback)(e=>e(A.ordersAtom),[])),i=(0,t.useSetAtom)(A.ordersAtom);return(0,a.useCallback)(async t=>{let r=e();if(0!==r.length)try{let e=t||r.filter(e=>"Active"===e.status).map(e=>e.id);if(0===e.length)return void c.default.error("No active orders to cancel");await o.axiomApiV2.post("/cancel-limit-orders",{ids:e},{urlOverride:p.AXIOM_ORDERS_URL}),t||c.default.success("All orders cancelled"),i(t=>t.map(t=>e.includes(t.id)?{...t,status:"Cancelled"}:t))}catch(e){c.default.error(`Error canceling order: ${(0,m.getErrorMessage)(e)}`)}},[e,i])}function R(){let e=(0,t.useSetAtom)(A.ordersAtom),i=(0,r.useAtomCallback)((0,a.useCallback)(e=>e(S.usdPerSolAtom),[]));return(0,a.useCallback)(async(t,r,n)=>{try{await o.axiomApiV2.post("/edit-limit-order",{id:t,newTriggerPriceSol:n?r*(i()??u.FALLBACK_USD_PER_SOL):r},{urlOverride:p.AXIOM_ORDERS_URL}),c.default.success("Order edited"),e(e=>e.map(e=>e.id===t?{...e,triggerPriceSol:r}:e))}catch(e){c.default.error(`Error editing limit order: ${(0,m.getErrorMessage)(e)}`)}},[e,i])}async function B(e,t){let r=e.map(e=>{let{nonce:t,solPublicKey:r,nonceAccountAddress:i}=e,n=`
    solana.tx.recent_blockhash == '${t}' &&
    solana.tx.instructions[0].accounts[0].account_key == '${i}' &&
    solana.tx.account_keys[0] == '${r}' &&
    solana.tx.instructions.all(i, 
      i.program_key in [
        '675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8',
        'ComputeBudget111111111111111111111111111111',
        'CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C',
        '6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P',
        'ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL',
        'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA',
        'TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb',
        '11111111111111111111111111111111',
        'pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA',
        'AxiomxSitiyXyPjKgJ9XSrdhsydtZsskZTEDam3PxKcC',
        'AxiomfHaWDemCFBLBayqnEnNwE6b7B2Qz3UmzMpgbMG6',
        'boop8hVGQGqehUK2iVEMEnMrL5RbjywRzHKBmBE7ry4',
        'LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj',
        'dbcij3LWUppWqq96dh6gJWwBifmcGfLSB5D4DuSMaqN',
        'Eo7WjKq67rjJQSZxS6z3YkapzY3eMj6Xy8X5EQVn5UaB',
        'cpamdpZCGKUy5JxQXB4dcpGPiikHawvSWAd6mEn1sGG',
        'JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4',
        'HEAVENoP2qxoeuF8Dj2oT1GHEnu49U5mJYkdeC8BAX2o',
        'pBasedTVV99yFBmg2u6Uvka9fJueRcs7SB9PJ2HfrEn',
        'deus4Bvftd5QKcEkE5muQaWGWDoma8GrySvPFrBPjhS',
        'Cx2H5KxfZBYftxdHHjad6JRy77nLSLa85wyLeWshkgLo',
        'EiHuesmqxnjELhQRQCU2QDf8ZW7abVPdnHQE2hqSY793',
        'F5tfvbLog9VdGUPqBDTT8rgXvTTcq7e5UiGnupL1zvBq',
        '6HB1VBBS8LrdQiR9MZcXV5VdpKFb7vjTMZuQQEQEPioC',
        'EGZ9xkUbgW4rFmHioHFdjs1TPvcsw41eqTi3AwVCUzvs',
        '9T9oKhVbCgHamXHRQoFqX7pTQJSnj47CaQojPtG2Q8N8',
        'FLASHX8DrLbgeR8FcfNV1F5krxYcYMUdBkrP1EPBtxB9'
      ]
    ) &&
    solana.tx.instructions.filter(i, i.program_key == '11111111111111111111111111111111')
      .all(i, i.instruction_data_hex[0..8] in ['02000000', '03000000', '04000000']) &&
    solana.tx.instructions.filter(i, i.program_key in ['TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb', 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA'])
      .all(i, i.instruction_data_hex[0..2] == '01' || i.instruction_data_hex[0..2] == '09')
    `;return{policyName:crypto.randomUUID(),effect:"EFFECT_ALLOW",condition:n,notes:"Axiom Limit Order"}});try{let e=await t.createPolicies({policies:r});if(!e.policyIds.length)throw Error("Failed to create execution policy: Turnkey timed out");return e.policyIds}catch(e){if((0,l.isTurnkeySessionExpiryError)(e))throw Error("Order creation failed: re-login required");throw e}}},31943,350721,12917,e=>{"use strict";e.s(["default",()=>eg,"fromNotifAtom",()=>eb,"getTokenBalanceWeb3",()=>em],31943);var t=e.i(843476),r=e.i(659341),i=e.i(846932),n=e.i(639372),a=e.i(672464),o=e.i(750214),s=e.i(657688),u=e.i(271645),l=e.i(994447),c=e.i(50454),d=e.i(592846),f=e.i(542119),p=e.i(43351);e.i(255730);var h=e.i(754825);e.s(["getVaultPda",()=>es,"sendAndMonitorSimpleTx",()=>ee,"sendAndMonitorSwapBatched",()=>Y,"useBurnDust",()=>er,"useMarketBuySolMeme",()=>en,"useMarketSellSolMeme",()=>eo],350721);var m=e.i(247167),b=e.i(467034),g=e.i(127261),y=e.i(265172),x=e.i(20164),A=e.i(930456),w=e.i(942730),v=e.i(682382),S=e.i(592e3),T=e.i(447800),E=e.i(863568),k=e.i(126389),P=e.i(354640),_=e.i(458768),I=e.i(401597),N=e.i(181937),R=e.i(245887),B=e.i(973444);e.i(465903);var C=e.i(767924),O=e.i(247317),D=e.i(91204);e.i(490156);var M=e.i(616318),U=e.i(735013),F=e.i(342271),L=e.i(918030),q=e.i(944325),K=e.i(182781),W=e.i(852388),V=e.i(799689),G=e.i(868904),z=e.i(900087),j=e.i(85026),H=e.i(472660);let X=()=>{let e=(0,a.useSetAtom)(H.vanishTransactionSignaturesAtomSol),t=(0,u.useCallback)(t=>{e(e=>{let r=new Set(e);for(let e of t)if(e.publicKey===v.VANISH_WALLET_ADDRESS)for(let t of e.transactions)r.has(t.signature)||r.add(t.signature);return r})},[e]);return(0,u.useMemo)(()=>({monitorVanishTransactions:t}),[t])};function Q(e){let t=new Map;for(let r of e)t.set(r,(t.get(r)||0)+1);return[...t.entries()].map(([e,t])=>t>1?`${e} (${t} wallets)`:e).join("; ")}function J(e,t,r,i,n){return{publicKey:e.publicKey,signTransaction:t.signTransaction,signMessage:t.signMessage,balanceSol:i?.balanceSol??0,tokenAccounts:[...r?.values()??[]],...n&&{vanishSignerPublicKey:n}}}async function Y({walletTransactions:e,numWallets:t,preset:r,toastId:i,onComplete:n,onSuccess:a,region:o,timeout:s=16,isSell:u=!1,originalTime:l,enableProcessedMonitor:d=!1,protocol:f,transactionDelayMs:p=0,pairAddress:h,refreshVanishBalances:m,refreshVanishTransactions:b}){let y,x=[],A=Math.floor(p*e.length/1e3),w=s+A,S=new Map,T=new Set,E=new Map,k=l?Date.now()-l:void 0,P=Date.now(),I=e.filter(e=>e.publicKey!==v.VANISH_WALLET_ADDRESS);p>0&&I.length>1?I.forEach((e,t)=>{setTimeout(()=>{(0,j.sendSwapTransactionBatched)([{transactions:e.transactions.map(e=>({base64Tx:e.base64Tx,provider:e.provider}))}],r,o)},t*p)}):(0,j.sendSwapTransactionBatched)(I.map(e=>({transactions:e.transactions.map(e=>({base64Tx:e.base64Tx,provider:e.provider}))})),r,o);let N=new Map;for(let t of e)t.nonceInfo&&N.set(t.nonceInfo.cachedNonce,{...t,nonceInfo:t.nonceInfo});let R=e.some(e=>e.nonceInfo);R?_.default.turboToast(`Turbo transaction in progress (${w}s)`,{toastId:i}):_.default.loading(`Attempting transaction (${w}s)`,{toastId:i});let B=Z(),C=!1,D=async()=>{let e=[];for(let{signer:t,publicKey:r,nonceInfo:i}of N.values()){let n=[];(0,j.addPriorityFeeInstructions)({instructions:n,computeUnits:450,microLamports:2e7}),n.unshift(g.SystemProgram.nonceAdvance({authorizedPubkey:new g.PublicKey(r),noncePubkey:new g.PublicKey(i.account.account)}));let{base64Tx:a,signature:o}=await (0,j.compileTransaction)({instructions:n,blockhash:i.cachedNonce,signer:t}),s=N.get(i.cachedNonce);s&&s.transactions.push({base64Tx:a,provider:"none",signature:o}),e.push({base64Tx:a,signature:o,cachedNonce:i.cachedNonce}),T.add(o)}if(0===e.length)return;let t=e.map(e=>({transactions:[{base64Tx:e.base64Tx,provider:"none"}]}));for(let{signature:r,cachedNonce:i}of((0,j.sendSwapTransactionBatched)(t,{mevProtection:!1,bribeFeeSol:0,enhancedMevProtection:!1},void 0,!0),e)){let e=()=>{W(r,!1,"Transaction timed out and was cancelled",i)};B.monitorTx(r,e),x.push((0,j.monitorTransactionSignature)({signature:r,callback:e}))}},M=setTimeout(()=>{N.size>0&&D().catch(e=>_.default.error(`Failed to cancel: ${(0,O.getErrorMessage)(e)}`))},3e3+1e3*A),U=setTimeout(()=>{N.size>0&&D().catch(e=>_.default.error(`Second cancel failed: ${(0,O.getErrorMessage)(e)}`))},6e3+1e3*A),F=!1,L=setInterval(async()=>{if(--w>=0)F||(R?_.default.turboToast(`Turbo transaction in progress (${w}s)`,{toastId:i}):_.default.loading(`Attempting transaction (${w}s)`,{toastId:i}));else if(6===s&&w>=-3)F||_.default.turboToast(`Attempting to cancel (${3+w}s)`,{toastId:i});else{if(-4===w){_.default.warn("A transaction failed to cancel and may still be active.");let e=[...N.values()].map(e=>e.nonceInfo.account);c.axiomApiV2.post("/update-nonce-accounts",{nonceAccounts:e}).catch(()=>{})}clearInterval(L),W("",!1,"Transaction timed out, try increasing priority fee/bribe/slippage",void 0,!0)}},1e3),q=new Set;function K(e,r){F||(q.add(r),q.size===t&&(F=!0,1===t?u?_.default.txSellSuccess(e,{toastId:i}):_.default.txSuccess(e,{toastId:i}):u?_.default.txSellSuccess(`All ${t} transactions succeeded`,{toastId:i}):_.default.txSuccess(`All ${t} transactions succeeded`,{toastId:i}),y=setTimeout(()=>{_.default.warn("One or more transactions may have reverted on chain."),F=!1},1e3)))}function W(s,l,d,f,p){if(!p&&(E.set(s,Date.now()),S.set(s,l),f&&N.delete(f)),(p||S.size===e.length)&&!C){for(let e of(C=!0,y&&clearTimeout(y),clearTimeout(M),clearTimeout(U),clearInterval(L),n?.(),B.cleanup(),x))j.globalHeliusConnection.removeSignatureListener(e).catch(()=>{});let s=[...S.keys()].filter(e=>!0===S.get(e));s.length===t?(F||(1===t?u?_.default.txSellSuccess(d,{toastId:i}):_.default.txSuccess(d,{toastId:i}):u?_.default.txSellSuccess(`All ${t} transactions succeeded`,{toastId:i}):_.default.txSuccess(`All ${t} transactions succeeded`,{toastId:i}),F=!0),a?.(s)):s.length>0?(F&&_.default.error("One or more transactions reverted on chain."),_.default.warn(`${s.length}/${t} transactions succeeded: ${d}`,{toastId:i}),F=!0,a?.(s)):(F&&_.default.error("All transactions reverted on chain."),1===t?_.default.error(d,{toastId:i}):p?_.default.error("All transactions failed or timed out, try increasing priority fee/bribe/slippage",{toastId:i}):_.default.error(`All transactions failed and priority fees were consumed: ${d}`,{toastId:i}),F=!0),$(e,m,b).catch(()=>{});let l=e.map(e=>{let i=e.transactions.find(e=>S.has(e.signature)),n=i?E.get(i.signature):Date.now(),a=!!e.nonceInfo,s="";return i&&T.has(i.signature)?(s&&(s+="|"),s+="cancel"):i||(s&&(s+="|"),s+="timeout"),s=s||void 0,{signature:i?i.signature:e.transactions[0].signature,timeTakenMs:n-P,success:!!i&&S.get(i.signature),preset:r,provider:i?i.provider:e.transactions[0].provider,region:o,isTurbo:a,numWallets:t,testFlag:s,preStartTimeTakenMs:k,nonceAccount:e.nonceInfo?.account.account}});c.axiomApiV2.post("/log-tx-v3",{logs:l}).catch(()=>{})}}try{for(let t of e)for(let e of t.transactions)B.monitorTx(e.signature,(r,i)=>W(e.signature,r,i,t.nonceInfo?.cachedNonce)),x.push((0,j.monitorTransactionSignature)({signature:e.signature,callback:(r,i)=>W(e.signature,r,i,t.nonceInfo?.cachedNonce),protocol:f,pairAddress:h})),d&&(B.monitorTx(e.signature+"-fast",(t,r)=>{t&&K(r,e.signature)}),x.push((0,j.monitorTransactionSignature)({signature:e.signature,callback:(t,r)=>{t&&K(r,e.signature)},commitment:"processed",protocol:f,pairAddress:h})))}catch(e){_.default.error(`Error monitoring transactions: ${(0,O.getErrorMessage)(e)}`)}}function Z(){let e=[];return{monitorTx:(t,r)=>{let i,n,a,o,s=(i=(()=>{try{let e=JSON.parse(localStorage.getItem("regionsV4")??"{}");return(0,q.getRegionUrl)(e.name)}catch{return(0,q.getRegionUrl)(q.Region.GLOBAL)}})(),n=k.AxiomWebSocketRoomManager.getInstance({url:i,queryParams:m.default.env.NEXT_PUBLIC_LOCAL_WS_PASSWORD?{"localhost-password":m.default.env.NEXT_PUBLIC_LOCAL_WS_PASSWORD}:void 0}),a=!1,o=n.subscribe(t,{onMessage:e=>{e.room!==t||a||(a=!0,r(!0,"Transaction confirmed!"),o())}}));e.push(s)},cleanup:()=>{e.forEach(e=>e()),e.length=0}}}async function $(e,t,r){try{let i=[];for(let t of e){if(t.publicKey!==v.VANISH_WALLET_ADDRESS)continue;let e=t.transactions[0];i.push((0,S.safeCommitVanishAction)(e.signature).catch(()=>{}))}i.length>0&&(await Promise.all(i),t&&await Promise.all([t(),r?.()]))}catch(e){_.default.error(`Error handling Vanish confirmations: ${(0,O.getErrorMessage)(e)}`)}}async function ee(e,t,r,i){let n,a=Z(),o=16;_.default.loading(`Attempting transaction (${o}s)`,{toastId:t});let s=setInterval(()=>{--o>=0?_.default.loading(`Attempting transaction (${o}s)`,{toastId:t}):(_.default.error("Transaction timed out",{toastId:t}),r?.(),a.cleanup(),clearInterval(s))},1e3);try{n=await (0,j.sendSimpleSolTransaction)(e)}catch(e){_.default.error(`Transaction failed while sending: ${(0,O.getErrorMessage)(e)}`,{toastId:t}),clearInterval(s),r?.();return}let u=!1;function l(e,o){u||(clearInterval(s),e?(_.default.success(o,{toastId:t}),i?.(n)):_.default.error(o,{toastId:t}),u=!0,r?.(),a.cleanup())}try{a.monitorTx(n,l),(0,j.monitorTransactionSignature)({signature:n,callback:l})}catch(e){_.default.error(`Error monitoring transaction: ${(0,O.getErrorMessage)(e)}`)}}function et(e){return async()=>{e(),await (0,D.sleep)(1e3),e()}}function er(){let e=(0,a.useAtomValue)(M.blockhashAtom),t=(0,P.useRefreshBalancesSol)(),r=(0,a.useAtomValue)(h.monitoredSolWalletsAtom),i=(0,o.useAtomCallback)((0,u.useCallback)(e=>e(h.tokenAccountsAtom),[])),n=(0,o.useAtomCallback)((0,u.useCallback)(e=>e(h.solBalancesAtom),[])),{t:s}=(0,d.useTranslation)();return async function(a){let o=async()=>{await et(()=>t(a.walletAddress))(),a.onComplete?.()};if("pumpCmXqMfrsAkQ5r49WcJnRayYRqmXz6ae8H7H9Dfn"===a.tokenAddress||a.tokenAddress===C.WSOL_TOKEN_ADDRESS||a.tokenAddress===C.USDC_TOKEN_ADDRESS||a.tokenAddress===C.USD1_TOKEN_ADDRESS||a.tokenAddress===C.USDT_TOKEN_ADDRESS||a.tokenAddress===l.AXIOM_LST_MINT)return void _.default.error(s("You are not allowed to burn this token"));let u=[],c=_.default.loading("Attempting to burn dust...",{duration:1/0});for(let t of a.walletAddress)try{if(t===v.VANISH_WALLET_ADDRESS)continue;let o=r.find(e=>e.publicKey===t);if(!o)throw Error("Wallet could not be found");let s=await (0,R.getSafeBlockhash)(e);if(!s)throw Error("Blockhash could not be found");let l=i();if(0===Number(l.data.get(o.publicKey)?.get(a.tokenAddress)?.balanceRaw??0))continue;let c=n(),d=await (0,j.createValidatedSigner)(t),f=J(o,d,l.data.get(o.publicKey),c.data.get(o.publicKey)),p=await (0,W.createBurnDustTx)(f,d,a.tokenAddress,s);u.push(p)}catch(e){_.default.error(`A transaction failed to generate: ${(0,O.getErrorMessage)(e)}`)}if(0===u.length)return void _.default.error(s("No burns executed"),{toastId:c});let d=[];for(let e of u){let t=await (0,j.sendSimpleSolTransaction)(e);if(!t)throw Error(s("Failed to send transaction"));d.push(t)}let f=new Promise((e,t)=>{setTimeout(()=>{t(Error(s("One or more transactions timed out")))},6e4)});try{await Promise.race([Promise.all(d.map(e=>new Promise((t,r)=>{(0,j.monitorTransactionSignature)({signature:e,callback:(e,i)=>{e?t(!0):r(Error(i))}})}))),f]),_.default.success(s("Dust burned successfully"),{toastId:c})}catch(e){_.default.error(`Error burning dust: ${(0,O.getErrorMessage)(e)}`,{toastId:c})}o()}}let ei=(e,t)=>{if(e.bribeFeeSol>=.001){if(t){let t=[];e.enhancedMevProtection||e.mevProtection,t.push("0xslot","temporal");let r=e.bribeFeeSol+e.priorityFeeSol;return r>=.002&&e.bribeFeeSol/r<j.BRIBE_PREFERED_RATIO&&t.push("temporal-bribe"),t}if(e.enhancedMevProtection||e.mevProtection)return .001!==e.bribeFeeSol||.95>Math.random()?["temporal"]:["0xslot"];if(.001!==e.bribeFeeSol)return["temporal"];let r=Math.random();return r<.9?["temporal"]:r<.95?["0xslot"]:["helius"]}return!(e.bribeFeeSol>=2e-4)||e.mevProtection||e.enhancedMevProtection?e.bribeFeeSol>=1e-4?t?(e.mevProtection,["0xslot","jito","astralane"]):["0xslot"]:e.bribeFeeSol>=1e-5?t?["astralane","jito"]:["astralane"]:e.bribeFeeSol>=1e-6?["jito"]:["none"]:t?["helius","0xslot","astralane"]:["0xslot"]};function en(){let e=(0,P.useRefreshBalancesSol)(),t=(0,F.useGetSolPreset)(),r=(0,a.useSetAtom)(h.recentSignaturesAtom),i=(0,o.useAtomCallback)((0,u.useCallback)(e=>e(h.recentSignaturesAtom),[])),n=(0,o.useAtomCallback)((0,u.useCallback)(e=>e(h.selectedSolWalletsAtom),[])),s=(0,o.useAtomCallback)((0,u.useCallback)(e=>e(h.buyVarianceAtom),[])),l=(0,o.useAtomCallback)((0,u.useCallback)(e=>e(h.transactionDelayMultiWalletAtom),[])),c=(0,o.useAtomCallback)((0,u.useCallback)(e=>e(h.monitoredSolWalletsAtom),[])),d=(0,o.useAtomCallback)((0,u.useCallback)(e=>e(q.regionInfoAtom),[])),m=(0,M.useGetSafeBlockhash)(),b=(0,o.useAtomCallback)((0,u.useCallback)(e=>e(h.turboWalletsAtom),[])),y=(0,o.useAtomCallback)((0,u.useCallback)(e=>e(h.solNoncesAtom),[])),A=(0,o.useAtomCallback)((0,u.useCallback)(e=>e(h.tokenAccountsAtom),[])),S=(0,o.useAtomCallback)((0,u.useCallback)(e=>e(h.solBalancesAtom),[])),E=(0,o.useAtomCallback)((0,u.useCallback)(e=>e(f.rewardsPercentageAtom),[])),k=(0,o.useAtomCallback)((0,u.useCallback)(e=>e(f.referralDataAtom),[])),N=(0,o.useAtomCallback)((0,u.useCallback)(e=>e(L.referredTokenAtom),[])),[R]=(0,K.useSettingsStable)("disableTradeWarnings",!1,x.default),[B]=(0,K.useSettingsStable)("enableProcessedMonitor",!0,x.default),C=(0,o.useAtomCallback)((0,u.useCallback)(e=>e(p.usdPerSolAtom),[])),D=(0,w.useVanishRefresh)(),U=(0,w.useVanishTransactionsRefresh)(),{monitorVanishTransactions:W}=X();return(0,u.useCallback)(async a=>{let o,u=Date.now();if(a.amountSol<1e-4){_.default.error("Minimum buy amount is 0.0001 SOL"),a.onComplete?.();return}let f=n(),p=c(),h=new Set(b()),x=y(),w=d(),P=A(),M=S(),F=new Map,L=!1,q=!1;for(let e of f)h.has(e)&&(L=!0),e===v.VANISH_WALLET_ADDRESS&&(q=!0);for(let e of f){if(!h.has(e))continue;let t=x.get(e)?.filter(e=>e.available)||[];if(t.length>0){let r=Math.floor(Math.random()*t.length),i=t[r];F.set(e,{account:i,cachedNonce:i.nonce,used:!1}),i.available=!1}}let K=()=>{for(let e of(a.onComplete?.(),F.values()))e.cachedNonce!==e.account.nonce||e.used||(e.account.available=!0)},V=async()=>{K(),await et(()=>e(f.filter(e=>e!==v.VANISH_WALLET_ADDRESS)))()},z=t("buy",a.presetType),H=F.size===f.length?6:q?60:16,X=L&&F.size>0?_.default.turboToast(`Turbo transaction in progress (${H}s)`,{duration:1/0}):_.default.loading(`Attempting transaction (${H}s)`,{duration:1/0}),Z=await m();if(!Z){_.default.error("Blockhash could not be found",{toastId:X}),K();return}if(a.amountSol<=0){_.default.error("Amount must be greater than 0",{toastId:X}),K();return}try{o=await (0,G.fillPairInfo)(a.pairInfo)}catch(e){_.default.error(`Error filling pair info: ${(0,O.getErrorMessage)(e)}`,{toastId:X}),K();return}let $=new Set(i()),ee=k(),er=N(),en={userRewardsPercentage:E(),referralRewardsPercentage:ee?.r??0,referralAddress:es(ee?.rs1),referralLevel2Address:es(ee?.rs2),referralLevel3Address:es(ee?.rs3),tokenReferralAddress:o.tokenAddress===er?.tokenAddress?es(er?.referrerSolAddress):null},ea=async(e,t)=>{try{let r=p.find(t=>t.publicKey===e);if(!r)throw Error("Wallet could not be found");let i=await (0,j.createValidatedSigner)(e),n=i.publicKey!==e?i.publicKey:void 0,s=J(r,i,P.data.get(r.publicKey),M.data.get(r.publicKey),n),u=F.get(e)?.account,l=u?g.SystemProgram.nonceAdvance({authorizedPubkey:new g.PublicKey(e),noncePubkey:new g.PublicKey(u.account)}):void 0,c=ei(z,!!u),d=await (0,G.generateSolMemeSwapTx)({swapParams:{type:"buy",amountSol:t,pairInfo:o,supplementalData:a.supplementalData},preset:z,wallet:s,blockhash:u?u.nonce:Z,providers:c,nonceInstruction:l,skipLiquidityCheck:R(),rewardsData:en,usdPerSol:C()??T.FALLBACK_USD_PER_SOL}),f=[];for(let e=0;e<d.length;e++){let{base64Tx:t,signature:r}=d[e];if($.has(r))throw Error("Transaction already sending...");f.push({base64Tx:t,signature:r,provider:c[e]})}if(u){let t=F.get(e);t&&(t.used=!0)}return{walletTransactions:{transactions:f,signer:i,publicKey:e,nonceInfo:u?{account:u,cachedNonce:u.nonce}:void 0}}}catch(e){return{error:(0,O.getErrorMessage)(e)}}},eo=new Map;try{let e=new Map(f.map(e=>[e,(M.data.get(e)?.balanceSol??0)*1e9]));if((eo=(0,I.distributeAmount)(Math.floor(1e9*a.amountSol),e,s())).size!==f.length)throw Error("Amounts and selected wallets length mismatch")}catch(e){_.default.error(`Error distributing amount: ${(0,O.getErrorMessage)(e)}`,{toastId:X}),K();return}let eu=[],el=[],ec=[...eo.entries()].map(([e,t])=>({walletAddress:e,amount:t/1e9})).filter(({amount:e})=>e>0).sort((e,t)=>t.amount-e.amount);if(await Promise.all(ec.map(async({walletAddress:e,amount:t})=>{let r=await ea(e,t);"error"in r?el.push(r.error):eu.push(r.walletTransactions)})),$=new Set(i()),r(e=>[...e,...eu.flatMap(({transactions:e})=>e.filter(({signature:e})=>!$.has(e)).map(({signature:e})=>e))]),0===eu.length){0===el.length?_.default.error("No transactions to send",{toastId:X}):1===el.length?_.default.error(`Transaction failed to send: ${el[0]}`,{toastId:X}):_.default.error(`Transactions failed to send: ${Q(el)}`,{toastId:X}),K();return}W(eu),Y({walletTransactions:eu,numWallets:f.length,preset:z,toastId:X,timeout:H,onComplete:V,onSuccess:a.onSuccess,region:w.name,isSell:!1,originalTime:u,enableProcessedMonitor:B(),protocol:o.protocol,transactionDelayMs:l(),pairAddress:o.pairAddress,refreshVanishBalances:D,refreshVanishTransactions:()=>U(o.tokenAddress,o.pairAddress)})},[n,C,D,U,c,b,y,d,A,S,t,m,i,r,e,R,E,B,s,l,W])}let ea=(0,y.atomWithStorage)("fp1",!1,void 0,{getOnInit:!0});function eo(){let e=(0,F.useGetSolPreset)(),t=(0,P.useRefreshBalancesSol)(),i=(0,a.useAtomValue)(f.turnkeyOrgIdAtom),n=(0,E.useTurnkeyClient)(),s=(0,a.useAtomValue)(ea),l=(0,a.useSetAtom)(ea),d=(0,a.useSetAtom)(h.recentSignaturesAtom),m=(0,o.useAtomCallback)(e=>e(h.recentSignaturesAtom)),b=(0,o.useAtomCallback)((0,u.useCallback)(e=>e(h.selectedSolWalletsAtom),[])),y=(0,o.useAtomCallback)((0,u.useCallback)(e=>e(h.monitoredSolWalletsAtom),[])),A=(0,M.useGetSafeBlockhash)(),S=(0,o.useAtomCallback)((0,u.useCallback)(e=>e(q.regionInfoAtom),[])),k=(0,o.useAtomCallback)((0,u.useCallback)(e=>e(h.turboWalletsAtom),[])),I=(0,o.useAtomCallback)((0,u.useCallback)(e=>e(h.solNoncesAtom),[])),R=(0,o.useAtomCallback)((0,u.useCallback)(e=>e(h.tokenAccountsAtom),[])),C=(0,o.useAtomCallback)((0,u.useCallback)(e=>e(h.solBalancesAtom),[])),W=(0,o.useAtomCallback)((0,u.useCallback)(e=>e(f.rewardsPercentageAtom),[])),V=(0,o.useAtomCallback)((0,u.useCallback)(e=>e(f.referralDataAtom),[])),H=(0,o.useAtomCallback)((0,u.useCallback)(e=>e(L.referredTokenAtom),[])),[Z]=(0,K.useSettingsStable)("enableProcessedMonitor",!0,x.default),$=(0,o.useAtomCallback)((0,u.useCallback)(e=>e(p.usdPerSolAtom),[])),ee=(0,w.useVanishRefresh)(),er=(0,w.useVanishTransactionsRefresh)(),en=(0,o.useAtomCallback)((0,u.useCallback)(e=>e(U.ordersAtom),[])),eo=(0,z.useCancelOrders)(),{monitorVanishTransactions:eu}=X();return(0,u.useCallback)(async a=>{let o,u=e("sell"),f=Date.now(),p=a.overrideWallets?a.overrideWallets:b(),h=y(),x=new Set(k()),w=I(),E=S(),P=R(),M=C(),U=new Map,F=!1,L=!1;for(let e of p)x.has(e)&&(F=!0),e===v.VANISH_WALLET_ADDRESS&&(L=!0);let q=p;if(0===q.length){_.default.error("No wallets selected"),a.onComplete?.();return}try{o=await (0,G.fillPairInfo)(a.pairInfo)}catch(e){_.default.error(`Error filling pair info: ${(0,O.getErrorMessage)(e)}`),a.onComplete?.();return}let K=null;if("percentage"!==a.amount.units)try{q=[...(K=function(e,t,i,n,a){let o,s=new Map;if("solana"===e.units)try{o=(0,N.estimateSellInverse)({protocol:t.protocol,targetNativeAmount:e.amountSol,liquidityNative:t.liquiditySol,liquidityToken:t.liquidityToken,decimals:t.tokenDecimals,protocolDetails:t.protocolDetails,usdPerNative:i})}catch(e){throw e}else o=(0,B.newSafeBN)(e.amountTokens*10**t.tokenDecimals);if(o.isZero())throw Error("Must sell more than 0 tokens");let u=new r.default(0);for(let e of a){let r=n.get(e),i=r?.get(t.tokenAddress),a=(0,B.newSafeBN)(i?.balanceRaw??"0");u=u.add(a)}if(o.gt(u))if(o.gt(u.mul((0,B.newSafeBN)(10100)).div((0,B.newSafeBN)(1e4))))if("solana"===e.units)throw Error(`Not enough tokens to sell for ${e.amountSol} SOL`);else throw Error(`Not enough tokens to sell for ${e.amountTokens} tokens`);else o=u;for(let e of a){if(o.isZero())break;let r=n.get(e),i=r?.get(t.tokenAddress),a=(0,B.newSafeBN)(i?.balanceRaw??"0"),u=a.gt(o)?o:a;if(s.set(e,(0,B.fromSafeBN)(u)/10**t.tokenDecimals),u.lt(o))o=o.sub(u);else break}return s}(a.amount,o,$()??T.FALLBACK_USD_PER_SOL,P.data,q)).keys()]}catch(e){_.default.error(`Error getting tokens to sell: ${(0,O.getErrorMessage)(e)}`),a.onComplete?.();return}for(let e of q){if(!x.has(e))continue;let t=w.get(e)?.filter(e=>e.available)||[];if(t.length>0){let r=Math.floor(Math.random()*t.length),i=t[r];U.set(e,{account:i,cachedNonce:i.nonce,used:!1}),i.available=!1}}let z=()=>{for(let e of(a.onComplete?.(),U.values()))e.cachedNonce!==e.account.nonce||e.used||(e.account.available=!0)},X=U.size===q.length?6:L?60:16,ea=F&&U.size>0?_.default.turboToast(`Turbo transaction in progress (${X}s)`,{duration:1/0}):_.default.loading(`Attempting transaction (${X}s)`,{duration:1/0}),el=async()=>{z(),et(()=>t(q.filter(e=>e!==v.VANISH_WALLET_ADDRESS)))().catch(()=>{});try{if(n&&!s){let e=await n.getPolicies();e.policies.find(e=>"Solana Close Positions V2"===e.policyName)||await n.createPolicy({policyName:"Solana Close Positions V2",effect:"EFFECT_ALLOW",condition:`solana.tx.account_keys[0] == 'AxiomRYAid8ZDhS1bJUAzEaNSr69aTWB9ATfdDLfUbnc' &&
                solana.tx.instructions.all(inst,
                  (
                    inst.program_key in ['TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA', 'TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb'] &&
                    inst.instruction_data_hex[0..2] == '09'
                  ) ||
                  inst.program_key == 'ComputeBudget111111111111111111111111111111'
                )`,notes:"Allows any user to close empty Solana token accounts via AxiomR"});let t=e.policies.find(e=>"Solana Close Positions"===e.policyName);t&&await n.deletePolicy({policyId:t.policyId}),l(!0)}}catch{}c.axiomApiV2.post("/handle-position-close-v2",{walletAddresses:q,subOrgId:i}).catch(()=>{}),await (0,D.sleep)(750);let e=en(),r=o.tokenAddress,a=[];for(let t of e)if("Active"===t.status&&t.tokenAddress===r&&q.includes(t.walletAddress)){let e=P.data.get(t.walletAddress),i=e?.get(r),n=Number(i?.balanceRaw??0);t.uiType.startsWith("Sell")&&0===n&&a.push(t.id)}a.length>0&&(_.default.loading("Cancelling open orders for token",{toastId:"cancel-open-orders",duration:1/0}),await eo(a),_.default.success("Open orders for token cancelled",{toastId:"cancel-open-orders"}))},ec=await A();if(!ec){_.default.error("Blockhash could not be found",{toastId:ea}),z();return}let ed=new Set(m()),ef=0,ep=V(),eh=H(),em={userRewardsPercentage:W(),referralRewardsPercentage:ep?.r??0,referralAddress:es(ep?.rs1),referralLevel2Address:es(ep?.rs2),referralLevel3Address:es(ep?.rs3),tokenReferralAddress:o.tokenAddress===eh?.tokenAddress?es(eh?.referrerSolAddress):null},eb=async e=>{try{let r,i=await (0,j.createValidatedSigner)(e),n=async t=>{let r=t.find(t=>t.publicKey===e);if(!r)throw Error("Wallet could not be found");let n="percentage"===a.amount.units?a.amount:{units:"tokens",amountTokens:K?.get(e)??0},s=i.publicKey!==e?i.publicKey:void 0,l=J(r,i,P.data.get(r.publicKey),M.data.get(r.publicKey),s),c=U.get(e)?.account,d=ei(u,!!c),f=c?g.SystemProgram.nonceAdvance({authorizedPubkey:new g.PublicKey(e),noncePubkey:new g.PublicKey(c.account)}):void 0,p=await (0,G.generateSolMemeSwapTx)({swapParams:{...a,type:"sell",pairInfo:o,amount:n},preset:u,wallet:l,blockhash:c?c.nonce:ec,providers:d,nonceInstruction:f,rewardsData:em,usdPerSol:$()??T.FALLBACK_USD_PER_SOL}),h=[];for(let e=0;e<p.length;e++){let{base64Tx:t,signature:r}=p[e];if(ed.has(r))throw Error("Transaction already sending...");h.push({base64Tx:t,signature:r,provider:d[e]})}if(c){let t=U.get(e);t&&(t.used=!0)}return{walletTransactions:{transactions:h,signer:i,publicKey:e,nonceInfo:c?{account:c,cachedNonce:c.nonce}:void 0}}};try{r=await n(h)}catch(i){if("Token balance not found"===(0,O.getErrorMessage)(i))if(1===p.length){if(!await t([e],!0))throw Error("You have 0 tokens");r=await n(h)}else throw t([e]).catch(()=>{}),ef+=1,i;else throw i}return r}catch(e){return{error:(0,O.getErrorMessage)(e)}}},eg=[],ey=[];if(await Promise.all(q.map(async e=>{let t=await eb(e);"error"in t?ey.push(t.error):eg.push(t.walletTransactions)})),ef>0&&_.default.error(`${ef} wallets missing token balances`),ed=new Set(m()),d(e=>[...e,...eg.flatMap(({transactions:e})=>e.filter(({signature:e})=>!ed.has(e)).map(({signature:e})=>e))]),0===eg.length){0===ey.length?_.default.error("No transactions to send",{toastId:ea}):1===ey.length?_.default.error(`Transaction failed to send: ${ey[0]}`,{toastId:ea}):_.default.error(`Transactions failed to send: ${Q(ey)}`,{toastId:ea}),z();return}eu(eg),Y({walletTransactions:eg,numWallets:q.length,preset:u,toastId:ea,timeout:X,onComplete:el,onSuccess:a.onSuccess,region:E.name,isSell:!0,originalTime:f,enableProcessedMonitor:Z(),refreshVanishBalances:ee,refreshVanishTransactions:()=>er(o.tokenAddress,o.pairAddress),protocol:o.protocol,pairAddress:o.pairAddress})},[e,b,y,k,I,S,R,C,A,m,d,Z,ee,er,i,en,t,n,s,l,eo,W,$,eu,V])}function es(e){return e?(0,V.findProgramAddressSync)([b.Buffer.from("vault"),new g.PublicKey(e).toBuffer()],new g.PublicKey(A.VAULT_PROGRAM_ADDRESS))[0].toBase58():null}var eu=e.i(223560),el=e.i(458359);let ec=({labelLeft:e,labelRight:r,placeholder:i,onChange:n,value:a,displayValue:o,bgColor:l="bg-transparent",rightElement:c,token:d,tokenIcon:f,disabled:p=!1})=>{let h=u.default.useRef(null),m=()=>c||(d&&f?(0,t.jsxs)("div",{className:"flex items-center gap-[4px]",children:[(0,t.jsx)(s.default,{src:f,alt:d,width:18,height:18}),(0,t.jsx)("span",{className:"max-w-[100px] truncate whitespace-nowrap text-[18px] font-normal leading-[23px] text-textPrimary",children:d})]}):null);return(0,t.jsxs)("div",{className:`${l} flex h-[64px] w-full flex-col items-center justify-between rounded-[4px] border-[1px] border-secondaryStroke p-[8px] transition-all duration-[150ms] ease-in-out focus-within:border-secondaryStroke/80 focus-within:bg-secondaryStroke/20 hover:cursor-text hover:border-secondaryStroke/80 hover:bg-secondaryStroke/20`,onClick:()=>h.current?.focus(),children:[(0,t.jsxs)("div",{className:"flex w-full flex-row items-center justify-start",children:[(0,t.jsx)("div",{className:"flex h-full flex-1 flex-row items-center justify-start",children:(0,t.jsx)("span",{className:"text-[12px] font-normal leading-[16px] text-textPrimary",children:e})}),(0,t.jsx)("div",{className:"flex h-full flex-row items-center justify-center",children:(0,t.jsx)("span",{className:"text-[12px] font-normal leading-[16px] text-textTertiary",children:r})})]}),(0,t.jsxs)("div",{className:"flex w-full flex-row items-center justify-start",children:[(0,t.jsx)("div",{className:"flex min-w-0 flex-1 flex-row items-center justify-start",children:(0,t.jsx)("input",{ref:h,className:"w-full min-w-0 bg-transparent text-[18px] font-normal leading-[23px] text-textPrimary placeholder:text-[18px] placeholder:leading-[16px] placeholder:text-textTertiary focus:outline-none disabled:cursor-not-allowed disabled:opacity-50",placeholder:i,value:o||a||"",onChange:e=>n(e.target.value),disabled:p})}),m()&&(0,t.jsx)("div",{className:"ml-2 flex flex-shrink-0 flex-row items-center justify-end gap-[4px]",children:m()})]})]})};e.s(["GlobalInputBoxLarge",0,ec],12917);var ed=e.i(879197);let ef=new r.default(25),ep=new r.default(1e4),eh="swap-usdc-toast";async function em(e){let t=j.globalHeliusConnection;try{let r=await t.getTokenAccountBalance(e);if(null==r.value.uiAmount)return -1;return r.value.uiAmount}catch{return -1}}let eb=(0,n.atom)(!1);function eg({onClose:e}){let{t:n}=(0,d.useTranslation)(),m=(0,a.useAtomValue)(h.solPublicKeyAtom),b=(0,a.useAtomValue)(h.solBalanceAtom),g=(0,a.useAtomValue)(p.usdPerSolAtom),y=(0,o.useAtomCallback)(e=>e(f.rewardsPercentageAtom)),x=(0,o.useAtomCallback)(e=>e(f.referralDataAtom)),[A,w]=(0,a.useAtom)(eb),[v,S]=(0,u.useState)(null),[T,E]=(0,u.useState)(""),[k,P]=(0,u.useState)(""),[I,R]=(0,u.useState)(!1),B=j.globalHeliusConnection,C=(0,a.useAtomValue)(h.tokenAccountsAtom),O=(0,u.useMemo)(()=>Number(C.data.get(m)?.get(l.USDC_MINT)?.balanceRaw??0)/1e6,[C,m]),[D,M]=(0,u.useState)(!1),U=(0,a.useSetAtom)(h.recentSignaturesAtom),F=(0,o.useAtomCallback)(e=>e(h.recentSignaturesAtom));(0,u.useEffect)(()=>{(async()=>{try{let e=await c.axiomApiV2.get("/swap-info",{tokenAddress:"So11111111111111111111111111111111111111112",pairAddress:"58oQChx4yWmvKdwLLZzBi4ChoCc2fqCUWBkwMihLYQo2"});S(e)}catch(e){console.error(n("Error fetching swap info:"),e)}})()},[n]);let L=e=>{if(""===e){E(e),P("");return}if(!/^\d*\.?\d*$/.test(e)){E(""),P("");return}if("."===e){E("0."),P("0.");return}if(!g||null===O||null===b||!v){E(""),P("");return}A?Number(e)>Number(O)?(E(O.toString().replace(/\.?0+$/,"")),P(Math.max(0,.99*(0,N.estimateSell)({protocol:v.protocol,percentage:100,tokenBalance:Number(O),liquidityNative:v.liquiditySol,liquidityToken:v.liquidityToken,decimals:6,protocolDetails:v.protocolDetails,supplementalData:null,usdPerNative:g})).toFixed(9).replace(/\.?0+$/,""))):(E(e),P(Math.max(0,.99*(0,N.estimateSell)({protocol:v.protocol,percentage:100,tokenBalance:Number(e),liquidityNative:v.liquiditySol,liquidityToken:v.liquidityToken,decimals:6,protocolDetails:v.protocolDetails,supplementalData:null,usdPerNative:g})).toFixed(9).replace(/\.?0+$/,""))):Number(e)>b-.0067-.001105?(E(Math.max(0,b-.0067-.001105).toFixed(9).replace(/\.?0+$/,"")),P(Math.max(0,.99*ey(b-.0067-.001105,v.liquiditySol,v.liquidityToken)).toFixed(6).replace(/\.?0+$/,""))):(E(e),P(Math.max(0,.99*ey(Number(e),v.liquiditySol,v.liquidityToken)).toFixed(6).replace(/\.?0+$/,"")))},q=async()=>{if(!v)return void _.default.error(n("Swap info not yet loaded, try again in a second."),{toastId:eh});if(!m||!g||null===O||null===b)return void _.default.error(n("Something went wrong, please try again."),{toastId:eh});if(!Number(T)||!Number(k))return void _.default.error(n("Invalid input"),{toastId:eh});if(b<.0067)return void _.default.error(n("Insufficient SOL to pay for gas"),{toastId:eh});if(A&&Number(T)>Number(O))return void _.default.error(n("Insufficient USDC balance"),{toastId:eh});if(!A&&Number(T)>Number(b))return void _.default.error(n("Insufficient SOL balance"),{toastId:eh});R(!0);let t=A?"sell":"buy",i="buy"===t?9:6;if(("buy"===t?Number(T)-.0067:Number(T))<=0){_.default.error(n("Not enough tokens to proceed after gas deduction."),{toastId:eh}),R(!1);return}let a=new r.default((Number(T)*10**i).toFixed(0)),o={slippage:1,priorityFeeSol:1e-4,bribeFeeSol:.001,mevProtection:!0,enhancedMevProtection:!0,customRpcUrl:""},s=15;_.default.loading(`${n("Swapping on Raydium...")} (${s}s)`,{toastId:eh});let u=setInterval(()=>{--s>0?_.default.loading(`${n("Swapping on Raydium...")} (${s}s)`,{toastId:eh}):(clearInterval(u),_.default.error(n("Timed out while trying to initiate swap"),{toastId:eh}))},1e3),l=x(),c={userRewardsPercentage:y(),referralRewardsPercentage:l?.r??0,referralAddress:es(l?.rs1),referralLevel2Address:es(l?.rs2),referralLevel3Address:es(l?.rs3),tokenReferralAddress:null};try{let r=await (0,j.createValidatedSigner)(m),i=await B.getLatestBlockhash(),[s]=await (0,eu.swapRaydium)({pairAddress:v.pairAddress,tokenAddress:v.tokenAddress,type:t,amount:a,tokenDecimals:v.tokenDecimals,liquiditySol:v.liquiditySol,liquidityToken:v.liquidityToken,userTokenAccountAddress:C.data.get(m)?.get(v.tokenAddress)?.tokenAccountAddress,protocolDetails:v.protocolDetails,blockhash:i.blockhash,swapSettings:o,wallet:{...r,isVanish:!1},rewardsData:c,usdPerSol:g}),{signature:u,base64Tx:l}=s,d=F();if(d.includes(u))return void _.default.error(n("Transaction already sending..."),{toastId:eh});U([...d.slice(-25),u]),await Y({walletTransactions:[{transactions:[{base64Tx:l,provider:"jito",signature:u}],signer:r,publicKey:m}],preset:o,toastId:eh,numWallets:1,onComplete:()=>{R(!1)},onSuccess:()=>{_.default.success(n("Swap completed!"),{toastId:eh}),e()},protocol:v.protocol})}catch(e){console.error(n("Swap failed:"),e),_.default.error(n("Raydium swap failed"),{toastId:eh})}finally{clearInterval(u)}},K=0>=Number(T)||0>=Number(k),W=A&&b<.0067;return(0,t.jsx)(i.motion.div,{...el.ModalAnimationSettings.backdrop,className:"fixed inset-0 z-[100] flex items-center justify-center bg-[#090909]/80 backdrop-blur-[2px]",onClick:t=>{D&&t.target===t.currentTarget&&e()},onMouseDown:e=>{e.target===e.currentTarget&&M(!0)},onMouseUp:()=>{requestAnimationFrame(()=>{M(!1)})},children:(0,t.jsxs)(i.motion.div,{...el.ModalAnimationSettings.modal,className:"flex h-[448px] w-[364px] flex-col rounded-[4px] border-[1px] border-secondaryStroke bg-backgroundTertiary shadow-[0_4px_4px_0_rgba(0,0,0,0.30),0_8px_8px_0_rgba(0,0,0,0.45)]",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex h-[44px] w-full flex-row items-center justify-between border-b-[1px] border-b-secondaryStroke pl-[16px] pr-[12px]",children:[(0,t.jsx)("span",{className:"text-[14px] font-medium leading-[20px] tracking-[-0.02em] text-textPrimary",children:n("Swap")}),(0,t.jsx)("button",{className:"group flex h-[24px] w-[24px] flex-row items-center justify-center rounded-[4px] p-[4px] transition-colors duration-150 ease-in-out hover:bg-secondaryStroke/20",onClick:e,children:(0,t.jsx)("i",{className:"ri-close-line text-[16px] text-textSecondary group-hover:text-textPrimary"})})]}),(0,t.jsxs)("div",{className:"flex min-h-[200px] w-full flex-1 flex-col gap-[16px] p-[16px] pb-[20px]",children:[(0,t.jsxs)("div",{className:"flex w-full flex-row gap-[8px]",children:[(0,t.jsx)("div",{className:"w-1/2",children:(0,t.jsxs)("div",{className:"group flex h-[32px] w-full flex-row items-center justify-start gap-[8px] rounded-[4px] border-[1px] border-secondaryStroke/50 px-[12px]",children:[(0,t.jsx)(s.default,{src:A?"/images/usdc-sol.svg":"/images/sol-fill.svg",alt:A?"USDC":"SOL",width:16,height:16}),(0,t.jsx)("span",{className:"flex-1 text-left text-[12px] font-normal leading-[16px] text-textPrimary",children:A?"USDC":"SOL"})]})}),(0,t.jsxs)("div",{className:"flex h-[32px] flex-1 flex-row items-center justify-start gap-[8px] rounded-[4px] border-[1px] border-secondaryStroke/50 px-[12px]",children:[(0,t.jsx)("span",{className:"flex-1 text-[12px] font-normal leading-[16px] text-textTertiary",children:n("Balance:")}),(0,t.jsx)("span",{className:"text-[12px] font-normal leading-[16px] text-textSecondary",dangerouslySetInnerHTML:{__html:A?`${(0,ed.getFormattedNumber)(O??0,4)} USDC`:`${(0,ed.getFormattedNumber)(b??0,4)} SOL`}})]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(ec,{bgColor:"bg-transparent",labelLeft:(0,t.jsx)("span",{className:"text-[12px] font-normal leading-[16px] text-textTertiary",children:n("From")}),token:A?"USDC":"SOL",tokenIcon:A?"/images/usdc-sol.svg":"/images/sol-fill.svg",placeholder:"0.0",value:T,onChange:L,disabled:I}),(0,t.jsx)("button",{className:"duration-125 absolute right-2 top-2 text-xs text-primaryBlue transition-colors ease-in-out hover:text-primaryBlueHover",onClick:()=>{g&&null!==O&&null!==b&&L(A?O.toString():b.toString())},disabled:I,children:n("Max")})]}),(0,t.jsxs)("div",{className:"relative flex w-full flex-row items-center justify-center",children:[(0,t.jsxs)("span",{className:"absolute right-0 top-0 border-b border-dashed border-textTertiary/50 text-[10px] font-normal leading-[13px] text-textTertiary transition-colors duration-150 hover:border-textTertiary",children:["$",g?(.001105*g).toFixed(2):"--"," ",(0,t.jsx)("i",{className:"ri-gas-station-line text-[12px]"})]}),(0,t.jsx)("button",{className:"group flex h-[32px] w-[32px] cursor-pointer flex-row items-center justify-center rounded-full border-[1px] border-secondaryStroke/50 bg-secondaryStroke/50 transition-all duration-[150ms] ease-in-out hover:bg-secondaryStroke/80",onClick:()=>{w(!A),E(k),P(T)},disabled:I,children:(0,t.jsx)("i",{className:"ri-arrow-up-down-line text-[18px] text-textSecondary group-hover:text-textPrimary"})})]}),(0,t.jsxs)("div",{className:"flex w-full flex-row gap-[8px]",children:[(0,t.jsx)("div",{className:"w-1/2",children:(0,t.jsxs)("div",{className:"group flex h-[32px] w-full flex-row items-center justify-start gap-[8px] rounded-[4px] border-[1px] border-secondaryStroke/50 px-[12px]",children:[(0,t.jsx)(s.default,{src:A?"/images/sol-fill.svg":"/images/usdc-sol.svg",alt:A?"SOL":"USDC",width:16,height:16}),(0,t.jsx)("span",{className:"flex-1 text-left text-[12px] font-normal leading-[16px] text-textPrimary",children:A?"SOL":"USDC"})]})}),(0,t.jsxs)("div",{className:"flex h-[32px] flex-1 flex-row items-center justify-start gap-[8px] rounded-[4px] border-[1px] border-secondaryStroke/50 px-[12px]",children:[(0,t.jsx)("span",{className:"flex-1 text-[12px] font-normal leading-[16px] text-textTertiary",children:n("Balance:")}),(0,t.jsx)("span",{className:"text-[12px] font-normal leading-[16px] text-textSecondary",dangerouslySetInnerHTML:{__html:A?`${(0,ed.getFormattedNumber)(b??0,4)} SOL`:`${(0,ed.getFormattedNumber)(O??0,4)} USDC`}})]})]}),(0,t.jsx)(ec,{bgColor:"bg-transparent",labelLeft:(0,t.jsx)("span",{className:"text-[12px] font-normal leading-[16px] text-textTertiary",children:n("To (Estimated)")}),token:A?"SOL":"USDC",tokenIcon:A?"/images/sol-fill.svg":"/images/usdc-sol.svg",placeholder:"0.0",value:k,onChange:e=>{if(""===e){E(""),P(e);return}if(!/^\d*\.?\d*$/.test(e)){E(""),P("");return}if("."===e){E("0."),P("0.");return}if(!g||null===O||null===b||!v){E(""),P("");return}let t=A?ey(Number(e)/99*100,v.liquiditySol,v.liquidityToken):(0,N.estimateSell)({protocol:v.protocol,percentage:100,tokenBalance:Number(e)/99*100,liquidityNative:v.liquiditySol,liquidityToken:v.liquidityToken,decimals:6,protocolDetails:v.protocolDetails,supplementalData:null,usdPerNative:g})-.001105;Number(t)>(A?Number(O):b-.0067)?L(A?O.toFixed(6).replace(/\.?0+$/,""):(b-.0067).toFixed(9).replace(/\.?0+$/,"")):(E(t.toFixed(A?6:9).replace(/\.?0+$/,"")),P(e))},disabled:I})]}),(0,t.jsx)("div",{className:"flex h-[68px] w-full flex-row items-center justify-end border-t border-secondaryStroke/50 p-[16px] pb-[20px]",children:(0,t.jsx)("button",{disabled:I||K||W,className:"flex h-[32px] flex-1 cursor-pointer flex-row items-center justify-center gap-[8px] rounded-full bg-primaryBlue px-[12px] transition-all duration-[150ms] hover:bg-primaryBlue/80 hover:brightness-110 disabled:cursor-not-allowed disabled:opacity-50",onClick:q,children:(0,t.jsx)("span",{className:"text-[14px] font-bold text-background",children:I?n("Loading..."):W?n("Insufficient SOL"):n("Confirm Swap")})})})]})})}function ey(e,t,r){var i,n;let a,o=(0,B.newSafeBN)(1e9*e),s=(0,B.newSafeBN)(1e9*t),u=(0,B.newSafeBN)(1e6*r),l=(i=o.mul(ef),n=ep,a=i.div(n),i.mod(n).gt((0,B.newSafeBN)(0))&&(a=a.add((0,B.newSafeBN)(1))),a),c=o.sub(l),d=s.add(c);return Number(u.mul(c).div(d))/1e6}},740626,e=>{"use strict";e.s(["default",()=>h]);var t=e.i(843476),r=e.i(672464),i=e.i(657688),n=e.i(271645),a=e.i(592846),o=e.i(542119),s=e.i(741124),u=e.i(718646),l=e.i(953312),c=e.i(115906),d=e.i(31943),f=e.i(973444),p=e.i(879197);let h=({title:e,timestamp:h,message:m,icon:b,id:g,meta:y,type:x,onClose:A})=>{let w=(0,r.useAtomValue)(l.nowAtom),v=(0,u.useDeleteNotification)(),S=(0,c.useRouter)(),T=(0,r.useSetAtom)(o.isSwapModalOpenAtom),E=(0,r.useSetAtom)(d.fromNotifAtom),{t:k}=(0,a.useTranslation)(),P=(0,r.useAtomValue)(s.currentChainAtom),_=(0,n.useCallback)(e=>{e?.preventDefault(),A?.(),setTimeout(()=>{switch(x){case"sol-usdc":E(!0),T(!0);break;case"referral":case"claim-sol":case"claim-points":S.push("/rewards?chain=sol");break;case"meme-limit-order":case"pair-alert":S.push(`/meme/${y}?chain=${P}`)}},100)},[A,x,E,T,S,y,P]),I=(0,n.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),v(g)},[v,g]),N=(0,n.useMemo)(()=>{if("pair-alert"===x){let t=e.match(/Price Alert for (.+)/),r=t?t[1]:e,i=m.match(/\$?([\d,]+(?:\.\d+)?)\s*([KMB])?/),n=i?i[1]:"",a=i?i[2]:"",o=0;if(n){let e=parseFloat(n.replace(/,/g,""));o="K"===a?1e3*e:"M"===a?1e6*e:"B"===a?1e9*e:e}let s=m.includes("crossed above");return{ticker:r,isUp:s,isDown:m.includes("dipped below"),isMigrated:m.includes("migrated"),formattedValue:(0,p.getFormattedNumber)(o,4)}}return null},[x,e,m]),R=(0,n.useMemo)(()=>({referral:{text:k("View")},"sol-usdc":{text:k("Convert")},"claim-sol":{text:k("Claim")},"claim-points":{text:k("Claim")},"meme-limit-order":{text:k("View")},"pair-alert":{text:k("View")}}),[k]),B=["sol-usdc","referral","claim-sol","claim-points","meme-limit-order","pair-alert"].includes(x);return(0,t.jsxs)("div",{className:`group relative flex min-h-[44px] w-full flex-shrink-0 flex-col items-center justify-start border-b-[1px] border-b-secondaryStroke/50 px-[16px] text-left transition-all duration-150 ease-in-out ${B?"cursor-pointer hover:bg-secondaryStroke/20":"cursor-default"}`,onClick:B?_:void 0,children:[(0,t.jsxs)("div",{className:"flex h-[44px] min-h-[44px] w-full flex-row items-center justify-start",children:[(0,t.jsxs)("div",{className:"flex flex-1 flex-row items-center justify-start gap-[8px]",children:[(0,t.jsx)("div",{className:"relative",children:b.startsWith("/")||b.startsWith("http")?(0,t.jsxs)("div",{className:"relative h-[18px] min-h-[18px] w-[18px] min-w-[18px]",children:[(0,t.jsx)(i.default,{src:b,alt:e,width:18,height:18,className:"relative z-10 h-full w-full rounded-[4px] object-cover"}),"pair-alert"===x&&(0,t.jsx)("div",{className:"pointer-events-none absolute inset-0 z-20 rounded-[4px] border border-white/10"})]}):(0,t.jsx)("i",{className:`${b} text-[18px] text-textPrimary`})}),(0,t.jsx)("span",{className:"flex items-center gap-[4px] text-[14px] font-normal leading-[20px] tracking-[-0.02em] text-textPrimary",children:"pair-alert"===x&&N?(0,t.jsxs)(t.Fragment,{children:[N.ticker,N.isMigrated?(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsx)("i",{className:"ri-arrow-right-double-line text-[13px] text-primaryBlueHover"}),(0,t.jsx)("span",{className:"text-primaryBlueHover",children:k("Migrated")})]}):N.isUp||N.isDown?(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsx)("i",{className:`${N.isUp?"ri-arrow-up-line text-increase":"ri-arrow-down-line text-decrease"} text-[13px]`}),(0,t.jsx)("span",{className:N.isUp?"text-increase":"text-decrease",children:N.isUp?k("Above"):k("Below")})," ",(0,t.jsxs)("span",{children:["$",N.formattedValue," ",k("MC")]})]}):(0,t.jsxs)(t.Fragment,{children:[" ",e]})]}):e})]}),(0,t.jsxs)("span",{className:"text-[12px] font-normal leading-[16px] text-textTertiary opacity-100 transition-opacity duration-150 group-hover:opacity-0",children:[(0,f.getRelativeAge)(new Date(h),w)," ",k("ago")]}),(0,t.jsx)("button",{className:"absolute right-[16px] flex h-[20px] w-[20px] cursor-pointer flex-row items-center justify-center rounded-[4px] p-[4px] opacity-0 transition-opacity duration-150 ease-in-out hover:bg-primaryStroke/60 group-hover:opacity-100",onClick:I,children:(0,t.jsx)("i",{className:"ri-close-line text-[16px] text-textSecondary"})})]}),(0,t.jsx)("div",{className:"flex w-full flex-col pb-[16px]",children:(0,t.jsx)("div",{className:"flex flex-row items-center",children:(0,t.jsxs)("span",{className:"text-[12px] font-normal leading-[16px] text-textPrimary",children:[m,R[x]?.text&&(0,t.jsx)("span",{className:"ml-1 text-primaryBlue transition-all duration-150 hover:underline hover:brightness-110",children:R[x]?.text})]})})})]})}},363071,e=>{"use strict";var t=e.i(271645);e.s(["default",0,()=>{let[e,r]=(0,t.useState)(!1),i=(0,t.useRef)(!1),n=(0,t.useCallback)(()=>{r(!0),i.current=!0},[]),a=(0,t.useCallback)(()=>{r(!1),i.current=!1},[]),o=(0,t.useCallback)(()=>{i.current?a():n()},[n,a]),s=(0,t.useCallback)(()=>i.current||e,[e]);return(0,t.useMemo)(()=>({uiLocked:e,isLocked:s,lock:n,unlock:a,toggle:o}),[e,s,n,a,o])}])},736837,438828,206850,448259,e=>{"use strict";var t=e.i(337575),r=e.i(675107),i=e.i(992744),n=e.i(704433),a=e.i(880841),o=e.i(769936),s=e.i(913091);async function u({hash:e,privateKey:i,to:n="object"}){let{r:u,s:l,recovery:c}=t.secp256k1.sign(e.slice(2),i.slice(2),{lowS:!0,extraEntropy:!!(0,a.isHex)(!1,{strict:!1})&&(0,o.hexToBytes)(!1)}),d={r:(0,r.numberToHex)(u,{size:32}),s:(0,r.numberToHex)(l,{size:32}),v:c?28n:27n,yParity:c};return"bytes"===n||"hex"===n?(0,s.serializeSignature)({...d,to:n}):d}var l=e.i(656450);async function c(e){let{chainId:t,nonce:r,privateKey:i,to:n="object"}=e,a=e.contractAddress??e.address,o=await u({hash:(0,l.hashAuthorization)({address:a,chainId:t,nonce:r}),privateKey:i,to:n});return"object"===n?{address:a,chainId:t,nonce:r,...o}:o}var d=e.i(658765);async function f({message:e,privateKey:t}){return await u({hash:(0,d.hashMessage)(e),privateKey:t,to:"hex"})}var p=e.i(831095),h=e.i(766816);async function m(e){let{privateKey:t,transaction:r,serializer:i=h.serializeTransaction}=e,n="eip4844"===r.type?{...r,sidecars:!1}:r,a=await u({hash:(0,p.keccak256)(await i(n)),privateKey:t});return await i(r,a)}var b=e.i(995062);async function g(e){let{privateKey:t,...r}=e;return await u({hash:(0,b.hashTypedData)(r),privateKey:t,to:"hex"})}function y(e,a={}){let{nonceManager:o}=a,s=(0,r.toHex)(t.secp256k1.getPublicKey(e.slice(2),!1)),l=(0,n.publicKeyToAddress)(s);return{...(0,i.toAccount)({address:l,nonceManager:o,sign:async({hash:t})=>u({hash:t,privateKey:e,to:"hex"}),signAuthorization:async t=>c({...t,privateKey:e}),signMessage:async({message:t})=>f({message:t,privateKey:e}),signTransaction:async(t,{serializer:r}={})=>m({privateKey:e,transaction:t,serializer:r}),signTypedData:async t=>g({...t,privateKey:e})}),publicKey:s,source:"privateKey"}}e.s(["privateKeyToAccount",()=>y],736837);var x=e.i(828073);e.i(465903);var A=e.i(767924),w=e.i(375116);function v(e,t,r,i,n){let a=(0,x.default)(e).times(r).times(n-i),o=(0,x.default)(t).times(n).plus((0,x.default)(e).times(n-i));return a.div(o).integerValue(x.default.ROUND_DOWN)}function S({bnb:e,liquidityBnb:t,liquidityToken:r,fee:i,protocol:n}){try{let a=(0,x.default)(e).times(A.AXIOM_FEE_BASIS_POINTS).div(A.BASIS_POINTS_DIVISOR),o=(0,x.default)(e).minus(a);if("Fourmeme V2"===n||"Binance"===n){let e=v(o,t,r,A.FOURMEME_PROTOCOL_FEE,A.BASIS_POINTS_DIVISOR+A.FOURMEME_PROTOCOL_FEE),i=w.FOURMEME_SALE_AMOUNT.plus(r).minus(w.FOURMEME_T0).integerValue(x.default.ROUND_DOWN);if(e.gt(i))return i;return e}if("Flap"===n){let e=v(o,t,r,i,1e6),n=w.FOURMEME_SALE_AMOUNT.plus(r).minus(w.FOURMEME_T0).integerValue(x.default.ROUND_DOWN);if(e.gt(n))return n;return e}return v(o,t,r,i,1e6)}catch{return(0,x.default)(0)}}function T({tokens:e,liquidityBnb:t,liquidityToken:r,fee:i,protocol:n}){try{var a;let o,s,u;"Fourmeme V2"===n&&(i=0);let l=(a=i,s=(o=(0,x.default)(e).times(1e6-a).div(1e6)).times(t),u=(0,x.default)(r).plus(o),s.div(u).integerValue(x.default.ROUND_DOWN)),c=l.times(A.AXIOM_FEE_BASIS_POINTS).div(A.BASIS_POINTS_DIVISOR);if("Fourmeme V2"===n){let e=l.times(A.FOURMEME_PROTOCOL_FEE).div(A.BASIS_POINTS_DIVISOR);return l.minus(e).minus(c)}return l.minus(c)}catch{return(0,x.default)(0)}}function E({targetBnb:e,liquidityBnb:t,liquidityToken:r,fee:i,protocol:n}){var a,o;let s;if((0,x.default)(e).isLessThan(0))throw Error("Invalid amount BNB");if((0,x.default)(e).isGreaterThan(t))throw Error("You cannot sell more than what's in the pool");"Fourmeme V2"===n&&(i=0);let u=(a=s="Fourmeme V2"===n?(0,x.default)(e).times(A.BASIS_POINTS_DIVISOR).div(A.BASIS_POINTS_DIVISOR-A.FOURMEME_PROTOCOL_FEE-A.AXIOM_FEE_BASIS_POINTS).integerValue(x.default.ROUND_CEIL):(0,x.default)(e).times(A.BASIS_POINTS_DIVISOR).div(A.BASIS_POINTS_DIVISOR-A.AXIOM_FEE_BASIS_POINTS).integerValue(x.default.ROUND_CEIL),o=i,(0,x.default)(a).times(r).div((0,x.default)(t).minus(a)).times(1e6).div(1e6-o).integerValue(x.default.ROUND_CEIL));if(u.isLessThan(0))throw Error("Invalid amount");return u}e.s(["estimateBuyBnb",()=>S],438828),e.s(["estimateSellBnb",()=>T],206850),e.s(["estimateSellInverseBnb",()=>E],448259)},698430,e=>{"use strict";function t(e){return"Uniswap V2"===e||"Pancakeswap V2"===e||"Generic Uniswap V2"===e||"Generic Pancakeswap V2"===e?"v2":"Uniswap V3"===e||"Pancakeswap V3"===e||"Generic Uniswap V3"===e||"Generic Pancakeswap V3"===e?"v3":"Fourmeme V2"===e?"fourmeme":"Binance"===e?"binance":"Flap"===e?"flap":(("Uniswap V4"===e||"Generic Uniswap V4"===e)&&console.warn(`Protocol ${e} not yet supported for execution`),null)}e.s(["getExecutionProtocol",()=>t])},509597,e=>{"use strict";let t=new Set;async function r(e,r){let i=e.toLowerCase();if(t.has(i))return null;t.add(i);try{let t=await r.getCode({address:e});if(!t||"0x"===t)return!1;return t.toLowerCase().startsWith("0xef0100")}catch(e){return console.error("Error checking EIP-7702 delegation:",e),!1}}e.s(["checkEIP7702Delegation",()=>r])},983624,e=>{"use strict";var t=e.i(857871),r=e.i(707716);e.i(290568);var i=e.i(817080);class n extends i.WebSocketRoomManager{static instance=null;connectionType=r.ConnectionType.HYPERLIQUID;channelEntries=new Map;constructor(e){super(e),this.initialize()}static getInstance(e){if(n.instance){let t=(0,r.buildUrlWithParams)(e.url,e.queryParams);n.instance.url!==t&&(n.instance.url=t,n.instance.reconnectAttempts=e.reconnectAttempts??100,n.instance.setupPoolSubscriptionWithNewUrl())}else n.instance=new n(e);return n.instance}static getInstanceIfExists(){return n.instance}static resetForTesting(){r.WebSocketConnectionPool.resetForTesting(),n.instance&&(n.instance.destroy(),n.instance=null)}handleMessage(e){if("channel"in e){let t=this.channelEntries.get(e.channel);if(t){let r=new Set;for(let e of t.subscriptionKeySubscribers.values())for(let t of e)r.add(t);r.forEach(t=>{t.onMessage(e)})}}}rejoinAllRooms(){this.channelEntries.forEach(e=>{for(let t of(e.subscribedKeys.clear(),e.subscriptionKeySubscribers.keys())){let r=JSON.parse(t);this.pool.sendJsonMessage(this.connectionType,{method:"subscribe",subscription:r}),e.subscribedKeys.add(t)}})}leaveAllRooms(){this.channelEntries.forEach(e=>{for(let t of e.subscriptionKeySubscribers.keys()){let e=JSON.parse(t);this.pool.sendJsonMessage(this.connectionType,{method:"unsubscribe",subscription:e})}})}clearEntries(){this.channelEntries.clear()}subscribe(e,r){let i=e.type,n=JSON.stringify(e),a=this.channelEntries.get(i);a||(a={subscriptionKeySubscribers:new Map,subscribedKeys:new Set},this.channelEntries.set(i,a));let o=a.subscriptionKeySubscribers.get(n),s=!o;return o||(o=new Set,a.subscriptionKeySubscribers.set(n,o)),o.add(r),t.wsRum.roomSubscribed("hyperliquid",i,this.channelEntries.size,o.size),s&&this.isConnected&&(this.pool.sendJsonMessage(this.connectionType,{method:"subscribe",subscription:e}),a.subscribedKeys.add(n)),()=>{let a=this.channelEntries.get(i);if(!a)return;let o=a.subscriptionKeySubscribers.get(n);o&&(o.delete(r),0===o.size&&(a.subscriptionKeySubscribers.delete(n),this.isConnected&&a.subscribedKeys.has(n)&&(this.pool.sendJsonMessage(this.connectionType,{method:"unsubscribe",subscription:e}),a.subscribedKeys.delete(n))),0===a.subscriptionKeySubscribers.size&&this.channelEntries.delete(i),t.wsRum.roomUnsubscribed("hyperliquid",i,this.channelEntries.size,o?.size??0))}}getChannels(){return new Set(this.channelEntries.keys())}destroy(){this.destroyBase(),n.instance=null}}e.s(["HyperliquidWebSocketRoomManager",()=>n])},449885,e=>{"use strict";var t=e.i(247167),r=e.i(672464),i=e.i(271645),n=e.i(944325),a=e.i(182781),o=e.i(126389);function s({onMessage:e,roomsRef:s,onOpen:u,reconnectAttempts:l=100,enabled:c=!0}){let[d]=(0,a.useSettings)("disableAutoRefresh",!1),f=(0,r.useAtomValue)(n.regionInfoAtom),p=(0,n.getRegionUrl)(f.name),h=(0,i.useMemo)(()=>{if(t.default.env.NEXT_PUBLIC_LOCAL_WS_PASSWORD&&(Object.values(n.REGION_MAP).some(e=>e.some(e=>e===p))||Object.values(n.GCP_REGION_MAP).some(e=>e.some(e=>e===p))))return{"localhost-password":t.default.env.NEXT_PUBLIC_LOCAL_WS_PASSWORD}},[p]),m=(0,i.useMemo)(()=>c?o.AxiomWebSocketRoomManager.getInstance({url:p,queryParams:h,reconnectAttempts:l}):null,[p,h,l,c]),b=(0,i.useRef)({onMessage:e,onOpen:u});b.current={onMessage:e,onOpen:u},(0,i.useEffect)(()=>{m&&m.setAutoLeaveOnHidden(!d)},[m,d]),(0,i.useEffect)(()=>{if(m)return m.addOpenHandler(()=>b.current.onOpen?.())},[m]);let g=(0,i.useRef)(new Map);return(0,i.useEffect)(()=>{m&&s.current.forEach(e=>{if(!g.current.has(e)){let t=m.subscribe(e,{onMessage:e=>b.current.onMessage(e)});g.current.set(e,t)}})},[m,s]),(0,i.useEffect)(()=>{let e=g.current,t=s.current;return()=>{e.forEach(e=>{e()}),e.clear(),t.clear()}},[m,s]),(0,i.useMemo)(()=>m?{join:e=>{if(!g.current.has(e)){let t=m.subscribe(e,{onMessage:e=>b.current.onMessage(e)});g.current.set(e,t),s.current.add(e)}},leave:e=>{let t=g.current.get(e);t&&(t(),g.current.delete(e),s.current.delete(e))},ping:()=>m.ping()}:{join:()=>{},leave:()=>{},ping:()=>{}},[m,s])}e.i(983624),e.i(290568),e.s(["default",0,s,"useAxiomWebsocket",()=>s])},699247,(e,t,r)=>{"use strict";t.exports=function(e,t){if(!e)throw Error("Invariant failed")}},971501,(e,t,r)=>{"use strict";for(var i="qpzry9x8gf2tvdw0s3jn54khce6mua7l",n={},a=0;a<i.length;a++){var o=i.charAt(a);if(void 0!==n[o])throw TypeError(o+" is ambiguous");n[o]=a}function s(e){var t=e>>25;return(0x1ffffff&e)<<5^0x3b6a57b2&-(1&t)^0x26508e6d&-(t>>1&1)^0x1ea119fa&-(t>>2&1)^0x3d4233dd&-(t>>3&1)^0x2a1462b3&-(t>>4&1)}function u(e){for(var t=1,r=0;r<e.length;++r){var i=e.charCodeAt(r);if(i<33||i>126)return"Invalid prefix ("+e+")";t=s(t)^i>>5}for(r=0,t=s(t);r<e.length;++r){var n=e.charCodeAt(r);t=s(t)^31&n}return t}function l(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var r=e.toLowerCase(),i=e.toUpperCase();if(e!==r&&e!==i)return"Mixed-case string "+e;var a=(e=r).lastIndexOf("1");if(-1===a)return"No separator character for "+e;if(0===a)return"Missing prefix for "+e;var o=e.slice(0,a),l=e.slice(a+1);if(l.length<6)return"Data too short";var c=u(o);if("string"==typeof c)return c;for(var d=[],f=0;f<l.length;++f){var p=l.charAt(f),h=n[p];if(void 0===h)return"Unknown character "+p;c=s(c)^h,f+6>=l.length||d.push(h)}return 1!==c?"Invalid checksum for "+e:{prefix:o,words:d}}function c(e,t,r,i){for(var n=0,a=0,o=(1<<r)-1,s=[],u=0;u<e.length;++u)for(n=n<<t|e[u],a+=t;a>=r;)s.push(n>>(a-=r)&o);if(i)a>0&&s.push(n<<r-a&o);else{if(a>=t)return"Excess padding";if(n<<r-a&o)return"Non-zero padding"}return s}t.exports={decodeUnsafe:function(){var e=l.apply(null,arguments);if("object"==typeof e)return e},decode:function(e){var t=l.apply(null,arguments);if("object"==typeof t)return t;throw Error(t)},encode:function(e,t,r){if(r=r||90,e.length+7+t.length>r)throw TypeError("Exceeds length limit");var n=u(e=e.toLowerCase());if("string"==typeof n)throw Error(n);for(var a=e+"1",o=0;o<t.length;++o){var l=t[o];if(l>>5!=0)throw Error("Non 5-bit word");n=s(n)^l,a+=i.charAt(l)}for(o=0;o<6;++o)n=s(n);for(n^=1,o=0;o<6;++o){var c=n>>(5-o)*5&31;a+=i.charAt(c)}return a},toWordsUnsafe:function(e){var t=c(e,8,5,!0);if(Array.isArray(t))return t},toWords:function(e){var t=c(e,8,5,!0);if(Array.isArray(t))return t;throw Error(t)},fromWordsUnsafe:function(e){var t=c(e,5,8,!1);if(Array.isArray(t))return t},fromWords:function(e){var t=c(e,5,8,!1);if(Array.isArray(t))return t;throw Error(t)}}},685648,992216,11778,426428,98400,167276,82930,859665,e=>{"use strict";var t=e.i(735381),r=e.i(246383),i=e.i(341591),n=e.i(90413),a=e.i(47771),o=e.i(839341),s=e.i(403011),u=e.i(526579),l=e.i(840722),c=e.i(875353),d=function(e,t,r,i){return new(r||(r=Promise))(function(n,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}u((i=i.apply(e,t||[])).next())})};let f=new c.Logger("contracts/5.8.0"),p={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function h(e,t){return d(this,void 0,void 0,function*(){let r=yield t;"string"!=typeof r&&f.throwArgumentError("invalid address or ENS name","name",r);try{return(0,a.getAddress)(r)}catch(e){}e||f.throwError("a provider or signer is needed to resolve ENS names",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});let i=yield e.resolveName(r);return null==i&&f.throwArgumentError("resolver or addr is not configured for ENS name","name",r),i})}function m(e,t,r){return d(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((r,i)=>m(e,Array.isArray(t)?t[i]:t[r.name],r))):"address"===r.type?yield h(e,t):"tuple"===r.type?yield m(e,t,r.components):"array"===r.baseType?Array.isArray(t)?yield Promise.all(t.map(t=>m(e,t,r.arrayChildren))):Promise.reject(f.makeError("invalid value for array",c.Logger.errors.INVALID_ARGUMENT,{argument:"value",value:t})):t})}function b(e,t,r){return d(this,void 0,void 0,function*(){let i={};r.length===t.inputs.length+1&&"object"==typeof r[r.length-1]&&(i=(0,u.shallowCopy)(r.pop())),f.checkArgumentCount(r.length,t.inputs.length,"passed to contract"),e.signer?i.from?i.from=(0,u.resolveProperties)({override:h(e.signer,i.from),signer:e.signer.getAddress()}).then(e=>d(this,void 0,void 0,function*(){return(0,a.getAddress)(e.signer)!==e.override&&f.throwError("Contract with a Signer cannot override from",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),e.override})):i.from=e.signer.getAddress():i.from&&(i.from=h(e.provider,i.from));let n=yield(0,u.resolveProperties)({args:m(e.signer||e.provider,r,t.inputs),address:e.resolvedAddress,overrides:(0,u.resolveProperties)(i)||{}}),p=e.interface.encodeFunctionData(t,n.args),b={data:p,to:n.address},g=n.overrides;if(null!=g.nonce&&(b.nonce=o.BigNumber.from(g.nonce).toNumber()),null!=g.gasLimit&&(b.gasLimit=o.BigNumber.from(g.gasLimit)),null!=g.gasPrice&&(b.gasPrice=o.BigNumber.from(g.gasPrice)),null!=g.maxFeePerGas&&(b.maxFeePerGas=o.BigNumber.from(g.maxFeePerGas)),null!=g.maxPriorityFeePerGas&&(b.maxPriorityFeePerGas=o.BigNumber.from(g.maxPriorityFeePerGas)),null!=g.from&&(b.from=g.from),null!=g.type&&(b.type=g.type),null!=g.accessList&&(b.accessList=(0,l.accessListify)(g.accessList)),null==b.gasLimit&&null!=t.gas){let e=21e3,r=(0,s.arrayify)(p);for(let t=0;t<r.length;t++)e+=4,r[t]&&(e+=64);b.gasLimit=o.BigNumber.from(t.gas).add(e)}if(g.value){let e=o.BigNumber.from(g.value);e.isZero()||t.payable||f.throwError("non-payable method cannot override value",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:i.value}),b.value=e}g.customData&&(b.customData=(0,u.shallowCopy)(g.customData)),g.ccipReadEnabled&&(b.ccipReadEnabled=!!g.ccipReadEnabled),delete i.nonce,delete i.gasLimit,delete i.gasPrice,delete i.from,delete i.value,delete i.type,delete i.accessList,delete i.maxFeePerGas,delete i.maxPriorityFeePerGas,delete i.customData,delete i.ccipReadEnabled;let y=Object.keys(i).filter(e=>null!=i[e]);return y.length&&f.throwError(`cannot override ${y.map(e=>JSON.stringify(e)).join(",")}`,c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:y}),b})}function g(e,t){let r=t.wait.bind(t);t.wait=t=>r(t).then(t=>(t.events=t.logs.map(r=>{let i=(0,u.deepCopy)(r),n=null;try{n=e.interface.parseLog(r)}catch(e){}return n&&(i.args=n.args,i.decode=(t,r)=>e.interface.decodeEventLog(n.eventFragment,t,r),i.event=n.name,i.eventSignature=n.signature),i.removeListener=()=>e.provider,i.getBlock=()=>e.provider.getBlock(t.blockHash),i.getTransaction=()=>e.provider.getTransaction(t.transactionHash),i.getTransactionReceipt=()=>Promise.resolve(t),i}),t))}function y(e,t,r){let i=e.signer||e.provider;return function(...n){return d(this,void 0,void 0,function*(){let a;if(n.length===t.inputs.length+1&&"object"==typeof n[n.length-1]){let e=(0,u.shallowCopy)(n.pop());null!=e.blockTag&&(a=yield e.blockTag),delete e.blockTag,n.push(e)}null!=e.deployTransaction&&(yield e._deployed(a));let o=yield b(e,t,n),s=yield i.call(o,a);try{let i=e.interface.decodeFunctionResult(t,s);return r&&1===t.outputs.length&&(i=i[0]),i}catch(t){throw t.code===c.Logger.errors.CALL_EXCEPTION&&(t.address=e.address,t.args=n,t.transaction=o),t}})}}function x(e,t,r){return t.constant?y(e,t,r):function(...r){return d(this,void 0,void 0,function*(){e.signer||f.throwError("sending a transaction requires a signer",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=e.deployTransaction&&(yield e._deployed());let i=yield b(e,t,r),n=yield e.signer.sendTransaction(i);return g(e,n),n})}}function A(e){return e.address&&(null==e.topics||0===e.topics.length)?"*":(e.address||"*")+"@"+(e.topics?e.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class w{constructor(e,t){(0,u.defineReadOnly)(this,"tag",e),(0,u.defineReadOnly)(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(r=>!!t||r.listener!==e||(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){let t=this.listenerCount();return this._listeners=this._listeners.filter(t=>{let r=e.slice();return setTimeout(()=>{t.listener.apply(this,r)},0),!t.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class v extends w{constructor(){super("error",null)}}class S extends w{constructor(e,t,r,i){const n={address:e};let a=t.getEventTopic(r);i?(a!==i[0]&&f.throwArgumentError("topic mismatch","topics",i),n.topics=i.slice()):n.topics=[a],super(A(n),n),(0,u.defineReadOnly)(this,"address",e),(0,u.defineReadOnly)(this,"interface",t),(0,u.defineReadOnly)(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(e,t)=>this.interface.decodeEventLog(this.fragment,e,t);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){let r=(0,t.checkResultErrors)(e.args);if(r.length)throw r[0].error;let i=(e.args||[]).slice();return i.push(e),i}}class T extends w{constructor(e,t){super("*",{address:e}),(0,u.defineReadOnly)(this,"address",e),(0,u.defineReadOnly)(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{let t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(e,r)=>this.interface.decodeEventLog(t.eventFragment,e,r),e.args=t.args}catch(e){}}}class E{constructor(e,t,r){(0,u.defineReadOnly)(this,"interface",(0,u.getStatic)(new.target,"getInterface")(t)),null==r?((0,u.defineReadOnly)(this,"provider",null),(0,u.defineReadOnly)(this,"signer",null)):n.Signer.isSigner(r)?((0,u.defineReadOnly)(this,"provider",r.provider||null),(0,u.defineReadOnly)(this,"signer",r)):i.Provider.isProvider(r)?((0,u.defineReadOnly)(this,"provider",r),(0,u.defineReadOnly)(this,"signer",null)):f.throwArgumentError("invalid signer or provider","signerOrProvider",r),(0,u.defineReadOnly)(this,"callStatic",{}),(0,u.defineReadOnly)(this,"estimateGas",{}),(0,u.defineReadOnly)(this,"functions",{}),(0,u.defineReadOnly)(this,"populateTransaction",{}),(0,u.defineReadOnly)(this,"filters",{});{const e={};Object.keys(this.interface.events).forEach(t=>{let r=this.interface.events[t];(0,u.defineReadOnly)(this.filters,t,(...e)=>({address:this.address,topics:this.interface.encodeFilterTopics(r,e)})),e[r.name]||(e[r.name]=[]),e[r.name].push(t)}),Object.keys(e).forEach(t=>{let r=e[t];1===r.length?(0,u.defineReadOnly)(this.filters,t,this.filters[r[0]]):f.warn(`Duplicate definition of ${t} (${r.join(", ")})`)})}if((0,u.defineReadOnly)(this,"_runningEvents",{}),(0,u.defineReadOnly)(this,"_wrappedEmits",{}),null==e&&f.throwArgumentError("invalid contract address or ENS name","addressOrName",e),(0,u.defineReadOnly)(this,"address",e),this.provider)(0,u.defineReadOnly)(this,"resolvedAddress",h(this.provider,e));else try{(0,u.defineReadOnly)(this,"resolvedAddress",Promise.resolve((0,a.getAddress)(e)))}catch(e){f.throwError("provider is required to use ENS name as contract address",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(e=>{});const o={},s={};Object.keys(this.interface.functions).forEach(e=>{var t,r;let i,n=this.interface.functions[e];if(s[e])return void f.warn(`Duplicate ABI entry for ${JSON.stringify(e)}`);s[e]=!0;{let t=n.name;o[`%${t}`]||(o[`%${t}`]=[]),o[`%${t}`].push(e)}null==this[e]&&(0,u.defineReadOnly)(this,e,x(this,n,!0)),null==this.functions[e]&&(0,u.defineReadOnly)(this.functions,e,x(this,n,!1)),null==this.callStatic[e]&&(0,u.defineReadOnly)(this.callStatic,e,y(this,n,!0)),null==this.populateTransaction[e]&&(0,u.defineReadOnly)(this.populateTransaction,e,(t=this,function(...e){return b(t,n,e)})),null==this.estimateGas[e]&&(0,u.defineReadOnly)(this.estimateGas,e,(r=this,i=r.signer||r.provider,function(...e){return d(this,void 0,void 0,function*(){i||f.throwError("estimate require a provider or signer",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});let t=yield b(r,n,e);return yield i.estimateGas(t)})}))}),Object.keys(o).forEach(e=>{let t=o[e];if(t.length>1)return;e=e.substring(1);let r=t[0];try{null==this[e]&&(0,u.defineReadOnly)(this,e,this[r])}catch(e){}null==this.functions[e]&&(0,u.defineReadOnly)(this.functions,e,this.functions[r]),null==this.callStatic[e]&&(0,u.defineReadOnly)(this.callStatic,e,this.callStatic[r]),null==this.populateTransaction[e]&&(0,u.defineReadOnly)(this.populateTransaction,e,this.populateTransaction[r]),null==this.estimateGas[e]&&(0,u.defineReadOnly)(this.estimateGas,e,this.estimateGas[r])})}static getContractAddress(e){return(0,a.getContractAddress)(e)}static getInterface(e){return r.Interface.isInterface(e)?e:new r.Interface(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(e=>("0x"===e&&f.throwError("contract not deployed",c.Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||f.throwError("sending a transactions require a signer",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});let t=(0,u.shallowCopy)(e||{});return["from","to"].forEach(function(e){null!=t[e]&&f.throwError("cannot override "+e,c.Logger.errors.UNSUPPORTED_OPERATION,{operation:e})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){"string"==typeof e&&(e=new n.VoidSigner(e,this.provider));let t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&(0,u.defineReadOnly)(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return r.Indexed.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if("string"==typeof e){if("error"===e)return this._normalizeRunningEvent(new v);if("event"===e)return this._normalizeRunningEvent(new w("event",null));if("*"===e)return this._normalizeRunningEvent(new T(this.address,this.interface));let t=this.interface.getEvent(e);return this._normalizeRunningEvent(new S(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{let t=e.topics[0];if("string"!=typeof t)throw Error("invalid topic");let r=this.interface.getEvent(t);return this._normalizeRunningEvent(new S(this.address,this.interface,r,e.topics))}catch(e){}let t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new w(A(t),t))}return this._normalizeRunningEvent(new T(this.address,this.interface))}_checkRunningEvents(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];let t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,r){let i=(0,u.deepCopy)(t);return i.removeListener=()=>{r&&(e.removeListener(r),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(t.blockHash),i.getTransaction=()=>this.provider.getTransaction(t.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(i),i}_addEventListener(e,t,r){if(this.provider||f.throwError("events require a provider or a signer with a provider",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){let r=r=>{let i=this._wrapEvent(e,r,t);if(null==i.decodeError)try{let t=e.getEmit(i);this.emit(e.filter,...t)}catch(e){i.decodeError=e.error}null!=e.filter&&this.emit("event",i),null!=i.decodeError&&this.emit("error",i.decodeError,i)};this._wrappedEmits[e.tag]=r,null!=e.filter&&this.provider.on(e.filter,r)}}queryFilter(e,t,r){let i=this._getRunningEvent(e),n=(0,u.shallowCopy)(i.filter);return"string"==typeof t&&(0,s.isHexString)(t,32)?(null!=r&&f.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),n.blockHash=t):(n.fromBlock=null!=t?t:0,n.toBlock=null!=r?r:"latest"),this.provider.getLogs(n).then(e=>e.map(e=>this._wrapEvent(i,e,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;let r=this._getRunningEvent(e),i=r.run(t)>0;return this._checkRunningEvents(r),i}listenerCount(e){return this.provider?null==e?Object.keys(this._runningEvents).reduce((e,t)=>e+this._runningEvents[t].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(null==e){let e=[];for(let t in this._runningEvents)this._runningEvents[t].listeners().forEach(t=>{e.push(t)});return e}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(null==e){for(let e in this._runningEvents){let t=this._runningEvents[e];t.removeAllListeners(),this._checkRunningEvents(t)}return this}let t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;let r=this._getRunningEvent(e);return r.removeListener(t),this._checkRunningEvents(r),this}removeListener(e,t){return this.off(e,t)}}class k extends E{}class P{constructor(e,t,r){let i=null;"0x"!==(i="string"==typeof t?t:(0,s.isBytes)(t)?(0,s.hexlify)(t):t&&"string"==typeof t.object?t.object:"!").substring(0,2)&&(i="0x"+i),(!(0,s.isHexString)(i)||i.length%2)&&f.throwArgumentError("invalid bytecode","bytecode",t),r&&!n.Signer.isSigner(r)&&f.throwArgumentError("invalid signer","signer",r),(0,u.defineReadOnly)(this,"bytecode",i),(0,u.defineReadOnly)(this,"interface",(0,u.getStatic)(new.target,"getInterface")(e)),(0,u.defineReadOnly)(this,"signer",r||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&"object"==typeof e[e.length-1]){for(let r in t=(0,u.shallowCopy)(e.pop()))if(!p[r])throw Error("unknown transaction override "+r)}return["data","from","to"].forEach(e=>{null!=t[e]&&f.throwError("cannot override "+e,c.Logger.errors.UNSUPPORTED_OPERATION,{operation:e})}),t.value&&(o.BigNumber.from(t.value).isZero()||this.interface.deploy.payable||f.throwError("non-payable constructor cannot override value",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value})),f.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=(0,s.hexlify)((0,s.concat)([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return d(this,void 0,void 0,function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),f.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");let r=yield m(this.signer,e,this.interface.deploy.inputs);r.push(t);let i=this.getDeployTransaction(...r),n=yield this.signer.sendTransaction(i),a=(0,u.getStatic)(this.constructor,"getContractAddress")(n),o=(0,u.getStatic)(this.constructor,"getContract")(a,this.interface,this.signer);return g(o,n),(0,u.defineReadOnly)(o,"deployTransaction",n),o})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){null==e&&f.throwError("missing compiler output",c.Logger.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),"string"==typeof e&&(e=JSON.parse(e));let r=e.abi,i=null;return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(r,i,t)}static getInterface(e){return k.getInterface(e)}static getContractAddress(e){return(0,a.getContractAddress)(e)}static getContract(e,t,r){return new k(e,t,r)}}e.s(["BaseContract",()=>E,"Contract",()=>k,"ContractFactory",()=>P],992216);var _=e.i(382312),I=e.i(508663);e.s([],833764),e.i(833764);let N="0x0000000000000000000000000000000000000000";var R=e.i(25363),B=e.i(203358);e.s(["AddressZero",0,N,"EtherSymbol",0,"","HashZero",()=>B.HashZero,"MaxInt256",()=>R.MaxInt256,"MaxUint256",()=>R.MaxUint256,"MinInt256",()=>R.MinInt256,"NegativeOne",()=>R.NegativeOne,"One",()=>R.One,"Two",()=>R.Two,"WeiPerEther",()=>R.WeiPerEther,"Zero",()=>R.Zero],11778);var C=e.i(11778);let O=new c.Logger("networks/5.8.0");function D(e){let t=function(t,r){null==r&&(r={});let i=[];if(t.InfuraProvider&&"-"!==r.infura)try{i.push(new t.InfuraProvider(e,r.infura))}catch(e){}if(t.EtherscanProvider&&"-"!==r.etherscan)try{i.push(new t.EtherscanProvider(e,r.etherscan))}catch(e){}if(t.AlchemyProvider&&"-"!==r.alchemy)try{i.push(new t.AlchemyProvider(e,r.alchemy))}catch(e){}if(t.PocketProvider&&"-"!==r.pocket)try{let n=new t.PocketProvider(e,r.pocket);n.network&&-1===["goerli","ropsten","rinkeby","sepolia"].indexOf(n.network.name)&&i.push(n)}catch(e){}if(t.CloudflareProvider&&"-"!==r.cloudflare)try{i.push(new t.CloudflareProvider(e))}catch(e){}if(t.AnkrProvider&&"-"!==r.ankr)try{let n=new t.AnkrProvider(e,r.ankr);n.network&&-1===["ropsten"].indexOf(n.network.name)&&i.push(n)}catch(e){}if(t.QuickNodeProvider&&"-"!==r.quicknode)try{i.push(new t.QuickNodeProvider(e,r.quicknode))}catch(e){}if(0===i.length)return null;if(t.FallbackProvider){let n=1;return null!=r.quorum?n=r.quorum:"homestead"===e&&(n=2),new t.FallbackProvider(i,n)}return i[0]};return t.renetwork=function(e){return D(e)},t}function M(e,t){let r=function(r,i){return r.JsonRpcProvider?new r.JsonRpcProvider(e,t):null};return r.renetwork=function(t){return M(e,t)},r}let U={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:D("homestead")},F={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:D("ropsten")},L={chainId:63,name:"classicMordor",_defaultProvider:M("https://www.ethercluster.com/mordor","classicMordor")},q={unspecified:{chainId:0,name:"unspecified"},homestead:U,mainnet:U,morden:{chainId:2,name:"morden"},ropsten:F,testnet:F,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:D("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:D("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:D("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:0xaa36a7,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:D("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:D("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:M("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:L,classicTestnet:L,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:M("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:D("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:D("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:D("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:0xaa37dc,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function K(e){if(null==e)return null;if("number"==typeof e){for(let t in q){let r=q[t];if(r.chainId===e)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"==typeof e){let t=q[e];return null==t?null:{name:t.name,chainId:t.chainId,ensAddress:t.ensAddress,_defaultProvider:t._defaultProvider||null}}let t=q[e.name];if(!t)return"number"!=typeof e.chainId&&O.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==t.chainId&&O.throwArgumentError("network chainId mismatch","network",e);let r=e._defaultProvider||null;if(null==r&&t._defaultProvider){var i;r=(i=t._defaultProvider)&&"function"==typeof i.renetwork?t._defaultProvider.renetwork(e):t._defaultProvider}return{name:e.name,chainId:t.chainId,ensAddress:e.ensAddress||t.ensAddress||null,_defaultProvider:r}}var W=i,V=e.i(545004),G=e.i(206641),z=e.i(857518),j=e.i(942558),H=e.i(840858),X=e.i(367933),Q=e.i(971501);let J="providers/5.8.0",Y=new c.Logger(J);class Z{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){let e={},t=this.address.bind(this),r=this.bigNumber.bind(this),i=this.blockTag.bind(this),n=this.data.bind(this),a=this.hash.bind(this),o=this.hex.bind(this),s=this.number.bind(this),l=this.type.bind(this),c=e=>this.data(e,!0);return e.transaction={hash:a,type:l,accessList:Z.allowNull(this.accessList.bind(this),null),blockHash:Z.allowNull(a,null),blockNumber:Z.allowNull(s,null),transactionIndex:Z.allowNull(s,null),confirmations:Z.allowNull(s,null),from:t,gasPrice:Z.allowNull(r),maxPriorityFeePerGas:Z.allowNull(r),maxFeePerGas:Z.allowNull(r),gasLimit:r,to:Z.allowNull(t,null),value:r,nonce:s,data:n,r:Z.allowNull(this.uint256),s:Z.allowNull(this.uint256),v:Z.allowNull(s),creates:Z.allowNull(t,null),raw:Z.allowNull(n)},e.transactionRequest={from:Z.allowNull(t),nonce:Z.allowNull(s),gasLimit:Z.allowNull(r),gasPrice:Z.allowNull(r),maxPriorityFeePerGas:Z.allowNull(r),maxFeePerGas:Z.allowNull(r),to:Z.allowNull(t),value:Z.allowNull(r),data:Z.allowNull(c),type:Z.allowNull(s),accessList:Z.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:s,blockNumber:s,transactionHash:a,address:t,topics:Z.arrayOf(a),data:n,logIndex:s,blockHash:a},e.receipt={to:Z.allowNull(this.address,null),from:Z.allowNull(this.address,null),contractAddress:Z.allowNull(t,null),transactionIndex:s,root:Z.allowNull(o),gasUsed:r,logsBloom:Z.allowNull(n),blockHash:a,transactionHash:a,logs:Z.arrayOf(this.receiptLog.bind(this)),blockNumber:s,confirmations:Z.allowNull(s,null),cumulativeGasUsed:r,effectiveGasPrice:Z.allowNull(r),status:Z.allowNull(s),type:l},e.block={hash:Z.allowNull(a),parentHash:a,number:s,timestamp:s,nonce:Z.allowNull(o),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:Z.allowNull(t),extraData:n,transactions:Z.allowNull(Z.arrayOf(a)),baseFeePerGas:Z.allowNull(r)},e.blockWithTransactions=(0,u.shallowCopy)(e.block),e.blockWithTransactions.transactions=Z.allowNull(Z.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Z.allowNull(i,void 0),toBlock:Z.allowNull(i,void 0),blockHash:Z.allowNull(a,void 0),address:Z.allowNull(t,void 0),topics:Z.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Z.allowNull(s),blockHash:Z.allowNull(a),transactionIndex:s,removed:Z.allowNull(this.boolean.bind(this)),address:t,data:Z.allowFalsish(n,"0x"),topics:Z.arrayOf(a),transactionHash:a,logIndex:s},e}accessList(e){return(0,l.accessListify)(e||[])}number(e){return"0x"===e?0:o.BigNumber.from(e).toNumber()}type(e){return"0x"===e||null==e?0:o.BigNumber.from(e).toNumber()}bigNumber(e){return o.BigNumber.from(e)}boolean(e){if("boolean"==typeof e)return e;if("string"==typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw Error("invalid boolean - "+e)}hex(e,t){return"string"==typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),(0,s.isHexString)(e))?e.toLowerCase():Y.throwArgumentError("invalid hash","value",e)}data(e,t){let r=this.hex(e,t);if(r.length%2!=0)throw Error("invalid data; odd-length - "+e);return r}address(e){return(0,a.getAddress)(e)}callAddress(e){if(!(0,s.isHexString)(e,32))return null;let t=(0,a.getAddress)((0,s.hexDataSlice)(e,12));return t===N?null:t}contractAddress(e){return(0,a.getContractAddress)(e)}blockTag(e){if(null==e)return"latest";if("earliest"===e)return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if("number"==typeof e||(0,s.isHexString)(e))return(0,s.hexValue)(e);throw Error("invalid blockTag")}hash(e,t){let r=this.hex(e,t);return 32!==(0,s.hexDataLength)(r)?Y.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(null==e)return null;let t=o.BigNumber.from(e);try{return t.toNumber()}catch(e){}return null}uint256(e){if(!(0,s.isHexString)(e))throw Error("invalid uint256");return(0,s.hexZeroPad)(e,32)}_block(e,t){null!=e.author&&null==e.miner&&(e.miner=e.author);let r=null!=e._difficulty?e._difficulty:e.difficulty,i=Z.check(t,e);return i._difficulty=null==r?null:o.BigNumber.from(r),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Z.check(this.formats.transactionRequest,e)}transactionResponse(e){null!=e.gas&&null==e.gasLimit&&(e.gasLimit=e.gas),e.to&&o.BigNumber.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),null!=e.input&&null==e.data&&(e.data=e.input),null==e.to&&null==e.creates&&(e.creates=this.contractAddress(e)),(1===e.type||2===e.type)&&null==e.accessList&&(e.accessList=[]);let t=Z.check(this.formats.transaction,e);if(null!=e.chainId){let r=e.chainId;(0,s.isHexString)(r)&&(r=o.BigNumber.from(r).toNumber()),t.chainId=r}else{let r=e.networkId;null==r&&null==t.v&&(r=e.chainId),(0,s.isHexString)(r)&&(r=o.BigNumber.from(r).toNumber()),"number"!=typeof r&&null!=t.v&&((r=(t.v-35)/2)<0&&(r=0),r=parseInt(r)),"number"!=typeof r&&(r=0),t.chainId=r}return t.blockHash&&"x"===t.blockHash.replace(/0/g,"")&&(t.blockHash=null),t}transaction(e){return(0,l.parse)(e)}receiptLog(e){return Z.check(this.formats.receiptLog,e)}receipt(e){let t=Z.check(this.formats.receipt,e);if(null!=t.root)if(t.root.length<=4){let e=o.BigNumber.from(t.root).toNumber();0===e||1===e?(null!=t.status&&t.status!==e&&Y.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=e,delete t.root):Y.throwArgumentError("invalid alt-root-status","value.root",t.root)}else 66!==t.root.length&&Y.throwArgumentError("invalid root hash","value.root",t.root);return null!=t.status&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(e=>this.topics(e)):null!=e?this.hash(e,!0):null}filter(e){return Z.check(this.formats.filter,e)}filterLog(e){return Z.check(this.formats.filterLog,e)}static check(e,t){let r={};for(let i in e)try{let n=e[i](t[i]);void 0!==n&&(r[i]=n)}catch(e){throw e.checkKey=i,e.checkValue=t[i],e}return r}static allowNull(e,t){return function(r){return null==r?t:e(r)}}static allowFalsish(e,t){return function(r){return r?e(r):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw Error("not an array");let r=[];return t.forEach(function(t){r.push(e(t))}),r}}}function $(e){return e&&"function"==typeof e.isCommunityResource}function ee(e){return $(e)&&e.isCommunityResource()}let et=!1;function er(){et||(et=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var ei=function(e,t,r,i){return new(r||(r=Promise))(function(n,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}u((i=i.apply(e,t||[])).next())})};let en=new c.Logger(J);function ea(e){return null==e?"null":(32!==(0,s.hexDataLength)(e)&&en.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function eo(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map(e=>{if(!Array.isArray(e))return ea(e);{let t={};e.forEach(e=>{t[ea(e)]=!0});let r=Object.keys(t);return r.sort(),r.join("|")}}).join("&")}function es(e){if("string"==typeof e){if(e=e.toLowerCase(),32===(0,s.hexDataLength)(e))return"tx:"+e;if(-1===e.indexOf(":"))return e}else if(Array.isArray(e))return"filter:*:"+eo(e);else if(W.ForkEvent.isForkEvent(e))throw en.warn("not implemented"),Error("not implemented");else if(e&&"object"==typeof e)return"filter:"+(e.address||"*")+":"+eo(e.topics||[]);throw Error("invalid event - "+e)}function eu(){return new Date().getTime()}function el(e){return new Promise(t=>{setTimeout(t,e)})}let ec=["block","network","pending","poll"];class ed{constructor(e,t,r){(0,u.defineReadOnly)(this,"tag",e),(0,u.defineReadOnly)(this,"listener",t),(0,u.defineReadOnly)(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){let e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}get filter(){var e;let t=this.tag.split(":");if("filter"!==t[0])return null;let r=t[1],i=""===(e=t[2])?[]:e.split(/&/g).map(e=>{if(""===e)return[];let t=e.split("|").map(e=>"null"===e?null:e);return 1===t.length?t[0]:t}),n={};return i.length>0&&(n.topics=i),r&&"*"!==r&&(n.address=r),n}pollable(){return this.tag.indexOf(":")>=0||ec.indexOf(this.tag)>=0}}let ef={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function ep(e){return(0,s.hexZeroPad)(o.BigNumber.from(e).toHexString(),32)}function eh(e){return G.Base58.encode((0,s.concat)([e,(0,s.hexDataSlice)((0,j.sha256)((0,j.sha256)(e)),0,4)]))}let em=RegExp("^(ipfs)://(.*)$","i"),eb=[RegExp("^(https)://(.*)$","i"),RegExp("^(data):(.*)$","i"),em,RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function eg(e,t){try{return(0,H.toUtf8String)(ey(e,t))}catch(e){}return null}function ey(e,t){if("0x"===e)return null;let r=o.BigNumber.from((0,s.hexDataSlice)(e,t,t+32)).toNumber(),i=o.BigNumber.from((0,s.hexDataSlice)(e,r,r+32)).toNumber();return(0,s.hexDataSlice)(e,r+32,r+32+i)}function ex(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):en.throwArgumentError("unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}function eA(e){let t=(0,s.arrayify)(e);if(t.length>32)throw Error("internal; should not happen");let r=new Uint8Array(32);return r.set(t,32-t.length),r}function ew(e){let t=[],r=0;for(let i=0;i<e.length;i++)t.push(null),r+=32;for(let i=0;i<e.length;i++){let n=(0,s.arrayify)(e[i]);t[i]=eA(r),t.push(eA(n.length)),t.push(function(e){if(e.length%32==0)return e;let t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}(n)),r+=32+32*Math.ceil(n.length/32)}return(0,s.hexConcat)(t)}class ev{constructor(e,t,r,i){(0,u.defineReadOnly)(this,"provider",e),(0,u.defineReadOnly)(this,"name",r),(0,u.defineReadOnly)(this,"address",e.formatter.address(t)),(0,u.defineReadOnly)(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>o.BigNumber.from(e).eq(1)).catch(e=>{if(e.code===c.Logger.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return ei(this,void 0,void 0,function*(){let r={to:this.address,ccipReadEnabled:!0,data:(0,s.hexConcat)([e,(0,z.namehash)(this.name),t||"0x"])},i=!1;(yield this.supportsWildcard())&&(i=!0,r.data=(0,s.hexConcat)(["0x9061b923",ew([(0,z.dnsEncode)(this.name),r.data])]));try{let e=yield this.provider.call(r);return(0,s.arrayify)(e).length%32==4&&en.throwError("resolver threw error",c.Logger.errors.CALL_EXCEPTION,{transaction:r,data:e}),i&&(e=ey(e,0)),e}catch(e){if(e.code===c.Logger.errors.CALL_EXCEPTION)return null;throw e}})}_fetchBytes(e,t){return ei(this,void 0,void 0,function*(){let r=yield this._fetch(e,t);return null!=r?ey(r,0):null})}_getAddress(e,t){let r=ef[String(e)];if(null==r&&en.throwError(`unsupported coin type: ${e}`,c.Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),"eth"===r.ilk)return this.provider.formatter.address(t);let i=(0,s.arrayify)(t);if(null!=r.p2pkh){let e=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(e){let t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return eh((0,s.concat)([[r.p2pkh],"0x"+e[2]]))}}if(null!=r.p2sh){let e=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(e){let t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return eh((0,s.concat)([[r.p2sh],"0x"+e[2]]))}}if(null!=r.prefix){let e=i[1],t=i[0];if(0===t?20!==e&&32!==e&&(t=-1):t=-1,t>=0&&i.length===2+e&&e>=1&&e<=75){let e=Q.default.toWords(i.slice(2));return e.unshift(t),Q.default.encode(r.prefix,e)}}return null}getAddress(e){return ei(this,void 0,void 0,function*(){if(null==e&&(e=60),60===e)try{let e=yield this._fetch("0x3b3b57de");if("0x"===e||e===B.HashZero)return null;return this.provider.formatter.callAddress(e)}catch(e){if(e.code===c.Logger.errors.CALL_EXCEPTION)return null;throw e}let t=yield this._fetchBytes("0xf1cb7e06",ep(e));if(null==t||"0x"===t)return null;let r=this._getAddress(e,t);return null==r&&en.throwError("invalid or unsupported coin data",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),r})}getAvatar(){return ei(this,void 0,void 0,function*(){let e=[{type:"name",content:this.name}];try{let t=yield this.getText("avatar");if(null==t)return null;for(let r=0;r<eb.length;r++){let i=t.match(eb[r]);if(null==i)continue;let n=i[1].toLowerCase();switch(n){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:ex(t)};case"erc721":case"erc1155":{let r="erc721"===n?"0xc87b56dd":"0x0e89341c";e.push({type:n,content:t});let a=this._resolvedAddress||(yield this.getAddress()),u=(i[2]||"").split("/");if(2!==u.length)return null;let l=yield this.provider.formatter.address(u[0]),c=(0,s.hexZeroPad)(o.BigNumber.from(u[1]).toHexString(),32);if("erc721"===n){let t=this.provider.formatter.callAddress((yield this.provider.call({to:l,data:(0,s.hexConcat)(["0x6352211e",c])})));if(a!==t)return null;e.push({type:"owner",content:t})}else if("erc1155"===n){let t=o.BigNumber.from((yield this.provider.call({to:l,data:(0,s.hexConcat)(["0x00fdd58e",(0,s.hexZeroPad)(a,32),c])})));if(t.isZero())return null;e.push({type:"balance",content:t.toString()})}let d={to:this.provider.formatter.address(u[0]),data:(0,s.hexConcat)([r,c])},f=eg((yield this.provider.call(d)),0);if(null==f)return null;e.push({type:"metadata-url-base",content:f}),"erc1155"===n&&(f=f.replace("{id}",c.substring(2)),e.push({type:"metadata-url-expanded",content:f})),f.match(/^ipfs:/i)&&(f=ex(f)),e.push({type:"metadata-url",content:f});let p=yield(0,X.fetchJson)(f);if(!p)return null;e.push({type:"metadata",content:JSON.stringify(p)});let h=p.image;if("string"!=typeof h)return null;if(h.match(/^(https:\/\/|data:)/i));else{let t=h.match(em);if(null==t)return null;e.push({type:"url-ipfs",content:h}),h=ex(h)}return e.push({type:"url",content:h}),{linkage:e,url:h}}}}}catch(e){}return null})}getContentHash(){return ei(this,void 0,void 0,function*(){let e=yield this._fetchBytes("0xbc1c58d1");if(null==e||"0x"===e)return null;let t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){let e=parseInt(t[3],16);if(t[4].length===2*e)return"ipfs://"+G.Base58.encode("0x"+t[1])}let r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){let e=parseInt(r[3],16);if(r[4].length===2*e)return"ipns://"+G.Base58.encode("0x"+r[1])}let i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&64===i[1].length)return"bzz://"+i[1];let n=e.match(/^0x90b2c605([0-9a-f]*)$/);if(n&&68===n[1].length){let e={"=":"","+":"-","/":"_"};return"sia://"+(0,V.encode)("0x"+n[1]).replace(/[=+\/]/g,t=>e[t])}return en.throwError("invalid or unsupported content hash data",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return ei(this,void 0,void 0,function*(){let t=(0,H.toUtf8Bytes)(e);(t=(0,s.concat)([ep(64),ep(t.length),t])).length%32!=0&&(t=(0,s.concat)([t,(0,s.hexZeroPad)("0x",32-e.length%32)]));let r=yield this._fetchBytes("0x59d1d43c",(0,s.hexlify)(t));return null==r||"0x"===r?null:(0,H.toUtf8String)(r)})}}let eS=null,eT=1;class eE extends W.Provider{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),(0,u.defineReadOnly)(this,"anyNetwork","any"===e),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(e=>{}),this._ready().catch(e=>{});else{const t=(0,u.getStatic)(new.target,"getNetwork")(e);t?((0,u.defineReadOnly)(this,"_network",t),this.emit("network",t,null)):en.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return ei(this,void 0,void 0,function*(){if(null==this._network){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch(e){}null==e&&(e=yield this.detectNetwork()),e||en.throwError("no network detected",c.Logger.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=e:(0,u.defineReadOnly)(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return(0,X.poll)(()=>this._ready().then(e=>e,e=>{if(e.code!==c.Logger.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))}static getFormatter(){return null==eS&&(eS=new Z),eS}static getNetwork(e){return K(null==e?"homestead":e)}ccipReadFetch(e,t,r){return ei(this,void 0,void 0,function*(){if(this.disableCcipRead||0===r.length)return null;let i=e.to.toLowerCase(),n=t.toLowerCase(),a=[];for(let e=0;e<r.length;e++){let t=r[e],o=t.replace("{sender}",i).replace("{data}",n),s=t.indexOf("{data}")>=0?null:JSON.stringify({data:n,sender:i}),u=yield(0,X.fetchJson)({url:o,errorPassThrough:!0},s,(e,t)=>(e.status=t.statusCode,e));if(u.data)return u.data;let l=u.message||"unknown error";if(u.status>=400&&u.status<500)return en.throwError(`response not found during CCIP fetch: ${l}`,c.Logger.errors.SERVER_ERROR,{url:t,errorMessage:l});a.push(l)}return en.throwError(`error encountered during CCIP fetch: ${a.map(e=>JSON.stringify(e)).join(", ")}`,c.Logger.errors.SERVER_ERROR,{urls:r,errorMessages:a})})}_getInternalBlockNumber(e){return ei(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){let t=this._internalBlockNumber;try{let r=yield t;if(eu()-r.respTime<=e)return r.blockNumber;break}catch(e){if(this._internalBlockNumber===t)break}}let t=eu(),r=(0,u.resolveProperties)({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(e=>null,e=>e)}).then(({blockNumber:e,networkError:i})=>{if(i)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),i;let n=eu();return(e=o.BigNumber.from(e).toNumber())<this._maxInternalBlockNumber&&(e=this._maxInternalBlockNumber),this._maxInternalBlockNumber=e,this._setFastBlockNumber(e),{blockNumber:e,reqTime:t,respTime:n}});return this._internalBlockNumber=r,r.catch(e=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber})}poll(){return ei(this,void 0,void 0,function*(){let e=eT++,t=[],r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(e){this.emit("error",e);return}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber)return void this.emit("didPoll",e);if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)en.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",en.makeError("network block skew detected",c.Logger.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let e=this._emitted.block+1;e<=r;e++)this.emit("block",e);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(e=>{if("block"===e)return;let t=this._emitted[e];"pending"!==t&&r-t>12&&delete this._emitted[e]})),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach(e=>{switch(e.type){case"tx":{let r=e.hash,i=this.getTransactionReceipt(r).then(e=>(e&&null!=e.blockNumber&&(this._emitted["t:"+r]=e.blockNumber,this.emit(r,e)),null)).catch(e=>{this.emit("error",e)});t.push(i);break}case"filter":if(!e._inflight){e._inflight=!0,-2===e._lastBlockNumber&&(e._lastBlockNumber=r-1);let i=e.filter;i.fromBlock=e._lastBlockNumber+1,i.toBlock=r;let n=i.toBlock-this._maxFilterBlockRange;n>i.fromBlock&&(i.fromBlock=n),i.fromBlock<0&&(i.fromBlock=0);let a=this.getLogs(i).then(t=>{e._inflight=!1,0!==t.length&&t.forEach(t=>{t.blockNumber>e._lastBlockNumber&&(e._lastBlockNumber=t.blockNumber),this._emitted["b:"+t.blockHash]=t.blockNumber,this._emitted["t:"+t.transactionHash]=t.blockNumber,this.emit(i,t)})}).catch(t=>{this.emit("error",t),e._inflight=!1});t.push(a)}}}),this._lastBlockNumber=r,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(e=>{this.emit("error",e)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return ei(this,void 0,void 0,function*(){return en.throwError("provider does not support network detection",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return ei(this,void 0,void 0,function*(){let e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield el(0),this._network;let r=en.makeError("underlying network changed",c.Logger.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if("number"!=typeof e||e<=0||parseInt(String(e))!=e)throw Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){let e=eu();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(e=>((null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){(null==this._fastBlockNumber||!(e<this._fastBlockNumber))&&(this._fastQueryDate=eu(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,r){return ei(this,void 0,void 0,function*(){return this._waitForTransaction(e,null==t?1:t,r||0,null)})}_waitForTransaction(e,t,r,i){return ei(this,void 0,void 0,function*(){let n=yield this.getTransactionReceipt(e);return(n?n.confirmations:0)>=t?n:new Promise((n,a)=>{let o=[],s=!1,u=function(){return!!s||(s=!0,o.forEach(e=>{e()}),!1)},l=e=>{e.confirmations<t||u()||n(e)};if(this.on(e,l),o.push(()=>{this.removeListener(e,l)}),i){let r=i.startBlock,n=null,l=o=>ei(this,void 0,void 0,function*(){s||(yield el(1e3),this.getTransactionCount(i.from).then(d=>ei(this,void 0,void 0,function*(){if(!s){if(d<=i.nonce)r=o;else{{let t=yield this.getTransaction(e);if(t&&null!=t.blockNumber)return}for(null==n&&(n=r-3)<i.startBlock&&(n=i.startBlock);n<=o;){if(s)return;let r=yield this.getBlockWithTransactions(n);for(let n=0;n<r.transactions.length;n++){let o=r.transactions[n];if(o.hash===e)return;if(o.from===i.from&&o.nonce===i.nonce){if(s)return;let r=yield this.waitForTransaction(o.hash,t);if(u())return;let n="replaced";o.data===i.data&&o.to===i.to&&o.value.eq(i.value)?n="repriced":"0x"===o.data&&o.from===o.to&&o.value.isZero()&&(n="cancelled"),a(en.makeError("transaction was replaced",c.Logger.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===n||"cancelled"===n,reason:n,replacement:this._wrapTransaction(o),hash:e,receipt:r}));return}}n++}}s||this.once("block",l)}}),e=>{s||this.once("block",l)}))});if(s)return;this.once("block",l),o.push(()=>{this.removeListener("block",l)})}if("number"==typeof r&&r>0){let e=setTimeout(()=>{u()||a(en.makeError("timeout exceeded",c.Logger.errors.TIMEOUT,{timeout:r}))},r);e.unref&&e.unref(),o.push(()=>{clearTimeout(e)})}})})}getBlockNumber(){return ei(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return ei(this,void 0,void 0,function*(){yield this.getNetwork();let e=yield this.perform("getGasPrice",{});try{return o.BigNumber.from(e)}catch(t){return en.throwError("bad result from backend",c.Logger.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return ei(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield(0,u.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getBalance",r);try{return o.BigNumber.from(i)}catch(e){return en.throwError("bad result from backend",c.Logger.errors.SERVER_ERROR,{method:"getBalance",params:r,result:i,error:e})}})}getTransactionCount(e,t){return ei(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield(0,u.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getTransactionCount",r);try{return o.BigNumber.from(i).toNumber()}catch(e){return en.throwError("bad result from backend",c.Logger.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:i,error:e})}})}getCode(e,t){return ei(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield(0,u.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getCode",r);try{return(0,s.hexlify)(i)}catch(e){return en.throwError("bad result from backend",c.Logger.errors.SERVER_ERROR,{method:"getCode",params:r,result:i,error:e})}})}getStorageAt(e,t,r){return ei(this,void 0,void 0,function*(){yield this.getNetwork();let i=yield(0,u.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then(e=>(0,s.hexValue)(e))}),n=yield this.perform("getStorageAt",i);try{return(0,s.hexlify)(n)}catch(e){return en.throwError("bad result from backend",c.Logger.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:n,error:e})}})}_wrapTransaction(e,t,r){if(null!=t&&32!==(0,s.hexDataLength)(t))throw Error("invalid response - sendTransaction");return null!=t&&e.hash!==t&&en.throwError("Transaction hash mismatch from Provider.sendTransaction.",c.Logger.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),e.wait=(t,i)=>ei(this,void 0,void 0,function*(){let n;null==t&&(t=1),null==i&&(i=0),0!==t&&null!=r&&(n={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});let a=yield this._waitForTransaction(e.hash,t,i,n);return null==a&&0===t?null:(this._emitted["t:"+e.hash]=a.blockNumber,0===a.status&&en.throwError("transaction failed",c.Logger.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:a}),a)}),e}sendTransaction(e){return ei(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield Promise.resolve(e).then(e=>(0,s.hexlify)(e)),r=this.formatter.transaction(e);null==r.confirmations&&(r.confirmations=0);let i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{let e=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(r,e,i)}catch(e){throw e.transaction=r,e.transactionHash=r.hash,e}})}_getTransactionRequest(e){return ei(this,void 0,void 0,function*(){let t=yield e,r={};return["from","to"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?this._getAddress(e):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?o.BigNumber.from(e):null))}),["type"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>null!=e?e:null))}),t.accessList&&(r.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?(0,s.hexlify)(e):null))}),this.formatter.transactionRequest((yield(0,u.resolveProperties)(r)))})}_getFilter(e){return ei(this,void 0,void 0,function*(){e=yield e;let t={};return null!=e.address&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{null!=e[r]&&(t[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{null!=e[r]&&(t[r]=this._getBlockTag(e[r]))}),this.formatter.filter((yield(0,u.resolveProperties)(t)))})}_call(e,t,r){return ei(this,void 0,void 0,function*(){r>=10&&en.throwError("CCIP read exceeded maximum redirections",c.Logger.errors.SERVER_ERROR,{redirects:r,transaction:e});let i=e.to,n=yield this.perform("call",{transaction:e,blockTag:t});if(r>=0&&"latest"===t&&null!=i&&"0x556f1830"===n.substring(0,10)&&(0,s.hexDataLength)(n)%32==4)try{let a=(0,s.hexDataSlice)(n,4),u=(0,s.hexDataSlice)(a,0,32);o.BigNumber.from(u).eq(i)||en.throwError("CCIP Read sender did not match",c.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:n});let l=[],d=o.BigNumber.from((0,s.hexDataSlice)(a,32,64)).toNumber(),f=o.BigNumber.from((0,s.hexDataSlice)(a,d,d+32)).toNumber(),p=(0,s.hexDataSlice)(a,d+32);for(let t=0;t<f;t++){let r=eg(p,32*t);null==r&&en.throwError("CCIP Read contained corrupt URL string",c.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:n}),l.push(r)}let h=ey(a,64);o.BigNumber.from((0,s.hexDataSlice)(a,100,128)).isZero()||en.throwError("CCIP Read callback selector included junk",c.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:n});let m=(0,s.hexDataSlice)(a,96,100),b=ey(a,128),g=yield this.ccipReadFetch(e,h,l);null==g&&en.throwError("CCIP Read disabled or provided no URLs",c.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:n});let y={to:i,data:(0,s.hexConcat)([m,ew([g,b])])};return this._call(y,t,r+1)}catch(e){if(e.code===c.Logger.errors.SERVER_ERROR)throw e}try{return(0,s.hexlify)(n)}catch(r){return en.throwError("bad result from backend",c.Logger.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:n,error:r})}})}call(e,t){return ei(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield(0,u.resolveProperties)({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return ei(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield(0,u.resolveProperties)({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",t);try{return o.BigNumber.from(r)}catch(e){return en.throwError("bad result from backend",c.Logger.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:r,error:e})}})}_getAddress(e){return ei(this,void 0,void 0,function*(){"string"!=typeof(e=yield e)&&en.throwArgumentError("invalid address or ENS name","name",e);let t=yield this.resolveName(e);return null==t&&en.throwError("ENS name not configured",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return ei(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r=-128,i={includeTransactions:!!t};if((0,s.isHexString)(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),(0,s.isHexString)(i.blockTag)&&(r=parseInt(i.blockTag.substring(2),16))}catch(t){en.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return(0,X.poll)(()=>ei(this,void 0,void 0,function*(){let e=yield this.perform("getBlock",i);if(null==e)return null!=i.blockHash&&null==this._emitted["b:"+i.blockHash]||null!=i.blockTag&&r>this._emitted.block?null:void 0;if(t){let t=null;for(let r=0;r<e.transactions.length;r++){let i=e.transactions[r];if(null==i.blockNumber)i.confirmations=0;else if(null==i.confirmations){null==t&&(t=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let e=t-i.blockNumber+1;e<=0&&(e=1),i.confirmations=e}}let r=this.formatter.blockWithTransactions(e);return r.transactions=r.transactions.map(e=>this._wrapTransaction(e)),r}return this.formatter.block(e)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return ei(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let t={transactionHash:this.formatter.hash(e,!0)};return(0,X.poll)(()=>ei(this,void 0,void 0,function*(){let r=yield this.perform("getTransaction",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;let i=this.formatter.transactionResponse(r);if(null==i.blockNumber)i.confirmations=0;else if(null==i.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;e<=0&&(e=1),i.confirmations=e}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return ei(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let t={transactionHash:this.formatter.hash(e,!0)};return(0,X.poll)(()=>ei(this,void 0,void 0,function*(){let r=yield this.perform("getTransactionReceipt",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;if(null==r.blockHash)return;let i=this.formatter.receipt(r);if(null==i.blockNumber)i.confirmations=0;else if(null==i.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;e<=0&&(e=1),i.confirmations=e}return i}),{oncePoll:this})})}getLogs(e){return ei(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield(0,u.resolveProperties)({filter:this._getFilter(e)}),r=yield this.perform("getLogs",t);return r.forEach(e=>{null==e.removed&&(e.removed=!1)}),Z.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return ei(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return ei(this,void 0,void 0,function*(){if("number"==typeof(e=yield e)&&e<0){e%1&&en.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return(t+=e)<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return ei(this,void 0,void 0,function*(){let t=e;for(;;){if(""===t||"."===t||"eth"!==e&&"eth"===t)return null;let r=yield this._getResolver(t,"getResolver");if(null!=r){let i=new ev(this,r,e);if(t!==e&&!(yield i.supportsWildcard()))return null;return i}t=t.split(".").slice(1).join(".")}})}_getResolver(e,t){return ei(this,void 0,void 0,function*(){null==t&&(t="ENS");let r=yield this.getNetwork();r.ensAddress||en.throwError("network does not support ENS",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:t,network:r.name});try{let t=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+(0,z.namehash)(e).substring(2)});return this.formatter.callAddress(t)}catch(e){}return null})}resolveName(e){return ei(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(t){if((0,s.isHexString)(e))throw t}"string"!=typeof e&&en.throwArgumentError("invalid ENS name","name",e);let t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return ei(this,void 0,void 0,function*(){e=yield e;let t=(e=this.formatter.address(e)).substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(t,"lookupAddress");if(null==r)return null;let i=eg((yield this.call({to:r,data:"0x691f3431"+(0,z.namehash)(t).substring(2)})),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return ei(this,void 0,void 0,function*(){let t=null;if((0,s.isHexString)(e)){let r=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",i=yield this._getResolver(r,"getAvatar");if(!i)return null;t=new ev(this,i,r);try{let e=yield t.getAvatar();if(e)return e.url}catch(e){if(e.code!==c.Logger.errors.CALL_EXCEPTION)throw e}try{let e=eg((yield this.call({to:i,data:"0x691f3431"+(0,z.namehash)(r).substring(2)})),0);t=yield this.getResolver(e)}catch(e){if(e.code!==c.Logger.errors.CALL_EXCEPTION)throw e;return null}}else if(!(t=yield this.getResolver(e)))return null;let r=yield t.getAvatar();return null==r?null:r.url})}perform(e,t){return en.throwError(e+" not implemented",c.Logger.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(e=>e.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(e=>e.pollable()).length>0}_addEventListener(e,t,r){let i=new ed(es(e),t,r);return this._events.push(i),this._startEvent(i),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let r=!1,i=[],n=es(e);return this._events=this._events.filter(e=>e.tag!==n||(setTimeout(()=>{e.listener.apply(this,t)},0),r=!0,!e.once||(i.push(e),!1))),i.forEach(e=>{this._stopEvent(e)}),r}listenerCount(e){if(!e)return this._events.length;let t=es(e);return this._events.filter(e=>e.tag===t).length}listeners(e){if(null==e)return this._events.map(e=>e.listener);let t=es(e);return this._events.filter(e=>e.tag===t).map(e=>e.listener)}off(e,t){if(null==t)return this.removeAllListeners(e);let r=[],i=!1,n=es(e);return this._events=this._events.filter(e=>e.tag!==n||e.listener!=t||!!i||(i=!0,r.push(e),!1)),r.forEach(e=>{this._stopEvent(e)}),this}removeAllListeners(e){let t=[];if(null==e)t=this._events,this._events=[];else{let r=es(e);this._events=this._events.filter(e=>e.tag!==r||(t.push(e),!1))}return t.forEach(e=>{this._stopEvent(e)}),this}}var ek=n,eP=e.i(123795),e_=function(e,t,r,i){return new(r||(r=Promise))(function(n,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}u((i=i.apply(e,t||[])).next())})};let eI=new c.Logger(J),eN=["call","estimateGas"];function eR(e,t){if(null==e)return null;if("string"==typeof e.message&&e.message.match("reverted")){let r=(0,s.isHexString)(e.data)?e.data:null;if(!t||r)return{message:e.message,data:r}}if("object"==typeof e){for(let r in e){let i=eR(e[r],t);if(i)return i}return null}if("string"==typeof e)try{return eR(JSON.parse(e),t)}catch(e){}return null}function eB(e,t,r){let i=r.transaction||r.signedTransaction;if("call"===e){let e=eR(t,!0);if(e)return e.data;eI.throwError("missing revert data in call exception; Transaction reverted without a reason string",c.Logger.errors.CALL_EXCEPTION,{data:"0x",transaction:i,error:t})}if("estimateGas"===e){let r=eR(t.body,!1);null==r&&(r=eR(t,!1)),r&&eI.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",c.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{reason:r.message,method:e,transaction:i,error:t})}let n=t.message;throw t.code===c.Logger.errors.SERVER_ERROR&&t.error&&"string"==typeof t.error.message?n=t.error.message:"string"==typeof t.body?n=t.body:"string"==typeof t.responseText&&(n=t.responseText),(n=(n||"").toLowerCase()).match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&eI.throwError("insufficient funds for intrinsic transaction cost",c.Logger.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:i}),n.match(/nonce (is )?too low/i)&&eI.throwError("nonce has already been used",c.Logger.errors.NONCE_EXPIRED,{error:t,method:e,transaction:i}),n.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&eI.throwError("replacement fee too low",c.Logger.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:i}),n.match(/only replay-protected/i)&&eI.throwError("legacy pre-eip-155 transactions not supported",c.Logger.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:i}),eN.indexOf(e)>=0&&n.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&eI.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",c.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:i}),t}function eC(e){return new Promise(function(t){setTimeout(t,e)})}function eO(e){if(e.error){let t=Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function eD(e){return e?e.toLowerCase():e}let eM={};class eU extends ek.Signer{constructor(e,t,r){if(super(),e!==eM)throw Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");(0,u.defineReadOnly)(this,"provider",t),null==r&&(r=0),"string"==typeof r?((0,u.defineReadOnly)(this,"_address",this.provider.formatter.address(r)),(0,u.defineReadOnly)(this,"_index",null)):"number"==typeof r?((0,u.defineReadOnly)(this,"_index",r),(0,u.defineReadOnly)(this,"_address",null)):eI.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return eI.throwError("cannot alter JSON-RPC Signer connection",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new eF(eM,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&eI.throwError("unknown account #"+this._index,c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=(0,u.shallowCopy)(e);let t=this.getAddress().then(e=>(e&&(e=e.toLowerCase()),e));if(null==e.gasLimit){let r=(0,u.shallowCopy)(e);r.from=t,e.gasLimit=this.provider.estimateGas(r)}return null!=e.to&&(e.to=Promise.resolve(e.to).then(e=>e_(this,void 0,void 0,function*(){if(null==e)return null;let t=yield this.provider.resolveName(e);return null==t&&eI.throwArgumentError("provided ENS name resolves to null","tx.to",e),t}))),(0,u.resolveProperties)({tx:(0,u.resolveProperties)(e),sender:t}).then(({tx:t,sender:r})=>{null!=t.from?t.from.toLowerCase()!==r&&eI.throwArgumentError("from address mismatch","transaction",e):t.from=r;let i=this.provider.constructor.hexlifyTransaction(t,{from:!0});return this.provider.send("eth_sendTransaction",[i]).then(e=>e,e=>("string"==typeof e.message&&e.message.match(/user denied/i)&&eI.throwError("user rejected transaction",c.Logger.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:t}),eB("sendTransaction",e,i)))})}signTransaction(e){return eI.throwError("signing transactions is unsupported",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return e_(this,void 0,void 0,function*(){let t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield(0,X.poll)(()=>e_(this,void 0,void 0,function*(){let e=yield this.provider.getTransaction(r);if(null!==e)return this.provider._wrapTransaction(e,r,t)}),{oncePoll:this.provider})}catch(e){throw e.transactionHash=r,e}})}signMessage(e){return e_(this,void 0,void 0,function*(){let t="string"==typeof e?(0,H.toUtf8Bytes)(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[(0,s.hexlify)(t),r.toLowerCase()])}catch(t){throw"string"==typeof t.message&&t.message.match(/user denied/i)&&eI.throwError("user rejected signing",c.Logger.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e}),t}})}_legacySignMessage(e){return e_(this,void 0,void 0,function*(){let t="string"==typeof e?(0,H.toUtf8Bytes)(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),(0,s.hexlify)(t)])}catch(t){throw"string"==typeof t.message&&t.message.match(/user denied/i)&&eI.throwError("user rejected signing",c.Logger.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e}),t}})}_signTypedData(e,t,r){return e_(this,void 0,void 0,function*(){let i=yield eP._TypedDataEncoder.resolveNames(e,t,r,e=>this.provider.resolveName(e)),n=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[n.toLowerCase(),JSON.stringify(eP._TypedDataEncoder.getPayload(i.domain,t,i.value))])}catch(e){throw"string"==typeof e.message&&e.message.match(/user denied/i)&&eI.throwError("user rejected signing",c.Logger.errors.ACTION_REJECTED,{action:"_signTypedData",from:n,messageData:{domain:i.domain,types:t,value:i.value}}),e}})}unlock(e){return e_(this,void 0,void 0,function*(){let t=this.provider,r=yield this.getAddress();return t.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}}class eF extends eU{sendTransaction(e){return this.sendUncheckedTransaction(e).then(e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:t=>this.provider.waitForTransaction(e,t)}))}}let eL={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class eq extends eE{constructor(e,t){let r=t;null==r&&(r=new Promise((e,t)=>{setTimeout(()=>{this.detectNetwork().then(t=>{e(t)},e=>{t(e)})},0)})),super(r),e||(e=(0,u.getStatic)(this.constructor,"defaultUrl")()),"string"==typeof e?(0,u.defineReadOnly)(this,"connection",Object.freeze({url:e})):(0,u.defineReadOnly)(this,"connection",Object.freeze((0,u.shallowCopy)(e))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return e_(this,void 0,void 0,function*(){yield eC(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch(t){try{e=yield this.send("net_version",[])}catch(e){}}if(null!=e){let t=(0,u.getStatic)(this.constructor,"getNetwork");try{return t(o.BigNumber.from(e).toNumber())}catch(t){return eI.throwError("could not detect network",c.Logger.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:t})}}return eI.throwError("could not detect network",c.Logger.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new eU(eM,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(e=>this.formatter.address(e)))}send(e,t){let r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:(0,u.deepCopy)(r),provider:this});let i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];let n=(0,X.fetchJson)(this.connection,JSON.stringify(r),eO).then(e=>(this.emit("debug",{action:"response",request:r,response:e,provider:this}),e),e=>{throw this.emit("debug",{action:"response",error:e,request:r,provider:this}),e});return i&&(this._cache[e]=n,setTimeout(()=>{this._cache[e]=null},0)),n}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[eD(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[eD(t.address),t.blockTag]];case"getCode":return["eth_getCode",[eD(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[eD(t.address),(0,s.hexZeroPad)(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":if(t.blockTag)return["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]];if(t.blockHash)return["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]];break;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[(0,u.getStatic)(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[(0,u.getStatic)(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=eD(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return e_(this,void 0,void 0,function*(){if("call"===e||"estimateGas"===e){let e=t.transaction;if(e&&null!=e.type&&o.BigNumber.from(e.type).isZero()&&null==e.maxFeePerGas&&null==e.maxPriorityFeePerGas){let r=yield this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&((t=(0,u.shallowCopy)(t)).transaction=(0,u.shallowCopy)(e),delete t.transaction.type)}}let r=this.prepareRequest(e,t);null==r&&eI.throwError(e+" not implemented",c.Logger.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(r){return eB(e,r,t)}})}_startEvent(e){"pending"===e.tag&&this._startPending(),super._startEvent(e)}_startPending(){if(null!=this._pendingFilter)return;let e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(r){return!function i(){e.send("eth_getFilterChanges",[r]).then(function(r){if(e._pendingFilter!=t)return null;let i=Promise.resolve();return r.forEach(function(t){e._emitted["t:"+t.toLowerCase()]="pending",i=i.then(function(){return e.getTransaction(t).then(function(t){return e.emit("pending",t),null})})}),i.then(function(){return eC(1e3)})}).then(function(){return e._pendingFilter!=t?void e.send("eth_uninstallFilter",[r]):(setTimeout(function(){i()},0),null)}).catch(e=>{})}(),r}).catch(e=>{})}_stopEvent(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){let r=(0,u.shallowCopy)(eL);if(t)for(let e in t)t[e]&&(r[e]=!0);(0,u.checkProperties)(e,r);let i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(t){if(null==e[t])return;let r=(0,s.hexValue)(o.BigNumber.from(e[t]));"gasLimit"===t&&(t="gas"),i[t]=r}),["from","to","data"].forEach(function(t){null!=e[t]&&(i[t]=(0,s.hexlify)(e[t]))}),e.accessList&&(i.accessList=(0,l.accessListify)(e.accessList)),i}}let eK=null;try{if(eK=WebSocket,null==eK)throw Error("inject please")}catch(t){let e=new c.Logger(J);eK=function(){e.throwError("WebSockets not supported in this environment",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var eW=function(e,t,r,i){return new(r||(r=Promise))(function(n,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}u((i=i.apply(e,t||[])).next())})};let eV=new c.Logger(J),eG=1;class ez extends eq{constructor(e,t){"any"===t&&eV.throwError("WebSocketProvider does not support 'any' network yet",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),"string"==typeof e?super(e,t):super("_websocket",t),this._pollingInterval=-1,this._wsReady=!1,"string"==typeof e?(0,u.defineReadOnly)(this,"_websocket",new eK(this.connection.url)):(0,u.defineReadOnly)(this,"_websocket",e),(0,u.defineReadOnly)(this,"_requests",{}),(0,u.defineReadOnly)(this,"_subs",{}),(0,u.defineReadOnly)(this,"_subIds",{}),(0,u.defineReadOnly)(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(e=>{this.websocket.send(this._requests[e].payload)})},this.websocket.onmessage=e=>{let t=e.data,r=JSON.parse(t);if(null!=r.id){let e=String(r.id),i=this._requests[e];if(delete this._requests[e],void 0!==r.result)i.callback(null,r.result),this.emit("debug",{action:"response",request:JSON.parse(i.payload),response:r.result,provider:this});else{let e=null;r.error?(e=Error(r.error.message||"unknown error"),(0,u.defineReadOnly)(e,"code",r.error.code||null),(0,u.defineReadOnly)(e,"response",t)):e=Error("unknown error"),i.callback(e,void 0),this.emit("debug",{action:"response",error:e,request:JSON.parse(i.payload),provider:this})}}else if("eth_subscription"===r.method){let e=this._subs[r.params.subscription];e&&e.processFunc(r.params.result)}else console.warn("this should not happen")};const r=setInterval(()=>{this.emit("poll")},1e3);r.unref&&r.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){eV.throwError("cannot reset events block on WebSocketProvider",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){eV.throwError("cannot set polling interval on WebSocketProvider",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return eW(this,void 0,void 0,function*(){return null})}set polling(e){e&&eV.throwError("cannot set polling on WebSocketProvider",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){let r=eG++;return new Promise((i,n)=>{let a=JSON.stringify({method:e,params:t,id:r,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(a),provider:this}),this._requests[String(r)]={callback:function(e,t){return e?n(e):i(t)},payload:a},this._wsReady&&this.websocket.send(a)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,r){return eW(this,void 0,void 0,function*(){let i=this._subIds[e];null==i&&(i=Promise.all(t).then(e=>this.send("eth_subscribe",e)),this._subIds[e]=i);let n=yield i;this._subs[n]={tag:e,processFunc:r}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],e=>{let t=o.BigNumber.from(e.number).toNumber();this._emitted.block=t,this.emit("block",t)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],e=>{this.emit("pending",e)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],t=>{null==t.removed&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))});break;case"tx":{let t=e=>{let t=e.hash;this.getTransactionReceipt(t).then(e=>{e&&this.emit(t,e)})};t(e),this._subscribe("tx",["newHeads"],e=>{this._events.filter(e=>"tx"===e.type).forEach(t)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e)}}_stopEvent(e){let t=e.tag;if("tx"===e.type){if(this._events.filter(e=>"tx"===e.type).length)return;t="tx"}else if(this.listenerCount(e.event))return;let r=this._subIds[t];r&&(delete this._subIds[t],r.then(e=>{this._subs[e]&&(delete this._subs[e],this.send("eth_unsubscribe",[e]))}))}destroy(){return eW(this,void 0,void 0,function*(){this.websocket.readyState===eK.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}let ej=new c.Logger(J);class eH extends eq{detectNetwork(){var e,t,r,i;let n=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return e=this,t=void 0,r=void 0,i=function*(){let e=this.network;return null==e&&((e=yield n.detectNetwork.call(this))||ej.throwError("no network detected",c.Logger.errors.UNKNOWN_ERROR,{}),null==this._network&&((0,u.defineReadOnly)(this,"_network",e),this.emit("network",e,null))),e},new(r||(r=Promise))(function(n,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}u((i=i.apply(e,t||[])).next())})}}class eX extends eH{constructor(e,t){ej.checkAbstract(new.target,eX),e=(0,u.getStatic)(new.target,"getNetwork")(e),t=(0,u.getStatic)(new.target,"getApiKey")(t),super((0,u.getStatic)(new.target,"getUrl")(e,t),e),"string"==typeof t?(0,u.defineReadOnly)(this,"apiKey",t):null!=t&&Object.keys(t).forEach(e=>{(0,u.defineReadOnly)(this,e,t[e])})}_startPending(){ej.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return ej.throwError("API provider does not support signing",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return ej.throwError("not implemented; sub-classes must override getUrl",c.Logger.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}let eQ=new c.Logger(J),eJ="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class eY extends ez{constructor(e,t){const r=new eZ(e,t);super(r.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi."),r.network),(0,u.defineReadOnly)(this,"apiKey",r.apiKey)}isCommunityResource(){return this.apiKey===eJ}}class eZ extends eX{static getWebSocketProvider(e,t){return new eY(e,t)}static getApiKey(e){return null==e?eJ:(e&&"string"!=typeof e&&eQ.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.g.alchemy.com/v2/";break;case"sepolia":r="eth-sepolia.g.alchemy.com/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":r="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":r="arb-goerli.g.alchemy.com/v2/";break;case"arbitrum-sepolia":r="arb-sepolia.g.alchemy.com/v2/";break;case"optimism":r="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":r="opt-goerli.g.alchemy.com/v2/";break;case"optimism-sepolia":r="opt-sepolia.g.alchemy.com/v2/";break;default:eQ.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+r+t,throttleCallback:(e,r)=>(t===eJ&&er(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===eJ}}let e$=new c.Logger(J),e0="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";class e1 extends eX{isCommunityResource(){return this.apiKey===e0}static getApiKey(e){return null==e?e0:e}static getUrl(e,t){null==t&&(t=e0);let r={allowGzip:!0,url:"https://"+function(e){switch(e){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"sepolia":return"rpc.ankr.com/eth_sepolia/";case"matic":return"rpc.ankr.com/polygon/";case"maticmum":return"rpc.ankr.com/polygon_mumbai/";case"optimism":return"rpc.ankr.com/optimism/";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet/";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return e$.throwArgumentError("unsupported network","name",e)}(e.name)+t,throttleCallback:(e,r)=>(t.apiKey===e0&&er(),Promise.resolve(!0))};return null!=t.projectSecret&&(r.user="",r.password=t.projectSecret),r}}let e2=new c.Logger(J);class e5 extends eX{static getApiKey(e){return null!=e&&e2.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let r=null;return"homestead"===e.name?r="https://cloudflare-eth.com/":e2.throwArgumentError("unsupported network","network",arguments[0]),r}perform(e,t){var r,i,n,a;let o=Object.create(null,{perform:{get:()=>super.perform}});return r=this,i=void 0,n=void 0,a=function*(){return"getBlockNumber"===e?(yield o.perform.call(this,"getBlock",{blockTag:"latest"})).number:o.perform.call(this,e,t)},new(n||(n=Promise))(function(e,t){function o(e){try{u(a.next(e))}catch(e){t(e)}}function s(e){try{u(a.throw(e))}catch(e){t(e)}}function u(t){var r;t.done?e(t.value):((r=t.value)instanceof n?r:new n(function(e){e(r)})).then(o,s)}u((a=a.apply(r,i||[])).next())})}}var e6=function(e,t,r,i){return new(r||(r=Promise))(function(n,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}u((i=i.apply(e,t||[])).next())})};let e3=new c.Logger(J);function e4(e){let t={};for(let r in e){if(null==e[r])continue;let i=e[r];("type"!==r||0!==i)&&(i=({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0})[r]?(0,s.hexValue)((0,s.hexlify)(i)):"accessList"===r?"["+(0,l.accessListify)(i).map(e=>`{address:"${e.address}",storageKeys:["${e.storageKeys.join('","')}"]}`).join(",")+"]":(0,s.hexlify)(i),t[r]=i)}return t}function e8(e){if(0==e.status&&("No records found"===e.message||"No transactions found"===e.message))return e.result;if(1!=e.status||"string"!=typeof e.message||!e.message.match(/^OK/)){let t=Error("invalid response");throw t.result=JSON.stringify(e),(e.result||"").toLowerCase().indexOf("rate limit")>=0&&(t.throttleRetry=!0),t}return e.result}function e7(e){if(e&&0==e.status&&"NOTOK"==e.message&&(e.result||"").toLowerCase().indexOf("rate limit")>=0){let t=Error("throttled response");throw t.result=JSON.stringify(e),t.throttleRetry=!0,t}if("2.0"!=e.jsonrpc){let t=Error("invalid response");throw t.result=JSON.stringify(e),t}if(e.error){let t=Error(e.error.message||"unknown error");throw e.error.code&&(t.code=e.error.code),e.error.data&&(t.data=e.error.data),t}return e.result}function e9(e){if("pending"===e)throw Error("pending not supported");return"latest"===e?e:parseInt(e.substring(2),16)}function te(e,t,r){if("call"===e&&t.code===c.Logger.errors.SERVER_ERROR){let e=t.error;if(e&&(e.message.match(/reverted/i)||e.message.match(/VM execution error/i))){let r=e.data;if(r&&(r="0x"+r.replace(/^.*0x/i,"")),(0,s.isHexString)(r))return r;e3.throwError("missing revert data in call exception",c.Logger.errors.CALL_EXCEPTION,{error:t,data:"0x"})}}let i=t.message;throw t.code===c.Logger.errors.SERVER_ERROR&&(t.error&&"string"==typeof t.error.message?i=t.error.message:"string"==typeof t.body?i=t.body:"string"==typeof t.responseText&&(i=t.responseText)),(i=(i||"").toLowerCase()).match(/insufficient funds/)&&e3.throwError("insufficient funds for intrinsic transaction cost",c.Logger.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:r}),i.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&e3.throwError("nonce has already been used",c.Logger.errors.NONCE_EXPIRED,{error:t,method:e,transaction:r}),i.match(/another transaction with same nonce/)&&e3.throwError("replacement fee too low",c.Logger.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:r}),i.match(/execution failed due to an exception|execution reverted/)&&e3.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",c.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:r}),t}class tt extends eE{constructor(e,t){super(e),(0,u.defineReadOnly)(this,"baseUrl",this.getBaseUrl()),(0,u.defineReadOnly)(this,"apiKey",t||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return e3.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,t){let r=Object.keys(t).reduce((e,r)=>{let i=t[r];return null!=i&&(e+=`&${r}=${i}`),e},""),i=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${r}${i}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,r){return e6(this,void 0,void 0,function*(){let i=r?this.getPostUrl():this.getUrl(e,t),n=r?this.getPostData(e,t):null,a="proxy"===e?e7:e8;this.emit("debug",{action:"request",request:i,provider:this});let o={url:i,throttleSlotInterval:1e3,throttleCallback:(e,t)=>(this.isCommunityResource()&&er(),Promise.resolve(!0))},s=null;n&&(o.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},s=Object.keys(n).map(e=>`${e}=${n[e]}`).join("&"));let l=yield(0,X.fetchJson)(o,s,a||e7);return this.emit("debug",{action:"response",request:i,response:(0,u.deepCopy)(l),provider:this}),l})}detectNetwork(){return e6(this,void 0,void 0,function*(){return this.network})}perform(e,t){let r=Object.create(null,{perform:{get:()=>super.perform}});return e6(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch(e=>te("sendTransaction",e,t.signedTransaction));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if("latest"!==t.blockTag)throw Error("EtherscanProvider does not support blockTag for call");let e=e4(t.transaction);e.module="proxy",e.action="eth_call";try{return yield this.fetch("proxy",e,!0)}catch(e){return te("call",e,t.transaction)}}case"estimateGas":{let e=e4(t.transaction);e.module="proxy",e.action="eth_estimateGas";try{return yield this.fetch("proxy",e,!0)}catch(e){return te("estimateGas",e,t.transaction)}}case"getLogs":{let e={action:"getLogs"};if(t.filter.fromBlock&&(e.fromBlock=e9(t.filter.fromBlock)),t.filter.toBlock&&(e.toBlock=e9(t.filter.toBlock)),t.filter.address&&(e.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&e3.throwError("unsupported topic count",c.Logger.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),1===t.filter.topics.length)){let r=t.filter.topics[0];("string"!=typeof r||66!==r.length)&&e3.throwError("unsupported topic format",c.Logger.errors.UNSUPPORTED_OPERATION,{topic0:r}),e.topic0=r}let r=yield this.fetch("logs",e),i={};for(let e=0;e<r.length;e++){let t=r[e];if(null==t.blockHash){if(null==i[t.blockNumber]){let e=yield this.getBlock(t.blockNumber);e&&(i[t.blockNumber]=e.hash)}t.blockHash=i[t.blockNumber]}}return r}case"getEtherPrice":if("homestead"!==this.network.name)return 0;return parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return r.perform.call(this,e,t)})}getHistory(e,t,r){return e6(this,void 0,void 0,function*(){let i={action:"txlist",address:yield this.resolveName(e),startblock:null==t?0:t,endblock:null==r?0x5f5e0ff:r,sort:"asc"};return(yield this.fetch("account",i)).map(e=>{["contractAddress","to"].forEach(function(t){""==e[t]&&delete e[t]}),null==e.creates&&null!=e.contractAddress&&(e.creates=e.contractAddress);let t=this.formatter.transactionResponse(e);return e.timeStamp&&(t.timestamp=parseInt(e.timeStamp)),t})})}isCommunityResource(){return null==this.apiKey}}var tr=e.i(216368),ti=function(e,t,r,i){return new(r||(r=Promise))(function(n,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}u((i=i.apply(e,t||[])).next())})};let tn=new c.Logger(J);function ta(){return new Date().getTime()}function to(e){let t=null;for(let r=0;r<e.length;r++){let i=e[r];if(null==i)return null;t?(t.name!==i.name||t.chainId!==i.chainId||t.ensAddress!==i.ensAddress&&(null!=t.ensAddress||null!=i.ensAddress))&&tn.throwArgumentError("provider mismatch","networks",e):t=i}return t}function ts(e,t){let r=Math.floor((e=e.slice().sort()).length/2);if(e.length%2)return e[r];let i=e[r-1],n=e[r];return null!=t&&Math.abs(i-n)>t?null:(i+n)/2}function tu(e){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return JSON.stringify(e);if("string"==typeof e)return e;if(o.BigNumber.isBigNumber(e))return e.toString();if(Array.isArray(e))return JSON.stringify(e.map(e=>tu(e)));else if("object"==typeof e){let t=Object.keys(e);return t.sort(),"{"+t.map(t=>{let r=e[t];return r="function"==typeof r?"[function]":tu(r),JSON.stringify(t)+":"+r}).join(",")+"}"}throw Error("unknown value type: "+typeof e)}let tl=1;function tc(e){let t=null,r=null,i=new Promise(i=>{r=setTimeout(t=function(){r&&(clearTimeout(r),r=null),i()},e)});return{cancel:t,getPromise:function(){return i},wait:e=>i=i.then(e)}}let td=[c.Logger.errors.CALL_EXCEPTION,c.Logger.errors.INSUFFICIENT_FUNDS,c.Logger.errors.NONCE_EXPIRED,c.Logger.errors.REPLACEMENT_UNDERPRICED,c.Logger.errors.UNPREDICTABLE_GAS_LIMIT],tf=["address","args","errorArgs","errorSignature","method","transaction"];function tp(e,t){let r={weight:e.weight};return Object.defineProperty(r,"provider",{get:()=>e.provider}),e.start&&(r.start=e.start),t&&(r.duration=t-e.start),e.done&&(e.error?r.error=e.error:r.result=e.result||null),r}function th(e,t){return ti(this,void 0,void 0,function*(){let r=e.provider;return null!=r.blockNumber&&r.blockNumber>=t||-1===t?r:(0,X.poll)(()=>new Promise((i,n)=>{setTimeout(function(){return r.blockNumber>=t?i(r):e.cancelled?i(null):i(void 0)},0)}),{oncePoll:r})})}class tm extends eE{constructor(e,t){0===e.length&&tn.throwArgumentError("missing providers","providers",e);const r=e.map((e,t)=>{if(i.Provider.isProvider(e)){let t=ee(e)?2e3:750;return Object.freeze({provider:e,weight:1,stallTimeout:t,priority:1})}let r=(0,u.shallowCopy)(e);null==r.priority&&(r.priority=1),null==r.stallTimeout&&(r.stallTimeout=ee(e)?2e3:750),null==r.weight&&(r.weight=1);let n=r.weight;return(n%1||n>512||n<1)&&tn.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${t}].weight`,n),Object.freeze(r)}),n=r.reduce((e,t)=>e+t.weight,0);null==t?t=n/2:t>n&&tn.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let a=to(r.map(e=>e.provider.network));null==a&&(a=new Promise((e,t)=>{setTimeout(()=>{this.detectNetwork().then(e,t)},0)})),super(a),(0,u.defineReadOnly)(this,"providerConfigs",Object.freeze(r)),(0,u.defineReadOnly)(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return ti(this,void 0,void 0,function*(){return to((yield Promise.all(this.providerConfigs.map(e=>e.provider.getNetwork()))))})}perform(e,t){return ti(this,void 0,void 0,function*(){if("sendTransaction"===e){let e=yield Promise.all(this.providerConfigs.map(e=>e.provider.sendTransaction(t.signedTransaction).then(e=>e.hash,e=>e)));for(let t=0;t<e.length;t++){let r=e[t];if("string"==typeof r)return r}throw e[0]}-1===this._highestBlockNumber&&"getBlockNumber"!==e&&(yield this.getBlockNumber());let r=function(e,t,r){var i,n;let a=tu;switch(t){case"getBlockNumber":return function(t){let r=t.map(e=>e.result),i=ts(t.map(e=>e.result),2);if(null!=i)return i=Math.ceil(i),r.indexOf(i+1)>=0&&i++,i>=e._highestBlockNumber&&(e._highestBlockNumber=i),e._highestBlockNumber};case"getGasPrice":return function(e){let t=e.map(e=>e.result);return t.sort(),t[Math.floor(t.length/2)]};case"getEtherPrice":return function(e){return ts(e.map(e=>e.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":a=function(e){return null==e?null:((e=(0,u.shallowCopy)(e)).confirmations=-1,tu(e))};break;case"getBlock":a=r.includeTransactions?function(e){return null==e?null:((e=(0,u.shallowCopy)(e)).transactions=e.transactions.map(e=>((e=(0,u.shallowCopy)(e)).confirmations=-1,e)),tu(e))}:function(e){return null==e?null:tu(e)};break;default:throw Error("unknown method: "+t)}return i=a,n=e.quorum,function(e){let t={};e.forEach(e=>{let r=i(e.result);t[r]||(t[r]={count:0,result:e.result}),t[r].count++});let r=Object.keys(t);for(let e=0;e<r.length;e++){let i=t[r[e]];if(i.count>=n)return i.result}}}(this,e,t),i=(0,tr.shuffled)(this.providerConfigs.map(u.shallowCopy));i.sort((e,t)=>e.priority-t.priority);let n=this._highestBlockNumber,a=0,o=!0;for(;;){let l=ta(),d=i.filter(e=>e.runner&&l-e.start<e.stallTimeout).reduce((e,t)=>e+t.weight,0);for(;d<this.quorum&&a<i.length;){let r=i[a++],o=tl++;r.start=ta(),r.staller=tc(r.stallTimeout),r.staller.wait(()=>{r.staller=null}),r.runner=(function(e,t,r,i){return ti(this,void 0,void 0,function*(){let n=e.provider;switch(r){case"getBlockNumber":case"getGasPrice":return n[r]();case"getEtherPrice":if(n.getEtherPrice)return n.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return i.blockTag&&(0,s.isHexString)(i.blockTag)&&(n=yield th(e,t)),n[r](i.address,i.blockTag||"latest");case"getStorageAt":return i.blockTag&&(0,s.isHexString)(i.blockTag)&&(n=yield th(e,t)),n.getStorageAt(i.address,i.position,i.blockTag||"latest");case"getBlock":return i.blockTag&&(0,s.isHexString)(i.blockTag)&&(n=yield th(e,t)),n[i.includeTransactions?"getBlockWithTransactions":"getBlock"](i.blockTag||i.blockHash);case"call":case"estimateGas":if(i.blockTag&&(0,s.isHexString)(i.blockTag)&&(n=yield th(e,t)),"call"===r&&i.blockTag)return n[r](i.transaction,i.blockTag);return n[r](i.transaction);case"getTransaction":case"getTransactionReceipt":return n[r](i.transactionHash);case"getLogs":{let r=i.filter;return(r.fromBlock&&(0,s.isHexString)(r.fromBlock)||r.toBlock&&(0,s.isHexString)(r.toBlock))&&(n=yield th(e,t)),n.getLogs(r)}}return tn.throwError("unknown method error",c.Logger.errors.UNKNOWN_ERROR,{method:r,params:i})})})(r,n,e,t).then(i=>{r.done=!0,r.result=i,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:o,backend:tp(r,ta()),request:{method:e,params:(0,u.deepCopy)(t)},provider:this})},i=>{r.done=!0,r.error=i,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:o,backend:tp(r,ta()),request:{method:e,params:(0,u.deepCopy)(t)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:o,backend:tp(r,null),request:{method:e,params:(0,u.deepCopy)(t)},provider:this}),d+=r.weight}let f=[];i.forEach(e=>{!e.done&&e.runner&&(f.push(e.runner),e.staller&&f.push(e.staller.getPromise()))}),f.length&&(yield Promise.race(f));let p=i.filter(e=>e.done&&null==e.error);if(p.length>=this.quorum){let e=r(p);if(void 0!==e)return i.forEach(e=>{e.staller&&e.staller.cancel(),e.cancelled=!0}),e;o||(yield tc(100).getPromise()),o=!1}let h=i.reduce((e,t)=>{if(!t.done||null==t.error)return e;let r=t.error.code;return td.indexOf(r)>=0&&(e[r]||(e[r]={error:t.error,weight:0}),e[r].weight+=t.weight),e},{});if(Object.keys(h).forEach(e=>{let t=h[e];if(t.weight<this.quorum)return;i.forEach(e=>{e.staller&&e.staller.cancel(),e.cancelled=!0});let r=t.error,n={};tf.forEach(e=>{null!=r[e]&&(n[e]=r[e])}),tn.throwError(r.reason||r.message,e,n)}),0===i.filter(e=>!e.done).length)break}return i.forEach(e=>{e.staller&&e.staller.cancel(),e.cancelled=!0}),tn.throwError("failed to meet quorum",c.Logger.errors.SERVER_ERROR,{method:e,params:t,results:i.map(e=>tp(e)),provider:this})})}}let tb=new c.Logger(J),tg="84842078b09946638c03157f83405213";class ty extends ez{constructor(e,t){const r=new tx(e,t),i=r.connection;i.password&&tb.throwError("INFURA WebSocket project secrets unsupported",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"}),super(i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),e),(0,u.defineReadOnly)(this,"apiKey",r.projectId),(0,u.defineReadOnly)(this,"projectId",r.projectId),(0,u.defineReadOnly)(this,"projectSecret",r.projectSecret)}isCommunityResource(){return this.projectId===tg}}class tx extends eX{static getWebSocketProvider(e,t){return new ty(e,t)}static getApiKey(e){let t={apiKey:tg,projectId:tg,projectSecret:null};return null==e||("string"==typeof e?t.projectId=e:null!=e.projectSecret?(tb.assertArgument("string"==typeof e.projectId,"projectSecret requires a projectId","projectId",e.projectId),tb.assertArgument("string"==typeof e.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"goerli":r="goerli.infura.io";break;case"sepolia":r="sepolia.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;case"optimism":r="optimism-mainnet.infura.io";break;case"optimism-goerli":r="optimism-goerli.infura.io";break;case"optimism-sepolia":r="optimism-sepolia.infura.io";break;case"arbitrum":r="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":r="arbitrum-goerli.infura.io";break;case"arbitrum-sepolia":r="arbitrum-sepolia.infura.io";break;default:tb.throwError("unsupported network",c.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}let i={allowGzip:!0,url:"https://"+r+"/v3/"+t.projectId,throttleCallback:(e,r)=>(t.projectId===tg&&er(),Promise.resolve(!0))};return null!=t.projectSecret&&(i.user="",i.password=t.projectSecret),i}isCommunityResource(){return this.projectId===tg}}class tA extends eq{send(e,t){let r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};null==this._pendingBatch&&(this._pendingBatch=[]);let i={request:r,resolve:null,reject:null},n=new Promise((e,t)=>{i.resolve=e,i.reject=t});return this._pendingBatch.push(i),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{let e=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;let t=e.map(e=>e.request);return this.emit("debug",{action:"requestBatch",request:(0,u.deepCopy)(t),provider:this}),(0,X.fetchJson)(this.connection,JSON.stringify(t)).then(r=>{this.emit("debug",{action:"response",request:t,response:r,provider:this}),e.forEach((e,t)=>{let i=r[t];if(i.error){let t=Error(i.error.message);t.code=i.error.code,t.data=i.error.data,e.reject(t)}else e.resolve(i.result)})},r=>{this.emit("debug",{action:"response",error:r,request:t,provider:this}),e.forEach(e=>{e.reject(r)})})},10)),n}}let tw=new c.Logger(J);class tv extends eX{static getApiKey(e){return e&&"string"!=typeof e&&tw.throwArgumentError("invalid apiKey","apiKey",e),e||"ETHERS_JS_SHARED"}static getUrl(e,t){tw.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let r=null;switch(e.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:tw.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+t}}let tS=new c.Logger(J),tT="62e1ad51b37b8e00394bda3b";class tE extends eX{static getApiKey(e){let t={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return null==e?t.applicationId=tT:"string"==typeof e?t.applicationId=e:null!=e.applicationSecretKey?(t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey):e.applicationId?t.applicationId=e.applicationId:tS.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"goerli":r="eth-goerli.gateway.pokt.network";break;case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"kovan":r="poa-kovan.gateway.pokt.network";break;case"matic":r="poly-mainnet.gateway.pokt.network";break;case"maticmum":r="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;default:tS.throwError("unsupported network",c.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}let i={headers:{},url:`https://${r}/v1/lb/${t.applicationId}`};return null!=t.applicationSecretKey&&(i.user="",i.password=t.applicationSecretKey),i}isCommunityResource(){return this.applicationId===tT}}let tk=new c.Logger(J);class tP extends eX{static getApiKey(e){return e&&"string"!=typeof e&&tk.throwArgumentError("invalid apiKey","apiKey",e),e||"919b412a057b5e9c9b6dce193c5a60242d6efadb"}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="ethers.quiknode.pro";break;case"goerli":r="ethers.ethereum-goerli.quiknode.pro";break;case"sepolia":r="ethers.ethereum-sepolia.quiknode.pro";break;case"holesky":r="ethers.ethereum-holesky.quiknode.pro";break;case"arbitrum":r="ethers.arbitrum-mainnet.quiknode.pro";break;case"arbitrum-goerli":r="ethers.arbitrum-goerli.quiknode.pro";break;case"arbitrum-sepolia":r="ethers.arbitrum-sepolia.quiknode.pro";break;case"base":r="ethers.base-mainnet.quiknode.pro";break;case"base-goerli":r="ethers.base-goerli.quiknode.pro";break;case"base-spolia":r="ethers.base-sepolia.quiknode.pro";break;case"bnb":r="ethers.bsc.quiknode.pro";break;case"bnbt":r="ethers.bsc-testnet.quiknode.pro";break;case"matic":r="ethers.matic.quiknode.pro";break;case"maticmum":r="ethers.matic-testnet.quiknode.pro";break;case"optimism":r="ethers.optimism.quiknode.pro";break;case"optimism-goerli":r="ethers.optimism-goerli.quiknode.pro";break;case"optimism-sepolia":r="ethers.optimism-sepolia.quiknode.pro";break;case"xdai":r="ethers.xdai.quiknode.pro";break;default:tk.throwArgumentError("unsupported network","network",arguments[0])}return"https://"+r+"/"+t}}let t_=new c.Logger(J),tI=1;function tN(e,t){let r="Web3LegacyFetcher";return function(e,i){let n={method:e,params:i,id:tI++,jsonrpc:"2.0"};return new Promise((e,i)=>{this.emit("debug",{action:"request",fetcher:r,request:(0,u.deepCopy)(n),provider:this}),t(n,(t,a)=>{if(t)return this.emit("debug",{action:"response",fetcher:r,error:t,request:n,provider:this}),i(t);if(this.emit("debug",{action:"response",fetcher:r,request:n,response:a,provider:this}),a.error){let e=Error(a.error.message);return e.code=a.error.code,e.data=a.error.data,i(e)}e(a.result)})})}}class tR extends eq{constructor(e,t){null==e&&t_.throwArgumentError("missing provider","provider",e);let r=null,i=null,n=null;"function"==typeof e?(r="unknown:",i=e):((r=e.host||e.path||"")||!e.isMetaMask||(r="metamask"),n=e,e.request?(""===r&&(r="eip-1193:"),i=function(e){return function(t,r){null==r&&(r=[]);let i={method:t,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:(0,u.deepCopy)(i),provider:this}),e.request(i).then(e=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:i,response:e,provider:this}),e),e=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:i,error:e,provider:this}),e})}}(e)):e.sendAsync?i=tN(e,e.sendAsync.bind(e)):e.send?i=tN(e,e.send.bind(e)):t_.throwArgumentError("unsupported provider","provider",e),r||(r="unknown:")),super(r,t),(0,u.defineReadOnly)(this,"jsonRpcFetchFunc",i),(0,u.defineReadOnly)(this,"provider",n)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}let tB=new c.Logger(J);function tC(e,t){if(null==e&&(e="homestead"),"string"==typeof e){let t=e.match(/^(ws|http)s?:/i);if(t)switch(t[1].toLowerCase()){case"http":case"https":return new eq(e);case"ws":case"wss":return new ez(e);default:tB.throwArgumentError("unsupported URL scheme","network",e)}}let r=K(e);return r&&r._defaultProvider||tB.throwError("unsupported getDefaultProvider network",c.Logger.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:e}),r._defaultProvider({FallbackProvider:tm,AlchemyProvider:eZ,AnkrProvider:e1,CloudflareProvider:e5,EtherscanProvider:tt,InfuraProvider:tx,JsonRpcProvider:eq,NodesmithProvider:tv,PocketProvider:tE,QuickNodeProvider:tP,Web3Provider:tR,IpcProvider:null},t)}e.s(["getDefaultProvider",()=>tC],426428),e.i(426428),e.s(["AlchemyProvider",()=>eZ,"AlchemyWebSocketProvider",()=>eY,"AnkrProvider",()=>e1,"BaseProvider",()=>eE,"CloudflareProvider",()=>e5,"EtherscanProvider",()=>tt,"FallbackProvider",()=>tm,"Formatter",()=>Z,"InfuraProvider",()=>tx,"InfuraWebSocketProvider",()=>ty,"IpcProvider",()=>null,"JsonRpcBatchProvider",()=>tA,"JsonRpcProvider",()=>eq,"JsonRpcSigner",()=>eU,"NodesmithProvider",()=>tv,"PocketProvider",()=>tE,"Provider",()=>i.Provider,"QuickNodeProvider",()=>tP,"Resolver",()=>ev,"StaticJsonRpcProvider",()=>eH,"UrlJsonRpcProvider",()=>eX,"Web3Provider",()=>tR,"WebSocketProvider",()=>ez,"getDefaultProvider",()=>tC,"getNetwork",()=>K,"isCommunityResourcable",()=>$,"isCommunityResource",()=>ee,"showThrottleMessage",()=>er],98400);var tO=e.i(98400),tD=e.i(422955),tM=e.i(309302),tU=e.i(144180),tF=e.i(791078),tL=e.i(630759),tq=e.i(142621),tK=e.i(83090),tW=e.i(891368),tV=e.i(407351),tG=e.i(447172),tz=e.i(575111),tj=e.i(666843),tH=e.i(222223),tX=e.i(346469),tQ=e.i(299797),tJ=e.i(812196),tY=e.i(299697),tZ=e.i(691846);e.s([],27392),e.i(27392),e.s(["AbiCoder",()=>tU.AbiCoder,"ConstructorFragment",()=>tF.ConstructorFragment,"ErrorFragment",()=>tF.ErrorFragment,"EventFragment",()=>tF.EventFragment,"FormatTypes",()=>tF.FormatTypes,"Fragment",()=>tF.Fragment,"FunctionFragment",()=>tF.FunctionFragment,"HDNode",()=>tW.HDNode,"Indexed",()=>r.Indexed,"Interface",()=>r.Interface,"LogDescription",()=>r.LogDescription,"Logger",()=>c.Logger,"ParamType",()=>tF.ParamType,"RLP",0,tH,"SigningKey",()=>tX.SigningKey,"SupportedAlgorithm",()=>tZ.SupportedAlgorithm,"TransactionDescription",()=>r.TransactionDescription,"TransactionTypes",()=>l.TransactionTypes,"UnicodeNormalizationForm",()=>H.UnicodeNormalizationForm,"Utf8ErrorFuncs",()=>H.Utf8ErrorFuncs,"Utf8ErrorReason",()=>H.Utf8ErrorReason,"_TypedDataEncoder",()=>eP._TypedDataEncoder,"_fetchData",()=>X._fetchData,"_toEscapedUtf8String",()=>H._toEscapedUtf8String,"accessListify",()=>l.accessListify,"arrayify",()=>s.arrayify,"base58",()=>G.Base58,"base64",0,tL,"checkProperties",()=>u.checkProperties,"checkResultErrors",()=>t.checkResultErrors,"commify",()=>tY.commify,"computeAddress",()=>l.computeAddress,"computeHmac",()=>j.computeHmac,"computePublicKey",()=>tX.computePublicKey,"concat",()=>s.concat,"deepCopy",()=>u.deepCopy,"defaultAbiCoder",()=>tU.defaultAbiCoder,"defaultPath",()=>tW.defaultPath,"defineReadOnly",()=>u.defineReadOnly,"dnsEncode",()=>z.dnsEncode,"entropyToMnemonic",()=>tW.entropyToMnemonic,"fetchJson",()=>X.fetchJson,"formatBytes32String",()=>tQ.formatBytes32String,"formatEther",()=>tY.formatEther,"formatUnits",()=>tY.formatUnits,"getAccountPath",()=>tW.getAccountPath,"getAddress",()=>a.getAddress,"getContractAddress",()=>a.getContractAddress,"getCreate2Address",()=>a.getCreate2Address,"getIcapAddress",()=>a.getIcapAddress,"getJsonWalletAddress",()=>tV.getJsonWalletAddress,"getStatic",()=>u.getStatic,"hashMessage",()=>tq.hashMessage,"hexConcat",()=>s.hexConcat,"hexDataLength",()=>s.hexDataLength,"hexDataSlice",()=>s.hexDataSlice,"hexStripZeros",()=>s.hexStripZeros,"hexValue",()=>s.hexValue,"hexZeroPad",()=>s.hexZeroPad,"hexlify",()=>s.hexlify,"id",()=>tK.id,"isAddress",()=>a.isAddress,"isBytes",()=>s.isBytes,"isBytesLike",()=>s.isBytesLike,"isHexString",()=>s.isHexString,"isValidMnemonic",()=>tW.isValidMnemonic,"isValidName",()=>z.isValidName,"joinSignature",()=>s.joinSignature,"keccak256",()=>tG.keccak256,"mnemonicToEntropy",()=>tW.mnemonicToEntropy,"mnemonicToSeed",()=>tW.mnemonicToSeed,"namehash",()=>z.namehash,"nameprep",()=>tJ.nameprep,"parseBytes32String",()=>tQ.parseBytes32String,"parseEther",()=>tY.parseEther,"parseTransaction",()=>l.parse,"parseUnits",()=>tY.parseUnits,"poll",()=>X.poll,"randomBytes",()=>tj.randomBytes,"recoverAddress",()=>l.recoverAddress,"recoverPublicKey",()=>tX.recoverPublicKey,"resolveProperties",()=>u.resolveProperties,"ripemd160",()=>j.ripemd160,"serializeTransaction",()=>l.serialize,"sha256",()=>j.sha256,"sha512",()=>j.sha512,"shallowCopy",()=>u.shallowCopy,"shuffled",()=>tr.shuffled,"solidityKeccak256",()=>tz.keccak256,"solidityPack",()=>tz.pack,"soliditySha256",()=>tz.sha256,"splitSignature",()=>s.splitSignature,"stripZeros",()=>s.stripZeros,"toUtf8Bytes",()=>H.toUtf8Bytes,"toUtf8CodePoints",()=>H.toUtf8CodePoints,"toUtf8String",()=>H.toUtf8String,"verifyMessage",()=>I.verifyMessage,"verifyTypedData",()=>I.verifyTypedData,"zeroPad",()=>s.zeroPad],167276);var t$=e.i(167276);let t0="ethers/5.8.0";e.s(["version",0,t0],82930);let t1=new c.Logger(t0);e.s(["logger",()=>t1],859665),e.i(859665),e.s(["BaseContract",()=>E,"BigNumber",()=>o.BigNumber,"Contract",()=>k,"ContractFactory",()=>P,"FixedNumber",()=>_.FixedNumber,"Signer",()=>n.Signer,"VoidSigner",()=>n.VoidSigner,"Wallet",()=>I.Wallet,"Wordlist",()=>tD.Wordlist,"constants",0,C,"errors",()=>c.ErrorCode,"getDefaultProvider",()=>tC,"logger",()=>t1,"providers",0,tO,"utils",0,t$,"version",0,t0,"wordlists",()=>tM.wordlists],685648)},819090,e=>{"use strict";var t=e.i(11778);e.s(["constants",0,t])},851694,e=>{"use strict";var t=e.i(685648);try{let e=window;null==e._ethers&&(e._ethers=t)}catch(e){}e.s([],823172),e.i(823172);var r=e.i(90413),i=e.i(508663),n=e.i(426428),a=e.i(98400),a=a,o=e.i(992216),s=e.i(839341),u=e.i(382312),l=e.i(819090),c=e.i(875353),c=c,d=e.i(859665),f=e.i(167276),f=f,p=e.i(309302),h=e.i(82930),m=e.i(422955);e.s(["BaseContract",()=>o.BaseContract,"BigNumber",()=>s.BigNumber,"Contract",()=>o.Contract,"ContractFactory",()=>o.ContractFactory,"FixedNumber",()=>u.FixedNumber,"Signer",()=>r.Signer,"VoidSigner",()=>r.VoidSigner,"Wallet",()=>i.Wallet,"Wordlist",()=>m.Wordlist,"constants",()=>l.constants,"errors",()=>c.ErrorCode,"ethers",0,t,"getDefaultProvider",()=>n.getDefaultProvider,"logger",()=>d.logger,"providers",()=>a,"utils",()=>f,"version",()=>h.version,"wordlists",()=>p.wordlists],851694)},477912,(e,t,r)=>{e.e,t.exports=function(){"use strict";var e=Math.imul,t=Math.clz32,r=Math.abs,i=Math.max,n=Math.floor;class a extends Array{constructor(e,t){if(super(e),this.sign=t,e>a.__kMaxLength)throw RangeError("Maximum BigInt size exceeded")}static BigInt(e){var t=Number.isFinite;if("number"==typeof e){if(0===e)return a.__zero();if(a.__isOneDigitInt(e))return 0>e?a.__oneDigit(-e,!0):a.__oneDigit(e,!1);if(!t(e)||n(e)!==e)throw RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return a.__fromDouble(e)}if("string"==typeof e){let t=a.__fromString(e);if(null===t)throw SyntaxError("Cannot convert "+e+" to a BigInt");return t}if("boolean"==typeof e)return!0===e?a.__oneDigit(1,!1):a.__zero();if("object"==typeof e){if(e.constructor===a)return e;let t=a.__toPrimitive(e);return a.BigInt(t)}throw TypeError("Cannot convert "+e+" to a BigInt")}toDebugString(){let e=["BigInt["];for(let t of this)e.push((t?(t>>>0).toString(16):t)+", ");return e.push("]"),e.join("")}toString(e=10){if(2>e||36<e)throw RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":0==(e&e-1)?a.__toStringBasePowerOfTwo(this,e):a.__toStringGeneric(this,e,!1)}static toNumber(e){let t=e.length;if(0===t)return 0;if(1===t){let t=e.__unsignedDigit(0);return e.sign?-t:t}let r=e.__digit(t-1),i=a.__clz30(r),n=30*t-i;if(1024<n)return e.sign?-1/0:1/0;let o=n-1,s=r,u=t-1,l=i+3,c=32===l?0:s<<l;c>>>=12;let d=l-12,f=12<=l?0:s<<20+l,p=20+l;for(0<d&&0<u&&(u--,c|=(s=e.__digit(u))>>>30-d,f=s<<d+2,p=d+2);0<p&&0<u;)u--,s=e.__digit(u),f|=30<=p?s<<p-30:s>>>30-p,p-=30;let h=a.__decideRounding(e,p,u,s);if((1===h||0===h&&1==(1&f))&&0==(f=f+1>>>0)&&0!=++c>>>20&&(c=0,1023<++o))return e.sign?-1/0:1/0;let m=e.sign?-0x80000000:0;return o=o+1023<<20,a.__kBitConversionInts[1]=m|o|c,a.__kBitConversionInts[0]=f,a.__kBitConversionDouble[0]}static unaryMinus(e){if(0===e.length)return e;let t=e.__copy();return t.sign=!e.sign,t}static bitwiseNot(e){return e.sign?a.__absoluteSubOne(e).__trim():a.__absoluteAddOne(e,!0)}static exponentiate(e,t){if(t.sign)throw RangeError("Exponent must be positive");if(0===t.length)return a.__oneDigit(1,!1);if(0===e.length)return e;if(1===e.length&&1===e.__digit(0))return e.sign&&0==(1&t.__digit(0))?a.unaryMinus(e):e;if(1<t.length)throw RangeError("BigInt too big");let r=t.__unsignedDigit(0);if(1===r)return e;if(r>=a.__kMaxLengthBits)throw RangeError("BigInt too big");if(1===e.length&&2===e.__digit(0)){let t=1+(0|r/30),i=new a(t,e.sign&&0!=(1&r));i.__initializeDigits();let n=1<<r%30;return i.__setDigit(t-1,n),i}let i=null,n=e;for(0!=(1&r)&&(i=e),r>>=1;0!==r;r>>=1)n=a.multiply(n,n),0!=(1&r)&&(i=null===i?n:a.multiply(i,n));return i}static multiply(e,t){if(0===e.length)return e;if(0===t.length)return t;let r=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&r--;let i=new a(r,e.sign!==t.sign);i.__initializeDigits();for(let r=0;r<e.length;r++)a.__multiplyAccumulate(t,e.__digit(r),i,r);return i.__trim()}static divide(e,t){let r;if(0===t.length)throw RangeError("Division by zero");if(0>a.__absoluteCompare(e,t))return a.__zero();let i=e.sign!==t.sign,n=t.__unsignedDigit(0);if(1===t.length&&32767>=n){if(1===n)return i===e.sign?e:a.unaryMinus(e);r=a.__absoluteDivSmall(e,n,null)}else r=a.__absoluteDivLarge(e,t,!0,!1);return r.sign=i,r.__trim()}static remainder(e,t){if(0===t.length)throw RangeError("Division by zero");if(0>a.__absoluteCompare(e,t))return e;let r=t.__unsignedDigit(0);if(1===t.length&&32767>=r){if(1===r)return a.__zero();let t=a.__absoluteModSmall(e,r);return 0===t?a.__zero():a.__oneDigit(t,e.sign)}let i=a.__absoluteDivLarge(e,t,!1,!0);return i.sign=e.sign,i.__trim()}static add(e,t){let r=e.sign;return r===t.sign?a.__absoluteAdd(e,t,r):0<=a.__absoluteCompare(e,t)?a.__absoluteSub(e,t,r):a.__absoluteSub(t,e,!r)}static subtract(e,t){let r=e.sign;return r===t.sign?0<=a.__absoluteCompare(e,t)?a.__absoluteSub(e,t,r):a.__absoluteSub(t,e,!r):a.__absoluteAdd(e,t,r)}static leftShift(e,t){return 0===t.length||0===e.length?e:t.sign?a.__rightShiftByAbsolute(e,t):a.__leftShiftByAbsolute(e,t)}static signedRightShift(e,t){return 0===t.length||0===e.length?e:t.sign?a.__leftShiftByAbsolute(e,t):a.__rightShiftByAbsolute(e,t)}static unsignedRightShift(){throw TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(e,t){return 0>a.__compareToBigInt(e,t)}static lessThanOrEqual(e,t){return 0>=a.__compareToBigInt(e,t)}static greaterThan(e,t){return 0<a.__compareToBigInt(e,t)}static greaterThanOrEqual(e,t){return 0<=a.__compareToBigInt(e,t)}static equal(e,t){if(e.sign!==t.sign||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e.__digit(r)!==t.__digit(r))return!1;return!0}static notEqual(e,t){return!a.equal(e,t)}static bitwiseAnd(e,t){if(!e.sign&&!t.sign)return a.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){let r=i(e.length,t.length)+1,n=a.__absoluteSubOne(e,r),o=a.__absoluteSubOne(t);return n=a.__absoluteOr(n,o,n),a.__absoluteAddOne(n,!0,n).__trim()}return e.sign&&([e,t]=[t,e]),a.__absoluteAndNot(e,a.__absoluteSubOne(t)).__trim()}static bitwiseXor(e,t){if(!e.sign&&!t.sign)return a.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){let r=i(e.length,t.length),n=a.__absoluteSubOne(e,r),o=a.__absoluteSubOne(t);return a.__absoluteXor(n,o,n).__trim()}let r=i(e.length,t.length)+1;e.sign&&([e,t]=[t,e]);let n=a.__absoluteSubOne(t,r);return n=a.__absoluteXor(n,e,n),a.__absoluteAddOne(n,!0,n).__trim()}static bitwiseOr(e,t){let r=i(e.length,t.length);if(!e.sign&&!t.sign)return a.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){let i=a.__absoluteSubOne(e,r),n=a.__absoluteSubOne(t);return i=a.__absoluteAnd(i,n,i),a.__absoluteAddOne(i,!0,i).__trim()}e.sign&&([e,t]=[t,e]);let n=a.__absoluteSubOne(t,r);return n=a.__absoluteAndNot(n,e,n),a.__absoluteAddOne(n,!0,n).__trim()}static asIntN(e,t){if(0===t.length)return t;if(0>(e=n(e)))throw RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return a.__zero();if(e>=a.__kMaxLengthBits)return t;let r=0|(e+29)/30;if(t.length<r)return t;let i=t.__unsignedDigit(r-1),o=1<<(e-1)%30;if(t.length===r&&i<o)return t;if((i&o)!==o)return a.__truncateToNBits(e,t);if(!t.sign)return a.__truncateAndSubFromPowerOfTwo(e,t,!0);if(0==(i&o-1)){for(let i=r-2;0<=i;i--)if(0!==t.__digit(i))return a.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===r&&i===o?t:a.__truncateToNBits(e,t)}return a.__truncateAndSubFromPowerOfTwo(e,t,!1)}static asUintN(e,t){if(0===t.length)return t;if(0>(e=n(e)))throw RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return a.__zero();if(t.sign){if(e>a.__kMaxLengthBits)throw RangeError("BigInt too big");return a.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=a.__kMaxLengthBits)return t;let r=0|(e+29)/30;if(t.length<r)return t;let i=e%30;return t.length==r&&(0===i||0==t.__digit(r-1)>>>i)?t:a.__truncateToNBits(e,t)}static ADD(e,t){if(e=a.__toPrimitive(e),t=a.__toPrimitive(t),"string"==typeof e)return"string"!=typeof t&&(t=t.toString()),e+t;if("string"==typeof t)return e.toString()+t;if(e=a.__toNumeric(e),t=a.__toNumeric(t),a.__isBigInt(e)&&a.__isBigInt(t))return a.add(e,t);if("number"==typeof e&&"number"==typeof t)return e+t;throw TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(e,t){return a.__compare(e,t,0)}static LE(e,t){return a.__compare(e,t,1)}static GT(e,t){return a.__compare(e,t,2)}static GE(e,t){return a.__compare(e,t,3)}static EQ(e,t){for(;;){if(a.__isBigInt(e))return a.__isBigInt(t)?a.equal(e,t):a.EQ(t,e);if("number"==typeof e){if(a.__isBigInt(t))return a.__equalToNumber(t,e);if("object"!=typeof t)return e==t;t=a.__toPrimitive(t)}else if("string"==typeof e){if(a.__isBigInt(t))return null!==(e=a.__fromString(e))&&a.equal(e,t);if("object"!=typeof t)return e==t;t=a.__toPrimitive(t)}else if("boolean"==typeof e){if(a.__isBigInt(t))return a.__equalToNumber(t,+e);if("object"!=typeof t)return e==t;t=a.__toPrimitive(t)}else if("symbol"==typeof e){if(a.__isBigInt(t))return!1;if("object"!=typeof t)return e==t;t=a.__toPrimitive(t)}else{if("object"!=typeof e||"object"==typeof t&&t.constructor!==a)return e==t;e=a.__toPrimitive(e)}}}static NE(e,t){return!a.EQ(e,t)}static __zero(){return new a(0,!1)}static __oneDigit(e,t){let r=new a(1,t);return r.__setDigit(0,e),r}__copy(){let e=new a(this.length,this.sign);for(let t=0;t<this.length;t++)e[t]=this[t];return e}__trim(){let e=this.length,t=this[e-1];for(;0===t;)t=this[--e-1],this.pop();return 0===e&&(this.sign=!1),this}__initializeDigits(){for(let e=0;e<this.length;e++)this[e]=0}static __decideRounding(e,t,r,i){let n;if(0<t)return -1;if(0>t)n=-t-1;else{if(0===r)return -1;r--,i=e.__digit(r),n=29}let a=1<<n;if(0==(i&a))return -1;if(a-=1,0!=(i&a))return 1;for(;0<r;)if(r--,0!==e.__digit(r))return 1;return 0}static __fromDouble(e){a.__kBitConversionDouble[0]=e;let t=(2047&a.__kBitConversionInts[1]>>>20)-1023,r=(0|t/30)+1,i=new a(r,0>e),n=1048575&a.__kBitConversionInts[1]|1048576,o=a.__kBitConversionInts[0],s=t%30,u,l=0;if(20>s){let e=20-s;l=e+32,u=n>>>e,n=n<<32-e|o>>>e,o<<=32-e}else if(20===s)l=32,u=n,n=o,o=0;else{let e=s-20;l=32-e,u=n<<e|o>>>32-e,n=o<<e,o=0}i.__setDigit(r-1,u);for(let e=r-2;0<=e;e--)0<l?(l-=30,u=n>>>2,n=n<<30|o>>>2,o<<=30):u=0,i.__setDigit(e,u);return i.__trim()}static __isWhitespace(e){return!!(13>=e&&9<=e)||(159>=e?32==e:131071>=e?160==e||5760==e:196607>=e?10>=(e&=131071)||40==e||41==e||47==e||95==e||4096==e:65279==e)}static __fromString(e,t=0){let r=0,i=e.length,n=0;if(0===i)return a.__zero();let o=e.charCodeAt(n);for(;a.__isWhitespace(o);){if(++n===i)return a.__zero();o=e.charCodeAt(n)}if(43===o){if(++n===i)return null;o=e.charCodeAt(n),r=1}else if(45===o){if(++n===i)return null;o=e.charCodeAt(n),r=-1}if(0===t){if(t=10,48===o){if(++n===i)return a.__zero();if(88===(o=e.charCodeAt(n))||120===o){if(t=16,++n===i)return null;o=e.charCodeAt(n)}else if(79===o||111===o){if(t=8,++n===i)return null;o=e.charCodeAt(n)}else if(66===o||98===o){if(t=2,++n===i)return null;o=e.charCodeAt(n)}}}else if(16===t&&48===o){if(++n===i)return a.__zero();if(88===(o=e.charCodeAt(n))||120===o){if(++n===i)return null;o=e.charCodeAt(n)}}if(0!=r&&10!==t)return null;for(;48===o;){if(++n===i)return a.__zero();o=e.charCodeAt(n)}let s=i-n,u=a.__kMaxBitsPerChar[t],l=a.__kBitsPerCharTableMultiplier-1;if(s>0x40000000/u)return null;let c=u*s+l>>>a.__kBitsPerCharTableShift,d=new a(0|(c+29)/30,!1),f=10>t?t:10,p=10<t?t-10:0;if(0==(t&t-1)){u>>=a.__kBitsPerCharTableShift;let t=[],r=[],s=!1;do{let a=0,l=0;for(;;){let t;if(o-48>>>0<f)t=o-48;else if((32|o)-97>>>0<p)t=(32|o)-87;else{s=!0;break}if(l+=u,a=a<<u|t,++n===i){s=!0;break}if(o=e.charCodeAt(n),30<l+u)break}t.push(a),r.push(l)}while(!s)a.__fillFromParts(d,t,r)}else{d.__initializeDigits();let r=!1,s=0;do{let c=0,h=1;for(;;){let a;if(o-48>>>0<f)a=o-48;else if((32|o)-97>>>0<p)a=(32|o)-87;else{r=!0;break}let u=h*t;if(0x3fffffff<u)break;if(h=u,c=c*t+a,s++,++n===i){r=!0;break}o=e.charCodeAt(n)}let m=0|(u*s+(l=30*a.__kBitsPerCharTableMultiplier-1)>>>a.__kBitsPerCharTableShift)/30;d.__inplaceMultiplyAdd(h,c,m)}while(!r)}if(n!==i){if(!a.__isWhitespace(o))return null;for(n++;n<i;n++)if(o=e.charCodeAt(n),!a.__isWhitespace(o))return null}return d.sign=-1==r,d.__trim()}static __fillFromParts(e,t,r){let i=0,n=0,a=0;for(let o=t.length-1;0<=o;o--){let s=t[o],u=r[o];n|=s<<a,30===(a+=u)?(e.__setDigit(i++,n),a=0,n=0):30<a&&(e.__setDigit(i++,0x3fffffff&n),a-=30,n=s>>>u-a)}if(0!==n){if(i>=e.length)throw Error("implementation bug");e.__setDigit(i++,n)}for(;i<e.length;i++)e.__setDigit(i,0)}static __toStringBasePowerOfTwo(e,t){let r=e.length,i=t-1,n=i=(15&(i=(51&(i=(85&i>>>1)+(85&i))>>>2)+(51&i))>>>4)+(15&i),o=t-1,s=e.__digit(r-1),u=0|(30*r-a.__clz30(s)+n-1)/n;if(e.sign&&u++,0x10000000<u)throw Error("string too long");let l=Array(u),c=u-1,d=0,f=0;for(let t=0;t<r-1;t++){let r=e.__digit(t),i=(d|r<<f)&o;l[c--]=a.__kConversionChars[i];let s=n-f;for(d=r>>>s,f=30-s;f>=n;)l[c--]=a.__kConversionChars[d&o],d>>>=n,f-=n}let p=(d|s<<f)&o;for(l[c--]=a.__kConversionChars[p],d=s>>>n-f;0!==d;)l[c--]=a.__kConversionChars[d&o],d>>>=n;if(e.sign&&(l[c--]="-"),-1!=c)throw Error("implementation bug");return l.join("")}static __toStringGeneric(e,t,r){let i,n,o=e.length;if(0===o)return"";if(1===o){let i=e.__unsignedDigit(0).toString(t);return!1===r&&e.sign&&(i="-"+i),i}let s=30*o-a.__clz30(e.__digit(o-1)),u=a.__kMaxBitsPerChar[t]-1,l=s*a.__kBitsPerCharTableMultiplier;l+=u-1;let c=(l=0|l/u)+1>>1,d=a.exponentiate(a.__oneDigit(t,!1),a.__oneDigit(c,!1)),f=d.__unsignedDigit(0);if(1===d.length&&32767>=f){(i=new a(e.length,!1)).__initializeDigits();let r=0;for(let t=2*e.length-1;0<=t;t--){let n=r<<15|e.__halfDigit(t);i.__setHalfDigit(t,0|n/f),r=0|n%f}n=r.toString(t)}else{let r=a.__absoluteDivLarge(e,d,!0,!0);i=r.quotient;let o=r.remainder.__trim();n=a.__toStringGeneric(o,t,!0)}i.__trim();let p=a.__toStringGeneric(i,t,!0);for(;n.length<c;)n="0"+n;return!1===r&&e.sign&&(p="-"+p),p+n}static __unequalSign(e){return e?-1:1}static __absoluteGreater(e){return e?-1:1}static __absoluteLess(e){return e?1:-1}static __compareToBigInt(e,t){let r=e.sign;if(r!==t.sign)return a.__unequalSign(r);let i=a.__absoluteCompare(e,t);return 0<i?a.__absoluteGreater(r):0>i?a.__absoluteLess(r):0}static __compareToNumber(e,t){if(a.__isOneDigitInt(t)){let i=e.sign,n=0>t;if(i!==n)return a.__unequalSign(i);if(0===e.length){if(n)throw Error("implementation bug");return 0===t?0:-1}if(1<e.length)return a.__absoluteGreater(i);let o=r(t),s=e.__unsignedDigit(0);return s>o?a.__absoluteGreater(i):s<o?a.__absoluteLess(i):0}return a.__compareToDouble(e,t)}static __compareToDouble(e,t){if(t!=t)return t;if(t===1/0)return -1;if(t===-1/0)return 1;let r=e.sign;if(r!==0>t)return a.__unequalSign(r);if(0===t)throw Error("implementation bug: should be handled elsewhere");if(0===e.length)return -1;a.__kBitConversionDouble[0]=t;let i=2047&a.__kBitConversionInts[1]>>>20;if(2047==i)throw Error("implementation bug: handled elsewhere");let n=i-1023;if(0>n)return a.__absoluteGreater(r);let o=e.length,s=e.__digit(o-1),u=a.__clz30(s),l=30*o-u,c=n+1;if(l<c)return a.__absoluteLess(r);if(l>c)return a.__absoluteGreater(r);let d=1048576|1048575&a.__kBitConversionInts[1],f=a.__kBitConversionInts[0],p=29-u;if(p!==(0|(l-1)%30))throw Error("implementation bug");let h,m=0;if(20>p){let e=20-p;m=e+32,h=d>>>e,d=d<<32-e|f>>>e,f<<=32-e}else if(20===p)m=32,h=d,d=f,f=0;else{let e=p-20;m=32-e,h=d<<e|f>>>32-e,d=f<<e,f=0}if((s>>>=0)>(h>>>=0))return a.__absoluteGreater(r);if(s<h)return a.__absoluteLess(r);for(let t=o-2;0<=t;t--){0<m?(m-=30,h=d>>>2,d=d<<30|f>>>2,f<<=30):h=0;let i=e.__unsignedDigit(t);if(i>h)return a.__absoluteGreater(r);if(i<h)return a.__absoluteLess(r)}if(0!==d||0!==f){if(0===m)throw Error("implementation bug");return a.__absoluteLess(r)}return 0}static __equalToNumber(e,t){return a.__isOneDigitInt(t)?0===t?0===e.length:1===e.length&&e.sign===0>t&&e.__unsignedDigit(0)===r(t):0===a.__compareToDouble(e,t)}static __comparisonResultToBool(e,t){return 0===t?0>e:1===t?0>=e:2===t?0<e:3===t?0<=e:void 0}static __compare(e,t,r){if(e=a.__toPrimitive(e),t=a.__toPrimitive(t),"string"==typeof e&&"string"==typeof t)switch(r){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(a.__isBigInt(e)&&"string"==typeof t)return null!==(t=a.__fromString(t))&&a.__comparisonResultToBool(a.__compareToBigInt(e,t),r);if("string"==typeof e&&a.__isBigInt(t))return null!==(e=a.__fromString(e))&&a.__comparisonResultToBool(a.__compareToBigInt(e,t),r);if(e=a.__toNumeric(e),t=a.__toNumeric(t),a.__isBigInt(e)){if(a.__isBigInt(t))return a.__comparisonResultToBool(a.__compareToBigInt(e,t),r);if("number"!=typeof t)throw Error("implementation bug");return a.__comparisonResultToBool(a.__compareToNumber(e,t),r)}if("number"!=typeof e)throw Error("implementation bug");if(a.__isBigInt(t))return a.__comparisonResultToBool(a.__compareToNumber(t,e),2^r);if("number"!=typeof t)throw Error("implementation bug");return 0===r?e<t:1===r?e<=t:2===r?e>t:3===r?e>=t:void 0}__clzmsd(){return a.__clz30(this.__digit(this.length-1))}static __absoluteAdd(e,t,r){if(e.length<t.length)return a.__absoluteAdd(t,e,r);if(0===e.length)return e;if(0===t.length)return e.sign===r?e:a.unaryMinus(e);let i=e.length;(0===e.__clzmsd()||t.length===e.length&&0===t.__clzmsd())&&i++;let n=new a(i,r),o=0,s=0;for(;s<t.length;s++){let r=e.__digit(s)+t.__digit(s)+o;o=r>>>30,n.__setDigit(s,0x3fffffff&r)}for(;s<e.length;s++){let t=e.__digit(s)+o;o=t>>>30,n.__setDigit(s,0x3fffffff&t)}return s<n.length&&n.__setDigit(s,o),n.__trim()}static __absoluteSub(e,t,r){if(0===e.length)return e;if(0===t.length)return e.sign===r?e:a.unaryMinus(e);let i=new a(e.length,r),n=0,o=0;for(;o<t.length;o++){let r=e.__digit(o)-t.__digit(o)-n;n=1&r>>>30,i.__setDigit(o,0x3fffffff&r)}for(;o<e.length;o++){let t=e.__digit(o)-n;n=1&t>>>30,i.__setDigit(o,0x3fffffff&t)}return i.__trim()}static __absoluteAddOne(e,t,r=null){let i=e.length;null===r?r=new a(i,t):r.sign=t;let n=1;for(let t=0;t<i;t++){let i=e.__digit(t)+n;n=i>>>30,r.__setDigit(t,0x3fffffff&i)}return 0!=n&&r.__setDigitGrow(i,1),r}static __absoluteSubOne(e,t){let r=e.length,i=new a(t=t||r,!1),n=1;for(let t=0;t<r;t++){let r=e.__digit(t)-n;n=1&r>>>30,i.__setDigit(t,0x3fffffff&r)}if(0!=n)throw Error("implementation bug");for(let e=r;e<t;e++)i.__setDigit(e,0);return i}static __absoluteAnd(e,t,r=null){let i=e.length,n=t.length,o=n;if(i<n){o=i;let r=e,a=i;e=t,i=n,t=r,n=a}let s=o;null===r?r=new a(s,!1):s=r.length;let u=0;for(;u<o;u++)r.__setDigit(u,e.__digit(u)&t.__digit(u));for(;u<s;u++)r.__setDigit(u,0);return r}static __absoluteAndNot(e,t,r=null){let i=e.length,n=t.length,o=n;i<n&&(o=i);let s=i;null===r?r=new a(s,!1):s=r.length;let u=0;for(;u<o;u++)r.__setDigit(u,e.__digit(u)&~t.__digit(u));for(;u<i;u++)r.__setDigit(u,e.__digit(u));for(;u<s;u++)r.__setDigit(u,0);return r}static __absoluteOr(e,t,r=null){let i=e.length,n=t.length,o=n;if(i<n){o=i;let r=e,a=i;e=t,i=n,t=r,n=a}let s=i;null===r?r=new a(s,!1):s=r.length;let u=0;for(;u<o;u++)r.__setDigit(u,e.__digit(u)|t.__digit(u));for(;u<i;u++)r.__setDigit(u,e.__digit(u));for(;u<s;u++)r.__setDigit(u,0);return r}static __absoluteXor(e,t,r=null){let i=e.length,n=t.length,o=n;if(i<n){o=i;let r=e,a=i;e=t,i=n,t=r,n=a}let s=i;null===r?r=new a(s,!1):s=r.length;let u=0;for(;u<o;u++)r.__setDigit(u,e.__digit(u)^t.__digit(u));for(;u<i;u++)r.__setDigit(u,e.__digit(u));for(;u<s;u++)r.__setDigit(u,0);return r}static __absoluteCompare(e,t){let r=e.length-t.length;if(0!=r)return r;let i=e.length-1;for(;0<=i&&e.__digit(i)===t.__digit(i);)i--;return 0>i?0:e.__unsignedDigit(i)>t.__unsignedDigit(i)?1:-1}static __multiplyAccumulate(e,t,r,i){if(0===t)return;let n=32767&t,o=t>>>15,s=0,u=0;for(let t,l=0;l<e.length;l++,i++){t=r.__digit(i);let c=e.__digit(l),d=32767&c,f=c>>>15,p=a.__imul(d,n),h=a.__imul(d,o),m=a.__imul(f,n),b=a.__imul(f,o);t+=u+p+s,s=t>>>30,t&=0x3fffffff,t+=((32767&h)<<15)+((32767&m)<<15),s+=t>>>30,u=b+(h>>>15)+(m>>>15),r.__setDigit(i,0x3fffffff&t)}for(;0!=s||0!==u;i++){let e=r.__digit(i);e+=s+u,u=0,s=e>>>30,r.__setDigit(i,0x3fffffff&e)}}static __internalMultiplyAdd(e,t,r,i,n){let o=r,s=0;for(let r=0;r<i;r++){let i=e.__digit(r),u=a.__imul(32767&i,t),l=a.__imul(i>>>15,t),c=u+((32767&l)<<15)+s+o;o=c>>>30,s=l>>>15,n.__setDigit(r,0x3fffffff&c)}if(n.length>i)for(n.__setDigit(i++,o+s);i<n.length;)n.__setDigit(i++,0);else if(0!==o+s)throw Error("implementation bug")}__inplaceMultiplyAdd(e,t,r){r>this.length&&(r=this.length);let i=32767&e,n=e>>>15,o=0,s=t;for(let e=0;e<r;e++){let t=this.__digit(e),r=32767&t,u=t>>>15,l=a.__imul(r,i),c=a.__imul(r,n),d=a.__imul(u,i),f=a.__imul(u,n),p=s+l+o;o=p>>>30,p&=0x3fffffff,p+=((32767&c)<<15)+((32767&d)<<15),o+=p>>>30,s=f+(c>>>15)+(d>>>15),this.__setDigit(e,0x3fffffff&p)}if(0!=o||0!==s)throw Error("implementation bug")}static __absoluteDivSmall(e,t,r=null){null===r&&(r=new a(e.length,!1));let i=0;for(let n,a=2*e.length-1;0<=a;a-=2){let o=0|(n=(i<<15|e.__halfDigit(a))>>>0)/t,s=0|(n=((i=0|n%t)<<15|e.__halfDigit(a-1))>>>0)/t;i=0|n%t,r.__setDigit(a>>>1,o<<15|s)}return r}static __absoluteModSmall(e,t){let r=0;for(let i=2*e.length-1;0<=i;i--)r=0|((r<<15|e.__halfDigit(i))>>>0)%t;return r}static __absoluteDivLarge(e,t,r,i){let n=t.__halfDigitLength(),o=t.length,s=e.__halfDigitLength()-n,u=null;r&&(u=new a(s+2>>>1,!1)).__initializeDigits();let l=new a(n+2>>>1,!1);l.__initializeDigits();let c=a.__clz15(t.__halfDigit(n-1));0<c&&(t=a.__specialLeftShift(t,c,0));let d=a.__specialLeftShift(e,c,1),f=t.__halfDigit(n-1),p=0;for(let e,i=s;0<=i;i--){e=32767;let s=d.__halfDigit(i+n);if(s!==f){let r=(s<<15|d.__halfDigit(i+n-1))>>>0;e=0|r/f;let o=0|r%f,u=t.__halfDigit(n-2),l=d.__halfDigit(i+n-2);for(;a.__imul(e,u)>>>0>(o<<16|l)>>>0&&(e--,!(32767<(o+=f))););}a.__internalMultiplyAdd(t,e,0,o,l);let c=d.__inplaceSub(l,i,n+1);0!==c&&(c=d.__inplaceAdd(t,i,n),d.__setHalfDigit(i+n,32767&d.__halfDigit(i+n)+c),e--),r&&(1&i?p=e<<15:u.__setDigit(i>>>1,p|e))}if(i)return d.__inplaceRightShift(c),r?{quotient:u,remainder:d}:d;if(r)return u;throw Error("unreachable")}static __clz15(e){return a.__clz30(e)-15}__inplaceAdd(e,t,r){let i=0;for(let n=0;n<r;n++){let r=this.__halfDigit(t+n)+e.__halfDigit(n)+i;i=r>>>15,this.__setHalfDigit(t+n,32767&r)}return i}__inplaceSub(e,t,r){let i=0;if(1&t){t>>=1;let n=this.__digit(t),a=32767&n,o=0;for(;o<r-1>>>1;o++){let r=e.__digit(o),s=(n>>>15)-(32767&r)-i;i=1&s>>>15,this.__setDigit(t+o,(32767&s)<<15|32767&a),i=1&(a=(32767&(n=this.__digit(t+o+1)))-(r>>>15)-i)>>>15}let s=e.__digit(o),u=(n>>>15)-(32767&s)-i;if(i=1&u>>>15,this.__setDigit(t+o,(32767&u)<<15|32767&a),t+o+1>=this.length)throw RangeError("out of bounds");0==(1&r)&&(i=1&(a=(32767&(n=this.__digit(t+o+1)))-(s>>>15)-i)>>>15,this.__setDigit(t+e.length,0x3fff8000&n|32767&a))}else{t>>=1;let n=0;for(;n<e.length-1;n++){let r=this.__digit(t+n),a=e.__digit(n),o=(32767&r)-(32767&a)-i,s=(r>>>15)-(a>>>15)-(i=1&o>>>15);i=1&s>>>15,this.__setDigit(t+n,(32767&s)<<15|32767&o)}let a=this.__digit(t+n),o=e.__digit(n),s=(32767&a)-(32767&o)-i;i=1&s>>>15;let u=0;0==(1&r)&&(i=1&(u=(a>>>15)-(o>>>15)-i)>>>15),this.__setDigit(t+n,(32767&u)<<15|32767&s)}return i}__inplaceRightShift(e){if(0===e)return;let t=this.__digit(0)>>>e,r=this.length-1;for(let i=0;i<r;i++){let r=this.__digit(i+1);this.__setDigit(i,0x3fffffff&r<<30-e|t),t=r>>>e}this.__setDigit(r,t)}static __specialLeftShift(e,t,r){let i=e.length,n=new a(i+r,!1);if(0===t){for(let t=0;t<i;t++)n.__setDigit(t,e.__digit(t));return 0<r&&n.__setDigit(i,0),n}let o=0;for(let r=0;r<i;r++){let i=e.__digit(r);n.__setDigit(r,0x3fffffff&i<<t|o),o=i>>>30-t}return 0<r&&n.__setDigit(i,o),n}static __leftShiftByAbsolute(e,t){let r=a.__toShiftAmount(t);if(0>r)throw RangeError("BigInt too big");let i=0|r/30,n=r%30,o=e.length,s=0!==n&&0!=e.__digit(o-1)>>>30-n,u=o+i+ +!!s,l=new a(u,e.sign);if(0===n){let t=0;for(;t<i;t++)l.__setDigit(t,0);for(;t<u;t++)l.__setDigit(t,e.__digit(t-i))}else{let t=0;for(let e=0;e<i;e++)l.__setDigit(e,0);for(let r=0;r<o;r++){let a=e.__digit(r);l.__setDigit(r+i,0x3fffffff&a<<n|t),t=a>>>30-n}if(s)l.__setDigit(o+i,t);else if(0!==t)throw Error("implementation bug")}return l.__trim()}static __rightShiftByAbsolute(e,t){let r=e.length,i=e.sign,n=a.__toShiftAmount(t);if(0>n)return a.__rightShiftByMaximum(i);let o=0|n/30,s=n%30,u=r-o;if(0>=u)return a.__rightShiftByMaximum(i);let l=!1;if(i){if(0!=(e.__digit(o)&(1<<s)-1))l=!0;else for(let t=0;t<o;t++)if(0!==e.__digit(t)){l=!0;break}}l&&0===s&&0==~e.__digit(r-1)&&u++;let c=new a(u,i);if(0===s){c.__setDigit(u-1,0);for(let t=o;t<r;t++)c.__setDigit(t-o,e.__digit(t))}else{let t=e.__digit(o)>>>s,i=r-o-1;for(let r=0;r<i;r++){let i=e.__digit(r+o+1);c.__setDigit(r,0x3fffffff&i<<30-s|t),t=i>>>s}c.__setDigit(i,t)}return l&&(c=a.__absoluteAddOne(c,!0,c)),c.__trim()}static __rightShiftByMaximum(e){return e?a.__oneDigit(1,!0):a.__zero()}static __toShiftAmount(e){if(1<e.length)return -1;let t=e.__unsignedDigit(0);return t>a.__kMaxLengthBits?-1:t}static __toPrimitive(e,t="default"){if("object"!=typeof e||e.constructor===a)return e;if("u">typeof Symbol&&"symbol"==typeof Symbol.toPrimitive){let r=e[Symbol.toPrimitive];if(r){let e=r(t);if("object"!=typeof e)return e;throw TypeError("Cannot convert object to primitive value")}}let r=e.valueOf;if(r){let t=r.call(e);if("object"!=typeof t)return t}let i=e.toString;if(i){let t=i.call(e);if("object"!=typeof t)return t}throw TypeError("Cannot convert object to primitive value")}static __toNumeric(e){return a.__isBigInt(e)?e:+e}static __isBigInt(e){return"object"==typeof e&&null!==e&&e.constructor===a}static __truncateToNBits(e,t){let r=0|(e+29)/30,i=new a(r,t.sign),n=r-1;for(let e=0;e<n;e++)i.__setDigit(e,t.__digit(e));let o=t.__digit(n);if(0!=e%30){let t=32-e%30;o=o<<t>>>t}return i.__setDigit(n,o),i.__trim()}static __truncateAndSubFromPowerOfTwo(e,t,r){let i;var n=Math.min;let o=0|(e+29)/30,s=new a(o,r),u=0,l=o-1,c=0;for(let e=n(l,t.length);u<e;u++){let e=0-t.__digit(u)-c;c=1&e>>>30,s.__setDigit(u,0x3fffffff&e)}for(;u<l;u++)s.__setDigit(u,0x3fffffff&-c);let d=l<t.length?t.__digit(l):0,f=e%30;if(0==f)i=0-d-c&0x3fffffff;else{let e=32-f;d=d<<e>>>e;let t=1<<32-e;i=t-d-c&t-1}return s.__setDigit(l,i),s.__trim()}__digit(e){return this[e]}__unsignedDigit(e){return this[e]>>>0}__setDigit(e,t){this[e]=0|t}__setDigitGrow(e,t){this[e]=0|t}__halfDigitLength(){let e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}__halfDigit(e){return 32767&this[e>>>1]>>>15*(1&e)}__setHalfDigit(e,t){let r=e>>>1,i=this.__digit(r);this.__setDigit(r,1&e?32767&i|t<<15:0x3fff8000&i|32767&t)}static __digitPow(e,t){let r=1;for(;0<t;)1&t&&(r*=e),t>>>=1,e*=e;return r}static __isOneDigitInt(e){return(0x3fffffff&e)===e}}return a.__kMaxLength=0x2000000,a.__kMaxLengthBits=a.__kMaxLength<<5,a.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],a.__kBitsPerCharTableShift=5,a.__kBitsPerCharTableMultiplier=1<<a.__kBitsPerCharTableShift,a.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],a.__kBitConversionBuffer=new ArrayBuffer(8),a.__kBitConversionDouble=new Float64Array(a.__kBitConversionBuffer),a.__kBitConversionInts=new Int32Array(a.__kBitConversionBuffer),a.__clz30=t?function(e){return t(e)-2}:function(e){var t=Math.LN2,r=Math.log;return 0===e?30:0|29-(0|r(e>>>0)/t)},a.__imul=e||function(e,t){return 0|e*t},a}()},443276,(e,t,r)=>{!function(r){"use strict";var i,n="[big.js] ",a=n+"Invalid ",o=a+"decimal places",s=a+"rounding mode",u=n+"Division by zero",l={},c=void 0,d=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function f(e,t,r,i){var n=e.c,a=e.e+t+1;if(a<n.length){if(1===r)i=n[a]>=5;else if(2===r)i=n[a]>5||5==n[a]&&(i||a<0||n[a+1]!==c||1&n[a-1]);else if(3===r)i=i||!!n[0];else if(i=!1,0!==r)throw Error(s);if(a<1)n.length=1,i?(e.e=-t,n[0]=1):n[0]=e.e=0;else{if(n.length=a--,i)for(;++n[a]>9;)n[a]=0,a--||(++e.e,n.unshift(1));for(a=n.length;!n[--a];)n.pop()}}else if(r<0||r>3||r!==~~r)throw Error(s);return e}function p(e,t,r,i){var n,s,u=e.constructor,l=!e.c[0];if(r!==c){if(r!==~~r||r<(3==t)||r>1e6)throw Error(3==t?a+"precision":o);for(r=i-(e=new u(e)).e,e.c.length>++i&&f(e,r,u.RM),2==t&&(i=e.e+r+1);e.c.length<i;)e.c.push(0)}if(n=e.e,r=(s=e.c.join("")).length,2!=t&&(1==t||3==t&&i<=n||n<=u.NE||n>=u.PE))s=s.charAt(0)+(r>1?"."+s.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)s="0"+s;s="0."+s}else if(n>0)if(++n>r)for(n-=r;n--;)s+="0";else n<r&&(s=s.slice(0,n)+"."+s.slice(n));else r>1&&(s=s.charAt(0)+"."+s.slice(1));return e.s<0&&(!l||4==t)?"-"+s:s}if(l.abs=function(){var e=new this.constructor(this);return e.s=1,e},l.cmp=function(e){var t,r=this.c,i=(e=new this.constructor(e)).c,n=this.s,a=e.s,o=this.e,s=e.e;if(!r[0]||!i[0])return r[0]?n:i[0]?-a:0;if(n!=a)return n;if(t=n<0,o!=s)return o>s^t?1:-1;for(n=-1,a=(o=r.length)<(s=i.length)?o:s;++n<a;)if(r[n]!=i[n])return r[n]>i[n]^t?1:-1;return o==s?0:o>s^t?1:-1},l.div=function(e){var t=this.constructor,r=this.c,i=(e=new t(e)).c,n=this.s==e.s?1:-1,a=t.DP;if(a!==~~a||a<0||a>1e6)throw Error(o);if(!i[0])throw Error(u);if(!r[0])return new t(0*n);var s,l,d,p,h,m=i.slice(),b=s=i.length,g=r.length,y=r.slice(0,s),x=y.length,A=e,w=A.c=[],v=0,S=a+(A.e=this.e-e.e)+1;for(A.s=n,n=S<0?0:S,m.unshift(0);x++<s;)y.push(0);do{for(d=0;d<10;d++){if(s!=(x=y.length))p=s>x?1:-1;else for(h=-1,p=0;++h<s;)if(i[h]!=y[h]){p=i[h]>y[h]?1:-1;break}if(p<0){for(l=x==s?i:m;x;){if(y[--x]<l[x]){for(h=x;h&&!y[--h];)y[h]=9;--y[h],y[x]+=10}y[x]-=l[x]}for(;!y[0];)y.shift()}else break}w[v++]=p?d:++d,y[0]&&p?y[x]=r[b]||0:y=[r[b]]}while((b++<g||y[0]!==c)&&n--)return!w[0]&&1!=v&&(w.shift(),A.e--),v>S&&f(A,a,t.RM,y[0]!==c),A},l.eq=function(e){return!this.cmp(e)},l.gt=function(e){return this.cmp(e)>0},l.gte=function(e){return this.cmp(e)>-1},l.lt=function(e){return 0>this.cmp(e)},l.lte=function(e){return 1>this.cmp(e)},l.minus=l.sub=function(e){var t,r,i,n,a=this.constructor,o=this.s,s=(e=new a(e)).s;if(o!=s)return e.s=-s,this.plus(e);var u=this.c.slice(),l=this.e,c=e.c,d=e.e;if(!u[0]||!c[0])return c[0]?(e.s=-s,e):new a(u[0]?this:0);if(o=l-d){for((n=o<0)?(o=-o,i=u):(d=l,i=c),i.reverse(),s=o;s--;)i.push(0);i.reverse()}else for(r=((n=u.length<c.length)?u:c).length,o=s=0;s<r;s++)if(u[s]!=c[s]){n=u[s]<c[s];break}if(n&&(i=u,u=c,c=i,e.s=-e.s),(s=(r=c.length)-(t=u.length))>0)for(;s--;)u[t++]=0;for(s=t;r>o;){if(u[--r]<c[r]){for(t=r;t&&!u[--t];)u[t]=9;--u[t],u[r]+=10}u[r]-=c[r]}for(;0===u[--s];)u.pop();for(;0===u[0];)u.shift(),--d;return u[0]||(e.s=1,u=[d=0]),e.c=u,e.e=d,e},l.mod=function(e){var t,r=this,i=r.constructor,n=r.s,a=(e=new i(e)).s;if(!e.c[0])throw Error(u);return(r.s=e.s=1,t=1==e.cmp(r),r.s=n,e.s=a,t)?new i(r):(n=i.DP,a=i.RM,i.DP=i.RM=0,r=r.div(e),i.DP=n,i.RM=a,this.minus(r.times(e)))},l.plus=l.add=function(e){var t,r=this.constructor,i=this.s,n=(e=new r(e)).s;if(i!=n)return e.s=-n,this.minus(e);var a=this.e,o=this.c,s=e.e,u=e.c;if(!o[0]||!u[0])return u[0]?e:new r(o[0]?this:0*i);if(o=o.slice(),i=a-s){for(i>0?(s=a,t=u):(i=-i,t=o),t.reverse();i--;)t.push(0);t.reverse()}for(o.length-u.length<0&&(t=u,u=o,o=t),i=u.length,n=0;i;o[i]%=10)n=(o[--i]=o[i]+u[i]+n)/10|0;for(n&&(o.unshift(n),++s),i=o.length;0===o[--i];)o.pop();return e.c=o,e.e=s,e},l.pow=function(e){var t=this,r=new t.constructor(1),i=r,n=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(a+"exponent");for(n&&(e=-e);1&e&&(i=i.times(t)),e>>=1;)t=t.times(t);return n?r.div(i):i},l.round=function(e,t){var r=this.constructor;if(e===c)e=0;else if(e!==~~e||e<-1e6||e>1e6)throw Error(o);return f(new r(this),e,t===c?r.RM:t)},l.sqrt=function(){var e,t,r,i=this.constructor,a=this.s,o=this.e,s=new i(.5);if(!this.c[0])return new i(this);if(a<0)throw Error(n+"No square root");0===(a=Math.sqrt(this+""))||a===1/0?((t=this.c.join("")).length+o&1||(t+="0"),o=((o+1)/2|0)-(o<0||1&o),e=new i(((a=Math.sqrt(t))==1/0?"1e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+o)):e=new i(a),o=e.e+(i.DP+=4);do r=e,e=s.times(r.plus(this.div(r)));while(r.c.slice(0,o).join("")!==e.c.slice(0,o).join(""))return f(e,i.DP-=4,i.RM)},l.times=l.mul=function(e){var t,r=this.constructor,i=this.c,n=(e=new r(e)).c,a=i.length,o=n.length,s=this.e,u=e.e;if(e.s=this.s==e.s?1:-1,!i[0]||!n[0])return new r(0*e.s);for(e.e=s+u,a<o&&(t=i,i=n,n=t,u=a,a=o,o=u),t=Array(u=a+o);u--;)t[u]=0;for(s=o;s--;){for(o=0,u=a+s;u>s;)o=t[u]+n[s]*i[u-s-1]+o,t[u--]=o%10,o=o/10|0;t[u]=(t[u]+o)%10}for(o?++e.e:t.shift(),s=t.length;!t[--s];)t.pop();return e.c=t,e},l.toExponential=function(e){return p(this,1,e,e)},l.toFixed=function(e){return p(this,2,e,this.e+e)},l.toPrecision=function(e){return p(this,3,e,e-1)},l.toString=function(){return p(this)},l.valueOf=l.toJSON=function(){return p(this,4)},(i=function e(){function t(r){if(!(this instanceof t))return r===c?e():new t(r);r instanceof t?(this.s=r.s,this.e=r.e,this.c=r.c.slice()):function(e,t){var r,i,n;if(0===t&&1/t<0)t="-0";else if(!d.test(t+=""))throw Error(a+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(r=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(r<0&&(r=i),r+=+t.slice(i+1),t=t.substring(0,i)):r<0&&(r=t.length),n=t.length,i=0;i<n&&"0"==t.charAt(i);)++i;if(i==n)e.c=[e.e=0];else{for(;n>0&&"0"==t.charAt(--n););for(e.e=r-i-1,e.c=[],r=0;i<=n;)e.c[r++]=+t.charAt(i++)}}(this,r),this.constructor=t}return t.prototype=l,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.version="5.2.2",t}()).default=i.Big=i,"function"==typeof define&&define.amd)e.r,void 0!==i&&e.v(i);else t.exports?t.exports=i:r.Big=i}(e.e)},702503,40992,e=>{"use strict";e.i(247167);var t,r,i,n,a,o,s,u,l,c,d,f,p,h,m,b,g,y,x,A,w,v,S=e.i(477912);function T(e,t){if(!e)throw Error("Invariant failed")}e.s(["default",()=>T],40992);var E=e.i(651655),k=e.i(443276),P=e.i(983607),_=e.i(839341),I=e.i(47771),N=e.i(403011),R=e.i(223439);function B(e){return"0x"+R.default.keccak_256((0,N.arrayify)(e))}let C=new(e.i(875353)).Logger("strings/5.7.0");function O(e,t,r,i,n){if(e===u.BAD_PREFIX||e===u.UNEXPECTED_CONTINUE){let e=0;for(let i=t+1;i<r.length&&r[i]>>6==2;i++)e++;return e}return e===u.OVERRUN?r.length-t-1:0}function D(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}function M(e,t,r){return t&&D(e.prototype,t),r&&D(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function U(){return(U=Object.assign.bind()).apply(null,arguments)}function F(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,L(e,t)}function L(e,t){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(t=s||(s={})).current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD",(r=u||(u={})).UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation",Object.freeze({error:function(e,t,r,i,n){return C.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:O,replace:function(e,t,r,i,n){return e===u.OVERLONG?(i.push(n),0):(i.push(65533),O(e,t,r,i,n))}}),(i=l||(l={}))[i.MAINNET=1]="MAINNET",i[i.GOERLI=5]="GOERLI",i[i.SEPOLIA=0xaa36a7]="SEPOLIA",i[i.OPTIMISM=10]="OPTIMISM",i[i.OPTIMISM_GOERLI=420]="OPTIMISM_GOERLI",i[i.OPTIMISM_SEPOLIA=0xaa37dc]="OPTIMISM_SEPOLIA",i[i.ARBITRUM_ONE=42161]="ARBITRUM_ONE",i[i.ARBITRUM_GOERLI=421613]="ARBITRUM_GOERLI",i[i.ARBITRUM_SEPOLIA=421614]="ARBITRUM_SEPOLIA",i[i.POLYGON=137]="POLYGON",i[i.POLYGON_MUMBAI=80001]="POLYGON_MUMBAI",i[i.CELO=42220]="CELO",i[i.CELO_ALFAJORES=44787]="CELO_ALFAJORES",i[i.GNOSIS=100]="GNOSIS",i[i.MOONBEAM=1284]="MOONBEAM",i[i.BNB=56]="BNB",i[i.AVALANCHE=43114]="AVALANCHE",i[i.BASE_GOERLI=84531]="BASE_GOERLI",i[i.BASE_SEPOLIA=84532]="BASE_SEPOLIA",i[i.BASE=8453]="BASE",i[i.ZORA=7777777]="ZORA",i[i.ZORA_SEPOLIA=0x3b9ac9ff]="ZORA_SEPOLIA",i[i.ROOTSTOCK=30]="ROOTSTOCK",i[i.BLAST=81457]="BLAST",i[i.ZKSYNC=324]="ZKSYNC",i[i.WORLDCHAIN=480]="WORLDCHAIN",i[i.UNICHAIN_SEPOLIA=1301]="UNICHAIN_SEPOLIA",i[i.UNICHAIN=130]="UNICHAIN",i[i.MONAD_TESTNET=10143]="MONAD_TESTNET",i[i.SONEIUM=1868]="SONEIUM",i[i.MONAD=143]="MONAD",i[i.XLAYER=196]="XLAYER";var q=[l.MAINNET,l.OPTIMISM,l.OPTIMISM_GOERLI,l.OPTIMISM_SEPOLIA,l.ARBITRUM_ONE,l.ARBITRUM_GOERLI,l.ARBITRUM_SEPOLIA,l.POLYGON,l.POLYGON_MUMBAI,l.GOERLI,l.SEPOLIA,l.CELO_ALFAJORES,l.CELO,l.BNB,l.AVALANCHE,l.BASE,l.BASE_GOERLI,l.BASE_SEPOLIA,l.ZORA,l.ZORA_SEPOLIA,l.ROOTSTOCK,l.BLAST,l.ZKSYNC,l.WORLDCHAIN,l.UNICHAIN_SEPOLIA,l.UNICHAIN,l.MONAD_TESTNET,l.SONEIUM,l.MONAD,l.XLAYER];(n=c||(c={})).ETHER="ETH",n.MATIC="MATIC",n.CELO="CELO",n.GNOSIS="XDAI",n.MOONBEAM="GLMR",n.BNB="BNB",n.AVAX="AVAX",n.ROOTSTOCK="RBTC";var K=[l.MAINNET,l.GOERLI,l.SEPOLIA];function W(e,t){return void 0===t&&(t=[]),K.concat(t).reduce(function(t,r){return t[r]=e,t},{})}var V=W("0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984",[l.OPTIMISM,l.ARBITRUM_ONE,l.POLYGON,l.POLYGON_MUMBAI,l.SEPOLIA]),G=((d={})[l.MAINNET]="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",d[l.GOERLI]="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",d[l.SEPOLIA]="0xF62c03E08ada871A0bEb309762E260a7a6a880E6",d[l.OPTIMISM]="0x0c3c1c532F1e39EdF36BE9Fe0bE1410313E074Bf",d[l.ARBITRUM_ONE]="0xf1D7CC64Fb4452F05c498126312eBE29f30Fbcf9",d[l.AVALANCHE]="0x9e5A52f57b3038F1B8EeE45F28b3C1967e22799C",d[l.BASE_SEPOLIA]="0x7Ae58f10f7849cA6F5fB71b7f45CB416c9204b1e",d[l.BASE]="0x8909dc15e40173ff4699343b6eb8132c65e18ec6",d[l.BNB]="0x8909Dc15e40173Ff4699343b6eB8132c65e18eC6",d[l.POLYGON]="0x9e5A52f57b3038F1B8EeE45F28b3C1967e22799C",d[l.CELO]="0x79a530c8e2fA8748B7B40dd3629C0520c2cCf03f",d[l.BLAST]="0x5C346464d33F90bABaf70dB6388507CC889C1070",d[l.WORLDCHAIN]="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",d[l.UNICHAIN_SEPOLIA]="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",d[l.UNICHAIN]="0x1f98400000000000000000000000000000000002",d[l.MONAD_TESTNET]="0x733e88f248b742db6c14c0b1713af5ad7fdd59d0",d[l.SONEIUM]="0x97febbc2adbd5644ba22736e962564b23f5828ce",d[l.MONAD]="0x182a927119d56008d921126764bf884221b10f59",d[l.XLAYER]="0xdf38f24fe153761634be942f9d859f3dba857e95",d),z=((f={})[l.MAINNET]="0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D",f[l.GOERLI]="0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D",f[l.SEPOLIA]="0xeE567Fe1712Faf6149d80dA1E6934E354124CfE3",f[l.ARBITRUM_ONE]="0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24",f[l.OPTIMISM]="0x4a7b5da61326a6379179b40d00f57e5bbdc962c2",f[l.BASE_SEPOLIA]="0x1689E7B1F10000AE47eBfE339a4f69dECd19F602",f[l.BASE]="0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24",f[l.AVALANCHE]="0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24",f[l.BNB]="0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24",f[l.POLYGON]="0xedf6066a2b290c185783862c7f4776a2c8077ad1",f[l.BLAST]="0xBB66Eb1c5e875933D44DAe661dbD80e5D9B03035",f[l.WORLDCHAIN]="0x541aB7c31A119441eF3575F6973277DE0eF460bd",f[l.UNICHAIN_SEPOLIA]="0x920b806E40A00E02E7D2b94fFc89860fDaEd3640",f[l.UNICHAIN]="0x284f11109359a7e1306c3e447ef14d38400063ff",f[l.MONAD_TESTNET]="0xfb8e1c3b833f9e67a71c859a132cf783b645e436",f[l.SONEIUM]="0x273f68c234fa55b550b40e563c4a488e0d334320",f[l.MONAD]="0x4b2ab38dbf28d31d467aa8993f6c2585981d6804",f[l.XLAYER]="0x182a927119d56008d921126764bf884221b10f59",f),j={v3CoreFactoryAddress:"0x1F98431c8aD98523631AE4a59f267346ea31F984",multicallAddress:"0x1F98415757620B543A52E61c46B32eB19261F984",quoterAddress:"0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6",v3MigratorAddress:"0xA5644E29708357803b5A882D272c41cC0dF92B34",nonfungiblePositionManagerAddress:"0xC36442b4a4522E871399CD717aBDD847Ab11FE88"},H=U({},j,{mixedRouteQuoterV1Address:"0x84E44095eeBfEC7793Cd7d5b57B7e401D7f1cA2E",v4PoolManagerAddress:"0x000000000004444c5dc75cB358380D2e3dE08A90",v4PositionManagerAddress:"0xbd216513d74c8cf14cf4747e6aaa6420ff64ee9e",v4StateView:"0x7ffe42c4a5deea5b0fec41c94c136cf115597227",v4QuoterAddress:"0x52f0e24d1c21c8a0cb1e5a5dd6198556bd9e1203"}),X=U({},j,{mixedRouteQuoterV1Address:"0xBa60b6e6fF25488308789E6e0A65D838be34194e"}),Q=U({},j,{v4PoolManagerAddress:"0x9a13f98cb987694c9f086b1f5eb990eea8264ec3",v4PositionManagerAddress:"0x3c3ea4b57a46241e54610e5f022e5c45859a1017",v4StateView:"0xc18a3169788f4f75a170290584eca6395c75ecdb",v4QuoterAddress:"0x1f3131a13296fb91c90870043742c3cdbff1a8d7"}),J=U({},j,{multicallAddress:"0xadF885960B47eA2CD9B55E6DAc6B42b7Cb2806dB",tickLensAddress:"0xbfd8137f7d1516D3ea5cA83523914859ec47F573",v4PoolManagerAddress:"0x360e68faccca8ca495c1b759fd9eee466db9fb32",v4PositionManagerAddress:"0xd88f38f930b7952f2db2432cb002e7abbf3dd869",v4StateView:"0x76fd297e2d437cd7f76d50f01afe6160f86e9990",v4QuoterAddress:"0x3972c00f7ed4885e145823eb7c655375d275a1c5"}),Y=U({},j,{v4PoolManagerAddress:"0x67366782805870060151383f4bbff9dab53e5cd6",v4PositionManagerAddress:"0x1ec2ebf4f37e7363fdfe3551602425af0b3ceef9",v4StateView:"0x5ea1bd7974c8a611cbab0bdcafcb1d9cc9b3ba5a",v4QuoterAddress:"0xb3d5c3dfc3a7aebff71895a7191796bffc2c81b9"}),Z={v3CoreFactoryAddress:"0xAfE208a311B21f13EF87E33A90049fC17A7acDEc",multicallAddress:"0x633987602DE5C4F337e3DbF265303A1080324204",quoterAddress:"0x82825d0554fA07f7FC52Ab63c961F330fdEFa8E8",v3MigratorAddress:"0x3cFd4d48EDfDCC53D3f173F596f621064614C582",nonfungiblePositionManagerAddress:"0x3d79EdAaBC0EaB6F08ED885C05Fc0B014290D95A",tickLensAddress:"0x5f115D9113F88e0a0Db1b5033D90D4a9690AcD3D",v4PoolManagerAddress:"0x288dc841A52FCA2707c6947B3A777c5E56cd87BC",v4PositionManagerAddress:"0xf7965f3981e4d5bc383bfbcb61501763e9068ca9",v4StateView:"0xbc21f8720babf4b20d195ee5c6e99c52b76f2bfb",v4QuoterAddress:"0x28566da1093609182dff2cb2a91cfd72e61d66cd"},$=((p={})[l.MAINNET]=H,p[l.OPTIMISM]=Q,p[l.ARBITRUM_ONE]=J,p[l.POLYGON]=Y,p[l.POLYGON_MUMBAI]=Y,p[l.GOERLI]=X,p[l.CELO]=Z,p[l.CELO_ALFAJORES]=Z,p[l.BNB]={v3CoreFactoryAddress:"0xdB1d10011AD0Ff90774D0C6Bb92e5C5c8b4461F7",multicallAddress:"0x963Df249eD09c358A4819E39d9Cd5736c3087184",quoterAddress:"0x78D78E420Da98ad378D7799bE8f4AF69033EB077",v3MigratorAddress:"0x32681814957e0C13117ddc0c2aba232b5c9e760f",nonfungiblePositionManagerAddress:"0x7b8A01B39D58278b5DE7e48c8449c9f4F5170613",tickLensAddress:"0xD9270014D396281579760619CCf4c3af0501A47C",swapRouter02Address:"0xB971eF87ede563556b2ED4b1C0b0019111Dd85d2",v4PoolManagerAddress:"0x28e2ea090877bf75740558f6bfb36a5ffee9e9df",v4PositionManagerAddress:"0x7a4a5c919ae2541aed11041a1aeee68f1287f95b",v4StateView:"0xd13dd3d6e93f276fafc9db9e6bb47c1180aee0c4",v4QuoterAddress:"0x9f75dd27d6664c475b90e105573e550ff69437b0"},p[l.OPTIMISM_GOERLI]={v3CoreFactoryAddress:"0xB656dA17129e7EB733A557f4EBc57B76CFbB5d10",multicallAddress:"0x07F2D8a2a02251B62af965f22fC4744A5f96BCCd",quoterAddress:"0x9569CbA925c8ca2248772A9A4976A516743A246F",v3MigratorAddress:"0xf6c55fBe84B1C8c3283533c53F51bC32F5C7Aba8",nonfungiblePositionManagerAddress:"0x39Ca85Af2F383190cBf7d7c41ED9202D27426EF6",tickLensAddress:"0xe6140Bd164b63E8BfCfc40D5dF952f83e171758e"},p[l.OPTIMISM_SEPOLIA]={v3CoreFactoryAddress:"0x8CE191193D15ea94e11d327b4c7ad8bbE520f6aF",multicallAddress:"0x80e4e06841bb76AA9735E0448cB8d003C0EF009a",quoterAddress:"0x0FBEa6cf957d95ee9313490050F6A0DA68039404",v3MigratorAddress:"0xE7EcbAAaA54D007A00dbb6c1d2f150066D69dA07",nonfungiblePositionManagerAddress:"0xdA75cEf1C93078e8b736FCA5D5a30adb97C8957d",tickLensAddress:"0xCb7f54747F58F8944973cea5b8f4ac2209BadDC5",swapRouter02Address:"0x94cC0AaC535CCDB3C01d6787D6413C739ae12bc4"},p[l.ARBITRUM_GOERLI]={v3CoreFactoryAddress:"0x4893376342d5D7b3e31d4184c08b265e5aB2A3f6",multicallAddress:"0x8260CB40247290317a4c062F3542622367F206Ee",quoterAddress:"0x1dd92b83591781D0C6d98d07391eea4b9a6008FA",v3MigratorAddress:"0xA815919D2584Ac3F76ea9CB62E6Fd40a43BCe0C3",nonfungiblePositionManagerAddress:"0x622e4726a167799826d1E1D150b076A7725f5D81",tickLensAddress:"0xb52429333da969a0C79a60930a4Bf0020E5D1DE8"},p[l.ARBITRUM_SEPOLIA]={v3CoreFactoryAddress:"0x248AB79Bbb9bC29bB72f7Cd42F17e054Fc40188e",multicallAddress:"0x2B718b475e385eD29F56775a66aAB1F5cC6B2A0A",quoterAddress:"0x2779a0CC1c3e0E44D2542EC3e79e3864Ae93Ef0B",v3MigratorAddress:"0x398f43ef2c67B941147157DA1c5a868E906E043D",nonfungiblePositionManagerAddress:"0x6b2937Bde17889EDCf8fbD8dE31C3C2a70Bc4d65",tickLensAddress:"0x0fd18587734e5C2dcE2dccDcC7DD1EC89ba557d9",swapRouter02Address:"0x101F443B4d1b059569D643917553c771E1b9663E",v4PoolManagerAddress:"0xFB3e0C6F74eB1a21CC1Da29aeC80D2Dfe6C9a317",v4PositionManagerAddress:"0xAc631556d3d4019C95769033B5E719dD77124BAc",v4StateView:"0x9d467fa9062b6e9b1a46e26007ad82db116c67cb",v4QuoterAddress:"0x7de51022d70a725b508085468052e25e22b5c4c9"},p[l.SEPOLIA]={v3CoreFactoryAddress:"0x0227628f3F023bb0B980b67D528571c95c6DaC1c",multicallAddress:"0xD7F33bCdb21b359c8ee6F0251d30E94832baAd07",quoterAddress:"0xEd1f6473345F45b75F8179591dd5bA1888cf2FB3",v3MigratorAddress:"0x729004182cF005CEC8Bd85df140094b6aCbe8b15",nonfungiblePositionManagerAddress:"0x1238536071E1c677A632429e3655c799b22cDA52",tickLensAddress:"0xd7f33bcdb21b359c8ee6f0251d30e94832baad07",swapRouter02Address:"0x3bFA4769FB09eefC5a80d6E87c3B9C650f7Ae48E",mixedRouteQuoterV2Address:"0x4745f77b56a0e2294426e3936dc4fab68d9543cd",v4PoolManagerAddress:"0xE03A1074c86CFeDd5C142C4F04F1a1536e203543",v4PositionManagerAddress:"0x429ba70129df741B2Ca2a85BC3A2a3328e5c09b4",v4StateView:"0xe1dd9c3fa50edb962e442f60dfbc432e24537e4c",v4QuoterAddress:"0x61b3f2011a92d183c7dbadbda940a7555ccf9227"},p[l.AVALANCHE]={v3CoreFactoryAddress:"0x740b1c1de25031C31FF4fC9A62f554A55cdC1baD",multicallAddress:"0x0139141Cd4Ee88dF3Cdb65881D411bAE271Ef0C2",quoterAddress:"0xbe0F5544EC67e9B3b2D979aaA43f18Fd87E6257F",v3MigratorAddress:"0x44f5f1f5E452ea8d29C890E8F6e893fC0f1f0f97",nonfungiblePositionManagerAddress:"0x655C406EBFa14EE2006250925e54ec43AD184f8B",tickLensAddress:"0xEB9fFC8bf81b4fFd11fb6A63a6B0f098c6e21950",swapRouter02Address:"0xbb00FF08d01D300023C629E8fFfFcb65A5a578cE",v4PoolManagerAddress:"0x06380c0e0912312b5150364b9dc4542ba0dbbc85",v4PositionManagerAddress:"0xb74b1f14d2754acfcbbe1a221023a5cf50ab8acd",v4StateView:"0xc3c9e198c735a4b97e3e683f391ccbdd60b69286",v4QuoterAddress:"0xbe40675bb704506a3c2ccfb762dcfd1e979845c2"},p[l.BASE]={v3CoreFactoryAddress:"0x33128a8fC17869897dcE68Ed026d694621f6FDfD",multicallAddress:"0x091e99cb1C49331a94dD62755D168E941AbD0693",quoterAddress:"0x3d4e44Eb1374240CE5F1B871ab261CD16335B76a",v3MigratorAddress:"0x23cF10b1ee3AdfCA73B0eF17C07F7577e7ACd2d7",nonfungiblePositionManagerAddress:"0x03a520b32C04BF3bEEf7BEb72E919cf822Ed34f1",tickLensAddress:"0x0CdeE061c75D43c82520eD998C23ac2991c9ac6d",swapRouter02Address:"0x2626664c2603336E57B271c5C0b26F421741e481",mixedRouteQuoterV1Address:"0xe544efae946f0008ae9a8d64493efa7886b73776",v4PoolManagerAddress:"0x498581ff718922c3f8e6a244956af099b2652b2b",v4PositionManagerAddress:"0x7c5f5a4bbd8fd63184577525326123b519429bdc",v4StateView:"0xa3c0c9b65bad0b08107aa264b0f3db444b867a71",v4QuoterAddress:"0x0d5e0f971ed27fbff6c2837bf31316121532048d"},p[l.BASE_GOERLI]={v3CoreFactoryAddress:"0x9323c1d6D800ed51Bd7C6B216cfBec678B7d0BC2",multicallAddress:"0xB206027a9E0E13F05eBEFa5D2402Bab3eA716439",quoterAddress:"0xedf539058e28E5937dAef3f69cEd0b25fbE66Ae9",v3MigratorAddress:"0x3efe5d02a04b7351D671Db7008ec6eBA9AD9e3aE",nonfungiblePositionManagerAddress:"0x3c61369ef0D1D2AFa70d8feC2F31C5D6Ce134F30",tickLensAddress:"0x1acB873Ee909D0c98adB18e4474943249F931b92",swapRouter02Address:"0x8357227D4eDc78991Db6FDB9bD6ADE250536dE1d"},p[l.BASE_SEPOLIA]={v3CoreFactoryAddress:"0x4752ba5DBc23f44D87826276BF6Fd6b1C372aD24",multicallAddress:"0xd867e273eAbD6c853fCd0Ca0bFB6a3aE6491d2C1",quoterAddress:"0xC5290058841028F1614F3A6F0F5816cAd0df5E27",v3MigratorAddress:"0xCbf8b7f80800bd4888Fbc7bf1713B80FE4E23E10",nonfungiblePositionManagerAddress:"0x27F971cb582BF9E50F397e4d29a5C7A34f11faA2",tickLensAddress:"0xedf6066a2b290C185783862C7F4776A2C8077AD1",swapRouter02Address:"0x94cC0AaC535CCDB3C01d6787D6413C739ae12bc4",v4PoolManagerAddress:"0x05E73354cFDd6745C338b50BcFDfA3Aa6fA03408",v4PositionManagerAddress:"0x4b2c77d209d3405f41a037ec6c77f7f5b8e2ca80",v4StateView:"0x571291b572ed32ce6751a2cb2486ebee8defb9b4",v4QuoterAddress:"0x4a6513c898fe1b2d0e78d3b0e0a4a151589b1cba"},p[l.ZORA]={v3CoreFactoryAddress:"0x7145F8aeef1f6510E92164038E1B6F8cB2c42Cbb",multicallAddress:"0xA51c76bEE6746cB487a7e9312E43e2b8f4A37C15",quoterAddress:"0x11867e1b3348F3ce4FcC170BC5af3d23E07E64Df",v3MigratorAddress:"0x048352d8dCF13686982C799da63fA6426a9D0b60",nonfungiblePositionManagerAddress:"0xbC91e8DfA3fF18De43853372A3d7dfe585137D78",tickLensAddress:"0x209AAda09D74Ad3B8D0E92910Eaf85D2357e3044",swapRouter02Address:"0x7De04c96BE5159c3b5CeffC82aa176dc81281557",v4PoolManagerAddress:"0x0575338e4c17006ae181b47900a84404247ca30f",v4PositionManagerAddress:"0xf66c7b99e2040f0d9b326b3b7c152e9663543d63",v4StateView:"0x385785af07d63b50d0a0ea57c4ff89d06adf7328",v4QuoterAddress:"0x5edaccc0660e0a2c44b06e07ce8b915e625dc2c6"},p[l.ZORA_SEPOLIA]={v3CoreFactoryAddress:"0x4324A677D74764f46f33ED447964252441aA8Db6",multicallAddress:"0xA1E7e3A69671C4494EC59Dbd442de930a93F911A",quoterAddress:"0xC195976fEF0985886E37036E2DF62bF371E12Df0",v3MigratorAddress:"0x65ef259b31bf1d977c37e9434658694267674897",nonfungiblePositionManagerAddress:"0xB8458EaAe43292e3c1F7994EFd016bd653d23c20",tickLensAddress:"0x23C0F71877a1Fc4e20A78018f9831365c85f3064"},p[l.ROOTSTOCK]={v3CoreFactoryAddress:"0xaF37EC98A00FD63689CF3060BF3B6784E00caD82",multicallAddress:"0x996a9858cDfa45Ad68E47c9A30a7201E29c6a386",quoterAddress:"0xb51727c996C68E60F598A923a5006853cd2fEB31",v3MigratorAddress:"0x16678977CA4ec3DAD5efc7b15780295FE5f56162",nonfungiblePositionManagerAddress:"0x9d9386c042F194B460Ec424a1e57ACDE25f5C4b1",tickLensAddress:"0x55B9dF5bF68ADe972191a91980459f48ecA16afC",swapRouter02Address:"0x0B14ff67f0014046b4b99057Aec4509640b3947A"},p[l.BLAST]={v3CoreFactoryAddress:"0x792edAdE80af5fC680d96a2eD80A44247D2Cf6Fd",multicallAddress:"0xdC7f370de7631cE9e2c2e1DCDA6B3B5744Cf4705",quoterAddress:"0x6Cdcd65e03c1CEc3730AeeCd45bc140D57A25C77",v3MigratorAddress:"0x15CA7043CD84C5D21Ae76Ba0A1A967d42c40ecE0",nonfungiblePositionManagerAddress:"0xB218e4f7cF0533d4696fDfC419A0023D33345F28",tickLensAddress:"0x2E95185bCdD928a3e984B7e2D6560Ab1b17d7274",swapRouter02Address:"0x549FEB8c9bd4c12Ad2AB27022dA12492aC452B66",v4PoolManagerAddress:"0x1631559198a9e474033433b2958dabc135ab6446",v4PositionManagerAddress:"0x4ad2f4cca2682cbb5b950d660dd458a1d3f1baad",v4StateView:"0x12a88ae16f46dce4e8b15368008ab3380885df30",v4QuoterAddress:"0x6f71cdcb0d119ff72c6eb501abceb576fbf62bcf"},p[l.ZKSYNC]={v3CoreFactoryAddress:"0x8FdA5a7a8dCA67BBcDd10F02Fa0649A937215422",multicallAddress:"0x0c68a7C72f074d1c45C16d41fa74eEbC6D16a65C",quoterAddress:"0x8Cb537fc92E26d8EBBb760E632c95484b6Ea3e28",v3MigratorAddress:"0x611841b24E43C4ACfd290B427a3D6cf1A59dac8E",nonfungiblePositionManagerAddress:"0x0616e5762c1E7Dc3723c50663dF10a162D690a86",tickLensAddress:"0xe10FF11b809f8EE07b056B452c3B2caa7FE24f89",swapRouter02Address:"0x99c56385daBCE3E81d8499d0b8d0257aBC07E8A3"},p[l.WORLDCHAIN]={v3CoreFactoryAddress:"0x7a5028BDa40e7B173C278C5342087826455ea25a",multicallAddress:"0x0a22c04215c97E3F532F4eF30e0aD9458792dAB9",quoterAddress:"0x10158D43e6cc414deE1Bd1eB0EfC6a5cBCfF244c",v3MigratorAddress:"0x9EBDdCBa71C9027E1eB45135672a30bcFEec9de3",nonfungiblePositionManagerAddress:"0xec12a9F9a09f50550686363766Cc153D03c27b5e",tickLensAddress:"0xE61df0CaC9d85876aCE5E3037005D80943570623",swapRouter02Address:"0x091AD9e2e6e5eD44c1c66dB50e49A601F9f36cF6",v4PoolManagerAddress:"0xb1860d529182ac3bc1f51fa2abd56662b7d13f33",v4PositionManagerAddress:"0xc585e0f504613b5fbf874f21af14c65260fb41fa",v4StateView:"0x51d394718bc09297262e368c1a481217fdeb71eb",v4QuoterAddress:"0x55d235b3ff2daf7c3ede0defc9521f1d6fe6c5c0"},p[l.UNICHAIN_SEPOLIA]={v3CoreFactoryAddress:"0x1F98431c8aD98523631AE4a59f267346ea31F984",multicallAddress:"0x9D0F15f2cf58655fDDcD1EE6129C547fDaeD01b1",quoterAddress:"0x6Dd37329A1A225a6Fca658265D460423DCafBF89",v3MigratorAddress:"0xb5FA244C9d6D04B2FBac84418b3c4910ED1Ae5f2",nonfungiblePositionManagerAddress:"0xB7F724d6dDDFd008eFf5cc2834edDE5F9eF0d075",tickLensAddress:"0x5f739c790a48E97eec0efb81bab5D152c0A0ecA0",swapRouter02Address:"0xd1AAE39293221B77B0C71fBD6dCb7Ea29Bb5B166",v4PoolManagerAddress:"0x00b036b58a818b1bc34d502d3fe730db729e62ac",v4PositionManagerAddress:"0xf969aee60879c54baaed9f3ed26147db216fd664",v4StateView:"0xc199f1072a74d4e905aba1a84d9a45e2546b6222",v4QuoterAddress:"0x56dcd40a3f2d466f48e7f48bdbe5cc9b92ae4472"},p[l.UNICHAIN]={v3CoreFactoryAddress:"0x1f98400000000000000000000000000000000003",multicallAddress:"0xb7610f9b733e7d45184be3a1bc966960ccc54f0b",quoterAddress:"0x565ac8c7863d9bb16d07e809ff49fe5cd467634c",v3MigratorAddress:"0xb9d0c246f306b1aaf02ae6ba112d5ef25e5b60dc",nonfungiblePositionManagerAddress:"0x943e6e07a7e8e791dafc44083e54041d743c46e9",tickLensAddress:"0xd5d76fa166ab8d8ad4c9f61aaa81457b66cbe443",swapRouter02Address:"0x73855d06de49d0fe4a9c42636ba96c62da12ff9c",v4PoolManagerAddress:"0x1f98400000000000000000000000000000000004",v4PositionManagerAddress:"0x4529a01c7a0410167c5740c487a8de60232617bf",v4StateView:"0x86e8631a016f9068c3f085faf484ee3f5fdee8f2",v4QuoterAddress:"0x333e3c607b141b18ff6de9f258db6e77fe7491e0"},p[l.MONAD_TESTNET]={v3CoreFactoryAddress:"0x961235a9020b05c44df1026d956d1f4d78014276",multicallAddress:"0xa707ceb989cc3728551ed0e6e44b718dd114cf44",quoterAddress:"0x1ba215c17565de7b0cb7ecab971bcf540c24a862",v3MigratorAddress:"0x0a78348b71f8ae8caff2f8f9d4d74a2f36516661",nonfungiblePositionManagerAddress:"0x3dcc735c74f10fe2b9db2bb55c40fbbbf24490f7",tickLensAddress:"0x337478eb6058455ecb3696184b30dd6a29e3a893",swapRouter02Address:"0x4c4eabd5fb1d1a7234a48692551eaecff8194ca7"},p[l.SONEIUM]={v3CoreFactoryAddress:"0x42ae7ec7ff020412639d443e245d936429fbe717",multicallAddress:"0x8ad5ef2f2508288d2de66f04dd883ad5f4ef62b2",quoterAddress:"0x3e6c707d0125226ff60f291b6bd1404634f00aba",v3MigratorAddress:"0xa107580f73bd797bd8b87ff24e98346d99f93ddb",nonfungiblePositionManagerAddress:"0x56c1205b0244332011c1e866f4ea5384eb6bfa2c",tickLensAddress:"0xcd08eefb928c86499e6235ac155906bb7c4dc41a",swapRouter02Address:"0x7e40db01736f88464e5f4e42394f3d5bbb6705b9",v4PoolManagerAddress:"0x360e68faccca8ca495c1b759fd9eee466db9fb32",v4PositionManagerAddress:"0x1b35d13a2e2528f192637f14b05f0dc0e7deb566",v4StateView:"0x76fd297e2d437cd7f76d50f01afe6160f86e9990",v4QuoterAddress:"0x3972c00f7ed4885e145823eb7c655375d275a1c5"},p[l.MONAD]={v3CoreFactoryAddress:"0x204faca1764b154221e35c0d20abb3c525710498",multicallAddress:"0xd1b797d92d87b688193a2b976efc8d577d204343",quoterAddress:"0x2d01411773c8c24805306e89a41f7855c3c4fe65",v3MigratorAddress:"0x7078c4537c04c2b2e52ddba06074dbdacf23ca15",nonfungiblePositionManagerAddress:"0x7197e214c0b767cfb76fb734ab638e2c192f4e53",tickLensAddress:"0xf025e0fe9e331a0ef05c2ad3c4e9c64b625cda6f",swapRouter02Address:"0xfe31f71c1b106eac32f1a19239c9a9a72ddfb900",v4PoolManagerAddress:"0x188d586ddcf52439676ca21a244753fa19f9ea8e",v4PositionManagerAddress:"0x5b7ec4a94ff9bedb700fb82ab09d5846972f4016",v4StateView:"0x77395f3b2e73ae90843717371294fa97cc419d64",v4QuoterAddress:"0xa222dd357a9076d1091ed6aa2e16c9742dd26891"},p[l.XLAYER]={v3CoreFactoryAddress:"0x4b2ab38dbf28d31d467aa8993f6c2585981d6804",multicallAddress:"0xe2023f3fa515cf070e07fd9d51c1d236e07843f4",quoterAddress:"0x976183ac3d09840d243a88c0268badb3b3e3259f",v3MigratorAddress:"0x7197e214c0b767cfb76fb734ab638e2c192f4e53",nonfungiblePositionManagerAddress:"0x315e413a11ab0df498ef83873012430ca36638ae",tickLensAddress:"0x661e93cca42afacb172121ef892830ca3b70f08d",swapRouter02Address:"0x4f0c28f5926afda16bf2506d5d9e57ea190f9bca",mixedRouteQuoterV2Address:"0x2d01411773c8c24805306e89a41f7855c3c4fe65",v4PoolManagerAddress:"0x360e68faccca8ca495c1b759fd9eee466db9fb32",v4PositionManagerAddress:"0xcF1EAFC6928dC385A342E7C6491d371d2871458b",v4StateView:"0x76fd297e2d437cd7f76d50f01afe6160f86e9990",v4QuoterAddress:"0x8928074ca1b241d8ec02815881c1af11e8bc5219"},p),ee=U({},q.reduce(function(e,t){return e[t]=$[t].v3CoreFactoryAddress,e},{})),et=U({},q.reduce(function(e,t){var r=$[t].v3MigratorAddress;return r&&(e[t]=r),e},{})),er=U({},q.reduce(function(e,t){return e[t]=$[t].multicallAddress,e},{})),ei=W("0x5e4be8Bc9637f0EAA1A755019e06A68ce081D58F"),en=((h={})[l.MAINNET]="0xC4e172459f1E7939D522503B81AFAaC1014CE6F6",h),ea=((m={})[l.MAINNET]="0x408ED6354d4973f66138C91495F2f2FCbd8724C3",m),eo=W("0x1a9C8182C09F50C8318d769245beA52c32BE35BC"),es=((b={})[l.MAINNET]="0x090D4613473dEE047c3f2706764f49E0821D256e",b),eu=((g={})[l.MAINNET]="0xeca4B0bDBf7c55E9b7925919d03CbF8Dc82537E8",g),el=U({},q.reduce(function(e,t){return e[t]=$[t].quoterAddress,e},{})),ec=U({},q.reduce(function(e,t){var r=$[t].nonfungiblePositionManagerAddress;return r&&(e[t]=r),e},{})),ed=U({},W("0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e")),ef=((y={})[l.MAINNET]="0x65770b5283117639760beA3F867b69b3697a91dd",y),ep=U({},q.reduce(function(e,t){var r=$[t].tickLensAddress;return r&&(e[t]=r),e},{})),eh=q.reduce(function(e,t){var r=$[t].mixedRouteQuoterV1Address;return r&&(e[t]=r),e},{}),em=function(e){if(q.includes(e)){var t;return null!=(t=$[e].swapRouter02Address)?t:"0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45"}return""};(a=x||(x={}))[a.EXACT_INPUT=0]="EXACT_INPUT",a[a.EXACT_OUTPUT=1]="EXACT_OUTPUT",(o=A||(A={}))[o.ROUND_DOWN=0]="ROUND_DOWN",o[o.ROUND_HALF_UP=1]="ROUND_HALF_UP",o[o.ROUND_UP=2]="ROUND_UP";var eb=S.default.BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),eg=(0,P.default)(E.default),ey=(0,P.default)(k.default),ex=((w={})[A.ROUND_DOWN]=eg.ROUND_DOWN,w[A.ROUND_HALF_UP]=eg.ROUND_HALF_UP,w[A.ROUND_UP]=eg.ROUND_UP,w),eA=((v={})[A.ROUND_DOWN]=0,v[A.ROUND_HALF_UP]=1,v[A.ROUND_UP]=3,v),ew=function(){function e(e,t){void 0===t&&(t=S.default.BigInt(1)),this.numerator=S.default.BigInt(e),this.denominator=S.default.BigInt(t)}e.tryParseFraction=function(t){if(t instanceof S.default||"number"==typeof t||"string"==typeof t)return new e(t);if("numerator"in t&&"denominator"in t)return t;throw Error("Could not parse fraction")};var t=e.prototype;return t.invert=function(){return new e(this.denominator,this.numerator)},t.add=function(t){var r=e.tryParseFraction(t);return S.default.equal(this.denominator,r.denominator)?new e(S.default.add(this.numerator,r.numerator),this.denominator):new e(S.default.add(S.default.multiply(this.numerator,r.denominator),S.default.multiply(r.numerator,this.denominator)),S.default.multiply(this.denominator,r.denominator))},t.subtract=function(t){var r=e.tryParseFraction(t);return S.default.equal(this.denominator,r.denominator)?new e(S.default.subtract(this.numerator,r.numerator),this.denominator):new e(S.default.subtract(S.default.multiply(this.numerator,r.denominator),S.default.multiply(r.numerator,this.denominator)),S.default.multiply(this.denominator,r.denominator))},t.lessThan=function(t){var r=e.tryParseFraction(t);return S.default.lessThan(S.default.multiply(this.numerator,r.denominator),S.default.multiply(r.numerator,this.denominator))},t.equalTo=function(t){var r=e.tryParseFraction(t);return S.default.equal(S.default.multiply(this.numerator,r.denominator),S.default.multiply(r.numerator,this.denominator))},t.greaterThan=function(t){var r=e.tryParseFraction(t);return S.default.greaterThan(S.default.multiply(this.numerator,r.denominator),S.default.multiply(r.numerator,this.denominator))},t.multiply=function(t){var r=e.tryParseFraction(t);return new e(S.default.multiply(this.numerator,r.numerator),S.default.multiply(this.denominator,r.denominator))},t.divide=function(t){var r=e.tryParseFraction(t);return new e(S.default.multiply(this.numerator,r.denominator),S.default.multiply(this.denominator,r.numerator))},t.toSignificant=function(e,t,r){void 0===t&&(t={groupSeparator:""}),void 0===r&&(r=A.ROUND_HALF_UP),Number.isInteger(e)||T(!1),e>0||T(!1),eg.set({precision:e+1,rounding:ex[r]});var i=new eg(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return i.toFormat(i.decimalPlaces(),t)},t.toFixed=function(e,t,r){return void 0===t&&(t={groupSeparator:""}),void 0===r&&(r=A.ROUND_HALF_UP),Number.isInteger(e)||T(!1),e>=0||T(!1),ey.DP=e,ey.RM=eA[r],new ey(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)},M(e,[{key:"quotient",get:function(){return S.default.divide(this.numerator,this.denominator)}},{key:"remainder",get:function(){return new e(S.default.remainder(this.numerator,this.denominator),this.denominator)}},{key:"asFraction",get:function(){return new e(this.numerator,this.denominator)}}])}(),ev=(0,P.default)(k.default),eS=function(e){function t(t,r,i){var n;return n=e.call(this,r,i)||this,S.default.lessThanOrEqual(n.quotient,eb)||T(!1),n.currency=t,n.decimalScale=S.default.exponentiate(S.default.BigInt(10),S.default.BigInt(t.decimals)),n}F(t,e),t.fromRawAmount=function(e,r){return new t(e,r)},t.fromFractionalAmount=function(e,r,i){return new t(e,r,i)};var r=t.prototype;return r.add=function(r){this.currency.equals(r.currency)||T(!1);var i=e.prototype.add.call(this,r);return t.fromFractionalAmount(this.currency,i.numerator,i.denominator)},r.subtract=function(r){this.currency.equals(r.currency)||T(!1);var i=e.prototype.subtract.call(this,r);return t.fromFractionalAmount(this.currency,i.numerator,i.denominator)},r.multiply=function(r){var i=e.prototype.multiply.call(this,r);return t.fromFractionalAmount(this.currency,i.numerator,i.denominator)},r.divide=function(r){var i=e.prototype.divide.call(this,r);return t.fromFractionalAmount(this.currency,i.numerator,i.denominator)},r.toSignificant=function(t,r,i){return void 0===t&&(t=6),void 0===i&&(i=A.ROUND_DOWN),e.prototype.divide.call(this,this.decimalScale).toSignificant(t,r,i)},r.toFixed=function(t,r,i){return void 0===t&&(t=this.currency.decimals),void 0===i&&(i=A.ROUND_DOWN),t<=this.currency.decimals||T(!1),e.prototype.divide.call(this,this.decimalScale).toFixed(t,r,i)},r.toExact=function(e){return void 0===e&&(e={groupSeparator:""}),ev.DP=this.currency.decimals,new ev(this.quotient.toString()).div(this.decimalScale.toString()).toFormat(e)},M(t,[{key:"wrapped",get:function(){return this.currency.isToken?this:t.fromFractionalAmount(this.currency.wrapped,this.numerator,this.denominator)}}])}(ew),eT=new ew(S.default.BigInt(100));function eE(e){return new ek(e.numerator,e.denominator)}var ek=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t.isPercent=!0,t}F(t,e);var r=t.prototype;return r.add=function(t){return eE(e.prototype.add.call(this,t))},r.subtract=function(t){return eE(e.prototype.subtract.call(this,t))},r.multiply=function(t){return eE(e.prototype.multiply.call(this,t))},r.divide=function(t){return eE(e.prototype.divide.call(this,t))},r.toSignificant=function(t,r,i){return void 0===t&&(t=5),e.prototype.multiply.call(this,eT).toSignificant(t,r,i)},r.toFixed=function(t,r,i){return void 0===t&&(t=2),e.prototype.multiply.call(this,eT).toFixed(t,r,i)},t}(ew),eP=function(e){function t(){for(var t,r,i,n,a,o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];if(4===s.length)r=s[0],i=s[1],n=s[2],a=s[3];else{var l=s[0].quoteAmount.divide(s[0].baseAmount),c=[s[0].baseAmount.currency,s[0].quoteAmount.currency,l.denominator,l.numerator];r=c[0],i=c[1],n=c[2],a=c[3]}return(t=e.call(this,a,n)||this).baseCurrency=r,t.quoteCurrency=i,t.scalar=new ew(S.default.exponentiate(S.default.BigInt(10),S.default.BigInt(r.decimals)),S.default.exponentiate(S.default.BigInt(10),S.default.BigInt(i.decimals))),t}F(t,e);var r=t.prototype;return r.invert=function(){return new t(this.quoteCurrency,this.baseCurrency,this.numerator,this.denominator)},r.multiply=function(r){this.quoteCurrency.equals(r.baseCurrency)||T(!1);var i=e.prototype.multiply.call(this,r);return new t(this.baseCurrency,r.quoteCurrency,i.denominator,i.numerator)},r.quote=function(t){t.currency.equals(this.baseCurrency)||T(!1);var r=e.prototype.multiply.call(this,t);return eS.fromFractionalAmount(this.quoteCurrency,r.numerator,r.denominator)},r.toSignificant=function(e,t,r){return void 0===e&&(e=6),this.adjustedForDecimals.toSignificant(e,t,r)},r.toFixed=function(e,t,r){return void 0===e&&(e=4),this.adjustedForDecimals.toFixed(e,t,r)},M(t,[{key:"adjustedForDecimals",get:function(){return e.prototype.multiply.call(this,this.scalar)}}])}(ew),e_=function(e,t,r,i){Number.isSafeInteger(e)||T(!1),t>=0&&t<255&&Number.isInteger(t)||T(!1),this.chainId=e,this.decimals=t,this.symbol=r,this.name=i},eI=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t.isNative=!0,t.isToken=!1,t}return F(t,e),t}(e_);function eN(e){try{return(0,I.getAddress)(e)}catch(t){throw Error(e+" is not a valid address.")}}var eR=/^0x[0-9a-fA-F]{40}$/,eB=function(e){function t(t,r,i,n,a,o,s,u){var l;return(l=e.call(this,t,i,n,a)||this).isNative=!1,l.isToken=!0,o?l.address=function(e){if(eR.test(e))return e;throw Error(e+" is not a valid address.")}(r):l.address=eN(r),s&&(s.gte(_.BigNumber.from(0))||T(!1)),u&&(u.gte(_.BigNumber.from(0))||T(!1)),l.buyFeeBps=s,l.sellFeeBps=u,l}F(t,e);var r=t.prototype;return r.equals=function(e){return e.isToken&&this.chainId===e.chainId&&this.address.toLowerCase()===e.address.toLowerCase()},r.sortsBefore=function(e){return this.chainId!==e.chainId&&T(!1),this.address.toLowerCase()===e.address.toLowerCase()&&T(!1),this.address.toLowerCase()<e.address.toLowerCase()},M(t,[{key:"wrapped",get:function(){return this}}])}(e_),eC={1:new eB(1,"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",18,"WETH","Wrapped Ether"),0xaa36a7:new eB(0xaa36a7,"0xfFf9976782d46CC05630D1f6eBAb18b2324d6B14",18,"WETH","Wrapped Ether"),3:new eB(3,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),4:new eB(4,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),5:new eB(5,"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",18,"WETH","Wrapped Ether"),42:new eB(42,"0xd0A1E359811322d97991E03f863a0C30C2cF029C",18,"WETH","Wrapped Ether"),10:new eB(10,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),69:new eB(69,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),0xaa37dc:new eB(0xaa37dc,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),42161:new eB(42161,"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",18,"WETH","Wrapped Ether"),421611:new eB(421611,"0xB47e6A5f8b33b3F17603C83a0535A9dcD7E32681",18,"WETH","Wrapped Ether"),421614:new eB(421614,"0x980B62Da83eFf3D4576C647993b0c1D7faf17c73",18,"WETH","Wrapped Ether"),8453:new eB(8453,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),84532:new eB(84532,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),56:new eB(56,"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",18,"WBNB","Wrapped BNB"),137:new eB(137,"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270",18,"WMATIC","Wrapped MATIC"),43114:new eB(43114,"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7",18,"WAVAX","Wrapped AVAX"),7777777:new eB(7777777,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),81457:new eB(81457,"0x4300000000000000000000000000000000000004",18,"WETH","Wrapped Ether"),324:new eB(324,"0x5AEa5775959fBC2557Cc8789bC1bf90A239D9a91",18,"WETH","Wrapped Ether"),480:new eB(480,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),1301:new eB(1301,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),130:new eB(130,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),10143:new eB(10143,"0x760AfE86e5de5fa0Ee542fc7B7B713e1c5425701",18,"WMON","Wrapped Monad"),1868:new eB(1868,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),143:new eB(143,"0x3bd359C1119dA7Da1D913D1C4D2B7c461115433A",18,"WMON","Wrapped Monad")},eO=function(e){function t(t){return e.call(this,t,18,"ETH","Ether")||this}return F(t,e),t.onChain=function(e){var r;return null!=(r=this._etherCache[e])?r:this._etherCache[e]=new t(e)},t.prototype.equals=function(e){return e.isNative&&e.chainId===this.chainId},M(t,[{key:"wrapped",get:function(){var e=eC[this.chainId];return e||T(!1),e}}])}(eI);function eD(e,t,r){var i=e.quote(t),n=i.subtract(r).divide(i);return new ek(n.numerator,n.denominator)}function eM(e,t,r,i){void 0===i&&(i="0x");var n=B(function(e,t=s.current){t!=s.current&&(C.checkNormalize(),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){let i=e.charCodeAt(t);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(63&i|128);else if((64512&i)==55296){let n=e.charCodeAt(++t);if(t>=e.length||(64512&n)!=56320)throw Error("invalid utf-8 string");let a=65536+((1023&i)<<10)+(1023&n);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(63&a|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)}return(0,N.arrayify)(r)}("zksyncCreate2")),a=B(i),o=B((0,N.concat)([n,(0,N.hexZeroPad)(e,32),r,t,a])).slice(26);return(0,I.getAddress)(o)}function eU(e,t,r,i){if(r>0||T(!1),e.length<=r||T(!1),0===e.length)return e.push(t),null;var n=e.length===r;if(n&&0>=i(e[e.length-1],t))return t;for(var a=0,o=e.length;a<o;){var s=a+o>>>1;0>=i(e[s],t)?a=s+1:o=s}return e.splice(a,0,t),n?e.pop():null}eO._etherCache={};var eF=S.default.BigInt(Number.MAX_SAFE_INTEGER),eL=S.default.BigInt(0),eq=S.default.BigInt(1),eK=S.default.BigInt(2);function eW(e){var t,r;if(S.default.greaterThanOrEqual(e,eL)||T(!1),S.default.lessThan(e,eF))return S.default.BigInt(Math.floor(Math.sqrt(S.default.toNumber(e))));for(t=e,r=S.default.add(S.default.divide(e,eK),eq);S.default.lessThan(r,t);)t=r,r=S.default.divide(S.default.add(S.default.divide(e,r),r),eK);return t}e.s(["ARGENT_WALLET_DETECTOR_ADDRESS",()=>eu,"CHAIN_TO_ADDRESSES_MAP",()=>$,"ChainId",()=>l,"CurrencyAmount",()=>eS,"ENS_REGISTRAR_ADDRESSES",()=>ed,"Ether",()=>eO,"Fraction",()=>ew,"GOVERNANCE_ALPHA_V0_ADDRESSES",()=>ei,"GOVERNANCE_ALPHA_V1_ADDRESSES",()=>en,"GOVERNANCE_BRAVO_ADDRESSES",()=>ea,"MERKLE_DISTRIBUTOR_ADDRESS",()=>es,"MIXED_ROUTE_QUOTER_V1_ADDRESSES",()=>eh,"MULTICALL_ADDRESSES",()=>er,"MaxUint256",()=>eb,"NONFUNGIBLE_POSITION_MANAGER_ADDRESSES",()=>ec,"NativeCurrency",()=>eI,"NativeCurrencyName",()=>c,"Percent",()=>ek,"Price",()=>eP,"QUOTER_ADDRESSES",()=>el,"Rounding",()=>A,"SOCKS_CONTROLLER_ADDRESSES",()=>ef,"SUPPORTED_CHAINS",()=>q,"SWAP_ROUTER_02_ADDRESSES",()=>em,"TICK_LENS_ADDRESSES",()=>ep,"TIMELOCK_ADDRESSES",()=>eo,"Token",()=>eB,"TradeType",()=>x,"UNISWAP_NFT_AIRDROP_CLAIM_ADDRESS",()=>"0x8B799381ac40b838BBA4131ffB26197C432AFe78","UNI_ADDRESSES",()=>V,"V2_FACTORY_ADDRESS",()=>"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f","V2_FACTORY_ADDRESSES",()=>G,"V2_ROUTER_ADDRESS",()=>"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D","V2_ROUTER_ADDRESSES",()=>z,"V3_CORE_FACTORY_ADDRESSES",()=>ee,"V3_MIGRATOR_ADDRESSES",()=>et,"WETH9",()=>eC,"computePriceImpact",()=>eD,"computeZksyncCreate2Address",()=>eM,"sortedInsert",()=>eU,"sqrt",()=>eW,"validateAndParseAddress",()=>eN],702503)},376036,e=>{"use strict";var t,r,i,n=e.i(702503),a=e.i(477912),o=e.i(40992),s=e.i(144180),u=e.i(246383),l=e.i(47771),c=e.i(575111),d=e.i(37041),f=e.i(909307),p=e.i(854725),h=e.i(53291),m=e.i(708070),b=e.i(416897),g=e.i(948329),y=e.i(221345);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function A(e,t,r,i,n,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(i,n)}function w(e){return function(){var t=this,r=arguments;return new Promise(function(i,n){var a=e.apply(t,r);function o(e){A(a,i,n,o,s,"next",e)}function s(e){A(a,i,n,o,s,"throw",e)}o(void 0)})}}function v(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}function S(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function T(e,t){var r="u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return x(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(){return(E=Object.assign.bind()).apply(null,arguments)}function k(){var e,t,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",n=r.toStringTag||"@@toStringTag";function a(r,i,n,a){var u=Object.create((i&&i.prototype instanceof s?i:s).prototype);return P(u,"_invoke",function(r,i,n){var a,s,u,l=0,c=n||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return a=t,s=0,u=e,f.n=r,o}};function p(r,i){for(s=r,u=i,t=0;!d&&l&&!n&&t<c.length;t++){var n,a=c[t],p=f.p,h=a[2];r>3?(n=h===i)&&(u=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=e):a[0]<=p&&((n=r<2&&p<a[1])?(s=0,f.v=i,f.n=a[1]):p<h&&(n=r<3||a[0]>i||i>h)&&(a[4]=r,a[5]=i,f.n=h,s=0))}if(n||r>1)return o;throw d=!0,i}return function(n,c,h){if(l>1)throw TypeError("Generator is already running");for(d&&1===c&&p(c,h),s=c,u=h;(t=s<2?e:u)||!d;){a||(s?s<3?(s>1&&(f.n=-1),p(s,u)):f.n=u:f.v=u);try{if(l=2,a){if(s||(n="next"),t=a[n]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=a.return)&&t.call(a),s<2&&(u=TypeError("The iterator does not provide a '"+n+"' method"),s=1);a=e}else if((t=(d=f.n<0)?u:r.call(i,f))!==o)break}catch(t){a=e,s=1,u=t}finally{l=1}}return{value:t,done:d}}}(r,n,a),!0),u}var o={};function s(){}function u(){}function l(){}t=Object.getPrototypeOf;var c=l.prototype=s.prototype=Object.create([][i]?t(t([][i]())):(P(t={},i,function(){return this}),t));function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,P(e,n,"GeneratorFunction")),e.prototype=Object.create(c),e}return u.prototype=l,P(c,"constructor",l),P(l,"constructor",u),u.displayName="GeneratorFunction",P(l,n,"GeneratorFunction"),P(c),P(c,n,"Generator"),P(c,i,function(){return this}),P(c,"toString",function(){return"[object Generator]"}),(k=function(){return{w:a,m:d}})()}function P(e,t,r,i){var n=Object.defineProperty;try{n({},"",{})}catch(e){n=0}(P=function(e,t,r,i){function a(t,r){P(e,t,function(e){return this._invoke(t,r,e)})}t?n?n(e,t,{value:r,enumerable:!i,configurable:!i,writable:!i}):e[t]=r:(a("next",0),a("throw",1),a("return",2))})(e,t,r,i)}var _="0x1F98431c8aD98523631AE4a59f267346ea31F984",I="0x0000000000000000000000000000000000000000",N="0xe34f199b19b2b4f47f68442619d555527d244f78a3297ea89325f843f87b8b54";function R(e){return e===n.ChainId.ZKSYNC?"0x010013f177ea1fcbc4520f9a3ca7cd2d1d77959e05aa66484027cb38e712aeed":N}(t=i||(i={}))[t.LOWEST=100]="LOWEST",t[t.LOW_200=200]="LOW_200",t[t.LOW_300=300]="LOW_300",t[t.LOW_400=400]="LOW_400",t[t.LOW=500]="LOW",t[t.MEDIUM=3e3]="MEDIUM",t[t.HIGH=1e4]="HIGH";var B=((r={})[i.LOWEST]=1,r[i.LOW_200]=4,r[i.LOW_300]=6,r[i.LOW_400]=8,r[i.LOW]=10,r[i.MEDIUM]=60,r[i.HIGH]=200,r),C=a.default.BigInt(-1),O=a.default.BigInt(0),D=a.default.BigInt(1),M=a.default.exponentiate(a.default.BigInt(2),a.default.BigInt(96)),U=a.default.exponentiate(M,a.default.BigInt(2));function F(e){var t=e.factoryAddress,r=e.tokenA,i=e.tokenB,a=e.fee,o=e.initCodeHashManualOverride,u=e.chainId,d=r.sortsBefore(i)?[r,i]:[i,r],f=d[0],p=d[1],h=(0,c.keccak256)(["bytes"],[s.defaultAbiCoder.encode(["address","address","uint24"],[f.address,p.address,a])]),m=null!=o?o:R(u);return u===n.ChainId.ZKSYNC?(0,n.computeZksyncCreate2Address)(t,m,h):(0,l.getCreate2Address)(t,h,m)}var L=function(){function e(){}return e.mulDivRoundingUp=function(e,t,r){var i=a.default.multiply(e,t),n=a.default.divide(i,r);return a.default.notEqual(a.default.remainder(i,r),O)&&(n=a.default.add(n,D)),n},e}(),q=a.default.subtract(a.default.exponentiate(a.default.BigInt(2),a.default.BigInt(160)),D);function K(e,t){var r=a.default.multiply(e,t);return a.default.bitwiseAnd(r,n.MaxUint256)}var W=function(){function e(){}return e.getAmount0Delta=function(e,t,r,i){if(a.default.greaterThan(e,t)){var n=[t,e];e=n[0],t=n[1]}var o=a.default.leftShift(r,a.default.BigInt(96)),s=a.default.subtract(t,e);return i?L.mulDivRoundingUp(L.mulDivRoundingUp(o,s,t),D,e):a.default.divide(a.default.divide(a.default.multiply(o,s),t),e)},e.getAmount1Delta=function(e,t,r,i){if(a.default.greaterThan(e,t)){var n=[t,e];e=n[0],t=n[1]}return i?L.mulDivRoundingUp(r,a.default.subtract(t,e),M):a.default.divide(a.default.multiply(r,a.default.subtract(t,e)),M)},e.getNextSqrtPriceFromInput=function(e,t,r,i){return a.default.greaterThan(e,O)||(0,o.default)(!1),a.default.greaterThan(t,O)||(0,o.default)(!1),i?this.getNextSqrtPriceFromAmount0RoundingUp(e,t,r,!0):this.getNextSqrtPriceFromAmount1RoundingDown(e,t,r,!0)},e.getNextSqrtPriceFromOutput=function(e,t,r,i){return a.default.greaterThan(e,O)||(0,o.default)(!1),a.default.greaterThan(t,O)||(0,o.default)(!1),i?this.getNextSqrtPriceFromAmount1RoundingDown(e,t,r,!1):this.getNextSqrtPriceFromAmount0RoundingUp(e,t,r,!1)},e.getNextSqrtPriceFromAmount0RoundingUp=function(e,t,r,i){if(a.default.equal(r,O))return e;var s=a.default.leftShift(t,a.default.BigInt(96));if(i){var u=K(r,e);if(a.default.equal(a.default.divide(u,r),e)){var l,c=(l=a.default.add(s,u),a.default.bitwiseAnd(l,n.MaxUint256));if(a.default.greaterThanOrEqual(c,s))return L.mulDivRoundingUp(s,e,c)}return L.mulDivRoundingUp(s,D,a.default.add(a.default.divide(s,e),r))}var d=K(r,e);a.default.equal(a.default.divide(d,r),e)||(0,o.default)(!1),a.default.greaterThan(s,d)||(0,o.default)(!1);var f=a.default.subtract(s,d);return L.mulDivRoundingUp(s,e,f)},e.getNextSqrtPriceFromAmount1RoundingDown=function(e,t,r,i){if(i){var n=a.default.lessThanOrEqual(r,q)?a.default.divide(a.default.leftShift(r,a.default.BigInt(96)),t):a.default.divide(a.default.multiply(r,M),t);return a.default.add(e,n)}var s=L.mulDivRoundingUp(r,M,t);return a.default.greaterThan(e,s)||(0,o.default)(!1),a.default.subtract(e,s)},e}(),V=a.default.exponentiate(a.default.BigInt(10),a.default.BigInt(6)),G=function(){function e(){}return e.computeSwapStep=function(e,t,r,i,n){var o={};n=a.default.BigInt(n);var s=a.default.greaterThanOrEqual(e,t),u=a.default.greaterThanOrEqual(i,O);if(u){var l=a.default.divide(a.default.multiply(i,a.default.subtract(V,n)),V);o.amountIn=s?W.getAmount0Delta(t,e,r,!0):W.getAmount1Delta(e,t,r,!0),a.default.greaterThanOrEqual(l,o.amountIn)?o.sqrtRatioNextX96=t:o.sqrtRatioNextX96=W.getNextSqrtPriceFromInput(e,r,l,s)}else o.amountOut=s?W.getAmount1Delta(t,e,r,!1):W.getAmount0Delta(e,t,r,!1),a.default.greaterThanOrEqual(a.default.multiply(i,C),o.amountOut)?o.sqrtRatioNextX96=t:o.sqrtRatioNextX96=W.getNextSqrtPriceFromOutput(e,r,a.default.multiply(i,C),s);var c=a.default.equal(t,o.sqrtRatioNextX96);return s?(o.amountIn=c&&u?o.amountIn:W.getAmount0Delta(o.sqrtRatioNextX96,e,r,!0),o.amountOut=c&&!u?o.amountOut:W.getAmount1Delta(o.sqrtRatioNextX96,e,r,!1)):(o.amountIn=c&&u?o.amountIn:W.getAmount1Delta(e,o.sqrtRatioNextX96,r,!0),o.amountOut=c&&!u?o.amountOut:W.getAmount0Delta(e,o.sqrtRatioNextX96,r,!1)),!u&&a.default.greaterThan(o.amountOut,a.default.multiply(i,C))&&(o.amountOut=a.default.multiply(i,C)),u&&a.default.notEqual(o.sqrtRatioNextX96,t)?o.feeAmount=a.default.subtract(i,o.amountIn):o.feeAmount=L.mulDivRoundingUp(o.amountIn,n,a.default.subtract(V,n)),[o.sqrtRatioNextX96,o.amountIn,o.amountOut,o.feeAmount]},e}(),z=function(){function e(){}return e.addDelta=function(e,t){return a.default.lessThan(t,O)?a.default.subtract(e,a.default.multiply(t,C)):a.default.add(e,t)},e}(),j=a.default.BigInt(2),H=[128,64,32,16,8,4,2,1].map(function(e){return[e,a.default.exponentiate(j,a.default.BigInt(e))]});function X(e){a.default.greaterThan(e,O)||(0,o.default)(!1),a.default.lessThanOrEqual(e,n.MaxUint256)||(0,o.default)(!1);for(var t,r=0,i=T(H);!(t=i()).done;){var s=t.value,u=s[0],l=s[1];a.default.greaterThanOrEqual(e,l)&&(e=a.default.signedRightShift(e,a.default.BigInt(u)),r+=u)}return r}function Q(e,t){return a.default.signedRightShift(a.default.multiply(e,a.default.BigInt(t)),a.default.BigInt(128))}var J=a.default.exponentiate(a.default.BigInt(2),a.default.BigInt(32)),Y=function(){function e(){}return e.getSqrtRatioAtTick=function(t){t>=e.MIN_TICK&&t<=e.MAX_TICK&&Number.isInteger(t)||(0,o.default)(!1);var r=t<0?-1*t:t,i=(1&r)!=0?a.default.BigInt("0xfffcb933bd6fad37aa2d162d1a594001"):a.default.BigInt("0x100000000000000000000000000000000");return(2&r)!=0&&(i=Q(i,"0xfff97272373d413259a46990580e213a")),(4&r)!=0&&(i=Q(i,"0xfff2e50f5f656932ef12357cf3c7fdcc")),(8&r)!=0&&(i=Q(i,"0xffe5caca7e10e4e61c3624eaa0941cd0")),(16&r)!=0&&(i=Q(i,"0xffcb9843d60f6159c9db58835c926644")),(32&r)!=0&&(i=Q(i,"0xff973b41fa98c081472e6896dfb254c0")),(64&r)!=0&&(i=Q(i,"0xff2ea16466c96a3843ec78b326b52861")),(128&r)!=0&&(i=Q(i,"0xfe5dee046a99a2a811c461f1969c3053")),(256&r)!=0&&(i=Q(i,"0xfcbe86c7900a88aedcffc83b479aa3a4")),(512&r)!=0&&(i=Q(i,"0xf987a7253ac413176f2b074cf7815e54")),(1024&r)!=0&&(i=Q(i,"0xf3392b0822b70005940c7a398e4b70f3")),(2048&r)!=0&&(i=Q(i,"0xe7159475a2c29b7443b29c7fa6e889d9")),(4096&r)!=0&&(i=Q(i,"0xd097f3bdfd2022b8845ad8f792aa5825")),(8192&r)!=0&&(i=Q(i,"0xa9f746462d870fdf8a65dc1f90e061e5")),(16384&r)!=0&&(i=Q(i,"0x70d869a156d2a1b890bb3df62baf32f7")),(32768&r)!=0&&(i=Q(i,"0x31be135f97d08fd981231505542fcfa6")),(65536&r)!=0&&(i=Q(i,"0x9aa508b5b7a84e1c677de54f3e99bc9")),(131072&r)!=0&&(i=Q(i,"0x5d6af8dedb81196699c329225ee604")),(262144&r)!=0&&(i=Q(i,"0x2216e584f5fa1ea926041bedfe98")),(524288&r)!=0&&(i=Q(i,"0x48a170391f7dc42444e8fa2")),t>0&&(i=a.default.divide(n.MaxUint256,i)),a.default.greaterThan(a.default.remainder(i,J),O)?a.default.add(a.default.divide(i,J),D):a.default.divide(i,J)},e.getTickAtSqrtRatio=function(t){a.default.greaterThanOrEqual(t,e.MIN_SQRT_RATIO)&&a.default.lessThan(t,e.MAX_SQRT_RATIO)||(0,o.default)(!1);var r,i=a.default.leftShift(t,a.default.BigInt(32)),n=X(i);r=a.default.greaterThanOrEqual(a.default.BigInt(n),a.default.BigInt(128))?a.default.signedRightShift(i,a.default.BigInt(n-127)):a.default.leftShift(i,a.default.BigInt(127-n));for(var s=a.default.leftShift(a.default.subtract(a.default.BigInt(n),a.default.BigInt(128)),a.default.BigInt(64)),u=0;u<14;u++){r=a.default.signedRightShift(a.default.multiply(r,r),a.default.BigInt(127));var l=a.default.signedRightShift(r,a.default.BigInt(128));s=a.default.bitwiseOr(s,a.default.leftShift(l,a.default.BigInt(63-u))),r=a.default.signedRightShift(r,l)}var c=a.default.multiply(s,a.default.BigInt("255738958999603826347141")),d=a.default.toNumber(a.default.signedRightShift(a.default.subtract(c,a.default.BigInt("3402992956809132418596140100660247210")),a.default.BigInt(128))),f=a.default.toNumber(a.default.signedRightShift(a.default.add(c,a.default.BigInt("291339464771989622907027621153398088495")),a.default.BigInt(128)));return d===f?d:a.default.lessThanOrEqual(e.getSqrtRatioAtTick(f),t)?f:d},e}();function Z(e,t,r,i,n,a,o,s,u){return $.apply(this,arguments)}function $(){return($=w(k().m(function e(t,r,i,n,s,u,l,c,d){var f,p,h,m,b,g,y;return k().w(function(e){for(;;)switch(e.n){case 0:d||(d=l?a.default.add(Y.MIN_SQRT_RATIO,D):a.default.subtract(Y.MAX_SQRT_RATIO,D)),l?(a.default.greaterThan(d,Y.MIN_SQRT_RATIO)||(0,o.default)(!1),a.default.lessThan(d,r)||(0,o.default)(!1)):(a.default.lessThan(d,Y.MAX_SQRT_RATIO)||(0,o.default)(!1),a.default.greaterThan(d,r)||(0,o.default)(!1)),f=a.default.greaterThanOrEqual(c,O),p={amountSpecifiedRemaining:c,amountCalculated:O,sqrtPriceX96:r,tick:i,liquidity:n};case 1:if(!(a.default.notEqual(p.amountSpecifiedRemaining,O)&&p.sqrtPriceX96!==d)){e.n=7;break}return(h={}).sqrtPriceStartX96=p.sqrtPriceX96,e.n=2,u.nextInitializedTickWithinOneWord(p.tick,l,s);case 2:if(m=e.v,h.tickNext=m[0],h.initialized=m[1],h.tickNext<Y.MIN_TICK?h.tickNext=Y.MIN_TICK:h.tickNext>Y.MAX_TICK&&(h.tickNext=Y.MAX_TICK),h.sqrtPriceNextX96=Y.getSqrtRatioAtTick(h.tickNext),b=G.computeSwapStep(p.sqrtPriceX96,(l?a.default.lessThan(h.sqrtPriceNextX96,d):a.default.greaterThan(h.sqrtPriceNextX96,d))?d:h.sqrtPriceNextX96,p.liquidity,p.amountSpecifiedRemaining,t),p.sqrtPriceX96=b[0],h.amountIn=b[1],h.amountOut=b[2],h.feeAmount=b[3],f?(p.amountSpecifiedRemaining=a.default.subtract(p.amountSpecifiedRemaining,a.default.add(h.amountIn,h.feeAmount)),p.amountCalculated=a.default.subtract(p.amountCalculated,h.amountOut)):(p.amountSpecifiedRemaining=a.default.add(p.amountSpecifiedRemaining,h.amountOut),p.amountCalculated=a.default.add(p.amountCalculated,a.default.add(h.amountIn,h.feeAmount))),!a.default.equal(p.sqrtPriceX96,h.sqrtPriceNextX96)){e.n=5;break}if(!h.initialized){e.n=4;break}return y=a.default,e.n=3,u.getTick(h.tickNext);case 3:g=y.BigInt.call(y,e.v.liquidityNet),l&&(g=a.default.multiply(g,C)),p.liquidity=z.addDelta(p.liquidity,g);case 4:p.tick=l?h.tickNext-1:h.tickNext,e.n=6;break;case 5:a.default.notEqual(p.sqrtPriceX96,h.sqrtPriceStartX96)&&(p.tick=Y.getTickAtSqrtRatio(p.sqrtPriceX96));case 6:e.n=1;break;case 7:return e.a(2,{amountCalculated:p.amountCalculated,sqrtRatioX96:p.sqrtPriceX96,liquidity:p.liquidity,tickCurrent:p.tick})}},e)}))).apply(this,arguments)}Y.MIN_TICK=-887272,Y.MAX_TICK=-Y.MIN_TICK,Y.MIN_SQRT_RATIO=a.default.BigInt("4295128739"),Y.MAX_SQRT_RATIO=a.default.BigInt("1461446703485210103287273052203988822378723970342");var ee=function(){function e(){}var t,r,i=e.prototype;return t=w(k().m(function t(r){return k().w(function(t){for(;;)switch(t.n){case 0:throw Error(e.ERROR_MESSAGE);case 1:return t.a(2)}},t)})),i.getTick=function(e){return t.apply(this,arguments)},r=w(k().m(function t(r,i,n){return k().w(function(t){for(;;)switch(t.n){case 0:throw Error(e.ERROR_MESSAGE);case 1:return t.a(2)}},t)})),i.nextInitializedTickWithinOneWord=function(e,t,i){return r.apply(this,arguments)},e}();function et(e,t){for(var r=0;r<e.length-1;r++)if(t(e[r],e[r+1])>0)return!1;return!0}function er(e,t){return e.index-t.index}ee.ERROR_MESSAGE="No tick data provider was given";var ei=function(){function e(){}return e.validateList=function(e,t){t>0||(0,o.default)(!1),e.every(function(e){return e.index%t==0})||(0,o.default)(!1),a.default.equal(e.reduce(function(e,t){var r=t.liquidityNet;return a.default.add(e,r)},O),O)||(0,o.default)(!1),et(e,er)||(0,o.default)(!1)},e.isBelowSmallest=function(e,t){return e.length>0||(0,o.default)(!1),t<e[0].index},e.isAtOrAboveLargest=function(e,t){return e.length>0||(0,o.default)(!1),t>=e[e.length-1].index},e.getTick=function(e,t){var r=e[this.binarySearch(e,t)];return r.index!==t&&(0,o.default)(!1),r},e.binarySearch=function(e,t){this.isBelowSmallest(e,t)&&(0,o.default)(!1);for(var r,i=0,n=e.length-1;;){if(e[r=Math.floor((i+n)/2)].index<=t&&(r===e.length-1||e[r+1].index>t))return r;e[r].index<t?i=r+1:n=r-1}},e.nextInitializedTick=function(t,r,i){if(i){if(e.isBelowSmallest(t,r)&&(0,o.default)(!1),e.isAtOrAboveLargest(t,r))return t[t.length-1];var n=this.binarySearch(t,r);return t[n]}if(this.isAtOrAboveLargest(t,r)&&(0,o.default)(!1),this.isBelowSmallest(t,r))return t[0];var a=this.binarySearch(t,r);return t[a+1]},e.nextInitializedTickWithinOneWord=function(t,r,i,n){var a=Math.floor(r/n);if(i){var o=(a>>8<<8)*n;if(e.isBelowSmallest(t,r))return[o,!1];var s=e.nextInitializedTick(t,r,i).index,u=Math.max(o,s);return[u,u===s]}var l=(((a+1>>8)+1<<8)-1)*n;if(this.isAtOrAboveLargest(t,r))return[l,!1];var c=this.nextInitializedTick(t,r,i).index,d=Math.min(l,c);return[d,d===c]},e}();function en(e){var t=a.default.BigInt(e).toString(16);return t.length%2!=0&&(t="0"+t),"0x"+t}function ea(e,t){var r=e.input.wrapped,i=e.pools.reduce(function(e,t,r){var i=e.inputToken,n=e.path,a=e.types,o=t.token0.equals(i)?t.token1:t.token0;return 0===r?{inputToken:o,types:["address","uint24","address"],path:[i.address,t.fee,o.address]}:{inputToken:o,types:[].concat(a,["uint24","address"]),path:[].concat(n,[t.fee,o.address])}},{inputToken:r,path:[],types:[]}),n=i.path,a=i.types;return t?(0,c.pack)(a.reverse(),n.reverse()):(0,c.pack)(a,n)}function eo(e,t){var r=a.default.leftShift(a.default.BigInt(e),a.default.BigInt(192)),i=a.default.BigInt(t),o=a.default.divide(r,i);return(0,n.sqrt)(o)}function es(e,t,r){if(a.default.greaterThan(e,t)){var i=[t,e];e=i[0],t=i[1]}var n=a.default.divide(a.default.multiply(e,t),M);return a.default.divide(a.default.multiply(a.default.BigInt(r),n),a.default.subtract(t,e))}function eu(e,t,r){if(a.default.greaterThan(e,t)){var i=[t,e];e=i[0],t=i[1]}var n=a.default.multiply(a.default.multiply(a.default.BigInt(r),e),t),o=a.default.multiply(M,a.default.subtract(t,e));return a.default.divide(n,o)}function el(e,t,r){if(a.default.greaterThan(e,t)){var i=[t,e];e=i[0],t=i[1]}return a.default.divide(a.default.multiply(a.default.BigInt(r),M),a.default.subtract(t,e))}function ec(e,t,r,i,n,o){if(a.default.greaterThan(t,r)){var s=[r,t];t=s[0],r=s[1]}var u=o?eu:es;if(a.default.lessThanOrEqual(e,t))return u(t,r,i);if(!a.default.lessThan(e,r))return el(t,r,n);var l=u(e,r,i),c=el(t,e,n);return a.default.lessThan(l,c)?l:c}function ed(e,t){Number.isInteger(e)&&Number.isInteger(t)||(0,o.default)(!1),t>0||(0,o.default)(!1),e>=Y.MIN_TICK&&e<=Y.MAX_TICK||(0,o.default)(!1);var r=Math.round(e/t)*t;return r<Y.MIN_TICK?r+t:r>Y.MAX_TICK?r-t:r}var ef=a.default.exponentiate(a.default.BigInt(2),a.default.BigInt(128)),ep=function(){function e(){}return e.getTokensOwed=function(e,t,r,i,n){return[a.default.divide(a.default.multiply(eg(i,e),r),ef),a.default.divide(a.default.multiply(eg(n,t),r),ef)]},e}();function eh(e,t,r){var i=Y.getSqrtRatioAtTick(r),o=a.default.multiply(i,i);return e.sortsBefore(t)?new n.Price(e,t,U,o):new n.Price(e,t,o,U)}function em(e){var t=e.baseCurrency.sortsBefore(e.quoteCurrency),r=t?eo(e.numerator,e.denominator):eo(e.denominator,e.numerator),i=Y.getTickAtSqrtRatio(r),n=eh(e.baseCurrency,e.quoteCurrency,i+1);return t?!e.lessThan(n)&&i++:!e.greaterThan(n)&&i++,i}var eb=a.default.exponentiate(a.default.BigInt(2),a.default.BigInt(256));function eg(e,t){var r=a.default.subtract(e,t);return a.default.lessThan(r,O)?a.default.add(eb,r):r}var ey=function(){function e(){}return e.getFeeGrowthInside=function(e,t,r,i,n,a,o){var s,u,l,c;return n>=r?(s=e.feeGrowthOutside0X128,u=e.feeGrowthOutside1X128):(s=eg(a,e.feeGrowthOutside0X128),u=eg(o,e.feeGrowthOutside1X128)),n<i?(l=t.feeGrowthOutside0X128,c=t.feeGrowthOutside1X128):(l=eg(a,t.feeGrowthOutside0X128),c=eg(o,t.feeGrowthOutside1X128)),[eg(eg(a,s),l),eg(eg(o,u),c)]},e}(),ex=function(e){var t=e.index,r=e.liquidityGross,i=e.liquidityNet;t>=Y.MIN_TICK&&t<=Y.MAX_TICK||(0,o.default)(!1),this.index=t,this.liquidityGross=a.default.BigInt(r),this.liquidityNet=a.default.BigInt(i)},eA=function(){function e(e,t){var r=e.map(function(e){return e instanceof ex?e:new ex(e)});ei.validateList(r,t),this.ticks=r}var t,r,i=e.prototype;return t=w(k().m(function e(t){return k().w(function(e){for(;;)if(0===e.n)return e.a(2,ei.getTick(this.ticks,t))},e,this)})),i.getTick=function(e){return t.apply(this,arguments)},r=w(k().m(function e(t,r,i){return k().w(function(e){for(;;)if(0===e.n)return e.a(2,ei.nextInitializedTickWithinOneWord(this.ticks,t,r,i))},e,this)})),i.nextInitializedTickWithinOneWord=function(e,t,i){return r.apply(this,arguments)},e}(),ew=new ee,ev=function(){function e(e,t,r,i,n,s,u){void 0===u&&(u=ew),Number.isInteger(r)&&r<1e6||(0,o.default)(!1);var l=Y.getSqrtRatioAtTick(s),c=Y.getSqrtRatioAtTick(s+1);a.default.greaterThanOrEqual(a.default.BigInt(i),l)&&a.default.lessThanOrEqual(a.default.BigInt(i),c)||(0,o.default)(!1);var d=e.sortsBefore(t)?[e,t]:[t,e];this.token0=d[0],this.token1=d[1],this.fee=r,this.sqrtRatioX96=a.default.BigInt(i),this.liquidity=a.default.BigInt(n),this.tickCurrent=s,this.tickDataProvider=Array.isArray(u)?new eA(u,B[r]):u}e.getAddress=function(e,t,r,i,n){return F({factoryAddress:null!=n?n:_,fee:r,tokenA:e,tokenB:t,initCodeHashManualOverride:i})};var t,r,i,s=e.prototype;return s.involvesToken=function(e){return e.equals(this.token0)||e.equals(this.token1)},s.priceOf=function(e){return this.involvesToken(e)||(0,o.default)(!1),e.equals(this.token0)?this.token0Price:this.token1Price},t=w(k().m(function t(r,i){var s,u,l,c,d,f,p;return k().w(function(t){for(;;)switch(t.n){case 0:return this.involvesToken(r.currency)||(0,o.default)(!1),s=r.currency.equals(this.token0),t.n=1,this.swap(s,r.quotient,i);case 1:return l=(u=t.v).amountCalculated,c=u.sqrtRatioX96,d=u.liquidity,f=u.tickCurrent,p=s?this.token1:this.token0,t.a(2,[n.CurrencyAmount.fromRawAmount(p,a.default.multiply(l,C)),new e(this.token0,this.token1,this.fee,c,d,f,this.tickDataProvider)])}},t,this)})),s.getOutputAmount=function(e,r){return t.apply(this,arguments)},r=w(k().m(function t(r,i){var s,u,l,c,d,f,p;return k().w(function(t){for(;;)switch(t.n){case 0:return r.currency.isToken&&this.involvesToken(r.currency)||(0,o.default)(!1),s=r.currency.equals(this.token1),t.n=1,this.swap(s,a.default.multiply(r.quotient,C),i);case 1:return l=(u=t.v).amountCalculated,c=u.sqrtRatioX96,d=u.liquidity,f=u.tickCurrent,p=s?this.token0:this.token1,t.a(2,[n.CurrencyAmount.fromRawAmount(p,l),new e(this.token0,this.token1,this.fee,c,d,f,this.tickDataProvider)])}},t,this)})),s.getInputAmount=function(e,t){return r.apply(this,arguments)},i=w(k().m(function e(t,r,i){return k().w(function(e){for(;;)if(0===e.n)return e.a(2,Z(a.default.BigInt(this.fee),this.sqrtRatioX96,this.tickCurrent,this.liquidity,this.tickSpacing,this.tickDataProvider,t,r,i))},e,this)})),s.swap=function(e,t,r){return i.apply(this,arguments)},S(e,[{key:"token0Price",get:function(){var e;return null!=(e=this._token0Price)?e:this._token0Price=new n.Price(this.token0,this.token1,U,a.default.multiply(this.sqrtRatioX96,this.sqrtRatioX96))}},{key:"token1Price",get:function(){var e;return null!=(e=this._token1Price)?e:this._token1Price=new n.Price(this.token1,this.token0,a.default.multiply(this.sqrtRatioX96,this.sqrtRatioX96),U)}},{key:"chainId",get:function(){return this.token0.chainId}},{key:"tickSpacing",get:function(){return B[this.fee]}}])}(),eS=function(){function e(e){var t=e.pool,r=e.liquidity,i=e.tickLower,n=e.tickUpper;this._token0Amount=null,this._token1Amount=null,this._mintAmounts=null,i<n||(0,o.default)(!1),i>=Y.MIN_TICK&&i%t.tickSpacing==0||(0,o.default)(!1),n<=Y.MAX_TICK&&n%t.tickSpacing==0||(0,o.default)(!1),this.pool=t,this.tickLower=i,this.tickUpper=n,this.liquidity=a.default.BigInt(r)}var t=e.prototype;return t.ratiosAfterSlippage=function(e){var t=this.pool.token0Price.asFraction.multiply(new n.Percent(1).subtract(e)),r=this.pool.token0Price.asFraction.multiply(e.add(1)),i=eo(t.numerator,t.denominator);a.default.lessThanOrEqual(i,Y.MIN_SQRT_RATIO)&&(i=a.default.add(Y.MIN_SQRT_RATIO,a.default.BigInt(1)));var o=eo(r.numerator,r.denominator);return a.default.greaterThanOrEqual(o,Y.MAX_SQRT_RATIO)&&(o=a.default.subtract(Y.MAX_SQRT_RATIO,a.default.BigInt(1))),{sqrtRatioX96Lower:i,sqrtRatioX96Upper:o}},t.mintAmountsWithSlippage=function(t){var r=this.ratiosAfterSlippage(t),i=r.sqrtRatioX96Upper,n=r.sqrtRatioX96Lower,a=new ev(this.pool.token0,this.pool.token1,this.pool.fee,n,0,Y.getTickAtSqrtRatio(n)),o=new ev(this.pool.token0,this.pool.token1,this.pool.fee,i,0,Y.getTickAtSqrtRatio(i)),s=e.fromAmounts(E({pool:this.pool,tickLower:this.tickLower,tickUpper:this.tickUpper},this.mintAmounts,{useFullPrecision:!1}));return{amount0:new e({pool:o,liquidity:s.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount0,amount1:new e({pool:a,liquidity:s.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount1}},t.burnAmountsWithSlippage=function(t){var r=this.ratiosAfterSlippage(t),i=r.sqrtRatioX96Upper,n=r.sqrtRatioX96Lower,a=new ev(this.pool.token0,this.pool.token1,this.pool.fee,n,0,Y.getTickAtSqrtRatio(n)),o=new e({pool:new ev(this.pool.token0,this.pool.token1,this.pool.fee,i,0,Y.getTickAtSqrtRatio(i)),liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount0,s=new e({pool:a,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount1;return{amount0:o.quotient,amount1:s.quotient}},e.fromAmounts=function(t){var r=t.pool,i=t.tickLower,n=t.tickUpper,a=t.amount0,o=t.amount1,s=t.useFullPrecision,u=Y.getSqrtRatioAtTick(i),l=Y.getSqrtRatioAtTick(n);return new e({pool:r,tickLower:i,tickUpper:n,liquidity:ec(r.sqrtRatioX96,u,l,a,o,s)})},e.fromAmount0=function(t){var r=t.pool,i=t.tickLower,a=t.tickUpper,o=t.amount0,s=t.useFullPrecision;return e.fromAmounts({pool:r,tickLower:i,tickUpper:a,amount0:o,amount1:n.MaxUint256,useFullPrecision:s})},e.fromAmount1=function(t){var r=t.pool,i=t.tickLower,a=t.tickUpper,o=t.amount1;return e.fromAmounts({pool:r,tickLower:i,tickUpper:a,amount0:n.MaxUint256,amount1:o,useFullPrecision:!0})},S(e,[{key:"token0PriceLower",get:function(){return eh(this.pool.token0,this.pool.token1,this.tickLower)}},{key:"token0PriceUpper",get:function(){return eh(this.pool.token0,this.pool.token1,this.tickUpper)}},{key:"amount0",get:function(){return null===this._token0Amount&&(this.pool.tickCurrent<this.tickLower?this._token0Amount=n.CurrencyAmount.fromRawAmount(this.pool.token0,W.getAmount0Delta(Y.getSqrtRatioAtTick(this.tickLower),Y.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)):this.pool.tickCurrent<this.tickUpper?this._token0Amount=n.CurrencyAmount.fromRawAmount(this.pool.token0,W.getAmount0Delta(this.pool.sqrtRatioX96,Y.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)):this._token0Amount=n.CurrencyAmount.fromRawAmount(this.pool.token0,O)),this._token0Amount}},{key:"amount1",get:function(){return null===this._token1Amount&&(this.pool.tickCurrent<this.tickLower?this._token1Amount=n.CurrencyAmount.fromRawAmount(this.pool.token1,O):this.pool.tickCurrent<this.tickUpper?this._token1Amount=n.CurrencyAmount.fromRawAmount(this.pool.token1,W.getAmount1Delta(Y.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!1)):this._token1Amount=n.CurrencyAmount.fromRawAmount(this.pool.token1,W.getAmount1Delta(Y.getSqrtRatioAtTick(this.tickLower),Y.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1))),this._token1Amount}},{key:"mintAmounts",get:function(){if(null===this._mintAmounts)if(this.pool.tickCurrent<this.tickLower)return{amount0:W.getAmount0Delta(Y.getSqrtRatioAtTick(this.tickLower),Y.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:O};else if(this.pool.tickCurrent<this.tickUpper)return{amount0:W.getAmount0Delta(this.pool.sqrtRatioX96,Y.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:W.getAmount1Delta(Y.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!0)};else return{amount0:O,amount1:W.getAmount1Delta(Y.getSqrtRatioAtTick(this.tickLower),Y.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0)};return this._mintAmounts}}])}(),eT=S(function(e,t,r){this._midPrice=null,e.length>0||(0,o.default)(!1);var i=e[0].chainId;e.every(function(e){return e.chainId===i})||(0,o.default)(!1);var n=t.wrapped;e[0].involvesToken(n)||(0,o.default)(!1),e[e.length-1].involvesToken(r.wrapped)||(0,o.default)(!1);for(var a,s=[n],u=T(e.entries());!(a=u()).done;){var l=a.value,c=l[0],d=l[1],f=s[c];f.equals(d.token0)||f.equals(d.token1)||(0,o.default)(!1);var p=f.equals(d.token0)?d.token1:d.token0;s.push(p)}this.pools=e,this.tokenPath=s,this.input=t,this.output=null!=r?r:s[s.length-1]},[{key:"chainId",get:function(){return this.pools[0].chainId}},{key:"midPrice",get:function(){if(null!==this._midPrice)return this._midPrice;var e=this.pools.slice(1).reduce(function(e,t){var r=e.nextInput,i=e.price;return r.equals(t.token0)?{nextInput:t.token1,price:i.multiply(t.token0Price)}:{nextInput:t.token0,price:i.multiply(t.token1Price)}},this.pools[0].token0.equals(this.input.wrapped)?{nextInput:this.pools[0].token1,price:this.pools[0].token0Price}:{nextInput:this.pools[0].token0,price:this.pools[0].token1Price}).price;return this._midPrice=new n.Price(this.input,this.output,e.denominator,e.numerator)}}]);function eE(e,t){return(e.inputAmount.currency.equals(t.inputAmount.currency)||(0,o.default)(!1),e.outputAmount.currency.equals(t.outputAmount.currency)||(0,o.default)(!1),e.outputAmount.equalTo(t.outputAmount))?e.inputAmount.equalTo(t.inputAmount)?e.swaps.reduce(function(e,t){return e+t.route.tokenPath.length},0)-t.swaps.reduce(function(e,t){return e+t.route.tokenPath.length},0):e.inputAmount.lessThan(t.inputAmount)?-1:1:e.outputAmount.lessThan(t.outputAmount)?1:-1}var ek=function(){function e(e){var t=e.routes,r=e.tradeType,i=t[0].inputAmount.currency,n=t[0].outputAmount.currency;t.every(function(e){var t=e.route;return i.wrapped.equals(t.input.wrapped)})||(0,o.default)(!1),t.every(function(e){var t=e.route;return n.wrapped.equals(t.output.wrapped)})||(0,o.default)(!1);for(var a,s=t.map(function(e){return e.route.pools.length}).reduce(function(e,t){return e+t},0),u=new Set,l=T(t);!(a=l()).done;)for(var c,d=a.value.route,f=T(d.pools);!(c=f()).done;){var p=c.value;u.add(ev.getAddress(p.token0,p.token1,p.fee))}s!==u.size&&(0,o.default)(!1),this.swaps=t,this.tradeType=r}t=w(k().m(function t(r,i){return k().w(function(t){for(;;)if(0===t.n)return t.a(2,e.fromRoute(r,i,n.TradeType.EXACT_INPUT))},t)})),e.exactIn=function(e,r){return t.apply(this,arguments)},r=w(k().m(function t(r,i){return k().w(function(t){for(;;)if(0===t.n)return t.a(2,e.fromRoute(r,i,n.TradeType.EXACT_OUTPUT))},t)})),e.exactOut=function(e,t){return r.apply(this,arguments)},i=w(k().m(function t(r,i,a){var s,u,l,c,d,f,p,h,m;return k().w(function(t){for(;;)switch(t.n){case 0:if(s=Array(r.tokenPath.length),a!==n.TradeType.EXACT_INPUT){t.n=5;break}i.currency.equals(r.input)||(0,o.default)(!1),s[0]=i.wrapped,c=0;case 1:if(!(c<r.tokenPath.length-1)){t.n=4;break}return d=r.pools[c],t.n=2,d.getOutputAmount(s[c]);case 2:f=t.v[0],s[c+1]=f;case 3:c++,t.n=1;break;case 4:u=n.CurrencyAmount.fromFractionalAmount(r.input,i.numerator,i.denominator),l=n.CurrencyAmount.fromFractionalAmount(r.output,s[s.length-1].numerator,s[s.length-1].denominator),t.n=10;break;case 5:i.currency.equals(r.output)||(0,o.default)(!1),s[s.length-1]=i.wrapped,p=r.tokenPath.length-1;case 6:if(!(p>0)){t.n=9;break}return h=r.pools[p-1],t.n=7,h.getInputAmount(s[p]);case 7:m=t.v[0],s[p-1]=m;case 8:p--,t.n=6;break;case 9:u=n.CurrencyAmount.fromFractionalAmount(r.input,s[0].numerator,s[0].denominator),l=n.CurrencyAmount.fromFractionalAmount(r.output,i.numerator,i.denominator);case 10:return t.a(2,new e({routes:[{inputAmount:u,outputAmount:l,route:r}],tradeType:a}))}},t)})),e.fromRoute=function(e,t,r){return i.apply(this,arguments)},a=w(k().m(function t(r,i){var a,s,u,l,c,d,f,p,h,m,b,g,y,x,A;return k().w(function(t){for(;;)switch(t.n){case 0:a=[],s=T(r);case 1:if((u=s()).done){t.n=13;break}if(c=(l=u.value).route,d=l.amount,f=Array(c.tokenPath.length),p=void 0,h=void 0,i!==n.TradeType.EXACT_INPUT){t.n=6;break}d.currency.equals(c.input)||(0,o.default)(!1),p=n.CurrencyAmount.fromFractionalAmount(c.input,d.numerator,d.denominator),f[0]=n.CurrencyAmount.fromFractionalAmount(c.input.wrapped,d.numerator,d.denominator),m=0;case 2:if(!(m<c.tokenPath.length-1)){t.n=5;break}return b=c.pools[m],t.n=3,b.getOutputAmount(f[m]);case 3:g=t.v[0],f[m+1]=g;case 4:m++,t.n=2;break;case 5:h=n.CurrencyAmount.fromFractionalAmount(c.output,f[f.length-1].numerator,f[f.length-1].denominator),t.n=11;break;case 6:d.currency.equals(c.output)||(0,o.default)(!1),h=n.CurrencyAmount.fromFractionalAmount(c.output,d.numerator,d.denominator),f[f.length-1]=n.CurrencyAmount.fromFractionalAmount(c.output.wrapped,d.numerator,d.denominator),y=c.tokenPath.length-1;case 7:if(!(y>0)){t.n=10;break}return x=c.pools[y-1],t.n=8,x.getInputAmount(f[y]);case 8:A=t.v[0],f[y-1]=A;case 9:y--,t.n=7;break;case 10:p=n.CurrencyAmount.fromFractionalAmount(c.input,f[0].numerator,f[0].denominator);case 11:a.push({route:c,inputAmount:p,outputAmount:h});case 12:t.n=1;break;case 13:return t.a(2,new e({routes:a,tradeType:i}))}},t)})),e.fromRoutes=function(e,t){return a.apply(this,arguments)},e.createUncheckedTrade=function(t){return new e(E({},t,{routes:[{inputAmount:t.inputAmount,outputAmount:t.outputAmount,route:t.route}]}))},e.createUncheckedTradeWithMultipleRoutes=function(t){return new e(t)};var t,r,i,a,s,u,l=e.prototype;return l.minimumAmountOut=function(e,t){if(void 0===t&&(t=this.outputAmount),e.lessThan(O)&&(0,o.default)(!1),this.tradeType===n.TradeType.EXACT_OUTPUT)return t;var r=new n.Fraction(D).add(e).invert().multiply(t.quotient).quotient;return n.CurrencyAmount.fromRawAmount(t.currency,r)},l.maximumAmountIn=function(e,t){if(void 0===t&&(t=this.inputAmount),e.lessThan(O)&&(0,o.default)(!1),this.tradeType===n.TradeType.EXACT_INPUT)return t;var r=new n.Fraction(D).add(e).multiply(t.quotient).quotient;return n.CurrencyAmount.fromRawAmount(t.currency,r)},l.worstExecutionPrice=function(e){return new n.Price(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(e).quotient,this.minimumAmountOut(e).quotient)},s=w(k().m(function t(r,i,a,s,u,l,c){var d,f,p,h,m,b,g,y,x,A,w,v,S,T;return k().w(function(t){for(;;)switch(t.p=t.n){case 0:p=void 0===(f=(d=void 0===s?{}:s).maxNumResults)?3:f,m=void 0===(h=d.maxHops)?3:h,void 0===u&&(u=[]),void 0===l&&(l=i),void 0===c&&(c=[]),r.length>0||(0,o.default)(!1),m>0||(0,o.default)(!1),i===l||u.length>0||(0,o.default)(!1),b=l.wrapped,g=a.wrapped,y=0;case 1:if(!(y<r.length)){t.n=11;break}if(!(!(x=r[y]).token0.equals(b.currency)&&!x.token1.equals(b.currency))){t.n=2;break}return t.a(3,10);case 2:return A=void 0,t.p=3,t.n=4,x.getOutputAmount(b);case 4:A=t.v[0],t.n=7;break;case 5:if(t.p=5,!(v=t.v).isInsufficientInputAmountError){t.n=6;break}return t.a(3,10);case 6:throw v;case 7:if(!(A.currency.isToken&&A.currency.equals(g))){t.n=9;break}return S=n.sortedInsert,T=c,t.n=8,e.fromRoute(new eT([].concat(u,[x]),i.currency,a),i,n.TradeType.EXACT_INPUT);case 8:S(T,t.v,p,eE),t.n=10;break;case 9:if(!(m>1&&r.length>1)){t.n=10;break}return w=r.slice(0,y).concat(r.slice(y+1,r.length)),t.n=10,e.bestTradeExactIn(w,i,a,{maxNumResults:p,maxHops:m-1},[].concat(u,[x]),A,c);case 10:y++,t.n=1;break;case 11:return t.a(2,c)}},t,null,[[3,5]])})),e.bestTradeExactIn=function(e,t,r,i,n,a,o){return s.apply(this,arguments)},u=w(k().m(function t(r,i,a,s,u,l,c){var d,f,p,h,m,b,g,y,x,A,w,v,S,T;return k().w(function(t){for(;;)switch(t.p=t.n){case 0:p=void 0===(f=(d=void 0===s?{}:s).maxNumResults)?3:f,m=void 0===(h=d.maxHops)?3:h,void 0===u&&(u=[]),void 0===l&&(l=a),void 0===c&&(c=[]),r.length>0||(0,o.default)(!1),m>0||(0,o.default)(!1),a===l||u.length>0||(0,o.default)(!1),b=l.wrapped,g=i.wrapped,y=0;case 1:if(!(y<r.length)){t.n=11;break}if(!(!(x=r[y]).token0.equals(b.currency)&&!x.token1.equals(b.currency))){t.n=2;break}return t.a(3,10);case 2:return A=void 0,t.p=3,t.n=4,x.getInputAmount(b);case 4:A=t.v[0],t.n=7;break;case 5:if(t.p=5,!(v=t.v).isInsufficientReservesError){t.n=6;break}return t.a(3,10);case 6:throw v;case 7:if(!A.currency.equals(g)){t.n=9;break}return S=n.sortedInsert,T=c,t.n=8,e.fromRoute(new eT([x].concat(u),i,a.currency),a,n.TradeType.EXACT_OUTPUT);case 8:S(T,t.v,p,eE),t.n=10;break;case 9:if(!(m>1&&r.length>1)){t.n=10;break}return w=r.slice(0,y).concat(r.slice(y+1,r.length)),t.n=10,e.bestTradeExactOut(w,i,a,{maxNumResults:p,maxHops:m-1},[x].concat(u),A,c);case 10:y++,t.n=1;break;case 11:return t.a(2,c)}},t,null,[[3,5]])})),e.bestTradeExactOut=function(e,t,r,i,n,a,o){return u.apply(this,arguments)},S(e,[{key:"route",get:function(){return 1!==this.swaps.length&&(0,o.default)(!1),this.swaps[0].route}},{key:"inputAmount",get:function(){if(this._inputAmount)return this._inputAmount;var e=this.swaps[0].inputAmount.currency,t=this.swaps.map(function(e){return e.inputAmount}).reduce(function(e,t){return e.add(t)},n.CurrencyAmount.fromRawAmount(e,0));return this._inputAmount=t,this._inputAmount}},{key:"outputAmount",get:function(){if(this._outputAmount)return this._outputAmount;var e=this.swaps[0].outputAmount.currency,t=this.swaps.map(function(e){return e.outputAmount}).reduce(function(e,t){return e.add(t)},n.CurrencyAmount.fromRawAmount(e,0));return this._outputAmount=t,this._outputAmount}},{key:"executionPrice",get:function(){var e;return null!=(e=this._executionPrice)?e:this._executionPrice=new n.Price(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}},{key:"priceImpact",get:function(){if(this._priceImpact)return this._priceImpact;for(var e,t=n.CurrencyAmount.fromRawAmount(this.outputAmount.currency,0),r=T(this.swaps);!(e=r()).done;){var i=e.value,a=i.route,o=i.inputAmount,s=a.midPrice;t=t.add(s.quote(o))}var u=t.subtract(this.outputAmount).divide(t);return this._priceImpact=new n.Percent(u.numerator,u.denominator),this._priceImpact}}])}(),eP=function(){function e(){}return e.encodeMulticall=function(t){return Array.isArray(t)||(t=[t]),1===t.length?t[0]:e.INTERFACE.encodeFunctionData("multicall",[t])},e.decodeMulticall=function(t){return e.INTERFACE.decodeFunctionData("multicall",t).data},e}();eP.INTERFACE=new u.Interface(d.default.abi);var e_=function(){function e(){}return e.encodePermit=function(t,r){return"nonce"in r?e.INTERFACE.encodeFunctionData("selfPermitAllowed",[t.address,en(r.nonce),en(r.expiry),r.v,r.r,r.s]):e.INTERFACE.encodeFunctionData("selfPermit",[t.address,en(r.amount),en(r.deadline),r.v,r.r,r.s])},e}();e_.INTERFACE=new u.Interface(p.default.abi);var eI=function(){function e(){}return e.encodeFeeBips=function(e){return en(e.multiply(1e4).quotient)},e.encodeUnwrapWETH9=function(t,r,i){if(r=(0,n.validateAndParseAddress)(r),!i)return e.INTERFACE.encodeFunctionData("unwrapWETH9",[en(t),r]);var a=this.encodeFeeBips(i.fee),o=(0,n.validateAndParseAddress)(i.recipient);return e.INTERFACE.encodeFunctionData("unwrapWETH9WithFee",[en(t),r,a,o])},e.encodeSweepToken=function(t,r,i,a){if(i=(0,n.validateAndParseAddress)(i),!a)return e.INTERFACE.encodeFunctionData("sweepToken",[t.address,en(r),i]);var o=this.encodeFeeBips(a.fee),s=(0,n.validateAndParseAddress)(a.recipient);return e.INTERFACE.encodeFunctionData("sweepTokenWithFee",[t.address,en(r),i,o,s])},e.encodeRefundETH=function(){return e.INTERFACE.encodeFunctionData("refundETH")},e}();eI.INTERFACE=new u.Interface(h.default.abi);var eN=["expectedCurrencyOwed0","expectedCurrencyOwed1"],eR=en(a.default.subtract(a.default.exponentiate(a.default.BigInt(2),a.default.BigInt(128)),a.default.BigInt(1)));function eB(e){return Object.keys(e).some(function(e){return"recipient"===e})}var eC={Permit:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},eO=function(){function e(){}return e.encodeCreate=function(t){return e.INTERFACE.encodeFunctionData("createAndInitializePoolIfNecessary",[t.token0.address,t.token1.address,t.fee,en(t.sqrtRatioX96)])},e.createCallParameters=function(e){return{calldata:this.encodeCreate(e),value:en(0)}},e.addCallParameters=function(t,r){a.default.greaterThan(t.liquidity,O)||(0,o.default)(!1);var i=[],s=t.mintAmounts,u=s.amount0,l=s.amount1,c=t.mintAmountsWithSlippage(r.slippageTolerance),d=en(c.amount0),f=en(c.amount1),p=en(r.deadline);if(eB(r)&&r.createPool&&i.push(this.encodeCreate(t.pool)),r.token0Permit&&i.push(e_.encodePermit(t.pool.token0,r.token0Permit)),r.token1Permit&&i.push(e_.encodePermit(t.pool.token1,r.token1Permit)),eB(r)){var h=(0,n.validateAndParseAddress)(r.recipient);i.push(e.INTERFACE.encodeFunctionData("mint",[{token0:t.pool.token0.address,token1:t.pool.token1.address,fee:t.pool.fee,tickLower:t.tickLower,tickUpper:t.tickUpper,amount0Desired:en(u),amount1Desired:en(l),amount0Min:d,amount1Min:f,recipient:h,deadline:p}]))}else i.push(e.INTERFACE.encodeFunctionData("increaseLiquidity",[{tokenId:en(r.tokenId),amount0Desired:en(u),amount1Desired:en(l),amount0Min:d,amount1Min:f,deadline:p}]));var m=en(0);if(r.useNative){var b=r.useNative.wrapped;t.pool.token0.equals(b)||t.pool.token1.equals(b)||(0,o.default)(!1);var g=t.pool.token0.equals(b)?u:l;a.default.greaterThan(g,O)&&i.push(eI.encodeRefundETH()),m=en(g)}return{calldata:eP.encodeMulticall(i),value:m}},e.encodeCollect=function(t){var r=[],i=en(t.tokenId),a=t.expectedCurrencyOwed0.currency.isNative||t.expectedCurrencyOwed1.currency.isNative,o=(0,n.validateAndParseAddress)(t.recipient);if(r.push(e.INTERFACE.encodeFunctionData("collect",[{tokenId:i,recipient:a?I:o,amount0Max:eR,amount1Max:eR}])),a){var s=t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed0.quotient:t.expectedCurrencyOwed1.quotient,u=t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed1.currency:t.expectedCurrencyOwed0.currency,l=t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed1.quotient:t.expectedCurrencyOwed0.quotient;r.push(eI.encodeUnwrapWETH9(s,o)),r.push(eI.encodeSweepToken(u,l,o))}return r},e.collectCallParameters=function(t){var r=e.encodeCollect(t);return{calldata:eP.encodeMulticall(r),value:en(0)}},e.removeCallParameters=function(t,r){var i=[],s=en(r.deadline),u=en(r.tokenId),l=new eS({pool:t.pool,liquidity:r.liquidityPercentage.multiply(t.liquidity).quotient,tickLower:t.tickLower,tickUpper:t.tickUpper});a.default.greaterThan(l.liquidity,O)||(0,o.default)(!1);var c=l.burnAmountsWithSlippage(r.slippageTolerance),d=c.amount0,f=c.amount1;r.permit&&i.push(e.INTERFACE.encodeFunctionData("permit",[(0,n.validateAndParseAddress)(r.permit.spender),u,en(r.permit.deadline),r.permit.v,r.permit.r,r.permit.s])),i.push(e.INTERFACE.encodeFunctionData("decreaseLiquidity",[{tokenId:u,liquidity:en(l.liquidity),amount0Min:en(d),amount1Min:en(f),deadline:s}]));var p=r.collectOptions,h=p.expectedCurrencyOwed0,m=p.expectedCurrencyOwed1,b=function(e,t){if(null==e)return{};var r={};for(var i in e)if(({}).hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;r[i]=e[i]}return r}(p,eN);return i.push.apply(i,e.encodeCollect(E({tokenId:en(r.tokenId),expectedCurrencyOwed0:h.add(n.CurrencyAmount.fromRawAmount(h.currency,d)),expectedCurrencyOwed1:m.add(n.CurrencyAmount.fromRawAmount(m.currency,f))},b))),r.liquidityPercentage.equalTo(D)?r.burnToken&&i.push(e.INTERFACE.encodeFunctionData("burn",[u])):!0===r.burnToken&&(0,o.default)(!1),{calldata:eP.encodeMulticall(i),value:en(0)}},e.safeTransferFromParameters=function(t){var r=(0,n.validateAndParseAddress)(t.recipient),i=(0,n.validateAndParseAddress)(t.sender);return{calldata:t.data?e.INTERFACE.encodeFunctionData("safeTransferFrom(address,address,uint256,bytes)",[i,r,en(t.tokenId),t.data]):e.INTERFACE.encodeFunctionData("safeTransferFrom(address,address,uint256)",[i,r,en(t.tokenId)]),value:en(0)}},e.getPermitData=function(e,t,r){return{domain:{name:"Uniswap V3 Positions NFT-V1",chainId:r,version:"1",verifyingContract:t},types:eC,values:e}},e}();eO.INTERFACE=new u.Interface(f.default.abi);var eD=function(){function e(){}return e.quoteCallParameters=function(e,t,r,i){void 0===i&&(i={});var a=1===e.pools.length,s=en(t.quotient),u=i.useQuoterV2?this.V2INTERFACE:this.V1INTERFACE;if(a){var l,c,d,f={tokenIn:e.tokenPath[0].address,tokenOut:e.tokenPath[1].address,fee:e.pools[0].fee,sqrtPriceLimitX96:en(null!=(c=null==(d=i)?void 0:d.sqrtPriceLimitX96)?c:0)},p=E({},f,r===n.TradeType.EXACT_INPUT?{amountIn:s}:{amount:s}),h=[f.tokenIn,f.tokenOut,f.fee,s,f.sqrtPriceLimitX96],m=r===n.TradeType.EXACT_INPUT?"quoteExactInputSingle":"quoteExactOutputSingle";l=u.encodeFunctionData(m,i.useQuoterV2?[p]:h)}else{(null==(b=i)?void 0:b.sqrtPriceLimitX96)!==void 0&&(0,o.default)(!1);var b,g=ea(e,r===n.TradeType.EXACT_OUTPUT),y=r===n.TradeType.EXACT_INPUT?"quoteExactInput":"quoteExactOutput";l=u.encodeFunctionData(y,[g,s])}return{calldata:l,value:en(0)}},e}();eD.V1INTERFACE=new u.Interface(m.default.abi),eD.V2INTERFACE=new u.Interface(b.default.abi);var eM=function(){function e(){}return e.encodeClaim=function(t,r){var i,a=[];a.push(e.INTERFACE.encodeFunctionData("unstakeToken",[this._encodeIncentiveKey(t),en(r.tokenId)]));var o=(0,n.validateAndParseAddress)(r.recipient),s=null!=(i=r.amount)?i:0;return a.push(e.INTERFACE.encodeFunctionData("claimReward",[t.rewardToken.address,o,en(s)])),a},e.collectRewards=function(t,r){t=Array.isArray(t)?t:[t];for(var i=[],n=0;n<t.length;n++){var a=t[n];(i=i.concat(this.encodeClaim(a,r))).push(e.INTERFACE.encodeFunctionData("stakeToken",[this._encodeIncentiveKey(a),en(r.tokenId)]))}return{calldata:eP.encodeMulticall(i),value:en(0)}},e.withdrawToken=function(t,r){var i=[];t=Array.isArray(t)?t:[t];for(var a={tokenId:r.tokenId,recipient:r.recipient,amount:r.amount},o=0;o<t.length;o++){var s=t[o];i=i.concat(this.encodeClaim(s,a))}var u=(0,n.validateAndParseAddress)(r.owner);return i.push(e.INTERFACE.encodeFunctionData("withdrawToken",[en(r.tokenId),u,r.data?r.data:en(0)])),{calldata:eP.encodeMulticall(i),value:en(0)}},e.encodeDeposit=function(t){if((t=Array.isArray(t)?t:[t]).length>1){for(var r,i=[],n=0;n<t.length;n++){var a=t[n];i.push(this._encodeIncentiveKey(a))}r=s.defaultAbiCoder.encode([e.INCENTIVE_KEY_ABI+"[]"],[i])}else r=s.defaultAbiCoder.encode([e.INCENTIVE_KEY_ABI],[this._encodeIncentiveKey(t[0])]);return r},e._encodeIncentiveKey=function(e){var t=e.pool,r=t.token0,i=t.token1,a=t.fee,o=(0,n.validateAndParseAddress)(e.refundee);return{rewardToken:e.rewardToken.address,pool:ev.getAddress(r,i,a),startTime:en(e.startTime),endTime:en(e.endTime),refundee:o}},e}();eM.INTERFACE=new u.Interface(g.default.abi),eM.INCENTIVE_KEY_ABI="tuple(address rewardToken, address pool, uint256 startTime, uint256 endTime, address refundee)";var eU=function(){function e(){}return e.swapCallParameters=function(t,r){Array.isArray(t)||(t=[t]);var i=t[0],a=i.inputAmount.currency.wrapped,s=i.outputAmount.currency.wrapped;t.every(function(e){return e.inputAmount.currency.wrapped.equals(a)})||(0,o.default)(!1),t.every(function(e){return e.outputAmount.currency.wrapped.equals(s)})||(0,o.default)(!1);var u=[],l=n.CurrencyAmount.fromRawAmount(t[0].inputAmount.currency,0),c=n.CurrencyAmount.fromRawAmount(t[0].outputAmount.currency,0),d=t.reduce(function(e,t){return e.add(t.minimumAmountOut(r.slippageTolerance))},c),f=i.inputAmount.currency.isNative&&i.tradeType===n.TradeType.EXACT_OUTPUT,p=i.inputAmount.currency.isNative,h=i.outputAmount.currency.isNative,m=h||!!r.fee,b=p?t.reduce(function(e,t){return e.add(t.maximumAmountIn(r.slippageTolerance))},l):l;r.inputTokenPermit&&(i.inputAmount.currency.isToken||(0,o.default)(!1),u.push(e_.encodePermit(i.inputAmount.currency,r.inputTokenPermit)));for(var g,y=(0,n.validateAndParseAddress)(r.recipient),x=en(r.deadline),A=T(t);!(g=A()).done;)for(var w,v=g.value,S=T(v.swaps);!(w=S()).done;){var E=w.value,k=E.route,P=E.inputAmount,_=E.outputAmount,N=en(v.maximumAmountIn(r.slippageTolerance,P).quotient),R=en(v.minimumAmountOut(r.slippageTolerance,_).quotient);if(1===k.pools.length)if(v.tradeType===n.TradeType.EXACT_INPUT){var B,C={tokenIn:k.tokenPath[0].address,tokenOut:k.tokenPath[1].address,fee:k.pools[0].fee,recipient:m?I:y,deadline:x,amountIn:N,amountOutMinimum:R,sqrtPriceLimitX96:en(null!=(B=r.sqrtPriceLimitX96)?B:0)};u.push(e.INTERFACE.encodeFunctionData("exactInputSingle",[C]))}else{var O,D={tokenIn:k.tokenPath[0].address,tokenOut:k.tokenPath[1].address,fee:k.pools[0].fee,recipient:m?I:y,deadline:x,amountOut:R,amountInMaximum:N,sqrtPriceLimitX96:en(null!=(O=r.sqrtPriceLimitX96)?O:0)};u.push(e.INTERFACE.encodeFunctionData("exactOutputSingle",[D]))}else{void 0!==r.sqrtPriceLimitX96&&(0,o.default)(!1);var M=ea(k,v.tradeType===n.TradeType.EXACT_OUTPUT);if(v.tradeType===n.TradeType.EXACT_INPUT){var U={path:M,recipient:m?I:y,deadline:x,amountIn:N,amountOutMinimum:R};u.push(e.INTERFACE.encodeFunctionData("exactInput",[U]))}else{var F={path:M,recipient:m?I:y,deadline:x,amountOut:R,amountInMaximum:N};u.push(e.INTERFACE.encodeFunctionData("exactOutput",[F]))}}}return m&&(r.fee?h?u.push(eI.encodeUnwrapWETH9(d.quotient,y,r.fee)):u.push(eI.encodeSweepToken(i.outputAmount.currency.wrapped,d.quotient,y,r.fee)):u.push(eI.encodeUnwrapWETH9(d.quotient,y))),f&&u.push(eI.encodeRefundETH()),{calldata:eP.encodeMulticall(u),value:en(b.quotient)}},e}();eU.INTERFACE=new u.Interface(y.default.abi),e.s(["ADDRESS_ZERO",()=>I,"FACTORY_ADDRESS",()=>_,"FeeAmount",()=>i,"FullMath",()=>L,"LiquidityMath",()=>z,"Multicall",()=>eP,"NoTickDataProvider",()=>ee,"NonfungiblePositionManager",()=>eO,"POOL_INIT_CODE_HASH",()=>N,"Payments",()=>eI,"Pool",()=>ev,"Position",()=>eS,"PositionLibrary",()=>ep,"Route",()=>eT,"SelfPermit",()=>e_,"SqrtPriceMath",()=>W,"Staker",()=>eM,"SwapMath",()=>G,"SwapQuoter",()=>eD,"SwapRouter",()=>eU,"TICK_SPACINGS",()=>B,"Tick",()=>ex,"TickLibrary",()=>ey,"TickList",()=>ei,"TickListDataProvider",()=>eA,"TickMath",()=>Y,"Trade",()=>ek,"computePoolAddress",()=>F,"encodeRouteToPath",()=>ea,"encodeSqrtRatioX96",()=>eo,"isSorted",()=>et,"maxLiquidityForAmounts",()=>ec,"mostSignificantBit",()=>X,"nearestUsableTick",()=>ed,"poolInitCodeHash",()=>R,"priceToClosestTick",()=>em,"subIn256",()=>eg,"tickToPrice",()=>eh,"toHex",()=>en,"tradeComparator",()=>eE,"v3Swap",()=>Z])},654238,e=>{"use strict";var t=e.i(685648);e.s(["ethers",0,t])},863062,e=>{"use strict";var t,r,i,n,a,o,s,u,l,c,d,f,p,h,m,b,g=e.i(40992),y=e.i(575111),x=e.i(702503),A=e.i(376036),w=e.i(847994),v=e.i(477912),S=e.i(819090),T=e.i(654238),E=e.i(246383),k=e.i(37041);function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function _(e,t,r,i,n,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(i,n)}function I(e){return function(){var t=this,r=arguments;return new Promise(function(i,n){var a=e.apply(t,r);function o(e){_(a,i,n,o,s,"next",e)}function s(e){_(a,i,n,o,s,"throw",e)}o(void 0)})}}function N(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}function R(e,t,r){return t&&N(e.prototype,t),r&&N(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function B(e,t){var r="u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return P(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(){return(C=Object.assign.bind()).apply(null,arguments)}function O(){var e,t,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",n=r.toStringTag||"@@toStringTag";function a(r,i,n,a){var u=Object.create((i&&i.prototype instanceof s?i:s).prototype);return D(u,"_invoke",function(r,i,n){var a,s,u,l=0,c=n||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return a=t,s=0,u=e,f.n=r,o}};function p(r,i){for(s=r,u=i,t=0;!d&&l&&!n&&t<c.length;t++){var n,a=c[t],p=f.p,h=a[2];r>3?(n=h===i)&&(u=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=e):a[0]<=p&&((n=r<2&&p<a[1])?(s=0,f.v=i,f.n=a[1]):p<h&&(n=r<3||a[0]>i||i>h)&&(a[4]=r,a[5]=i,f.n=h,s=0))}if(n||r>1)return o;throw d=!0,i}return function(n,c,h){if(l>1)throw TypeError("Generator is already running");for(d&&1===c&&p(c,h),s=c,u=h;(t=s<2?e:u)||!d;){a||(s?s<3?(s>1&&(f.n=-1),p(s,u)):f.n=u:f.v=u);try{if(l=2,a){if(s||(n="next"),t=a[n]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=a.return)&&t.call(a),s<2&&(u=TypeError("The iterator does not provide a '"+n+"' method"),s=1);a=e}else if((t=(d=f.n<0)?u:r.call(i,f))!==o)break}catch(t){a=e,s=1,u=t}finally{l=1}}return{value:t,done:d}}}(r,n,a),!0),u}var o={};function s(){}function u(){}function l(){}t=Object.getPrototypeOf;var c=l.prototype=s.prototype=Object.create([][i]?t(t([][i]())):(D(t={},i,function(){return this}),t));function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,D(e,n,"GeneratorFunction")),e.prototype=Object.create(c),e}return u.prototype=l,D(c,"constructor",l),D(l,"constructor",u),u.displayName="GeneratorFunction",D(l,n,"GeneratorFunction"),D(c),D(c,n,"Generator"),D(c,i,function(){return this}),D(c,"toString",function(){return"[object Generator]"}),(O=function(){return{w:a,m:d}})()}function D(e,t,r,i){var n=Object.defineProperty;try{n({},"",{})}catch(e){n=0}(D=function(e,t,r,i){function a(t,r){D(e,t,function(e){return this._invoke(t,r,e)})}t?n?n(e,t,{value:r,enumerable:!i,configurable:!i,writable:!i}):e[t]=r:(a("next",0),a("throw",1),a("return",2))})(e,t,r,i)}function M(e,t){return(M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function U(e,t){return!!e.isNative||!t.isNative&&e.wrapped.sortsBefore(t.wrapped)}(t=u||(u={})).AfterRemoveLiquidityReturnsDelta="afterRemoveLiquidityReturnsDelta",t.AfterAddLiquidityReturnsDelta="afterAddLiquidityReturnsDelta",t.AfterSwapReturnsDelta="afterSwapReturnsDelta",t.BeforeSwapReturnsDelta="beforeSwapReturnsDelta",t.AfterDonate="afterDonate",t.BeforeDonate="beforeDonate",t.AfterSwap="afterSwap",t.BeforeSwap="beforeSwap",t.AfterRemoveLiquidity="afterRemoveLiquidity",t.BeforeRemoveLiquidity="beforeRemoveLiquidity",t.AfterAddLiquidity="afterAddLiquidity",t.BeforeAddLiquidity="beforeAddLiquidity",t.AfterInitialize="afterInitialize",t.BeforeInitialize="beforeInitialize";var F=((s={})[u.AfterRemoveLiquidityReturnsDelta]=0,s[u.AfterAddLiquidityReturnsDelta]=1,s[u.AfterSwapReturnsDelta]=2,s[u.BeforeSwapReturnsDelta]=3,s[u.AfterDonate]=4,s[u.BeforeDonate]=5,s[u.AfterSwap]=6,s[u.BeforeSwap]=7,s[u.AfterRemoveLiquidity]=8,s[u.BeforeRemoveLiquidity]=9,s[u.AfterAddLiquidity]=10,s[u.BeforeAddLiquidity]=11,s[u.AfterInitialize]=12,s[u.BeforeInitialize]=13,s),L=function(){function e(){}return e.permissions=function(e){return this._checkAddress(e),{beforeInitialize:this._hasPermission(e,u.BeforeInitialize),afterInitialize:this._hasPermission(e,u.AfterInitialize),beforeAddLiquidity:this._hasPermission(e,u.BeforeAddLiquidity),afterAddLiquidity:this._hasPermission(e,u.AfterAddLiquidity),beforeRemoveLiquidity:this._hasPermission(e,u.BeforeRemoveLiquidity),afterRemoveLiquidity:this._hasPermission(e,u.AfterRemoveLiquidity),beforeSwap:this._hasPermission(e,u.BeforeSwap),afterSwap:this._hasPermission(e,u.AfterSwap),beforeDonate:this._hasPermission(e,u.BeforeDonate),afterDonate:this._hasPermission(e,u.AfterDonate),beforeSwapReturnsDelta:this._hasPermission(e,u.BeforeSwapReturnsDelta),afterSwapReturnsDelta:this._hasPermission(e,u.AfterSwapReturnsDelta),afterAddLiquidityReturnsDelta:this._hasPermission(e,u.AfterAddLiquidityReturnsDelta),afterRemoveLiquidityReturnsDelta:this._hasPermission(e,u.AfterRemoveLiquidityReturnsDelta)}},e.hasPermission=function(e,t){return this._checkAddress(e),this._hasPermission(e,t)},e.hasInitializePermissions=function(t){return this._checkAddress(t),this._hasPermission(t,u.BeforeInitialize)||e._hasPermission(t,u.AfterInitialize)},e.hasLiquidityPermissions=function(t){return this._checkAddress(t),this._hasPermission(t,u.BeforeAddLiquidity)||e._hasPermission(t,u.AfterAddLiquidity)||e._hasPermission(t,u.BeforeRemoveLiquidity)||e._hasPermission(t,u.AfterRemoveLiquidity)},e.hasSwapPermissions=function(t){return this._checkAddress(t),this._hasPermission(t,u.BeforeSwap)||e._hasPermission(t,u.AfterSwap)},e.hasDonatePermissions=function(t){return this._checkAddress(t),this._hasPermission(t,u.BeforeDonate)||e._hasPermission(t,u.AfterDonate)},e._hasPermission=function(e,t){return!!(parseInt("0x"+e.slice(-8),16)&1<<F[t])},e._checkAddress=function(e){(0,w.isAddress)(e)||(0,g.default)(!1)},e}(),q=S.constants.AddressZero,K=v.default.BigInt(-1),W=v.default.BigInt(0),V=v.default.BigInt(1),G=v.default.exponentiate(v.default.BigInt(2),v.default.BigInt(96)),z=v.default.exponentiate(G,v.default.BigInt(2)),j=S.constants.Zero;(r=c||(c={})).INITIALIZE_POOL="initializePool",r.MODIFY_LIQUIDITIES="modifyLiquidities",r.PERMIT_BATCH="0x002a3e3a",r.ERC721PERMIT_PERMIT="0x0f5730f1",(i=d||(d={}))[i.LOWEST=100]="LOWEST",i[i.LOW=500]="LOW",i[i.MEDIUM=3e3]="MEDIUM",i[i.HIGH=1e4]="HIGH",(l={})[d.LOWEST]=1,l[d.LOW]=10,l[d.MEDIUM]=60,l[d.HIGH]=200;var H=new A.NoTickDataProvider,X=function(){function e(t,r,i,n,a,o,s,u,l){void 0===l&&(l=H),(0,w.isAddress)(a)||(0,g.default)(!1),Number.isInteger(i)&&(8388608===i||i<1e6)||(0,g.default)(!1),8388608===i&&(Number(a)>0||(0,g.default)(!1));var c=A.TickMath.getSqrtRatioAtTick(u),d=A.TickMath.getSqrtRatioAtTick(u+1);v.default.greaterThanOrEqual(v.default.BigInt(o),c)&&v.default.lessThanOrEqual(v.default.BigInt(o),d)||(0,g.default)(!1);var f=U(t,r)?[t,r]:[r,t];this.currency0=f[0],this.currency1=f[1],this.fee=i,this.sqrtRatioX96=v.default.BigInt(o),this.tickSpacing=n,this.hooks=a,this.liquidity=v.default.BigInt(s),this.tickCurrent=u,this.tickDataProvider=Array.isArray(l)?new A.TickListDataProvider(l,n):l,this.poolKey=e.getPoolKey(this.currency0,this.currency1,this.fee,this.tickSpacing,this.hooks),this.poolId=e.getPoolId(this.currency0,this.currency1,this.fee,this.tickSpacing,this.hooks)}e.getPoolKey=function(e,t,r,i,n){(0,w.isAddress)(n)||(0,g.default)(!1);var a=U(e,t)?[e,t]:[t,e],o=a[0],s=a[1];return{currency0:o.isNative?q:o.wrapped.address,currency1:s.isNative?q:s.wrapped.address,fee:r,tickSpacing:i,hooks:n}},e.getPoolId=function(e,t,r,i,n){var a=U(e,t)?[e,t]:[t,e],o=a[0],s=a[1],u=o.isNative?q:o.wrapped.address,l=s.isNative?q:s.wrapped.address;return(0,y.keccak256)(["bytes"],[w.defaultAbiCoder.encode(["address","address","uint24","int24","address"],[u,l,r,i,n])])};var t,r,i,n=e.prototype;return n.involvesCurrency=function(e){return e.equals(this.currency0)||e.equals(this.currency1)},n.involvesToken=function(e){return this.involvesCurrency(e)},n.v4InvolvesToken=function(e){return this.involvesCurrency(e)||e.wrapped.equals(this.currency0)||e.wrapped.equals(this.currency1)||e.wrapped.equals(this.currency0.wrapped)||e.wrapped.equals(this.currency1.wrapped)},n.priceOf=function(e){return this.involvesCurrency(e)||(0,g.default)(!1),e.equals(this.currency0)?this.currency0Price:this.currency1Price},t=I(O().m(function t(r,i){var n,a,o,s,u,l,c;return O().w(function(t){for(;;)switch(t.n){case 0:return this.involvesCurrency(r.currency)||(0,g.default)(!1),n=r.currency.equals(this.currency0),t.n=1,this.swap(n,r.quotient,i);case 1:return o=(a=t.v).amountCalculated,s=a.sqrtRatioX96,u=a.liquidity,l=a.tickCurrent,c=n?this.currency1:this.currency0,t.a(2,[x.CurrencyAmount.fromRawAmount(c,v.default.multiply(o,K)),new e(this.currency0,this.currency1,this.fee,this.tickSpacing,this.hooks,s,u,l,this.tickDataProvider)])}},t,this)})),n.getOutputAmount=function(e,r){return t.apply(this,arguments)},r=I(O().m(function t(r,i){var n,a,o,s,u,l,c;return O().w(function(t){for(;;)switch(t.n){case 0:return this.involvesCurrency(r.currency)||(0,g.default)(!1),n=r.currency.equals(this.currency1),t.n=1,this.swap(n,v.default.multiply(r.quotient,K),i);case 1:return o=(a=t.v).amountCalculated,s=a.sqrtRatioX96,u=a.liquidity,l=a.tickCurrent,c=n?this.currency0:this.currency1,t.a(2,[x.CurrencyAmount.fromRawAmount(c,o),new e(this.currency0,this.currency1,this.fee,this.tickSpacing,this.hooks,s,u,l,this.tickDataProvider)])}},t,this)})),n.getInputAmount=function(e,t){return r.apply(this,arguments)},i=I(O().m(function e(t,r,i){return O().w(function(e){for(;;)switch(e.n){case 0:if(this.hookImpactsSwap()){e.n=1;break}return e.a(2,(0,A.v3Swap)(v.default.BigInt(this.fee),this.sqrtRatioX96,this.tickCurrent,this.liquidity,this.tickSpacing,this.tickDataProvider,t,r,i));case 1:throw Error("Unsupported hook");case 2:return e.a(2)}},e,this)})),n.swap=function(e,t,r){return i.apply(this,arguments)},n.hookImpactsSwap=function(){return L.hasSwapPermissions(this.hooks)},R(e,[{key:"token0",get:function(){return this.currency0}},{key:"token1",get:function(){return this.currency1}},{key:"currency0Price",get:function(){var e;return null!=(e=this._currency0Price)?e:this._currency0Price=new x.Price(this.currency0,this.currency1,z,v.default.multiply(this.sqrtRatioX96,this.sqrtRatioX96))}},{key:"token0Price",get:function(){return this.currency0Price}},{key:"currency1Price",get:function(){var e;return null!=(e=this._currency1Price)?e:this._currency1Price=new x.Price(this.currency1,this.currency0,v.default.multiply(this.sqrtRatioX96,this.sqrtRatioX96),z)}},{key:"token1Price",get:function(){return this.currency1Price}},{key:"chainId",get:function(){return this.currency0.chainId}}])}();function Q(e,t){return x.CurrencyAmount.fromFractionalAmount(J(e.currency,t),e.numerator,e.denominator)}function J(e,t){if(t.involvesCurrency(e))return e;if(t.involvesCurrency(e.wrapped))return e.wrapped;if(t.currency0.wrapped.equals(e))return t.currency0;if(t.currency1.wrapped.equals(e))return t.currency1;throw Error("Expected currency "+e.symbol+" to be either "+t.currency0.symbol+" or "+t.currency1.symbol)}var Y=R(function(e,t,r){this._midPrice=null,e.length>0||(0,g.default)(!1);var i=e[0].chainId;e.every(function(e){return e.chainId===i})||(0,g.default)(!1),this.pathInput=J(t,e[0]),this.pathOutput=J(r,e[e.length-1]),e[0].currency0.wrapped.equals(e[0].currency1)&&(this.pathInput.isNative&&null!=(n=e[1])&&n.currency0.isNative?this.pathInput=e[0].currency1:this.pathInput.equals(e[0].currency1)&&e[1]&&!e[1].currency0.isNative&&(this.pathInput=e[0].currency0));for(var n,a,o=[this.pathInput],s=B(e.entries());!(a=s()).done;){var u=a.value,l=u[0],c=u[1],d=o[l];d.equals(c.currency0)||d.equals(c.currency1)||(0,g.default)(!1);var f=d.equals(c.currency0)?c.currency1:c.currency0;o.push(f)}this.pools=e,this.currencyPath=o,this.input=t,this.output=null!=r?r:o[o.length-1]},[{key:"chainId",get:function(){return this.pools[0].chainId}},{key:"midPrice",get:function(){if(null!==this._midPrice)return this._midPrice;var e=this.pools.slice(1).reduce(function(e,t){var r=e.nextInput,i=e.price;return r.equals(t.currency0)?{nextInput:t.currency1,price:i.multiply(t.currency0Price)}:{nextInput:t.currency0,price:i.multiply(t.currency1Price)}},this.pools[0].currency0.equals(this.pathInput)?{nextInput:this.pools[0].currency1,price:this.pools[0].currency0Price}:{nextInput:this.pools[0].currency0,price:this.pools[0].currency1Price}).price;return this._midPrice=new x.Price(this.input,this.output,e.denominator,e.numerator)}}]);function Z(e,t){return(e.inputAmount.currency.equals(t.inputAmount.currency)||(0,g.default)(!1),e.outputAmount.currency.equals(t.outputAmount.currency)||(0,g.default)(!1),e.outputAmount.equalTo(t.outputAmount))?e.inputAmount.equalTo(t.inputAmount)?e.swaps.reduce(function(e,t){return e+t.route.currencyPath.length},0)-t.swaps.reduce(function(e,t){return e+t.route.currencyPath.length},0):e.inputAmount.lessThan(t.inputAmount)?-1:1:e.outputAmount.lessThan(t.outputAmount)?1:-1}var $=function(){function e(e){var t=e.routes,r=e.tradeType,i=t[0].inputAmount.currency,n=t[0].outputAmount.currency;t.every(function(e){var t=e.route;return i.equals(t.input)})||(0,g.default)(!1),t.every(function(e){var t=e.route;return n.equals(t.output)})||(0,g.default)(!1);for(var a,o=t.map(function(e){return e.route.pools.length}).reduce(function(e,t){return e+t},0),s=new Set,u=B(t);!(a=u()).done;)for(var l,c=a.value.route,d=B(c.pools);!(l=d()).done;){var f=l.value;s.add(X.getPoolId(f.currency0,f.currency1,f.fee,f.tickSpacing,f.hooks))}o!==s.size&&(0,g.default)(!1),this.swaps=t,this.tradeType=r}t=I(O().m(function t(r,i){return O().w(function(t){for(;;)if(0===t.n)return t.a(2,e.fromRoute(r,i,x.TradeType.EXACT_INPUT))},t)})),e.exactIn=function(e,r){return t.apply(this,arguments)},r=I(O().m(function t(r,i){return O().w(function(t){for(;;)if(0===t.n)return t.a(2,e.fromRoute(r,i,x.TradeType.EXACT_OUTPUT))},t)})),e.exactOut=function(e,t){return r.apply(this,arguments)},i=I(O().m(function t(r,i,n){var a,o,s,u,l,c,d,f,p;return O().w(function(t){for(;;)switch(t.n){case 0:if(n!==x.TradeType.EXACT_INPUT){t.n=5;break}i.currency.equals(r.input)||(0,g.default)(!1),s=Q(i,r.pools[0]),u=0;case 1:if(!(u<r.pools.length)){t.n=4;break}return l=r.pools[u],t.n=2,l.getOutputAmount(s);case 2:s=t.v[0];case 3:u++,t.n=1;break;case 4:a=x.CurrencyAmount.fromFractionalAmount(r.input,i.numerator,i.denominator),o=x.CurrencyAmount.fromFractionalAmount(r.output,s.numerator,s.denominator),t.n=10;break;case 5:i.currency.equals(r.output)||(0,g.default)(!1),c=Q(i,r.pools[r.pools.length-1]),d=r.pools.length-1;case 6:if(!(d>=0)){t.n=9;break}return f=r.pools[d],t.n=7,f.getInputAmount(c);case 7:c=t.v[0],d===r.pools.length-1&&f.currency1.equals(f.currency0.wrapped)&&(r.output.isNative&&null!=(p=r.pools[d-1])&&p.currency0.isNative?c=x.CurrencyAmount.fromFractionalAmount(f.currency0,c.numerator,c.denominator):r.output.equals(f.currency1)&&r.pools[d-1]&&!r.pools[d-1].currency0.isNative&&(c=x.CurrencyAmount.fromFractionalAmount(f.currency1,c.numerator,c.denominator)));case 8:d--,t.n=6;break;case 9:a=x.CurrencyAmount.fromFractionalAmount(r.input,c.numerator,c.denominator),o=x.CurrencyAmount.fromFractionalAmount(r.output,i.numerator,i.denominator);case 10:return t.a(2,new e({routes:[{inputAmount:a,outputAmount:o,route:r}],tradeType:n}))}},t)})),e.fromRoute=function(e,t,r){return i.apply(this,arguments)},n=I(O().m(function t(r,i){var n;return O().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Promise.all(r.map(function(){var t=I(O().m(function t(r){var n,a,o;return O().w(function(t){for(;;)switch(t.n){case 0:return n=r.amount,a=r.route,t.n=1,e.fromRoute(a,n,i);case 1:return o=t.v,t.a(2,o.swaps[0])}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:return n=t.v,t.a(2,new e({routes:n,tradeType:i}))}},t)})),e.fromRoutes=function(e,t){return n.apply(this,arguments)},e.createUncheckedTrade=function(t){return new e(C({},t,{routes:[{inputAmount:t.inputAmount,outputAmount:t.outputAmount,route:t.route}]}))},e.createUncheckedTradeWithMultipleRoutes=function(t){return new e(t)};var t,r,i,n,a,o,s=e.prototype;return s.minimumAmountOut=function(e,t){if(void 0===t&&(t=this.outputAmount),e.lessThan(W)&&(0,g.default)(!1),this.tradeType===x.TradeType.EXACT_OUTPUT)return t;var r=new x.Fraction(V).add(e).invert().multiply(t.quotient).quotient;return x.CurrencyAmount.fromRawAmount(t.currency,r)},s.maximumAmountIn=function(e,t){if(void 0===t&&(t=this.inputAmount),e.lessThan(W)&&(0,g.default)(!1),this.tradeType===x.TradeType.EXACT_INPUT)return t;var r=new x.Fraction(V).add(e).multiply(t.quotient).quotient;return x.CurrencyAmount.fromRawAmount(t.currency,r)},s.worstExecutionPrice=function(e){return new x.Price(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(e).quotient,this.minimumAmountOut(e).quotient)},a=I(O().m(function t(r,i,n,a,o,s,u){var l,c,d,f,p,h,m,b,y,A,w,v,S;return O().w(function(t){for(;;)switch(t.p=t.n){case 0:d=void 0===(c=(l=void 0===a?{}:a).maxNumResults)?3:c,p=void 0===(f=l.maxHops)?3:f,void 0===o&&(o=[]),void 0===s&&(s=i),void 0===u&&(u=[]),r.length>0||(0,g.default)(!1),p>0||(0,g.default)(!1),i===s||o.length>0||(0,g.default)(!1),h=s,m=0;case 1:if(!(m<r.length)){t.n=11;break}if(!(!(b=r[m]).currency0.equals(h.currency)&&!b.currency1.equals(h.currency))){t.n=2;break}return t.a(3,10);case 2:return y=void 0,t.p=3,t.n=4,b.getOutputAmount(h);case 4:y=t.v[0],t.n=7;break;case 5:if(t.p=5,!(w=t.v).isInsufficientInputAmountError){t.n=6;break}return t.a(3,10);case 6:throw w;case 7:if(!y.currency.equals(n)){t.n=9;break}return v=x.sortedInsert,S=u,t.n=8,e.fromRoute(new Y([].concat(o,[b]),i.currency,n),i,x.TradeType.EXACT_INPUT);case 8:v(S,t.v,d,Z),t.n=10;break;case 9:if(!(p>1&&r.length>1)){t.n=10;break}return A=r.slice(0,m).concat(r.slice(m+1,r.length)),t.n=10,e.bestTradeExactIn(A,i,n,{maxNumResults:d,maxHops:p-1},[].concat(o,[b]),y,u);case 10:m++,t.n=1;break;case 11:return t.a(2,u)}},t,null,[[3,5]])})),e.bestTradeExactIn=function(e,t,r,i,n,o,s){return a.apply(this,arguments)},o=I(O().m(function t(r,i,n,a,o,s,u){var l,c,d,f,p,h,m,b,y,A,w,v,S;return O().w(function(t){for(;;)switch(t.p=t.n){case 0:d=void 0===(c=(l=void 0===a?{}:a).maxNumResults)?3:c,p=void 0===(f=l.maxHops)?3:f,void 0===o&&(o=[]),void 0===s&&(s=n),void 0===u&&(u=[]),r.length>0||(0,g.default)(!1),p>0||(0,g.default)(!1),n===s||o.length>0||(0,g.default)(!1),h=s,m=0;case 1:if(!(m<r.length)){t.n=11;break}if(!(!(b=r[m]).currency0.equals(h.currency)&&!b.currency1.equals(h.currency))){t.n=2;break}return t.a(3,10);case 2:return y=void 0,t.p=3,t.n=4,b.getInputAmount(h);case 4:y=t.v[0],t.n=7;break;case 5:if(t.p=5,!(w=t.v).isInsufficientReservesError){t.n=6;break}return t.a(3,10);case 6:throw w;case 7:if(!y.currency.equals(i)){t.n=9;break}return v=x.sortedInsert,S=u,t.n=8,e.fromRoute(new Y([b].concat(o),i,n.currency),n,x.TradeType.EXACT_OUTPUT);case 8:v(S,t.v,d,Z),t.n=10;break;case 9:if(!(p>1&&r.length>1)){t.n=10;break}return A=r.slice(0,m).concat(r.slice(m+1,r.length)),t.n=10,e.bestTradeExactOut(A,i,n,{maxNumResults:d,maxHops:p-1},[b].concat(o),y,u);case 10:m++,t.n=1;break;case 11:return t.a(2,u)}},t,null,[[3,5]])})),e.bestTradeExactOut=function(e,t,r,i,n,a,s){return o.apply(this,arguments)},R(e,[{key:"route",get:function(){return 1!==this.swaps.length&&(0,g.default)(!1),this.swaps[0].route}},{key:"inputAmount",get:function(){if(this._inputAmount)return this._inputAmount;var e=this.swaps[0].inputAmount.currency,t=this.swaps.map(function(e){return e.inputAmount}).reduce(function(e,t){return e.add(t)},x.CurrencyAmount.fromRawAmount(e,0));return this._inputAmount=t,this._inputAmount}},{key:"outputAmount",get:function(){if(this._outputAmount)return this._outputAmount;var e=this.swaps[0].outputAmount.currency,t=this.swaps.map(function(e){return e.outputAmount}).reduce(function(e,t){return e.add(t)},x.CurrencyAmount.fromRawAmount(e,0));return this._outputAmount=t,this._outputAmount}},{key:"executionPrice",get:function(){var e;return null!=(e=this._executionPrice)?e:this._executionPrice=new x.Price(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}},{key:"priceImpact",get:function(){if(this._priceImpact)return this._priceImpact;for(var e,t=x.CurrencyAmount.fromRawAmount(this.outputAmount.currency,0),r=B(this.swaps);!(e=r()).done;){var i=e.value,n=i.route,a=i.inputAmount,o=n.midPrice;t=t.add(o.quote(a))}var s=t.subtract(this.outputAmount).divide(t);return this._priceImpact=new x.Percent(s.numerator,s.denominator),this._priceImpact}}])}();function ee(e,t,r){var i=A.TickMath.getSqrtRatioAtTick(r),n=v.default.multiply(i,i);return U(e,t)?new x.Price(e,t,z,n):new x.Price(e,t,n,z)}function et(e){var t=U(e.baseCurrency,e.quoteCurrency),r=t?(0,A.encodeSqrtRatioX96)(e.numerator,e.denominator):(0,A.encodeSqrtRatioX96)(e.denominator,e.numerator),i=A.TickMath.getTickAtSqrtRatio(r),n=ee(e.baseCurrency,e.quoteCurrency,i+1);return t?!e.lessThan(n)&&i++:!e.greaterThan(n)&&i++,i}var er=function(){function e(e){var t=e.pool,r=e.liquidity,i=e.tickLower,n=e.tickUpper;this._token0Amount=null,this._token1Amount=null,this._mintAmounts=null,i<n||(0,g.default)(!1),i>=A.TickMath.MIN_TICK&&i%t.tickSpacing==0||(0,g.default)(!1),n<=A.TickMath.MAX_TICK&&n%t.tickSpacing==0||(0,g.default)(!1),this.pool=t,this.tickLower=i,this.tickUpper=n,this.liquidity=v.default.BigInt(r)}var t=e.prototype;return t.ratiosAfterSlippage=function(e){var t=this.pool.token0Price.asFraction.multiply(new x.Percent(1).subtract(e)),r=this.pool.token0Price.asFraction.multiply(e.add(1)),i=(0,A.encodeSqrtRatioX96)(t.numerator,t.denominator);v.default.lessThanOrEqual(i,A.TickMath.MIN_SQRT_RATIO)&&(i=v.default.add(A.TickMath.MIN_SQRT_RATIO,v.default.BigInt(1)));var n=(0,A.encodeSqrtRatioX96)(r.numerator,r.denominator);return v.default.greaterThanOrEqual(n,A.TickMath.MAX_SQRT_RATIO)&&(n=v.default.subtract(A.TickMath.MAX_SQRT_RATIO,v.default.BigInt(1))),{sqrtRatioX96Lower:i,sqrtRatioX96Upper:n}},t.mintAmountsWithSlippage=function(t){var r=this.ratiosAfterSlippage(t),i=r.sqrtRatioX96Upper,n=r.sqrtRatioX96Lower,a=new X(this.pool.token0,this.pool.token1,this.pool.fee,this.pool.tickSpacing,this.pool.hooks,n,0,A.TickMath.getTickAtSqrtRatio(n)),o=new e({pool:new X(this.pool.token0,this.pool.token1,this.pool.fee,this.pool.tickSpacing,this.pool.hooks,i,0,A.TickMath.getTickAtSqrtRatio(i)),liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount1;return{amount0:new e({pool:a,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount0,amount1:o}},t.burnAmountsWithSlippage=function(t){var r=this.ratiosAfterSlippage(t),i=r.sqrtRatioX96Upper,n=r.sqrtRatioX96Lower,a=new X(this.pool.currency0,this.pool.currency1,this.pool.fee,this.pool.tickSpacing,this.pool.hooks,n,0,A.TickMath.getTickAtSqrtRatio(n)),o=new e({pool:new X(this.pool.currency0,this.pool.currency1,this.pool.fee,this.pool.tickSpacing,this.pool.hooks,i,0,A.TickMath.getTickAtSqrtRatio(i)),liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount0,s=new e({pool:a,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount1;return{amount0:o.quotient,amount1:s.quotient}},t.permitBatchData=function(e,t,r,i){var n=this.mintAmountsWithSlippage(e),a=n.amount0,o=n.amount1;return{details:[{token:this.pool.currency0.wrapped.address,amount:a,expiration:i,nonce:r},{token:this.pool.currency1.wrapped.address,amount:o,expiration:i,nonce:r}],spender:t,sigDeadline:i}},e.fromAmounts=function(t){var r=t.pool,i=t.tickLower,n=t.tickUpper,a=t.amount0,o=t.amount1,s=t.useFullPrecision,u=A.TickMath.getSqrtRatioAtTick(i),l=A.TickMath.getSqrtRatioAtTick(n);return new e({pool:r,tickLower:i,tickUpper:n,liquidity:(0,A.maxLiquidityForAmounts)(r.sqrtRatioX96,u,l,a,o,s)})},e.fromAmount0=function(t){var r=t.pool,i=t.tickLower,n=t.tickUpper,a=t.amount0,o=t.useFullPrecision;return e.fromAmounts({pool:r,tickLower:i,tickUpper:n,amount0:a,amount1:x.MaxUint256,useFullPrecision:o})},e.fromAmount1=function(t){var r=t.pool,i=t.tickLower,n=t.tickUpper,a=t.amount1;return e.fromAmounts({pool:r,tickLower:i,tickUpper:n,amount0:x.MaxUint256,amount1:a,useFullPrecision:!0})},R(e,[{key:"token0PriceLower",get:function(){return ee(this.pool.currency0,this.pool.currency1,this.tickLower)}},{key:"token0PriceUpper",get:function(){return ee(this.pool.currency0,this.pool.currency1,this.tickUpper)}},{key:"amount0",get:function(){return this._token0Amount||(this.pool.tickCurrent<this.tickLower?this._token0Amount=x.CurrencyAmount.fromRawAmount(this.pool.currency0,A.SqrtPriceMath.getAmount0Delta(A.TickMath.getSqrtRatioAtTick(this.tickLower),A.TickMath.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)):this.pool.tickCurrent<this.tickUpper?this._token0Amount=x.CurrencyAmount.fromRawAmount(this.pool.currency0,A.SqrtPriceMath.getAmount0Delta(this.pool.sqrtRatioX96,A.TickMath.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)):this._token0Amount=x.CurrencyAmount.fromRawAmount(this.pool.currency0,W)),this._token0Amount}},{key:"amount1",get:function(){return this._token1Amount||(this.pool.tickCurrent<this.tickLower?this._token1Amount=x.CurrencyAmount.fromRawAmount(this.pool.currency1,W):this.pool.tickCurrent<this.tickUpper?this._token1Amount=x.CurrencyAmount.fromRawAmount(this.pool.currency1,A.SqrtPriceMath.getAmount1Delta(A.TickMath.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!1)):this._token1Amount=x.CurrencyAmount.fromRawAmount(this.pool.currency1,A.SqrtPriceMath.getAmount1Delta(A.TickMath.getSqrtRatioAtTick(this.tickLower),A.TickMath.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1))),this._token1Amount}},{key:"mintAmounts",get:function(){if(null===this._mintAmounts)if(this.pool.tickCurrent<this.tickLower)return{amount0:A.SqrtPriceMath.getAmount0Delta(A.TickMath.getSqrtRatioAtTick(this.tickLower),A.TickMath.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:W};else if(this.pool.tickCurrent<this.tickUpper)return{amount0:A.SqrtPriceMath.getAmount0Delta(this.pool.sqrtRatioX96,A.TickMath.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:A.SqrtPriceMath.getAmount1Delta(A.TickMath.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!0)};else return{amount0:W,amount1:A.SqrtPriceMath.getAmount1Delta(A.TickMath.getSqrtRatioAtTick(this.tickLower),A.TickMath.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0)};return this._mintAmounts}}])}(),ei=function(e,t){var r=e.pools.map(function(e){return e});t&&(r=r.reverse());for(var i,n=t?e.pathOutput:e.pathInput,a=[],o=B(r);!(i=o()).done;){var s=i.value,u=n.equals(s.currency0)?s.currency1:s.currency0;a.push({intermediateCurrency:u.isNative?q:u.address,fee:s.fee,tickSpacing:s.tickSpacing,hooks:s.hooks,hookData:"0x"}),n=u}return t?a.reverse():a};(n=h||(h={})).V2_0="2.0",n.V2_1="2.1",(a=m||(m={}))[a.INCREASE_LIQUIDITY=0]="INCREASE_LIQUIDITY",a[a.DECREASE_LIQUIDITY=1]="DECREASE_LIQUIDITY",a[a.MINT_POSITION=2]="MINT_POSITION",a[a.BURN_POSITION=3]="BURN_POSITION",a[a.SWAP_EXACT_IN_SINGLE=6]="SWAP_EXACT_IN_SINGLE",a[a.SWAP_EXACT_IN=7]="SWAP_EXACT_IN",a[a.SWAP_EXACT_OUT_SINGLE=8]="SWAP_EXACT_OUT_SINGLE",a[a.SWAP_EXACT_OUT=9]="SWAP_EXACT_OUT",a[a.SETTLE=11]="SETTLE",a[a.SETTLE_ALL=12]="SETTLE_ALL",a[a.SETTLE_PAIR=13]="SETTLE_PAIR",a[a.TAKE=14]="TAKE",a[a.TAKE_ALL=15]="TAKE_ALL",a[a.TAKE_PORTION=16]="TAKE_PORTION",a[a.TAKE_PAIR=17]="TAKE_PAIR",a[a.CLOSE_CURRENCY=18]="CLOSE_CURRENCY",a[a.SWEEP=20]="SWEEP",a[a.UNWRAP=22]="UNWRAP",(o=b||(b={}))[o.V4SwapExactInSingle=0]="V4SwapExactInSingle",o[o.V4SwapExactIn=1]="V4SwapExactIn",o[o.V4SwapExactOutSingle=2]="V4SwapExactOutSingle",o[o.V4SwapExactOut=3]="V4SwapExactOut",o[o.PoolKey=4]="PoolKey";var en="(address currency0,address currency1,uint24 fee,int24 tickSpacing,address hooks)",ea="(address intermediateCurrency,uint256 fee,int24 tickSpacing,address hooks,bytes hookData)",eo="("+en+" poolKey,bool zeroForOne,uint128 amountIn,uint128 amountOutMinimum,bytes hookData)",es="("+en+" poolKey,bool zeroForOne,uint128 amountOut,uint128 amountInMaximum,bytes hookData)",eu=((f={})[m.INCREASE_LIQUIDITY]=[{name:"tokenId",type:"uint256"},{name:"liquidity",type:"uint256"},{name:"amount0Max",type:"uint128"},{name:"amount1Max",type:"uint128"},{name:"hookData",type:"bytes"}],f[m.DECREASE_LIQUIDITY]=[{name:"tokenId",type:"uint256"},{name:"liquidity",type:"uint256"},{name:"amount0Min",type:"uint128"},{name:"amount1Min",type:"uint128"},{name:"hookData",type:"bytes"}],f[m.MINT_POSITION]=[{name:"poolKey",type:en,subparser:b.PoolKey},{name:"tickLower",type:"int24"},{name:"tickUpper",type:"int24"},{name:"liquidity",type:"uint256"},{name:"amount0Max",type:"uint128"},{name:"amount1Max",type:"uint128"},{name:"owner",type:"address"},{name:"hookData",type:"bytes"}],f[m.BURN_POSITION]=[{name:"tokenId",type:"uint256"},{name:"amount0Min",type:"uint128"},{name:"amount1Min",type:"uint128"},{name:"hookData",type:"bytes"}],f[m.SWAP_EXACT_IN_SINGLE]=[{name:"swap",type:eo,subparser:b.V4SwapExactInSingle}],f[m.SWAP_EXACT_IN]=[{name:"swap",type:"(address currencyIn,"+ea+"[] path,uint128 amountIn,uint128 amountOutMinimum)",subparser:b.V4SwapExactIn}],f[m.SWAP_EXACT_OUT_SINGLE]=[{name:"swap",type:es,subparser:b.V4SwapExactOutSingle}],f[m.SWAP_EXACT_OUT]=[{name:"swap",type:"(address currencyOut,"+ea+"[] path,uint128 amountOut,uint128 amountInMaximum)",subparser:b.V4SwapExactOut}],f[m.SETTLE]=[{name:"currency",type:"address"},{name:"amount",type:"uint256"},{name:"payerIsUser",type:"bool"}],f[m.SETTLE_ALL]=[{name:"currency",type:"address"},{name:"maxAmount",type:"uint256"}],f[m.SETTLE_PAIR]=[{name:"currency0",type:"address"},{name:"currency1",type:"address"}],f[m.TAKE]=[{name:"currency",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],f[m.TAKE_ALL]=[{name:"currency",type:"address"},{name:"minAmount",type:"uint256"}],f[m.TAKE_PORTION]=[{name:"currency",type:"address"},{name:"recipient",type:"address"},{name:"bips",type:"uint256"}],f[m.TAKE_PAIR]=[{name:"currency0",type:"address"},{name:"currency1",type:"address"},{name:"recipient",type:"address"}],f[m.CLOSE_CURRENCY]=[{name:"currency",type:"address"}],f[m.SWEEP]=[{name:"currency",type:"address"},{name:"recipient",type:"address"}],f[m.UNWRAP]=[{name:"amount",type:"uint256"}],f),el=((p={})[m.SWAP_EXACT_IN]=[{name:"swap",type:"(address currencyIn,"+ea+"[] path,uint256[] maxHopSlippage,uint128 amountIn,uint128 amountOutMinimum)",subparser:b.V4SwapExactIn}],p[m.SWAP_EXACT_OUT]=[{name:"swap",type:"(address currencyOut,"+ea+"[] path,uint256[] maxHopSlippage,uint128 amountOut,uint128 amountInMaximum)",subparser:b.V4SwapExactOut}],p),ec=function(){function e(){this.actions="0x",this.params=[]}var t=e.prototype;return t.addAction=function(e,t,r){void 0===r&&(r=h.V2_0);var i,n,a,o,s,u=(i=e,n=t,void 0===(a=r)&&(a=h.V2_0),o=i===m.SWAP_EXACT_IN||i===m.SWAP_EXACT_OUT,s=a===h.V2_1&&o?el[i]:eu[i],{action:i,encodedInput:w.defaultAbiCoder.encode(s.map(function(e){return e.type}),n)});return this.params.push(u.encodedInput),this.actions=this.actions.concat(u.action.toString(16).padStart(2,"0")),this},t.addTrade=function(e,t,r,i){void 0===i&&(i=h.V2_0);var n=e.tradeType===x.TradeType.EXACT_OUTPUT;n&&(t||(0,g.default)(!1)),1!==e.swaps.length&&(0,g.default)(!1);var a=n?m.SWAP_EXACT_OUT:m.SWAP_EXACT_IN,o=ed(e.route.pathInput),s=ed(e.route.pathOutput);if(i===h.V2_1){var u=null!=r?r:[];this.addSwapAction(a,[n?{currencyOut:s,path:ei(e.route,n),maxHopSlippage:u,amountOut:e.outputAmount.quotient.toString(),amountInMaximum:e.maximumAmountIn(null!=t?t:new x.Percent(0)).quotient.toString()}:{currencyIn:o,path:ei(e.route,n),maxHopSlippage:u,amountIn:e.inputAmount.quotient.toString(),amountOutMinimum:t?e.minimumAmountOut(t).quotient.toString():0}],i)}else this.addSwapAction(a,[n?{currencyOut:s,path:ei(e.route,n),amountOut:e.outputAmount.quotient.toString(),amountInMaximum:e.maximumAmountIn(null!=t?t:new x.Percent(0)).quotient.toString()}:{currencyIn:o,path:ei(e.route,n),amountIn:e.inputAmount.quotient.toString(),amountOutMinimum:t?e.minimumAmountOut(t).quotient.toString():0}],i);return this},t.addSettle=function(e,t,r){return this.addAction(m.SETTLE,[ed(e),null!=r?r:0,t]),this},t.addTake=function(e,t,r){return this.addAction(m.TAKE,[ed(e),t,null!=r?r:0]),this},t.addUnwrap=function(e){return this.addAction(m.UNWRAP,[e]),this},t.finalize=function(){return w.defaultAbiCoder.encode(["bytes","bytes[]"],[this.actions,this.params])},t.addSwapAction=function(e,t,r){var i=r===h.V2_1?el[e]:eu[e],n=w.defaultAbiCoder.encode(i.map(function(e){return e.type}),t);return this.params.push(n),this.actions=this.actions.concat(e.toString(16).padStart(2,"0")),this},e}();function ed(e){return e.isNative?q:e.wrapped.address}function ef(e){return e.isNative?q:e.wrapped.address}var ep=function(e){function t(){return e.apply(this,arguments)||this}t.prototype=Object.create(e.prototype),t.prototype.constructor=t,M(t,e);var r=t.prototype;return r.addMint=function(e,t,r,i,n,a,o,s){void 0===s&&(s="0x");var u=[X.getPoolKey(e.currency0,e.currency1,e.fee,e.tickSpacing,e.hooks),t,r,i.toString(),n.toString(),a.toString(),o,s];this.addAction(m.MINT_POSITION,u)},r.addIncrease=function(e,t,r,i,n){void 0===n&&(n="0x");var a=[e.toString(),t.toString(),r.toString(),i.toString(),n];this.addAction(m.INCREASE_LIQUIDITY,a)},r.addDecrease=function(e,t,r,i,n){void 0===n&&(n="0x");var a=[e.toString(),t.toString(),r.toString(),i.toString(),n];this.addAction(m.DECREASE_LIQUIDITY,a)},r.addBurn=function(e,t,r,i){void 0===i&&(i="0x");var n=[e.toString(),t.toString(),r.toString(),i];this.addAction(m.BURN_POSITION,n)},r.addSettlePair=function(e,t){var r=[ef(e),ef(t)];this.addAction(m.SETTLE_PAIR,r)},r.addTakePair=function(e,t,r){var i=[ef(e),ef(t),r];this.addAction(m.TAKE_PAIR,i)},r.addSweep=function(e,t){var r=[ef(e),t];this.addAction(m.SWEEP,r)},t}(ec);function eh(e){var t=v.default.BigInt(e).toString(16);return t.length%2!=0&&(t="0"+t),"0x"+t}var em=function(){function e(){}return e.parseCalldata=function(t,r){void 0===r&&(r=h.V2_0);var i=T.ethers.utils.defaultAbiCoder.decode(["bytes","bytes[]"],t),n=i[0],a=i[1];return{actions:e.getActions(n).map(function(e,t){var i=e===m.SWAP_EXACT_IN||e===m.SWAP_EXACT_OUT,n=r===h.V2_1&&i?el[e]:eu[e],o=T.ethers.utils.defaultAbiCoder.decode(n.map(function(e){return e.type}),a[t]).map(function(e,t){var i,a,o,s,u,l,c,d,f,p,m,g,y,x,A,w,v,S,T,E,k,P,_,I;switch(n[t].subparser){case b.V4SwapExactInSingle:return{name:n[t].name,value:(a=(i=e)[0],o=i[1],s=i[2],u=i[3],l=i[4],{poolKey:{currency0:a[0],currency1:a[1],fee:a[2],tickSpacing:a[3],hooks:a[4]},zeroForOne:o,amountIn:s,amountOutMinimum:u,hookData:l})};case b.V4SwapExactIn:return{name:n[t].name,value:(c=e,d=r,f=c[1].map(function(e){return eb(e)}),d===h.V2_1?{currencyIn:c[0],path:f,maxHopSlippage:c[2],amountIn:c[3],amountOutMinimum:c[4]}:{currencyIn:c[0],path:f,amountIn:c[2],amountOutMinimum:c[3]})};case b.V4SwapExactOutSingle:return{name:n[t].name,value:(m=(p=e)[0],g=p[1],y=p[2],x=p[3],A=p[4],{poolKey:{currency0:m.currency0,currency1:m.currency1,fee:m.fee,tickSpacing:m.tickSpacing,hooks:m.hooks},zeroForOne:g,amountOut:y,amountInMaximum:x,hookData:A})};case b.V4SwapExactOut:return{name:n[t].name,value:(w=e,v=r,S=w[1].map(function(e){return eb(e)}),v===h.V2_1?{currencyOut:w[0],path:S,maxHopSlippage:w[2],amountOut:w[3],amountInMaximum:w[4]}:{currencyOut:w[0],path:S,amountOut:w[2],amountInMaximum:w[3]})};case b.PoolKey:return{name:n[t].name,value:(E=(T=e)[0],k=T[1],P=T[2],_=T[3],I=T[4],{currency0:E,currency1:k,fee:parseInt(P),tickSpacing:parseInt(_),hooks:I})};default:return{name:n[t].name,value:e}}});return{actionName:m[e],actionType:e,params:o}})}},e.getActions=function(e){for(var t=[],r=2;r<e.length;r+=2){var i=e.substring(r,r+2);t.push(parseInt(i,16))}return t},e}();function eb(e){var t=e[0],r=e[1],i=e[2],n=e[3],a=e[4];return{intermediateCurrency:t,fee:parseInt(r),tickSpacing:parseInt(i),hooks:n,hookData:a}}var eg="0x0000000000000000000000000000000000000001",ey=function(){function e(){}return e.encodeMulticall=function(t){return Array.isArray(t)||(t=[t]),1===t.length?t[0]:e.INTERFACE.encodeFunctionData("multicall",[t])},e.decodeMulticall=function(t){return e.INTERFACE.decodeFunctionData("multicall",t)[0]},e}();ey.INTERFACE=new E.Interface(k.default.abi);var ex=[{type:"constructor",inputs:[{name:"_poolManager",type:"address",internalType:"contract IPoolManager"},{name:"_permit2",type:"address",internalType:"contract IAllowanceTransfer"},{name:"_unsubscribeGasLimit",type:"uint256",internalType:"uint256"},{name:"_tokenDescriptor",type:"address",internalType:"contract IPositionDescriptor"},{name:"_weth9",type:"address",internalType:"contract IWETH9"}],stateMutability:"nonpayable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"DOMAIN_SEPARATOR",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"WETH9",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IWETH9"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"owner",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getApproved",inputs:[{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getPoolAndPositionInfo",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"poolKey",type:"tuple",internalType:"struct PoolKey",components:[{name:"currency0",type:"address",internalType:"Currency"},{name:"currency1",type:"address",internalType:"Currency"},{name:"fee",type:"uint24",internalType:"uint24"},{name:"tickSpacing",type:"int24",internalType:"int24"},{name:"hooks",type:"address",internalType:"contract IHooks"}]},{name:"info",type:"uint256",internalType:"PositionInfo"}],stateMutability:"view"},{type:"function",name:"getPositionLiquidity",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"liquidity",type:"uint128",internalType:"uint128"}],stateMutability:"view"},{type:"function",name:"initializePool",inputs:[{name:"key",type:"tuple",internalType:"struct PoolKey",components:[{name:"currency0",type:"address",internalType:"Currency"},{name:"currency1",type:"address",internalType:"Currency"},{name:"fee",type:"uint24",internalType:"uint24"},{name:"tickSpacing",type:"int24",internalType:"int24"},{name:"hooks",type:"address",internalType:"contract IHooks"}]},{name:"sqrtPriceX96",type:"uint160",internalType:"uint160"}],outputs:[{name:"",type:"int24",internalType:"int24"}],stateMutability:"payable"},{type:"function",name:"isApprovedForAll",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"modifyLiquidities",inputs:[{name:"unlockData",type:"bytes",internalType:"bytes"},{name:"deadline",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"modifyLiquiditiesWithoutUnlock",inputs:[{name:"actions",type:"bytes",internalType:"bytes"},{name:"params",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"payable"},{type:"function",name:"msgSender",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"multicall",inputs:[{name:"data",type:"bytes[]",internalType:"bytes[]"}],outputs:[{name:"results",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"nextTokenId",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"nonces",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"word",type:"uint256",internalType:"uint256"}],outputs:[{name:"bitmap",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"ownerOf",inputs:[{name:"id",type:"uint256",internalType:"uint256"}],outputs:[{name:"owner",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"permit",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"deadline",type:"uint256",internalType:"uint256"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"permit",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"permitSingle",type:"tuple",internalType:"struct IAllowanceTransfer.PermitSingle",components:[{name:"details",type:"tuple",internalType:"struct IAllowanceTransfer.PermitDetails",components:[{name:"token",type:"address",internalType:"address"},{name:"amount",type:"uint160",internalType:"uint160"},{name:"expiration",type:"uint48",internalType:"uint48"},{name:"nonce",type:"uint48",internalType:"uint48"}]},{name:"spender",type:"address",internalType:"address"},{name:"sigDeadline",type:"uint256",internalType:"uint256"}]},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"err",type:"bytes",internalType:"bytes"}],stateMutability:"payable"},{type:"function",name:"permit2",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IAllowanceTransfer"}],stateMutability:"view"},{type:"function",name:"permitBatch",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"_permitBatch",type:"tuple",internalType:"struct IAllowanceTransfer.PermitBatch",components:[{name:"details",type:"tuple[]",internalType:"struct IAllowanceTransfer.PermitDetails[]",components:[{name:"token",type:"address",internalType:"address"},{name:"amount",type:"uint160",internalType:"uint160"},{name:"expiration",type:"uint48",internalType:"uint48"},{name:"nonce",type:"uint48",internalType:"uint48"}]},{name:"spender",type:"address",internalType:"address"},{name:"sigDeadline",type:"uint256",internalType:"uint256"}]},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"err",type:"bytes",internalType:"bytes"}],stateMutability:"payable"},{type:"function",name:"permitForAll",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"operator",type:"address",internalType:"address"},{name:"approved",type:"bool",internalType:"bool"},{name:"deadline",type:"uint256",internalType:"uint256"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"poolKeys",inputs:[{name:"poolId",type:"bytes25",internalType:"bytes25"}],outputs:[{name:"currency0",type:"address",internalType:"Currency"},{name:"currency1",type:"address",internalType:"Currency"},{name:"fee",type:"uint24",internalType:"uint24"},{name:"tickSpacing",type:"int24",internalType:"int24"},{name:"hooks",type:"address",internalType:"contract IHooks"}],stateMutability:"view"},{type:"function",name:"poolManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IPoolManager"}],stateMutability:"view"},{type:"function",name:"positionInfo",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"info",type:"uint256",internalType:"PositionInfo"}],stateMutability:"view"},{type:"function",name:"revokeNonce",inputs:[{name:"nonce",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setApprovalForAll",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"approved",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"subscribe",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"newSubscriber",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"subscriber",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"subscriber",type:"address",internalType:"contract ISubscriber"}],stateMutability:"view"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"tokenDescriptor",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IPositionDescriptor"}],stateMutability:"view"},{type:"function",name:"tokenURI",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"unlockCallback",inputs:[{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes",internalType:"bytes"}],stateMutability:"nonpayable"},{type:"function",name:"unsubscribe",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"unsubscribeGasLimit",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"spender",type:"address",indexed:!0,internalType:"address"},{name:"id",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1},{type:"event",name:"ApprovalForAll",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"approved",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"Subscription",inputs:[{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"subscriber",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"id",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Unsubscription",inputs:[{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"subscriber",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AlreadySubscribed",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"subscriber",type:"address",internalType:"address"}]},{type:"error",name:"BurnNotificationReverted",inputs:[{name:"subscriber",type:"address",internalType:"address"},{name:"reason",type:"bytes",internalType:"bytes"}]},{type:"error",name:"ContractLocked",inputs:[]},{type:"error",name:"DeadlinePassed",inputs:[{name:"deadline",type:"uint256",internalType:"uint256"}]},{type:"error",name:"DeltaNotNegative",inputs:[{name:"currency",type:"address",internalType:"Currency"}]},{type:"error",name:"DeltaNotPositive",inputs:[{name:"currency",type:"address",internalType:"Currency"}]},{type:"error",name:"GasLimitTooLow",inputs:[]},{type:"error",name:"InputLengthMismatch",inputs:[]},{type:"error",name:"InsufficientBalance",inputs:[]},{type:"error",name:"InvalidContractSignature",inputs:[]},{type:"error",name:"InvalidEthSender",inputs:[]},{type:"error",name:"InvalidSignature",inputs:[]},{type:"error",name:"InvalidSignatureLength",inputs:[]},{type:"error",name:"InvalidSigner",inputs:[]},{type:"error",name:"MaximumAmountExceeded",inputs:[{name:"maximumAmount",type:"uint128",internalType:"uint128"},{name:"amountRequested",type:"uint128",internalType:"uint128"}]},{type:"error",name:"MinimumAmountInsufficient",inputs:[{name:"minimumAmount",type:"uint128",internalType:"uint128"},{name:"amountReceived",type:"uint128",internalType:"uint128"}]},{type:"error",name:"ModifyLiquidityNotificationReverted",inputs:[{name:"subscriber",type:"address",internalType:"address"},{name:"reason",type:"bytes",internalType:"bytes"}]},{type:"error",name:"NoCodeSubscriber",inputs:[]},{type:"error",name:"NoSelfPermit",inputs:[]},{type:"error",name:"NonceAlreadyUsed",inputs:[]},{type:"error",name:"NotApproved",inputs:[{name:"caller",type:"address",internalType:"address"}]},{type:"error",name:"NotPoolManager",inputs:[]},{type:"error",name:"NotSubscribed",inputs:[]},{type:"error",name:"PoolManagerMustBeLocked",inputs:[]},{type:"error",name:"SignatureDeadlineExpired",inputs:[]},{type:"error",name:"SubscriptionReverted",inputs:[{name:"subscriber",type:"address",internalType:"address"},{name:"reason",type:"bytes",internalType:"bytes"}]},{type:"error",name:"TransferNotificationReverted",inputs:[{name:"subscriber",type:"address",internalType:"address"},{name:"reason",type:"bytes",internalType:"bytes"}]},{type:"error",name:"Unauthorized",inputs:[]},{type:"error",name:"UnsupportedAction",inputs:[{name:"action",type:"uint256",internalType:"uint256"}]}],eA={Permit:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]};function ew(e){return Object.keys(e).some(function(e){return"recipient"===e})}var ev=function(){function e(){}return e.createCallParameters=function(e,t){return{calldata:this.encodeInitializePool(e,t),value:eh(0)}},e.addCallParameters=function(t,r){v.default.greaterThan(t.liquidity,W)||(0,g.default)(!1);var i=[],n=new ep;ew(r)&&r.createPool&&(void 0===r.sqrtPriceX96&&(0,g.default)(!1),1)&&i.push(e.encodeInitializePool(t.pool.poolKey,r.sqrtPriceX96)),t.pool.currency0!==r.useNative&&(t.pool.currency0.isNative||void 0!==r.useNative)&&(0,g.default)(!1);var a=t.mintAmountsWithSlippage(r.slippageTolerance),o=eh(a.amount0),s=eh(a.amount1);if(r.batchPermit&&i.push(e.encodePermitBatch(r.batchPermit.owner,r.batchPermit.permitBatch,r.batchPermit.signature)),ew(r)){var u=(0,x.validateAndParseAddress)(r.recipient);n.addMint(t.pool,t.tickLower,t.tickUpper,t.liquidity,o,s,u,r.hookData)}else n.addIncrease(r.tokenId,t.liquidity,o,s,r.hookData);var l=eh(0);return ew(r)&&r.migrate?(r.useNative?(n.addUnwrap(j),n.addSettle(t.pool.currency0,!1),n.addSettle(t.pool.currency1,!1),n.addSweep(t.pool.currency0.wrapped,r.recipient)):(n.addSettle(t.pool.currency0,!1),n.addSettle(t.pool.currency1,!1),n.addSweep(t.pool.currency0,r.recipient)),n.addSweep(t.pool.currency1,r.recipient)):(n.addSettlePair(t.pool.currency0,t.pool.currency1),r.useNative&&(l=eh(o),n.addSweep(t.pool.currency0,eg))),i.push(e.encodeModifyLiquidities(n.finalize(),r.deadline)),{calldata:ey.encodeMulticall(i),value:l}},e.removeCallParameters=function(t,r){var i=[],n=new ep,a=eh(r.tokenId);if(r.burnToken){r.liquidityPercentage.equalTo(V)||(0,g.default)(!1),r.permit&&i.push(e.encodeERC721Permit(r.permit.spender,r.permit.tokenId,r.permit.deadline,r.permit.nonce,r.permit.signature));var o=t.burnAmountsWithSlippage(r.slippageTolerance),s=o.amount0,u=o.amount1;n.addBurn(a,s,u,r.hookData)}else{var l,c=new er({pool:t.pool,liquidity:r.liquidityPercentage.multiply(t.liquidity).quotient,tickLower:t.tickLower,tickUpper:t.tickUpper});v.default.greaterThan(c.liquidity,W)||(0,g.default)(!1);var d=c.burnAmountsWithSlippage(r.slippageTolerance),f=d.amount0,p=d.amount1;n.addDecrease(a,c.liquidity.toString(),f.toString(),p.toString(),null!=(l=r.hookData)?l:"0x")}return n.addTakePair(t.pool.currency0,t.pool.currency1,eg),i.push(e.encodeModifyLiquidities(n.finalize(),r.deadline)),{calldata:ey.encodeMulticall(i),value:eh(0)}},e.collectCallParameters=function(t,r){var i=[],n=new ep,a=eh(r.tokenId),o=(0,x.validateAndParseAddress)(r.recipient);return n.addDecrease(a,"0","0","0",r.hookData),n.addTakePair(t.pool.currency0,t.pool.currency1,o),i.push(e.encodeModifyLiquidities(n.finalize(),r.deadline)),{calldata:ey.encodeMulticall(i),value:eh(0)}},e.encodeInitializePool=function(t,r){return e.INTERFACE.encodeFunctionData(c.INITIALIZE_POOL,[t,r.toString()])},e.encodeModifyLiquidities=function(t,r){return e.INTERFACE.encodeFunctionData(c.MODIFY_LIQUIDITIES,[t,r])},e.encodePermitBatch=function(t,r,i){return e.INTERFACE.encodeFunctionData(c.PERMIT_BATCH,[t,r,i])},e.encodeERC721Permit=function(t,r,i,n,a){return e.INTERFACE.encodeFunctionData(c.ERC721PERMIT_PERMIT,[t,r,i,n,a])},e.getPermitData=function(e,t,r){return{domain:{name:"Uniswap V4 Positions NFT",chainId:r,verifyingContract:t},types:eA,values:e}},e}();ev.INTERFACE=new E.Interface(ex),e.s(["Actions",()=>m,"DYNAMIC_FEE_FLAG",()=>8388608,"Hook",()=>L,"HookOptions",()=>u,"Pool",()=>X,"Position",()=>er,"Route",()=>Y,"Subparser",()=>b,"Trade",()=>$,"URVersion",()=>h,"V4BaseActionsParser",()=>em,"V4Planner",()=>ec,"V4PositionManager",()=>ev,"V4PositionPlanner",()=>ep,"V4_BASE_ACTIONS_ABI_DEFINITION",()=>eu,"V4_SWAP_ACTIONS_V2_1",()=>el,"amountWithPathCurrency",()=>Q,"encodeRouteToPath",()=>ei,"getPathCurrency",()=>J,"hookFlagIndex",()=>F,"priceToClosestTick",()=>et,"sortsBefore",()=>U,"tickToPrice",()=>ee,"toAddress",()=>ef,"toHex",()=>eh,"tradeComparator",()=>Z])},700334,e=>{"use strict";var t=e.i(702503),r=e.i(477912),i=e.i(47771),n=e.i(839341),a=e.i(575111),o=e.i(40992),s=t.V2_FACTORY_ADDRESSES,u="0x96e8ac4277198ff8b6f785478aa9a39f403cb768dd02cbee326c3e7da348845f",l=r.default.BigInt(1e3),c=r.default.BigInt(0),d=r.default.BigInt(1),f=r.default.BigInt(5),p=r.default.BigInt(997),h=r.default.BigInt(1e3),m=r.default.BigInt(1e4),b=new t.Percent(c),g=new t.Percent(d);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function x(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}function A(e,t,r){return t&&x(e.prototype,t),r&&x(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function w(e,t){var r="u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return y(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,E(e,t)}function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(T=function(){return!!e})()}function E(e,t){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t="function"==typeof Map?new Map:void 0;return(k=function(e){if(null===e||!function(e){try{return -1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,r){if(T())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var n=new(e.bind.apply(e,i));return r&&E(n,r.prototype),n}(e,arguments,v(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),E(r,e)})(e)}var P="setPrototypeOf"in Object,_=function(e){function t(){var r;return(r=e.call(this)||this).isInsufficientReservesError=!0,r.name=r.constructor.name,P&&Object.setPrototypeOf(r,(this instanceof t?this.constructor:void 0).prototype),r}return S(t,e),t}(k(Error)),I=function(e){function t(){var r;return(r=e.call(this)||this).isInsufficientInputAmountError=!0,r.name=r.constructor.name,P&&Object.setPrototypeOf(r,(this instanceof t?this.constructor:void 0).prototype),r}return S(t,e),t}(k(Error)),N=function(e){var t=e.factoryAddress,r=e.tokenA,n=e.tokenB,o=r.sortsBefore(n)?[r,n]:[n,r],s=o[0],l=o[1];return(0,i.getCreate2Address)(t,(0,a.keccak256)(["bytes"],[(0,a.pack)(["address","address"],[s.address,l.address])]),u)},R=function(){function e(r,i){var n=r.currency.sortsBefore(i.currency)?[r,i]:[i,r];this.liquidityToken=new t.Token(n[0].currency.chainId,e.getAddress(n[0].currency,n[1].currency),18,"UNI-V2","Uniswap V2"),this.tokenAmounts=n}e.getAddress=function(e,t){var r;return N({factoryAddress:null!=(r=s[e.chainId])?r:"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",tokenA:e,tokenB:t})};var i=e.prototype;return i.involvesToken=function(e){return e.equals(this.token0)||e.equals(this.token1)},i.priceOf=function(e){return this.involvesToken(e)||(0,o.default)(!1),e.equals(this.token0)?this.token0Price:this.token1Price},i.reserveOf=function(e){return this.involvesToken(e)||(0,o.default)(!1),e.equals(this.token0)?this.reserve0:this.reserve1},i.getOutputAmount=function(i,n){if(void 0===n&&(n=!0),this.involvesToken(i.currency)||(0,o.default)(!1),r.default.equal(this.reserve0.quotient,c)||r.default.equal(this.reserve1.quotient,c))throw new _;var a=this.reserveOf(i.currency),s=this.reserveOf(i.currency.equals(this.token0)?this.token1:this.token0),u=n?this.derivePercentAfterSellFees(i):b,l=u.greaterThan(b)?t.CurrencyAmount.fromRawAmount(i.currency,u.multiply(i).quotient):i,d=r.default.multiply(l.quotient,p),f=r.default.multiply(d,s.quotient),m=r.default.add(r.default.multiply(a.quotient,h),d),g=t.CurrencyAmount.fromRawAmount(i.currency.equals(this.token0)?this.token1:this.token0,r.default.divide(f,m));if(r.default.equal(g.quotient,c))throw new I;var y=n?this.derivePercentAfterBuyFees(g):b,x=y.greaterThan(b)?t.CurrencyAmount.fromRawAmount(g.currency,g.multiply(y).quotient):g;if(r.default.equal(x.quotient,c))throw new I;return[x,new e(a.add(l),s.subtract(x))]},i.getInputAmount=function(i,n){void 0===n&&(n=!0),this.involvesToken(i.currency)||(0,o.default)(!1);var a=n?this.derivePercentAfterBuyFees(i):b,s=a.greaterThan(b)?t.CurrencyAmount.fromRawAmount(i.currency,r.default.add(i.divide(a).quotient,d)):i;if(r.default.equal(this.reserve0.quotient,c)||r.default.equal(this.reserve1.quotient,c)||r.default.greaterThanOrEqual(i.quotient,this.reserveOf(i.currency).quotient)||r.default.greaterThanOrEqual(s.quotient,this.reserveOf(i.currency).quotient))throw new _;var u=this.reserveOf(i.currency),l=this.reserveOf(i.currency.equals(this.token0)?this.token1:this.token0),f=r.default.multiply(r.default.multiply(l.quotient,s.quotient),h),m=r.default.multiply(r.default.subtract(u.quotient,s.quotient),p),g=t.CurrencyAmount.fromRawAmount(i.currency.equals(this.token0)?this.token1:this.token0,r.default.add(r.default.divide(f,m),d)),y=n?this.derivePercentAfterSellFees(g):b;return[y.greaterThan(b)?t.CurrencyAmount.fromRawAmount(g.currency,r.default.add(g.divide(y).quotient,d)):g,new e(l.add(g),u.subtract(i))]},i.getLiquidityMinted=function(e,i,n){e.currency.equals(this.liquidityToken)||(0,o.default)(!1);var a,s=i.currency.sortsBefore(n.currency)?[i,n]:[n,i];if(s[0].currency.equals(this.token0)&&s[1].currency.equals(this.token1)||(0,o.default)(!1),r.default.equal(e.quotient,c))a=r.default.subtract((0,t.sqrt)(r.default.multiply(s[0].quotient,s[1].quotient)),l);else{var u=r.default.divide(r.default.multiply(s[0].quotient,e.quotient),this.reserve0.quotient),d=r.default.divide(r.default.multiply(s[1].quotient,e.quotient),this.reserve1.quotient);a=r.default.lessThanOrEqual(u,d)?u:d}if(!r.default.greaterThan(a,c))throw new I;return t.CurrencyAmount.fromRawAmount(this.liquidityToken,a)},i.getLiquidityValue=function(e,i,n,a,s){if(void 0===a&&(a=!1),this.involvesToken(e)||(0,o.default)(!1),i.currency.equals(this.liquidityToken)||(0,o.default)(!1),n.currency.equals(this.liquidityToken)||(0,o.default)(!1),r.default.lessThanOrEqual(n.quotient,i.quotient)||(0,o.default)(!1),a){s||(0,o.default)(!1);var u,l=r.default.BigInt(s);if(r.default.equal(l,c))u=i;else{var d=(0,t.sqrt)(r.default.multiply(this.reserve0.quotient,this.reserve1.quotient)),p=(0,t.sqrt)(l);if(r.default.greaterThan(d,p)){var h=r.default.multiply(i.quotient,r.default.subtract(d,p)),m=r.default.add(r.default.multiply(d,f),p),b=r.default.divide(h,m);u=i.add(t.CurrencyAmount.fromRawAmount(this.liquidityToken,b))}else u=i}}else u=i;return t.CurrencyAmount.fromRawAmount(e,r.default.divide(r.default.multiply(n.quotient,this.reserveOf(e).quotient),u.quotient))},i.derivePercentAfterSellFees=function(e){var i=this.token0.wrapped.equals(e.wrapped.currency)?this.token0.wrapped.sellFeeBps:this.token1.wrapped.sellFeeBps;return null!=i&&i.gt(n.BigNumber.from(0))?g.subtract(new t.Percent(r.default.BigInt(i)).divide(m)):b},i.derivePercentAfterBuyFees=function(e){var i=this.token0.wrapped.equals(e.wrapped.currency)?this.token0.wrapped.buyFeeBps:this.token1.wrapped.buyFeeBps;return null!=i&&i.gt(n.BigNumber.from(0))?g.subtract(new t.Percent(r.default.BigInt(i)).divide(m)):b},A(e,[{key:"token0Price",get:function(){var e=this.tokenAmounts[1].divide(this.tokenAmounts[0]);return new t.Price(this.token0,this.token1,e.denominator,e.numerator)}},{key:"token1Price",get:function(){var e=this.tokenAmounts[0].divide(this.tokenAmounts[1]);return new t.Price(this.token1,this.token0,e.denominator,e.numerator)}},{key:"chainId",get:function(){return this.token0.chainId}},{key:"token0",get:function(){return this.tokenAmounts[0].currency}},{key:"token1",get:function(){return this.tokenAmounts[1].currency}},{key:"reserve0",get:function(){return this.tokenAmounts[0]}},{key:"reserve1",get:function(){return this.tokenAmounts[1]}}])}(),B=A(function(e,t,r){this._midPrice=null,e.length>0||(0,o.default)(!1);var i=e[0].chainId;e.every(function(e){return e.chainId===i})||(0,o.default)(!1);var n=t.wrapped;e[0].involvesToken(n)||(0,o.default)(!1),void 0===r||e[e.length-1].involvesToken(r.wrapped)||(0,o.default)(!1);for(var a,s=[n],u=w(e.entries());!(a=u()).done;){var l=a.value,c=l[0],d=l[1],f=s[c];f.equals(d.token0)||f.equals(d.token1)||(0,o.default)(!1);var p=f.equals(d.token0)?d.token1:d.token0;s.push(p)}this.pairs=e,this.path=s,this.input=t,this.output=r},[{key:"midPrice",get:function(){if(null!==this._midPrice)return this._midPrice;for(var e,r=[],i=w(this.pairs.entries());!(e=i()).done;){var n=e.value,a=n[0],o=n[1];r.push(this.path[a].equals(o.token0)?new t.Price(o.reserve0.currency,o.reserve1.currency,o.reserve0.quotient,o.reserve1.quotient):new t.Price(o.reserve1.currency,o.reserve0.currency,o.reserve1.quotient,o.reserve0.quotient))}var s=r.slice(1).reduce(function(e,t){return e.multiply(t)},r[0]);return this._midPrice=new t.Price(this.input,this.output,s.denominator,s.numerator)}},{key:"chainId",get:function(){return this.pairs[0].chainId}}]);function C(e,t){return(e.inputAmount.currency.equals(t.inputAmount.currency)||(0,o.default)(!1),e.outputAmount.currency.equals(t.outputAmount.currency)||(0,o.default)(!1),e.outputAmount.equalTo(t.outputAmount))?e.inputAmount.equalTo(t.inputAmount)?0:e.inputAmount.lessThan(t.inputAmount)?-1:1:e.outputAmount.lessThan(t.outputAmount)?1:-1}function O(e,t){var r=C(e,t);return 0!==r?r:e.priceImpact.lessThan(t.priceImpact)?-1:e.priceImpact.greaterThan(t.priceImpact)?1:e.route.path.length-t.route.path.length}var D=function(){function e(e,r,i){this.route=e,this.tradeType=i;var n=Array(e.path.length);if(i===t.TradeType.EXACT_INPUT){r.currency.equals(e.input)||(0,o.default)(!1),n[0]=r.wrapped;for(var a=0;a<e.path.length-1;a++){var s=e.pairs[a].getOutputAmount(n[a])[0];n[a+1]=s}this.inputAmount=t.CurrencyAmount.fromFractionalAmount(e.input,r.numerator,r.denominator),this.outputAmount=t.CurrencyAmount.fromFractionalAmount(e.output,n[n.length-1].numerator,n[n.length-1].denominator)}else{r.currency.equals(e.output)||(0,o.default)(!1),n[n.length-1]=r.wrapped;for(var u=e.path.length-1;u>0;u--){var l=e.pairs[u-1].getInputAmount(n[u])[0];n[u-1]=l}this.inputAmount=t.CurrencyAmount.fromFractionalAmount(e.input,n[0].numerator,n[0].denominator),this.outputAmount=t.CurrencyAmount.fromFractionalAmount(e.output,r.numerator,r.denominator)}this.executionPrice=new t.Price(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient),this.priceImpact=(0,t.computePriceImpact)(e.midPrice,this.inputAmount,this.outputAmount)}e.exactIn=function(r,i){return new e(r,i,t.TradeType.EXACT_INPUT)},e.exactOut=function(r,i){return new e(r,i,t.TradeType.EXACT_OUTPUT)};var r=e.prototype;return r.minimumAmountOut=function(e){if(e.lessThan(c)&&(0,o.default)(!1),this.tradeType===t.TradeType.EXACT_OUTPUT)return this.outputAmount;var r=new t.Fraction(d).add(e).invert().multiply(this.outputAmount.quotient).quotient;return t.CurrencyAmount.fromRawAmount(this.outputAmount.currency,r)},r.maximumAmountIn=function(e){if(e.lessThan(c)&&(0,o.default)(!1),this.tradeType===t.TradeType.EXACT_INPUT)return this.inputAmount;var r=new t.Fraction(d).add(e).multiply(this.inputAmount.quotient).quotient;return t.CurrencyAmount.fromRawAmount(this.inputAmount.currency,r)},e.bestTradeExactIn=function(r,i,n,a,s,u,l){var d=void 0===a?{}:a,f=d.maxNumResults,p=void 0===f?3:f,h=d.maxHops,m=void 0===h?3:h;void 0===s&&(s=[]),void 0===u&&(u=i),void 0===l&&(l=[]),r.length>0||(0,o.default)(!1),m>0||(0,o.default)(!1),i===u||s.length>0||(0,o.default)(!1);for(var b=u.wrapped,g=n.wrapped,y=0;y<r.length;y++){var x=r[y];if((x.token0.equals(b.currency)||x.token1.equals(b.currency))&&!(x.reserve0.equalTo(c)||x.reserve1.equalTo(c))){var A=void 0;try{A=x.getOutputAmount(b)[0]}catch(e){if(e.isInsufficientInputAmountError)continue;throw e}if(A.currency.equals(g))(0,t.sortedInsert)(l,new e(new B([].concat(s,[x]),i.currency,n),i,t.TradeType.EXACT_INPUT),p,O);else if(m>1&&r.length>1){var w=r.slice(0,y).concat(r.slice(y+1,r.length));e.bestTradeExactIn(w,i,n,{maxNumResults:p,maxHops:m-1},[].concat(s,[x]),A,l)}}}return l},r.worstExecutionPrice=function(e){return new t.Price(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(e).quotient,this.minimumAmountOut(e).quotient)},e.bestTradeExactOut=function(r,i,n,a,s,u,l){var d=void 0===a?{}:a,f=d.maxNumResults,p=void 0===f?3:f,h=d.maxHops,m=void 0===h?3:h;void 0===s&&(s=[]),void 0===u&&(u=n),void 0===l&&(l=[]),r.length>0||(0,o.default)(!1),m>0||(0,o.default)(!1),n===u||s.length>0||(0,o.default)(!1);for(var b=u.wrapped,g=i.wrapped,y=0;y<r.length;y++){var x=r[y];if((x.token0.equals(b.currency)||x.token1.equals(b.currency))&&!(x.reserve0.equalTo(c)||x.reserve1.equalTo(c))){var A=void 0;try{A=x.getInputAmount(b)[0]}catch(e){if(e.isInsufficientReservesError)continue;throw e}if(A.currency.equals(g))(0,t.sortedInsert)(l,new e(new B([x].concat(s),i,n.currency),n,t.TradeType.EXACT_OUTPUT),p,O);else if(m>1&&r.length>1){var w=r.slice(0,y).concat(r.slice(y+1,r.length));e.bestTradeExactOut(w,i,n,{maxNumResults:p,maxHops:m-1},[x].concat(s),A,l)}}}return l},e}();function M(e){return"0x"+e.quotient.toString(16)}var U=function(){function e(){}return e.swapCallParameters=function(e,r){var i,n,a,s=e.inputAmount.currency.isNative,u=e.outputAmount.currency.isNative;s&&u&&(0,o.default)(!1),"ttl"in r&&!(r.ttl>0)&&(0,o.default)(!1);var l=(0,t.validateAndParseAddress)(r.recipient),c=M(e.maximumAmountIn(r.allowedSlippage)),d=M(e.minimumAmountOut(r.allowedSlippage)),f=e.route.path.map(function(e){return e.address}),p="ttl"in r?"0x"+(Math.floor(new Date().getTime()/1e3)+r.ttl).toString(16):"0x"+r.deadline.toString(16),h=!!r.feeOnTransfer;switch(e.tradeType){case t.TradeType.EXACT_INPUT:s?(i=h?"swapExactETHForTokensSupportingFeeOnTransferTokens":"swapExactETHForTokens",n=[d,f,l,p],a=c):(i=u?h?"swapExactTokensForETHSupportingFeeOnTransferTokens":"swapExactTokensForETH":h?"swapExactTokensForTokensSupportingFeeOnTransferTokens":"swapExactTokensForTokens",n=[c,d,f,l,p],a="0x0");break;case t.TradeType.EXACT_OUTPUT:h&&(0,o.default)(!1),s?(i="swapETHForExactTokens",n=[d,f,l,p],a=c):(i=u?"swapTokensForExactETH":"swapTokensForExactTokens",n=[d,c,f,l,p],a="0x0")}return{methodName:i,args:n,value:a}},e}();e.s(["FACTORY_ADDRESS_MAP",()=>s,"INIT_CODE_HASH",()=>u,"InsufficientInputAmountError",()=>I,"InsufficientReservesError",()=>_,"MINIMUM_LIQUIDITY",()=>l,"Pair",()=>R,"Route",()=>B,"Router",()=>U,"Trade",()=>D,"computePairAddress",()=>N,"inputOutputComparator",()=>C,"tradeComparator",()=>O])},177483,(e,t,r)=>{"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(r,"__esModule",{value:!0});var n,a=e.r(702503),o=i(e.r(477912)),s=e.r(811874),u=i(e.r(699247)),l=i(e.r(602572)),c=e.r(376036),d=i(e.r(113572)),f=i(e.r(368137)),p=i(e.r(616451)),h=e.r(700334),m=e.r(863062),b=e.r(575111),g="0x0000000000000000000000000000000000000000",y="0x0000000000000000000000000000000000000001",x="0x0000000000000000000000000000000000000002",A=o.BigInt(0),w=o.BigInt(1),v=new a.Percent(A),S=new a.Percent(100,100);function T(e){return Object.keys(e).some(function(e){return"recipient"===e})}(n=r.ApprovalTypes||(r.ApprovalTypes={}))[n.NOT_REQUIRED=0]="NOT_REQUIRED",n[n.MAX=1]="MAX",n[n.MAX_MINUS_ONE=2]="MAX_MINUS_ONE",n[n.ZERO_THEN_MAX=3]="ZERO_THEN_MAX",n[n.ZERO_THEN_MAX_MINUS_ONE=4]="ZERO_THEN_MAX_MINUS_ONE";var E=function(){function e(){}return e.encodeApproveMax=function(t){return e.INTERFACE.encodeFunctionData("approveMax",[t.address])},e.encodeApproveMaxMinusOne=function(t){return e.INTERFACE.encodeFunctionData("approveMaxMinusOne",[t.address])},e.encodeApproveZeroThenMax=function(t){return e.INTERFACE.encodeFunctionData("approveZeroThenMax",[t.address])},e.encodeApproveZeroThenMaxMinusOne=function(t){return e.INTERFACE.encodeFunctionData("approveZeroThenMaxMinusOne",[t.address])},e.encodeCallPositionManager=function(t){if(t.length>0||u(!1),1===t.length)return e.INTERFACE.encodeFunctionData("callPositionManager",t);var r=c.NonfungiblePositionManager.INTERFACE.encodeFunctionData("multicall",[t]);return e.INTERFACE.encodeFunctionData("callPositionManager",[r])},e.encodeAddLiquidity=function(t,r,i,n){var a=t.mintAmountsWithSlippage(n),s=a.amount0,u=a.amount1;return o.lessThan(r.amount0.quotient,s)&&(s=r.amount0.quotient),o.lessThan(r.amount1.quotient,u)&&(u=r.amount1.quotient),T(i)?e.INTERFACE.encodeFunctionData("mint",[{token0:t.pool.token0.address,token1:t.pool.token1.address,fee:t.pool.fee,tickLower:t.tickLower,tickUpper:t.tickUpper,amount0Min:c.toHex(s),amount1Min:c.toHex(u),recipient:i.recipient}]):e.INTERFACE.encodeFunctionData("increaseLiquidity",[{token0:t.pool.token0.address,token1:t.pool.token1.address,amount0Min:c.toHex(s),amount1Min:c.toHex(u),tokenId:c.toHex(i.tokenId)}])},e.encodeApprove=function(t,i){switch(i){case r.ApprovalTypes.MAX:return e.encodeApproveMax(t.wrapped);case r.ApprovalTypes.MAX_MINUS_ONE:return e.encodeApproveMaxMinusOne(t.wrapped);case r.ApprovalTypes.ZERO_THEN_MAX:return e.encodeApproveZeroThenMax(t.wrapped);case r.ApprovalTypes.ZERO_THEN_MAX_MINUS_ONE:return e.encodeApproveZeroThenMaxMinusOne(t.wrapped);default:throw Error("Error: invalid ApprovalType")}},e}();E.INTERFACE=new s.Interface(l.abi);var k=function(){function e(){}return e.encodeMulticall=function(t,r){if(void 0===r)return c.Multicall.encodeMulticall(t);if(Array.isArray(t)||(t=[t]),"string"==typeof r&&r.startsWith("0x")){var i=function(e){if(!e.match(/^0x[0-9a-fA-F]{64}$/))throw Error(e+" is not valid bytes32.");return e.toLowerCase()}(r);return e.INTERFACE.encodeFunctionData("multicall(bytes32,bytes[])",[i,t])}var n=c.toHex(r);return e.INTERFACE.encodeFunctionData("multicall(uint256,bytes[])",[n,t])},e}();function P(e){return c.toHex(e.multiply(1e4).quotient)}k.INTERFACE=new s.Interface(d.abi);var _=function(){function e(){}return e.encodeUnwrapWETH9=function(t,r,i){if("string"==typeof r)return c.Payments.encodeUnwrapWETH9(t,r,i);if(i){var n=P(i.fee),o=a.validateAndParseAddress(i.recipient);return e.INTERFACE.encodeFunctionData("unwrapWETH9WithFee(uint256,uint256,address)",[c.toHex(t),n,o])}return e.INTERFACE.encodeFunctionData("unwrapWETH9(uint256)",[c.toHex(t)])},e.encodeSweepToken=function(t,r,i,n){if("string"==typeof i)return c.Payments.encodeSweepToken(t,r,i,n);if(n){var o=P(n.fee),s=a.validateAndParseAddress(n.recipient);return e.INTERFACE.encodeFunctionData("sweepTokenWithFee(address,uint256,uint256,address)",[t.address,c.toHex(r),o,s])}return e.INTERFACE.encodeFunctionData("sweepToken(address,uint256)",[t.address,c.toHex(r)])},e.encodePull=function(t,r){return e.INTERFACE.encodeFunctionData("pull",[t.address,c.toHex(r)])},e.encodeWrapETH=function(t){return e.INTERFACE.encodeFunctionData("wrapETH",[c.toHex(t)])},e}();function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function N(e,t,r,i,n,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(i,n)}function R(e){return function(){var t=this,r=arguments;return new Promise(function(i,n){var a=e.apply(t,r);function o(e){N(a,i,n,o,s,"next",e)}function s(e){N(a,i,n,o,s,"throw",e)}o(void 0)})}}function B(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(i.key),i)}}function C(e,t,r){return t&&B(e.prototype,t),r&&B(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function O(e,t){var r="u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return I(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(){return(D=Object.assign.bind()).apply(null,arguments)}function M(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function U(){var e,t,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",n=r.toStringTag||"@@toStringTag";function a(r,i,n,a){var u=Object.create((i&&i.prototype instanceof s?i:s).prototype);return F(u,"_invoke",function(r,i,n){var a,s,u,l=0,c=n||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return a=t,s=0,u=e,f.n=r,o}};function p(r,i){for(s=r,u=i,t=0;!d&&l&&!n&&t<c.length;t++){var n,a=c[t],p=f.p,h=a[2];r>3?(n=h===i)&&(u=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=e):a[0]<=p&&((n=r<2&&p<a[1])?(s=0,f.v=i,f.n=a[1]):p<h&&(n=r<3||a[0]>i||i>h)&&(a[4]=r,a[5]=i,f.n=h,s=0))}if(n||r>1)return o;throw d=!0,i}return function(n,c,h){if(l>1)throw TypeError("Generator is already running");for(d&&1===c&&p(c,h),s=c,u=h;(t=s<2?e:u)||!d;){a||(s?s<3?(s>1&&(f.n=-1),p(s,u)):f.n=u:f.v=u);try{if(l=2,a){if(s||(n="next"),t=a[n]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=a.return)&&t.call(a),s<2&&(u=TypeError("The iterator does not provide a '"+n+"' method"),s=1);a=e}else if((t=(d=f.n<0)?u:r.call(i,f))!==o)break}catch(t){a=e,s=1,u=t}finally{l=1}}return{value:t,done:d}}}(r,n,a),!0),u}var o={};function s(){}function u(){}function l(){}t=Object.getPrototypeOf;var c=l.prototype=s.prototype=Object.create([][i]?t(t([][i]())):(F(t={},i,function(){return this}),t));function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,F(e,n,"GeneratorFunction")),e.prototype=Object.create(c),e}return u.prototype=l,F(c,"constructor",l),F(l,"constructor",u),u.displayName="GeneratorFunction",F(l,n,"GeneratorFunction"),F(c),F(c,n,"Generator"),F(c,i,function(){return this}),F(c,"toString",function(){return"[object Generator]"}),(U=function(){return{w:a,m:d}})()}function F(e,t,r,i){var n=Object.defineProperty;try{n({},"",{})}catch(e){n=0}(F=function(e,t,r,i){function a(t,r){F(e,t,function(e){return this._invoke(t,r,e)})}t?n?n(e,t,{value:r,enumerable:!i,configurable:!i,writable:!i}):e[t]=r:(a("next",0),a("throw",1),a("return",2))})(e,t,r,i)}function L(e,t){return a.CurrencyAmount.fromFractionalAmount(q(e.currency,t),e.numerator,e.denominator)}function q(e,t){if(t.involvesToken(e))return e;if(t.involvesToken(e.wrapped))return e.wrapped;if(!(t instanceof m.Pool))throw Error("Expected currency "+e.symbol+" to be either "+t.token0.symbol+" or "+t.token1.symbol);return t.token0.wrapped.equals(e)?t.token0:t.token1.wrapped.equals(e)?t.token1:e}_.INTERFACE=new s.Interface(f.abi);var K=C(function(e,t,r,i){void 0===i&&(i=!1),this._midPrice=null,(e=i?e:e.filter(function(e){return!(e instanceof m.Pool&&0===e.tickSpacing)})).length>0||u(!1);var n=e[0].chainId;e.every(function(e){return e.chainId===n})||u(!1),this.pathInput=q(t,e[0]),this.pathOutput=q(r,e[e.length-1]),e[0]instanceof m.Pool?e[0].v4InvolvesToken(this.pathInput)||u(!1):e[0].involvesToken(this.pathInput)||u(!1);var a=e[e.length-1];a instanceof m.Pool?a.v4InvolvesToken(r)||a.v4InvolvesToken(r.wrapped)||u(!1):a.involvesToken(r.wrapped)||u(!1);var o=[this.pathInput];e[0].token0.equals(this.pathInput)?o.push(e[0].token1):o.push(e[0].token0);for(var s=1;s<e.length;s++){var l=e[s],c=o[s],d=void 0;if(l instanceof m.Pool&&!l.involvesToken(c)||!(l instanceof m.Pool)&&c.isNative)if(c.equals(l.token0.wrapped))d=l.token1;else{if(!c.wrapped.equals(l.token0)&&!c.wrapped.equals(l.token1))throw Error("POOL_MISMATCH pool: "+JSON.stringify(l)+" inputToken: "+JSON.stringify(c));d=c.wrapped.equals(l.token0)?l.token1:l.token0}else c.equals(l.token0)||c.equals(l.token1)||u(!1),d=c.equals(l.token0)?l.token1:l.token0;o.push(d)}this.pools=e,this.path=o,this.input=t,this.output=null!=r?r:o[o.length-1]},[{key:"chainId",get:function(){return this.pools[0].chainId}},{key:"midPrice",get:function(){if(null!==this._midPrice)return this._midPrice;var e=this.pools.slice(1).reduce(function(e,t){var r=e.price;return e.nextInput.equals(t.token0)?{nextInput:t.token1,price:r.multiply(t.token0Price.asFraction)}:{nextInput:t.token0,price:r.multiply(t.token1Price.asFraction)}},this.pools[0].token0.equals(this.pathInput)?{nextInput:this.pools[0].token1,price:this.pools[0].token0Price.asFraction}:{nextInput:this.pools[0].token0,price:this.pools[0].token1Price.asFraction}).price;return this._midPrice=new a.Price(this.input,this.output,e.denominator,e.numerator)}}]);function W(e,t){return e.inputAmount.currency.equals(t.inputAmount.currency)||u(!1),e.outputAmount.currency.equals(t.outputAmount.currency)||u(!1),e.outputAmount.equalTo(t.outputAmount)?e.inputAmount.equalTo(t.inputAmount)?e.swaps.reduce(function(e,t){return e+t.route.path.length},0)-t.swaps.reduce(function(e,t){return e+t.route.path.length},0):e.inputAmount.lessThan(t.inputAmount)?-1:1:e.outputAmount.lessThan(t.outputAmount)?1:-1}var V,G=function(){function e(e){var t=e.routes,r=e.tradeType,i=t[0].inputAmount.currency,n=t[0].outputAmount.currency;t.every(function(e){return i.wrapped.equals(e.route.input.wrapped)})||u(!1),t.every(function(e){return n.wrapped.equals(e.route.output.wrapped)})||u(!1);for(var o,s=t.map(function(e){return e.route.pools.length}).reduce(function(e,t){return e+t},0),l=new Set,d=O(t);!(o=d()).done;)for(var f,p=O(o.value.route.pools);!(f=p()).done;){var b=f.value;if(b instanceof m.Pool)l.add(b.poolId);else if(b instanceof c.Pool)l.add(c.Pool.getAddress(b.token0,b.token1,b.fee));else{if(!(b instanceof h.Pair))throw Error("Unexpected pool type in route when constructing trade object");l.add(h.Pair.getAddress(b.token0,b.token1))}}s!==l.size&&u(!1),r!==a.TradeType.EXACT_INPUT&&u(!1),this.swaps=t,this.tradeType=r}t=R(U().m(function t(r,i,n){var o,s,l,c,d;return U().w(function(t){for(;;)switch(t.n){case 0:o=Array(r.path.length),n!==a.TradeType.EXACT_INPUT&&u(!1),i.currency.equals(r.input)||u(!1),o[0]=L(i,r.pools[0]),c=0;case 1:if(!(c<r.path.length-1)){t.n=4;break}return d=r.pools[c],t.n=2,d.getOutputAmount(L(o[c],d));case 2:o[c+1]=t.v[0];case 3:c++,t.n=1;break;case 4:return s=a.CurrencyAmount.fromFractionalAmount(r.input,i.numerator,i.denominator),l=a.CurrencyAmount.fromFractionalAmount(r.output,o[o.length-1].numerator,o[o.length-1].denominator),t.a(2,new e({routes:[{inputAmount:s,outputAmount:l,route:r}],tradeType:n}))}},t)})),e.fromRoute=function(e,r,i){return t.apply(this,arguments)},r=R(U().m(function t(r,i){var n,o,s,l,c,d,f,p,h,m,b;return U().w(function(t){for(;;)switch(t.n){case 0:n=[],i!==a.TradeType.EXACT_INPUT&&u(!1),o=O(r);case 1:if((s=o()).done){t.n=7;break}c=(l=s.value).route,d=l.amount,f=Array(c.path.length),p=void 0,h=void 0,d.currency.equals(c.input)||u(!1),p=a.CurrencyAmount.fromFractionalAmount(c.input,d.numerator,d.denominator),f[0]=a.CurrencyAmount.fromFractionalAmount(c.pathInput,d.numerator,d.denominator),m=0;case 2:if(!(m<c.path.length-1)){t.n=5;break}return b=c.pools[m],t.n=3,b.getOutputAmount(L(f[m],b));case 3:f[m+1]=t.v[0];case 4:m++,t.n=2;break;case 5:h=a.CurrencyAmount.fromFractionalAmount(c.output,f[f.length-1].numerator,f[f.length-1].denominator),n.push({route:c,inputAmount:p,outputAmount:h});case 6:t.n=1;break;case 7:return t.a(2,new e({routes:n,tradeType:i}))}},t)})),e.fromRoutes=function(e,t){return r.apply(this,arguments)},e.createUncheckedTrade=function(t){return new e(D({},t,{routes:[{inputAmount:t.inputAmount,outputAmount:t.outputAmount,route:t.route}]}))},e.createUncheckedTradeWithMultipleRoutes=function(t){return new e(t)};var t,r,i,n=e.prototype;return n.minimumAmountOut=function(e,t){void 0===t&&(t=this.outputAmount),e.lessThan(A)&&u(!1);var r=new a.Fraction(w).add(e).invert().multiply(t.quotient).quotient;return a.CurrencyAmount.fromRawAmount(t.currency,r)},n.maximumAmountIn=function(e,t){return void 0===t&&(t=this.inputAmount),e.lessThan(A)&&u(!1),t},n.worstExecutionPrice=function(e){return new a.Price(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(e).quotient,this.minimumAmountOut(e).quotient)},i=R(U().m(function t(r,i,n,o,s,l,c){var d,f,p,b,g,y,x,w,v,S,T,E,k,P,_;return U().w(function(t){for(;;)switch(t.p=t.n){case 0:p=void 0===(f=(d=void 0===o?{}:o).maxNumResults)?3:f,g=void 0===(b=d.maxHops)?3:b,void 0===s&&(s=[]),void 0===l&&(l=i),void 0===c&&(c=[]),r.length>0||u(!1),g>0||u(!1),i===l||s.length>0||u(!1),y=l,x=0;case 1:if(!(x<r.length)){t.n=15;break}if((w=r[x]).token0.equals((v=w instanceof m.Pool?y:y.wrapped).currency)||w.token1.equals(v.currency)){t.n=2;break}return t.a(3,14);case 2:if(!(w instanceof h.Pair)||!w.reserve0.equalTo(A)&&!w.reserve1.equalTo(A)){t.n=3;break}return t.a(3,14);case 3:if(S=void 0,t.p=4,!(w instanceof m.Pool)){t.n=6;break}return t.n=5,w.getOutputAmount(v);case 5:E=t.v,t.n=8;break;case 6:return t.n=7,w.getOutputAmount(v.wrapped);case 7:E=t.v;case 8:S=E[0],t.n=11;break;case 9:if(t.p=9,!(k=t.v).isInsufficientInputAmountError){t.n=10;break}return t.a(3,14);case 10:throw k;case 11:if(!S.currency.wrapped.equals(n.wrapped)){t.n=13;break}return P=a.sortedInsert,_=c,t.n=12,e.fromRoute(new K([].concat(s,[w]),i.currency,n),i,a.TradeType.EXACT_INPUT);case 12:P(_,t.v,p,W),t.n=14;break;case 13:if(!(g>1&&r.length>1)){t.n=14;break}return T=r.slice(0,x).concat(r.slice(x+1,r.length)),t.n=14,e.bestTradeExactIn(T,i,n,{maxNumResults:p,maxHops:g-1},[].concat(s,[w]),S,c);case 14:x++,t.n=1;break;case 15:return t.a(2,c)}},t,null,[[4,9]])})),e.bestTradeExactIn=function(e,t,r,n,a,o,s){return i.apply(this,arguments)},C(e,[{key:"route",get:function(){return 1!==this.swaps.length&&u(!1),this.swaps[0].route}},{key:"inputAmount",get:function(){if(this._inputAmount)return this._inputAmount;var e=this.swaps[0].inputAmount.currency,t=this.swaps.map(function(e){return e.inputAmount}).reduce(function(e,t){return e.add(t)},a.CurrencyAmount.fromRawAmount(e,0));return this._inputAmount=t,this._inputAmount}},{key:"outputAmount",get:function(){if(this._outputAmount)return this._outputAmount;var e=this.swaps[0].outputAmount.currency,t=this.swaps.map(function(e){return e.outputAmount}).reduce(function(e,t){return e.add(t)},a.CurrencyAmount.fromRawAmount(e,0));return this._outputAmount=t,this._outputAmount}},{key:"executionPrice",get:function(){var e;return null!=(e=this._executionPrice)?e:this._executionPrice=new a.Price(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}},{key:"priceImpact",get:function(){if(this._priceImpact)return this._priceImpact;for(var e,t=a.CurrencyAmount.fromRawAmount(this.outputAmount.currency,0),r=O(this.swaps);!(e=r()).done;){var i=e.value;t=t.add(i.route.midPrice.quote(i.inputAmount))}var n=t.subtract(this.outputAmount).divide(t);return this._priceImpact=new a.Percent(n.numerator,n.denominator),this._priceImpact}}])}();function z(e,t){if(t.token0.wrapped.equals(e.wrapped))return t.token0;if(t.token1.wrapped.equals(e.wrapped))return t.token1;throw Error("Expected token "+e.symbol+" to be either "+t.token0.symbol+" or "+t.token1.symbol)}(V=r.Protocol||(r.Protocol={})).V2="V2",V.V3="V3",V.V4="V4",V.MIXED="MIXED";var j=function(e){function t(t){var i;return(i=e.call(this,t.pairs,t.input,t.output)||this).protocol=r.Protocol.V2,i.pools=i.pairs,i.pathInput=z(t.input,i.pairs[0]),i.pathOutput=z(t.output,i.pairs[i.pairs.length-1]),i}return M(t,e),t}(h.Route),H=function(e){function t(t){var i;return(i=e.call(this,t.pools,t.input,t.output)||this).protocol=r.Protocol.V3,i.path=t.tokenPath,i.pathInput=z(t.input,i.pools[0]),i.pathOutput=z(t.output,i.pools[i.pools.length-1]),i}return M(t,e),t}(c.Route),X=function(e){function t(t){var i;return(i=e.call(this,t.pools,t.input,t.output)||this).protocol=r.Protocol.V4,i.path=t.currencyPath,i}return M(t,e),t}(m.Route),Q=function(e){function t(t){var i;return(i=e.call(this,t.pools,t.input,t.output)||this).protocol=r.Protocol.MIXED,i}return M(t,e),t}(K),J=function(){function e(e){var t=e.v2Routes,r=e.v3Routes,i=e.v4Routes,n=e.mixedRoutes,a=e.tradeType;this.swaps=[],this.routes=[];for(var o,s=O(void 0===t?[]:t);!(o=s()).done;){var l=o.value,d=l.inputAmount,f=l.outputAmount,p=new j(l.routev2);this.routes.push(p),this.swaps.push({route:p,inputAmount:d,outputAmount:f})}for(var b,g=O(void 0===r?[]:r);!(b=g()).done;){var y=b.value,x=y.inputAmount,A=y.outputAmount,w=new H(y.routev3);this.routes.push(w),this.swaps.push({route:w,inputAmount:x,outputAmount:A})}for(var v,S=O(void 0===i?[]:i);!(v=S()).done;){var T=v.value,E=T.inputAmount,k=T.outputAmount,P=new X(T.routev4);this.routes.push(P),this.swaps.push({route:P,inputAmount:E,outputAmount:k})}for(var _,I=O(void 0===n?[]:n);!(_=I()).done;){var N=_.value,R=N.inputAmount,B=N.outputAmount,C=new Q(N.mixedRoute);this.routes.push(C),this.swaps.push({route:C,inputAmount:R,outputAmount:B})}if(0===this.swaps.length)throw Error("No routes provided when calling Trade constructor");this.tradeType=a;var D=this.swaps[0].inputAmount.currency,M=this.swaps[0].outputAmount.currency;this.swaps.every(function(e){return D.wrapped.equals(e.route.input.wrapped)})||u(!1),this.swaps.every(function(e){return M.wrapped.equals(e.route.output.wrapped)})||u(!1);for(var U,F=this.swaps.map(function(e){return e.route.pools.length}).reduce(function(e,t){return e+t},0),L=new Set,q=O(this.swaps);!(U=q()).done;)for(var K,W=O(U.value.route.pools);!(K=W()).done;){var V=K.value;if(V instanceof m.Pool)L.add(V.poolId);else if(V instanceof c.Pool)L.add(c.Pool.getAddress(V.token0,V.token1,V.fee));else{if(!(V instanceof h.Pair))throw Error("Unexpected pool type in route when constructing trade object");L.add(h.Pair.getAddress(V.token0,V.token1))}}F!==L.size&&u(!1)}var t,r,i=e.prototype;return i.isWrappedNative=function(e){return e.equals(a.Ether.onChain(e.chainId).wrapped)},i.minimumAmountOut=function(e,t){if(void 0===t&&(t=this.outputAmount),e.lessThan(A)&&u(!1),this.tradeType===a.TradeType.EXACT_OUTPUT)return t;var r=new a.Fraction(w).add(e).invert().multiply(t.quotient).quotient;return a.CurrencyAmount.fromRawAmount(t.currency,r)},i.maximumAmountIn=function(e,t){if(void 0===t&&(t=this.inputAmount),e.lessThan(A)&&u(!1),this.tradeType===a.TradeType.EXACT_INPUT)return t;var r=new a.Fraction(w).add(e).multiply(t.quotient).quotient;return a.CurrencyAmount.fromRawAmount(t.currency,r)},i.worstExecutionPrice=function(e){return new a.Price(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(e).quotient,this.minimumAmountOut(e).quotient)},t=R(U().m(function t(r,i,n,a,o){var s,u,l,d,f,p,b,g,y,x,A,w,v,S,T,E,k,P,_,I,N,R,B,C,D,M,F;return U().w(function(t){for(;;)switch(t.n){case 0:for(s=[],u=[],l=[],d=[],f=O(r);!(p=f()).done;)y=new h.Trade(g=(b=p.value).routev2,b.amount,n),s.push({routev2:g,inputAmount:y.inputAmount,outputAmount:y.outputAmount});x=O(i);case 1:if((A=x()).done){t.n=4;break}return v=(w=A.value).routev3,S=w.amount,t.n=2,c.Trade.fromRoute(v,S,n);case 2:u.push({routev3:v,inputAmount:(T=t.v).inputAmount,outputAmount:T.outputAmount});case 3:t.n=1;break;case 4:if(!o){t.n=8;break}E=O(o);case 5:if((k=E()).done){t.n=8;break}return _=(P=k.value).routev4,I=P.amount,t.n=6,m.Trade.fromRoute(_,I,n);case 6:l.push({routev4:_,inputAmount:(N=t.v).inputAmount,outputAmount:N.outputAmount});case 7:t.n=5;break;case 8:if(!a){t.n=12;break}R=O(a);case 9:if((B=R()).done){t.n=12;break}return D=(C=B.value).mixedRoute,M=C.amount,t.n=10,G.fromRoute(D,M,n);case 10:d.push({mixedRoute:D,inputAmount:(F=t.v).inputAmount,outputAmount:F.outputAmount});case 11:t.n=9;break;case 12:return t.a(2,new e({v2Routes:s,v3Routes:u,v4Routes:l,mixedRoutes:d,tradeType:n}))}},t)})),e.fromRoutes=function(e,r,i,n,a){return t.apply(this,arguments)},r=R(U().m(function t(r,i,n){var a,o,s,u,l,d,f,p;return U().w(function(t){for(;;)switch(t.n){case 0:if(a=[],o=[],s=[],u=[],!(r instanceof h.Route)){t.n=1;break}l=new h.Trade(r,i,n),a=[{routev2:r,inputAmount:l.inputAmount,outputAmount:l.outputAmount}],t.n=8;break;case 1:if(!(r instanceof c.Route)){t.n=3;break}return t.n=2,c.Trade.fromRoute(r,i,n);case 2:o=[{routev3:r,inputAmount:(d=t.v).inputAmount,outputAmount:d.outputAmount}],t.n=8;break;case 3:if(!(r instanceof m.Route)){t.n=5;break}return t.n=4,m.Trade.fromRoute(r,i,n);case 4:s=[{routev4:r,inputAmount:(f=t.v).inputAmount,outputAmount:f.outputAmount}],t.n=8;break;case 5:if(!(r instanceof K)){t.n=7;break}return t.n=6,G.fromRoute(r,i,n);case 6:u=[{mixedRoute:r,inputAmount:(p=t.v).inputAmount,outputAmount:p.outputAmount}],t.n=8;break;case 7:throw Error("Invalid route type");case 8:return t.a(2,new e({v2Routes:a,v3Routes:o,v4Routes:s,mixedRoutes:u,tradeType:n}))}},t)})),e.fromRoute=function(e,t,i){return r.apply(this,arguments)},C(e,[{key:"inputAmount",get:function(){if(this._inputAmount)return this._inputAmount;var e=this.swaps[0].inputAmount.currency,t=this.swaps.map(function(e){return e.inputAmount}).reduce(function(e,t){return e.add(t)},a.CurrencyAmount.fromRawAmount(e,0));return this._inputAmount=t,this._inputAmount}},{key:"outputAmount",get:function(){if(this._outputAmount)return this._outputAmount;var e=this.swaps[0].outputAmount.currency,t=this.swaps.map(function(e){return e.outputAmount}).reduce(function(e,t){return e.add(t)},a.CurrencyAmount.fromRawAmount(e,0));return this._outputAmount=t,this._outputAmount}},{key:"amounts",get:function(){var e,t,r=null==(e=this.swaps.find(function(e){return e.inputAmount.currency.isNative}))?void 0:e.inputAmount.currency,i=null==(t=this.swaps.find(function(e){return e.outputAmount.currency.isNative}))?void 0:t.outputAmount.currency;return{inputAmount:this.inputAmount,inputAmountNative:r?this.swaps.reduce(function(e,t){return t.route.pathInput.isNative?e.add(t.inputAmount):e},a.CurrencyAmount.fromRawAmount(r,0)):void 0,outputAmount:this.outputAmount,outputAmountNative:i?this.swaps.reduce(function(e,t){return t.route.pathOutput.isNative?e.add(t.outputAmount):e},a.CurrencyAmount.fromRawAmount(i,0)):void 0}}},{key:"numberOfInputWraps",get:function(){return this.inputAmount.currency.isNative?this.wethInputRoutes.length:0}},{key:"numberOfInputUnwraps",get:function(){return this.isWrappedNative(this.inputAmount.currency)?this.nativeInputRoutes.length:0}},{key:"nativeInputRoutes",get:function(){return this._nativeInputRoutes||(this._nativeInputRoutes=this.routes.filter(function(e){return e.pathInput.isNative})),this._nativeInputRoutes}},{key:"wethInputRoutes",get:function(){var e=this;return this._wethInputRoutes||(this._wethInputRoutes=this.routes.filter(function(t){return e.isWrappedNative(t.pathInput)})),this._wethInputRoutes}},{key:"executionPrice",get:function(){var e;return null!=(e=this._executionPrice)?e:this._executionPrice=new a.Price(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}},{key:"inputTax",get:function(){var e=this.inputAmount.currency;return e.isNative||!e.wrapped.sellFeeBps?v:new a.Percent(e.wrapped.sellFeeBps.toNumber(),1e4)}},{key:"outputTax",get:function(){var e=this.outputAmount.currency;return e.isNative||!e.wrapped.buyFeeBps?v:new a.Percent(e.wrapped.buyFeeBps.toNumber(),1e4)}},{key:"priceImpact",get:function(){if(this._priceImpact)return this._priceImpact;if(this.outputTax.equalTo(S))return v;for(var e,t=a.CurrencyAmount.fromRawAmount(this.outputAmount.currency,0),r=O(this.swaps);!(e=r()).done;){var i=e.value,n=i.route.midPrice,o=i.inputAmount.multiply(new a.Fraction(w).subtract(this.inputTax));t=t.add(n.quote(o))}if(t.equalTo(A))return v;var s=this.outputAmount.divide(new a.Fraction(w).subtract(this.outputTax)),u=t.subtract(s).divide(t);return this._priceImpact=new a.Percent(u.numerator,u.denominator),this._priceImpact}}])}();function Y(e,t){var r,i;if(null!=t?t:e.pools.some(function(e){return e instanceof m.Pool})){r=[e.pathInput.isNative?g:e.pathInput.address],i=["address"];for(var n,a=e.pathInput,o=O(e.pools);!(n=o()).done;){var s=n.value,u=a.equals(s.token0)?s.token1:s.token0;if(s instanceof m.Pool)0===s.tickSpacing?(r.push(0,u.isNative?g:u.wrapped.address),i.push("uint8","address")):(r.push(s.fee+4194304,s.tickSpacing,s.hooks,u.isNative?g:u.wrapped.address),i.push("uint24","uint24","address","address"));else if(s instanceof c.Pool)r.push(s.fee+3145728,u.wrapped.address),i.push("uint24","address");else{if(!(s instanceof h.Pair))throw Error("Unsupported pool type "+JSON.stringify(s));r.push(32,u.wrapped.address),i.push("uint8","address")}a=u}}else{var l=e.pools.reduce(function(e,t,r){var i=e.inputToken,n=e.path,a=e.types,o=t.token0.equals(i)?t.token1:t.token0;return 0===r?{inputToken:o,types:["address","uint24","address"],path:[i.wrapped.address,t instanceof c.Pool?t.fee:8388608,o.wrapped.address]}:{inputToken:o,types:[].concat(a,["uint24","address"]),path:[].concat(n,[t instanceof c.Pool?t.fee:8388608,o.wrapped.address])}},{inputToken:e.input,path:[],types:[]});r=l.path,i=l.types}return b.pack(i,r)}var Z=function(e){for(var t=[],r=0,i=0;i<e.pools.length;)(e.pools[r]instanceof m.Pool&&!(e.pools[i]instanceof m.Pool)||e.pools[r]instanceof c.Pool&&!(e.pools[i]instanceof c.Pool)||e.pools[r]instanceof h.Pair&&!(e.pools[i]instanceof h.Pair))&&(t.push(e.pools.slice(r,i)),r=i),++i===e.pools.length&&t.push(e.pools.slice(r,i));return t},$=function(e,t){return e.reduce(function(e,t){var r=e.inputToken;if(!t.involvesToken(r))throw Error("PATH");return{inputToken:t.token0.equals(r)?t.token1:t.token0}},{inputToken:t}).inputToken},ee=o.BigInt(0),et=new a.Percent(o.BigInt(50),o.BigInt(100)),er=function(){function e(){}return e.encodeV2Swap=function(t,r,i,n){var o=c.toHex(t.maximumAmountIn(r.slippageTolerance).quotient),s=c.toHex(t.minimumAmountOut(r.slippageTolerance).quotient),u=t.route.path.map(function(e){return e.address}),l=i?x:void 0===r.recipient?y:a.validateAndParseAddress(r.recipient);return t.tradeType===a.TradeType.EXACT_INPUT?e.INTERFACE.encodeFunctionData("swapExactTokensForTokens",[o,n?0:s,u,l]):e.INTERFACE.encodeFunctionData("swapTokensForExactTokens",[s,o,u,l])},e.encodeV3Swap=function(t,r,i,n){for(var o,s=[],u=O(t.swaps);!(o=u()).done;){var l=o.value,d=l.route,f=l.outputAmount,p=c.toHex(t.maximumAmountIn(r.slippageTolerance,l.inputAmount).quotient),h=c.toHex(t.minimumAmountOut(r.slippageTolerance,f).quotient),m=1===d.pools.length,b=i?x:void 0===r.recipient?y:a.validateAndParseAddress(r.recipient);if(m)s.push(t.tradeType===a.TradeType.EXACT_INPUT?e.INTERFACE.encodeFunctionData("exactInputSingle",[{tokenIn:d.tokenPath[0].address,tokenOut:d.tokenPath[1].address,fee:d.pools[0].fee,recipient:b,amountIn:p,amountOutMinimum:n?0:h,sqrtPriceLimitX96:0}]):e.INTERFACE.encodeFunctionData("exactOutputSingle",[{tokenIn:d.tokenPath[0].address,tokenOut:d.tokenPath[1].address,fee:d.pools[0].fee,recipient:b,amountOut:h,amountInMaximum:p,sqrtPriceLimitX96:0}]));else{var g=c.encodeRouteToPath(d,t.tradeType===a.TradeType.EXACT_OUTPUT);s.push(t.tradeType===a.TradeType.EXACT_INPUT?e.INTERFACE.encodeFunctionData("exactInput",[{path:g,recipient:b,amountIn:p,amountOutMinimum:n?0:h}]):e.INTERFACE.encodeFunctionData("exactOutput",[{path:g,recipient:b,amountOut:h,amountInMaximum:p}]))}}return s},e.encodeMixedRouteSwap=function(t,r,i,n){var o=[];t.tradeType!==a.TradeType.EXACT_INPUT&&u(!1);for(var s,l=O(t.swaps);!(s=l()).done;)!function(){var u=s.value,l=u.route,d=u.inputAmount,f=u.outputAmount;if(l.pools.some(function(e){return e instanceof m.Pool}))throw Error("Encoding mixed routes with V4 not supported");var p=c.toHex(t.maximumAmountIn(r.slippageTolerance,d).quotient),h=c.toHex(t.minimumAmountOut(r.slippageTolerance,f).quotient),b=1===l.pools.length,g=i?x:void 0===r.recipient?y:a.validateAndParseAddress(r.recipient),A=function(e){return e.pools.every(function(e){return e instanceof c.Pool})};if(b)if(A(l))o.push(e.INTERFACE.encodeFunctionData("exactInputSingle",[{tokenIn:l.path[0].wrapped.address,tokenOut:l.path[1].wrapped.address,fee:l.pools[0].fee,recipient:g,amountIn:p,amountOutMinimum:n?0:h,sqrtPriceLimitX96:0}]));else{var w=l.path.map(function(e){return e.wrapped.address});o.push(e.INTERFACE.encodeFunctionData("swapExactTokensForTokens",[p,n?0:h,w,g]))}else for(var v,S=Z(l),T=function(e){return e===S.length-1},E=l.input.wrapped,k=0;k<S.length;k++){var P=S[k];v=$(P,E);var _=new Q(new K([].concat(P),P[0].token0.equals(E)?P[0].token0:P[0].token1,v));if(E=v.wrapped,A(_)){var I={path:Y(_),recipient:T(k)?g:x,amountIn:0===k?p:0,amountOutMinimum:T(k)?h:0};o.push(e.INTERFACE.encodeFunctionData("exactInput",[I]))}else{var N=[0===k?p:0,T(k)?h:0,_.path.map(function(e){return e.wrapped.address}),T(k)?g:x];o.push(e.INTERFACE.encodeFunctionData("swapExactTokensForTokens",N))}}}();return o},e.encodeSwaps=function(t,i,n){if(t instanceof J){t.swaps.every(function(e){return e.route.protocol===r.Protocol.V3||e.route.protocol===r.Protocol.V2||e.route.protocol===r.Protocol.MIXED})||u(!1);for(var o,s=[],l=O(t.swaps);!(o=l()).done;){var d=o.value,f=d.route,p=d.inputAmount,m=d.outputAmount;if(f.protocol===r.Protocol.V2)s.push(new h.Trade(f,t.tradeType===a.TradeType.EXACT_INPUT?p:m,t.tradeType));else if(f.protocol===r.Protocol.V3)s.push(c.Trade.createUncheckedTrade({route:f,inputAmount:p,outputAmount:m,tradeType:t.tradeType}));else{if(f.protocol!==r.Protocol.MIXED)throw Error("UNSUPPORTED_TRADE_PROTOCOL");s.push(G.createUncheckedTrade({route:f,inputAmount:p,outputAmount:m,tradeType:t.tradeType}))}}t=s}Array.isArray(t)||(t=[t]);var b=t.reduce(function(e,t){return e+(t instanceof c.Trade||t instanceof G?t.swaps.length:1)},0),g=t[0];t.every(function(e){return e.inputAmount.currency.equals(g.inputAmount.currency)})||u(!1),t.every(function(e){return e.outputAmount.currency.equals(g.outputAmount.currency)})||u(!1),t.every(function(e){return e.tradeType===g.tradeType})||u(!1);var y=[],x=g.inputAmount.currency.isNative,A=g.outputAmount.currency.isNative,w=g.tradeType===a.TradeType.EXACT_INPUT&&b>2,v=A||!!i.fee||!!n||w;i.inputTokenPermit&&(g.inputAmount.currency.isToken||u(!1),y.push(c.SelfPermit.encodePermit(g.inputAmount.currency,i.inputTokenPermit)));for(var S,T=O(t);!(S=T()).done;){var E=S.value;if(E instanceof h.Trade)y.push(e.encodeV2Swap(E,i,v,w));else if(E instanceof c.Trade)for(var k,P=O(e.encodeV3Swap(E,i,v,w));!(k=P()).done;)y.push(k.value);else{if(!(E instanceof G))throw Error("Unsupported trade object");for(var _,I=O(e.encodeMixedRouteSwap(E,i,v,w));!(_=I()).done;)y.push(_.value)}}var N=a.CurrencyAmount.fromRawAmount(g.inputAmount.currency,0),R=a.CurrencyAmount.fromRawAmount(g.outputAmount.currency,0),B=t.reduce(function(e,t){return e.add(t.minimumAmountOut(i.slippageTolerance))},R),C=t.reduce(function(e,t){return e.add(t.outputAmount)},R);return{calldatas:y,sampleTrade:g,routerMustCustody:v,inputIsNative:x,outputIsNative:A,totalAmountIn:t.reduce(function(e,t){return e.add(t.maximumAmountIn(i.slippageTolerance))},N),minimumAmountOut:B,quoteAmountOut:C}},e.swapCallParameters=function(t,r){var i=e.encodeSwaps(t,r),n=i.calldatas,o=i.sampleTrade,s=i.inputIsNative,u=i.totalAmountIn,l=i.minimumAmountOut;return i.routerMustCustody&&n.push(i.outputIsNative?_.encodeUnwrapWETH9(l.quotient,r.recipient,r.fee):_.encodeSweepToken(o.outputAmount.currency.wrapped,l.quotient,r.recipient,r.fee)),s&&(o.tradeType===a.TradeType.EXACT_OUTPUT||e.riskOfPartialFill(t))&&n.push(c.Payments.encodeRefundETH()),{calldata:k.encodeMulticall(n,r.deadlineOrPreviousBlockhash),value:c.toHex(s?u.quotient:ee)}},e.swapAndAddCallParameters=function(t,i,n,o,s,l){var d=e.encodeSwaps(t,i,!0),f=d.calldatas,p=d.inputIsNative,h=d.outputIsNative,m=d.sampleTrade,b=d.totalAmountIn,g=d.quoteAmountOut,y=d.minimumAmountOut;i.outputTokenPermit&&(g.currency.isToken||u(!1),f.push(c.SelfPermit.encodePermit(g.currency,i.outputTokenPermit)));var x=m.route.chainId,A=n.pool.token0.wrapped.address===b.currency.wrapped.address,w=e.getPositionAmounts(n,A),v=w.positionAmountIn,S=w.positionAmountOut,T=p?a.WETH9[x]:v.currency.wrapped,P=h?a.WETH9[x]:S.currency.wrapped,I=S.subtract(g.wrapped);I.greaterThan(a.CurrencyAmount.fromRawAmount(S.currency,0))&&f.push(h?_.encodeWrapETH(I.quotient):_.encodePull(P,I.quotient)),f.push(p?_.encodeWrapETH(v.quotient):_.encodePull(T,v.quotient)),s!==r.ApprovalTypes.NOT_REQUIRED&&f.push(E.encodeApprove(T,s)),l!==r.ApprovalTypes.NOT_REQUIRED&&f.push(E.encodeApprove(P,l));var N,R=c.Position.fromAmounts({pool:n.pool,tickLower:n.tickLower,tickUpper:n.tickUpper,amount0:A?n.amount0.quotient.toString():y.quotient.toString(),amount1:A?y.quotient.toString():n.amount1.quotient.toString(),useFullPrecision:!1});return f.push(E.encodeAddLiquidity(n,R,o,i.slippageTolerance)),f.push(p?_.encodeUnwrapWETH9(ee):_.encodeSweepToken(T,ee)),f.push(h?_.encodeUnwrapWETH9(ee):_.encodeSweepToken(P,ee)),N=p?b.wrapped.add(v.wrapped).quotient:h?I.quotient:ee,{calldata:k.encodeMulticall(f,i.deadlineOrPreviousBlockhash),value:N.toString()}},e.riskOfPartialFill=function(t){return Array.isArray(t)?t.some(function(t){return e.v3TradeWithHighPriceImpact(t)}):e.v3TradeWithHighPriceImpact(t)},e.v3TradeWithHighPriceImpact=function(e){return!(e instanceof h.Trade)&&e.priceImpact.greaterThan(et)},e.getPositionAmounts=function(e,t){var r=e.mintAmounts,i=r.amount1,n=a.CurrencyAmount.fromRawAmount(e.pool.token0,r.amount0),o=a.CurrencyAmount.fromRawAmount(e.pool.token1,i),s=t?[n,o]:[o,n];return{positionAmountIn:s[0],positionAmountOut:s[1]}},e}();er.INTERFACE=new s.Interface(p.abi),r.ADDRESS_THIS=x,r.ADDRESS_ZERO=g,r.ApproveAndCall=E,r.MIXED_QUOTER_V1_V2_FEE_PATH_PLACEHOLDER=8388608,r.MIXED_QUOTER_V2_V2_FEE_PATH_PLACEHOLDER=32,r.MIXED_QUOTER_V2_V3_FEE_PATH_PLACEHOLDER=3145728,r.MIXED_QUOTER_V2_V4_FEE_PATH_PLACEHOLDER=4194304,r.MSG_SENDER=y,r.MixedRoute=Q,r.MixedRouteSDK=K,r.MixedRouteTrade=G,r.MulticallExtended=k,r.ONE=w,r.ONE_HUNDRED_PERCENT=S,r.PaymentsExtended=_,r.RouteV2=j,r.RouteV3=H,r.RouteV4=X,r.SwapRouter=er,r.Trade=J,r.ZERO=A,r.ZERO_PERCENT=v,r.amountWithPathCurrency=L,r.encodeMixedRouteToPath=Y,r.getOutputOfPools=$,r.getPathCurrency=q,r.getPathToken=z,r.isMint=T,r.partitionMixedRouteByProtocol=Z,r.tradeComparator=W},520108,(e,t,r)=>{"use strict";t.exports=e.r(177483)},622175,(e,t,r)=>{!function(r){"use strict";var i,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,o=Math.floor,s="[BigNumber Error] ",u=s+"Number primitive has more than 15 significant digits: ",l=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13];function c(e){var t=0|e;return e>0||e===t?t:t-1}function d(e){for(var t,r,i=1,n=e.length,a=e[0]+"";i<n;){for(r=14-(t=e[i++]+"").length;r--;t="0"+t);a+=t}for(n=a.length;48===a.charCodeAt(--n););return a.slice(0,n+1||1)}function f(e,t){var r,i,n=e.c,a=t.c,o=e.s,s=t.s,u=e.e,l=t.e;if(!o||!s)return null;if(r=n&&!n[0],i=a&&!a[0],r||i)return r?i?0:-s:o;if(o!=s)return o;if(r=o<0,i=u==l,!n||!a)return i?0:!n^r?1:-1;if(!i)return u>l^r?1:-1;for(o=0,s=(u=n.length)<(l=a.length)?u:l;o<s;o++)if(n[o]!=a[o])return n[o]>a[o]^r?1:-1;return u==l?0:u>l^r?1:-1}function p(e,t,r,i){if(e<t||e>r||e!==o(e))throw Error(s+(i||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function h(e){var t=e.c.length-1;return c(e.e/14)==t&&e.c[t]%2!=0}function m(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function b(e,t,r){var i,n;if(t<0){for(n=r+".";++t;n+=r);e=n+e}else if(i=e.length,++t>i){for(n=r,t-=i;--t;n+=r);e+=n}else t<i&&(e=e.slice(0,t)+"."+e.slice(t));return e}if((i=function e(t){var r,i,g,y,x,A,w,v,S,T=F.prototype={constructor:F,toString:null,valueOf:null},E=new F(1),k=20,P=4,_=-7,I=21,N=-1e7,R=1e7,B=!1,C=1,O=0,D={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},M="0123456789abcdefghijklmnopqrstuvwxyz",U=!0;function F(e,t){var r,i,a,s,l,c,d,f,h=this;if(!(h instanceof F))return new F(e,t);if(null==t){if(e&&!0===e._isBigNumber){h.s=e.s,!e.c||e.e>R?h.c=h.e=null:e.e<N?h.c=[h.e=0]:(h.e=e.e,h.c=e.c.slice());return}if((c="number"==typeof e)&&0*e==0){if(h.s=1/e<0?(e=-e,-1):1,e===~~e){for(s=0,l=e;l>=10;l/=10,s++);s>R?h.c=h.e=null:(h.e=s,h.c=[e]);return}f=String(e)}else{if(!n.test(f=String(e)))return S(h,f,c);h.s=45==f.charCodeAt(0)?(f=f.slice(1),-1):1}(s=f.indexOf("."))>-1&&(f=f.replace(".","")),(l=f.search(/e/i))>0?(s<0&&(s=l),s+=+f.slice(l+1),f=f.substring(0,l)):s<0&&(s=f.length)}else{if(p(t,2,M.length,"Base"),10==t&&U)return W(h=new F(e),k+h.e+1,P);if(f=String(e),c="number"==typeof e){if(0*e!=0)return S(h,f,c,t);if(h.s=1/e<0?(f=f.slice(1),-1):1,F.DEBUG&&f.replace(/^0\.0*|\./,"").length>15)throw Error(u+e)}else h.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1;for(r=M.slice(0,t),s=l=0,d=f.length;l<d;l++)if(0>r.indexOf(i=f.charAt(l))){if("."==i){if(l>s){s=d;continue}}else if(!a&&(f==f.toUpperCase()&&(f=f.toLowerCase())||f==f.toLowerCase()&&(f=f.toUpperCase()))){a=!0,l=-1,s=0;continue}return S(h,String(e),c,t)}c=!1,(s=(f=v(f,t,10,h.s)).indexOf("."))>-1?f=f.replace(".",""):s=f.length}for(l=0;48===f.charCodeAt(l);l++);for(d=f.length;48===f.charCodeAt(--d););if(f=f.slice(l,++d)){if(d-=l,c&&F.DEBUG&&d>15&&(e>0x1fffffffffffff||e!==o(e)))throw Error(u+h.s*e);if((s=s-l-1)>R)h.c=h.e=null;else if(s<N)h.c=[h.e=0];else{if(h.e=s,h.c=[],l=(s+1)%14,s<0&&(l+=14),l<d){for(l&&h.c.push(+f.slice(0,l)),d-=14;l<d;)h.c.push(+f.slice(l,l+=14));l=14-(f=f.slice(l)).length}else l-=d;for(;l--;f+="0");h.c.push(+f)}}else h.c=[h.e=0]}function L(e,t,r,i){var n,a,o,s,u;if(null==r?r=P:p(r,0,8),!e.c)return e.toString();if(n=e.c[0],o=e.e,null==t)u=d(e.c),u=1==i||2==i&&(o<=_||o>=I)?m(u,o):b(u,o,"0");else if(a=(e=W(new F(e),t,r)).e,s=(u=d(e.c)).length,1==i||2==i&&(t<=a||a<=_)){for(;s<t;u+="0",s++);u=m(u,a)}else if(t-=o+(2===i&&a>o),u=b(u,a,"0"),a+1>s){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=a-s)>0)for(a+1==s&&(u+=".");t--;u+="0");return e.s<0&&n?"-"+u:u}function q(e,t){for(var r,i,n=1,a=new F(e[0]);n<e.length;n++)(i=new F(e[n])).s&&(r=f(a,i))!==t&&(0!==r||a.s!==t)||(a=i);return a}function K(e,t,r){for(var i=1,n=t.length;!t[--n];t.pop());for(n=t[0];n>=10;n/=10,i++);return(r=i+14*r-1)>R?e.c=e.e=null:r<N?e.c=[e.e=0]:(e.e=r,e.c=t),e}function W(e,t,r,i){var n,s,u,c,d,f,p,h=e.c;if(h){t:{for(n=1,c=h[0];c>=10;c/=10,n++);if((s=t-n)<0)s+=14,u=t,p=o((d=h[f=0])/l[n-u-1]%10);else if((f=a((s+1)/14))>=h.length)if(i){for(;h.length<=f;h.push(0));d=p=0,n=1,s%=14,u=s-14+1}else break t;else{for(n=1,d=c=h[f];c>=10;c/=10,n++);s%=14,p=(u=s-14+n)<0?0:o(d/l[n-u-1]%10)}if(i=i||t<0||null!=h[f+1]||(u<0?d:d%l[n-u-1]),i=r<4?(p||i)&&(0==r||r==(e.s<0?3:2)):p>5||5==p&&(4==r||i||6==r&&(s>0?u>0?d/l[n-u]:0:h[f-1])%10&1||r==(e.s<0?8:7)),t<1||!h[0])return h.length=0,i?(t-=e.e+1,h[0]=l[(14-t%14)%14],e.e=-t||0):h[0]=e.e=0,e;if(0==s?(h.length=f,c=1,f--):(h.length=f+1,c=l[14-s],h[f]=u>0?o(d/l[n-u]%l[u])*c:0),i)for(;;)if(0==f){for(s=1,u=h[0];u>=10;u/=10,s++);for(u=h[0]+=c,c=1;u>=10;u/=10,c++);s!=c&&(e.e++,1e14==h[0]&&(h[0]=1));break}else{if(h[f]+=c,1e14!=h[f])break;h[f--]=0,c=1}for(s=h.length;0===h[--s];h.pop());}e.e>R?e.c=e.e=null:e.e<N&&(e.c=[e.e=0])}return e}function V(e){var t,r=e.e;return null===r?e.toString():(t=d(e.c),t=r<=_||r>=I?m(t,r):b(t,r,"0"),e.s<0?"-"+t:t)}return F.clone=e,F.ROUND_UP=0,F.ROUND_DOWN=1,F.ROUND_CEIL=2,F.ROUND_FLOOR=3,F.ROUND_HALF_UP=4,F.ROUND_HALF_DOWN=5,F.ROUND_HALF_EVEN=6,F.ROUND_HALF_CEIL=7,F.ROUND_HALF_FLOOR=8,F.EUCLID=9,F.config=F.set=function(e){var t,r;if(null!=e)if("object"==typeof e){if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(p(r=e[t],0,1e9,t),k=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(p(r=e[t],0,8,t),P=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(p(r[0],-1e9,0,t),p(r[1],0,1e9,t),_=r[0],I=r[1]):(p(r,-1e9,1e9,t),_=-(I=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)p(r[0],-1e9,-1,t),p(r[1],1,1e9,t),N=r[0],R=r[1];else if(p(r,-1e9,1e9,t),r)N=-(R=r<0?-r:r);else throw Error(s+t+" cannot be zero: "+r);if(e.hasOwnProperty(t="CRYPTO"))if(!!(r=e[t])===r)if(r)if("u">typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))B=r;else throw B=!r,Error(s+"crypto unavailable");else B=r;else throw Error(s+t+" not true or false: "+r);if(e.hasOwnProperty(t="MODULO_MODE")&&(p(r=e[t],0,9,t),C=r),e.hasOwnProperty(t="POW_PRECISION")&&(p(r=e[t],0,1e9,t),O=r),e.hasOwnProperty(t="FORMAT"))if("object"==typeof(r=e[t]))D=r;else throw Error(s+t+" not an object: "+r);if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(s+t+" invalid: "+r);U="0123456789"==r.slice(0,10),M=r}}else throw Error(s+"Object expected: "+e);return{DECIMAL_PLACES:k,ROUNDING_MODE:P,EXPONENTIAL_AT:[_,I],RANGE:[N,R],CRYPTO:B,MODULO_MODE:C,POW_PRECISION:O,FORMAT:D,ALPHABET:M}},F.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!F.DEBUG)return!0;var t,r,i=e.c,n=e.e,a=e.s;t:if("[object Array]"==({}).toString.call(i)){if((1===a||-1===a)&&n>=-1e9&&n<=1e9&&n===o(n)){if(0===i[0]){if(0===n&&1===i.length)return!0;break t}if((t=(n+1)%14)<1&&(t+=14),String(i[0]).length==t){for(t=0;t<i.length;t++)if((r=i[t])<0||r>=1e14||r!==o(r))break t;if(0!==r)return!0}}}else if(null===i&&null===n&&(null===a||1===a||-1===a))return!0;throw Error(s+"Invalid BigNumber: "+e)},F.maximum=F.max=function(){return q(arguments,-1)},F.minimum=F.min=function(){return q(arguments,1)},r=0x20000000000000*Math.random()&2097151?function(){return o(0x20000000000000*Math.random())}:function(){return(0x40000000*Math.random()|0)*8388608+(8388608*Math.random()|0)},F.random=function(e){var t,i,n,u,c,d=0,f=[],h=new F(E);if(null==e?e=k:p(e,0,1e9),u=a(e/14),B)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(u*=2));d<u;)(c=131072*t[d]+(t[d+1]>>>11))>=9e15?(i=crypto.getRandomValues(new Uint32Array(2)),t[d]=i[0],t[d+1]=i[1]):(f.push(c%1e14),d+=2);d=u/2}else if(crypto.randomBytes){for(t=crypto.randomBytes(u*=7);d<u;)(c=(31&t[d])*0x1000000000000+0x10000000000*t[d+1]+0x100000000*t[d+2]+0x1000000*t[d+3]+(t[d+4]<<16)+(t[d+5]<<8)+t[d+6])>=9e15?crypto.randomBytes(7).copy(t,d):(f.push(c%1e14),d+=7);d=u/7}else throw B=!1,Error(s+"crypto unavailable");if(!B)for(;d<u;)(c=r())<9e15&&(f[d++]=c%1e14);for(u=f[--d],e%=14,u&&e&&(c=l[14-e],f[d]=o(u/c)*c);0===f[d];f.pop(),d--);if(d<0)f=[n=0];else{for(n=-1;0===f[0];f.splice(0,1),n-=14);for(d=1,c=f[0];c>=10;c/=10,d++);d<14&&(n-=14-d)}return h.e=n,h.c=f,h},F.sum=function(){for(var e=1,t=arguments,r=new F(t[0]);e<t.length;)r=r.plus(t[e++]);return r},v=function(){var e="0123456789";function t(e,t,r,i){for(var n,a,o=[0],s=0,u=e.length;s<u;){for(a=o.length;a--;o[a]*=t);for(o[0]+=i.indexOf(e.charAt(s++)),n=0;n<o.length;n++)o[n]>r-1&&(null==o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}return function(r,i,n,a,o){var s,u,l,c,f,p,h,m,g=r.indexOf("."),y=k,x=P;for(g>=0&&(c=O,O=0,r=r.replace(".",""),p=(m=new F(i)).pow(r.length-g),O=c,m.c=t(b(d(p.c),p.e,"0"),10,n,e),m.e=m.c.length),l=c=(h=t(r,i,n,o?(s=M,e):(s=e,M))).length;0==h[--c];h.pop());if(!h[0])return s.charAt(0);if(g<0?--l:(p.c=h,p.e=l,p.s=a,h=(p=w(p,m,y,x,n)).c,f=p.r,l=p.e),g=h[u=l+y+1],c=n/2,f=f||u<0||null!=h[u+1],f=x<4?(null!=g||f)&&(0==x||x==(p.s<0?3:2)):g>c||g==c&&(4==x||f||6==x&&1&h[u-1]||x==(p.s<0?8:7)),u<1||!h[0])r=f?b(s.charAt(1),-y,s.charAt(0)):s.charAt(0);else{if(h.length=u,f)for(--n;++h[--u]>n;)h[u]=0,u||(++l,h=[1].concat(h));for(c=h.length;!h[--c];);for(g=0,r="";g<=c;r+=s.charAt(h[g++]));r=b(r,l,s.charAt(0))}return r}}(),w=function(){function e(e,t,r){var i,n,a,o,s=0,u=e.length,l=t%1e7,c=t/1e7|0;for(e=e.slice();u--;)i=c*(a=e[u]%1e7)+(o=e[u]/1e7|0)*l,s=((n=l*a+i%1e7*1e7+s)/r|0)+(i/1e7|0)+c*o,e[u]=n%r;return s&&(e=[s].concat(e)),e}function t(e,t,r,i){var n,a;if(r!=i)a=r>i?1:-1;else for(n=a=0;n<r;n++)if(e[n]!=t[n]){a=e[n]>t[n]?1:-1;break}return a}function r(e,t,r,i){for(var n=0;r--;)e[r]-=n,n=+(e[r]<t[r]),e[r]=n*i+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(i,n,a,s,u){var l,d,f,p,h,m,b,g,y,x,A,w,v,S,T,E,k,P=i.s==n.s?1:-1,_=i.c,I=n.c;if(!_||!_[0]||!I||!I[0])return new F(!i.s||!n.s||(_?I&&_[0]==I[0]:!I)?NaN:_&&0==_[0]||!I?0*P:P/0);for(y=(g=new F(P)).c=[],P=a+(d=i.e-n.e)+1,u||(u=1e14,d=c(i.e/14)-c(n.e/14),P=P/14|0),f=0;I[f]==(_[f]||0);f++);if(I[f]>(_[f]||0)&&d--,P<0)y.push(1),p=!0;else{for(S=_.length,E=I.length,f=0,P+=2,(h=o(u/(I[0]+1)))>1&&(I=e(I,h,u),_=e(_,h,u),E=I.length,S=_.length),v=E,A=(x=_.slice(0,E)).length;A<E;x[A++]=0);k=[0].concat(k=I.slice()),T=I[0],I[1]>=u/2&&T++;do{if(h=0,(l=t(I,x,E,A))<0){if(w=x[0],E!=A&&(w=w*u+(x[1]||0)),(h=o(w/T))>1)for(h>=u&&(h=u-1),b=(m=e(I,h,u)).length,A=x.length;1==t(m,x,b,A);)h--,r(m,E<b?k:I,b,u),b=m.length,l=1;else 0==h&&(l=h=1),b=(m=I.slice()).length;if(b<A&&(m=[0].concat(m)),r(x,m,A,u),A=x.length,-1==l)for(;1>t(I,x,E,A);)h++,r(x,E<A?k:I,A,u),A=x.length}else 0===l&&(h++,x=[0]);y[f++]=h,x[0]?x[A++]=_[v]||0:(x=[_[v]],A=1)}while((v++<S||null!=x[0])&&P--)p=null!=x[0],y[0]||y.splice(0,1)}if(1e14==u){for(f=1,P=y[0];P>=10;P/=10,f++);W(g,a+(g.e=f+14*d-1)+1,s,p)}else g.e=d,g.r=+p;return g}}(),i=/^(-?)0([xbo])(?=\w[\w.]*$)/i,g=/^([^.]+)\.$/,y=/^\.([^.]+)$/,x=/^-?(Infinity|NaN)$/,A=/^\s*\+(?=[\w.])|^\s+|\s+$/g,S=function(e,t,r,n){var a,o=r?t:t.replace(A,"");if(x.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!r&&(o=o.replace(i,function(e,t,r){return a="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=a?e:t}),n&&(a=n,o=o.replace(g,"$1").replace(y,"0.$1")),t!=o))return new F(o,a);if(F.DEBUG)throw Error(s+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},T.absoluteValue=T.abs=function(){var e=new F(this);return e.s<0&&(e.s=1),e},T.comparedTo=function(e,t){return f(this,new F(e,t))},T.decimalPlaces=T.dp=function(e,t){var r,i,n;if(null!=e)return p(e,0,1e9),null==t?t=P:p(t,0,8),W(new F(this),e+this.e+1,t);if(!(r=this.c))return null;if(i=((n=r.length-1)-c(this.e/14))*14,n=r[n])for(;n%10==0;n/=10,i--);return i<0&&(i=0),i},T.dividedBy=T.div=function(e,t){return w(this,new F(e,t),k,P)},T.dividedToIntegerBy=T.idiv=function(e,t){return w(this,new F(e,t),0,1)},T.exponentiatedBy=T.pow=function(e,t){var r,i,n,u,l,c,d,f,p,m=this;if((e=new F(e)).c&&!e.isInteger())throw Error(s+"Exponent not an integer: "+V(e));if(null!=t&&(t=new F(t)),c=e.e>14,!m.c||!m.c[0]||1==m.c[0]&&!m.e&&1==m.c.length||!e.c||!e.c[0])return p=new F(Math.pow(+V(m),c?e.s*(2-h(e)):+V(e))),t?p.mod(t):p;if(d=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new F(NaN);(i=!d&&m.isInteger()&&t.isInteger())&&(m=m.mod(t))}else{if(e.e>9&&(m.e>0||m.e<-1||(0==m.e?m.c[0]>1||c&&m.c[1]>=24e7:m.c[0]<8e13||c&&m.c[0]<=9999975e7)))return u=m.s<0&&h(e)?-0:0,m.e>-1&&(u=1/u),new F(d?1/u:u);O&&(u=a(O/14+2))}for(c?(r=new F(.5),d&&(e.s=1),f=h(e)):f=(n=Math.abs(+V(e)))%2,p=new F(E);;){if(f){if(!(p=p.times(m)).c)break;u?p.c.length>u&&(p.c.length=u):i&&(p=p.mod(t))}if(n){if(0===(n=o(n/2)))break;f=n%2}else if(W(e=e.times(r),e.e+1,1),e.e>14)f=h(e);else{if(0==(n=+V(e)))break;f=n%2}m=m.times(m),u?m.c&&m.c.length>u&&(m.c.length=u):i&&(m=m.mod(t))}return i?p:(d&&(p=E.div(p)),t?p.mod(t):u?W(p,O,P,l):p)},T.integerValue=function(e){var t=new F(this);return null==e?e=P:p(e,0,8),W(t,t.e+1,e)},T.isEqualTo=T.eq=function(e,t){return 0===f(this,new F(e,t))},T.isFinite=function(){return!!this.c},T.isGreaterThan=T.gt=function(e,t){return f(this,new F(e,t))>0},T.isGreaterThanOrEqualTo=T.gte=function(e,t){return 1===(t=f(this,new F(e,t)))||0===t},T.isInteger=function(){return!!this.c&&c(this.e/14)>this.c.length-2},T.isLessThan=T.lt=function(e,t){return 0>f(this,new F(e,t))},T.isLessThanOrEqualTo=T.lte=function(e,t){return -1===(t=f(this,new F(e,t)))||0===t},T.isNaN=function(){return!this.s},T.isNegative=function(){return this.s<0},T.isPositive=function(){return this.s>0},T.isZero=function(){return!!this.c&&0==this.c[0]},T.minus=function(e,t){var r,i,n,a,o=this.s;if(t=(e=new F(e,t)).s,!o||!t)return new F(NaN);if(o!=t)return e.s=-t,this.plus(e);var s=this.e/14,u=e.e/14,l=this.c,d=e.c;if(!s||!u){if(!l||!d)return l?(e.s=-t,e):new F(d?this:NaN);if(!l[0]||!d[0])return d[0]?(e.s=-t,e):new F(l[0]?this:3==P?-0:0)}if(s=c(s),u=c(u),l=l.slice(),o=s-u){for((a=o<0)?(o=-o,n=l):(u=s,n=d),n.reverse(),t=o;t--;n.push(0));n.reverse()}else for(i=(a=(o=l.length)<(t=d.length))?o:t,o=t=0;t<i;t++)if(l[t]!=d[t]){a=l[t]<d[t];break}if(a&&(n=l,l=d,d=n,e.s=-e.s),(t=(i=d.length)-(r=l.length))>0)for(;t--;l[r++]=0);for(t=1e14-1;i>o;){if(l[--i]<d[i]){for(r=i;r&&!l[--r];l[r]=t);--l[r],l[i]+=1e14}l[i]-=d[i]}for(;0==l[0];l.splice(0,1),--u);return l[0]?K(e,l,u):(e.s=3==P?-1:1,e.c=[e.e=0],e)},T.modulo=T.mod=function(e,t){var r,i;return(e=new F(e,t),this.c&&e.s&&(!e.c||e.c[0]))?e.c&&(!this.c||this.c[0])?(9==C?(i=e.s,e.s=1,r=w(this,e,0,3),e.s=i,r.s*=i):r=w(this,e,0,C),(e=this.minus(r.times(e))).c[0]||1!=C||(e.s=this.s),e):new F(this):new F(NaN)},T.multipliedBy=T.times=function(e,t){var r,i,n,a,o,s,u,l,d,f,p,h,m,b=this.c,g=(e=new F(e,t)).c;if(!b||!g||!b[0]||!g[0])return this.s&&e.s&&(!b||b[0]||g)&&(!g||g[0]||b)?(e.s*=this.s,b&&g?(e.c=[0],e.e=0):e.c=e.e=null):e.c=e.e=e.s=null,e;for(i=c(this.e/14)+c(e.e/14),e.s*=this.s,(u=b.length)<(f=g.length)&&(m=b,b=g,g=m,n=u,u=f,f=n),n=u+f,m=[];n--;m.push(0));for(n=f;--n>=0;){for(r=0,p=g[n]%1e7,h=g[n]/1e7|0,a=n+(o=u);a>n;)s=h*(l=b[--o]%1e7)+(d=b[o]/1e7|0)*p,r=((l=p*l+s%1e7*1e7+m[a]+r)/1e14|0)+(s/1e7|0)+h*d,m[a--]=l%1e14;m[a]=r}return r?++i:m.splice(0,1),K(e,m,i)},T.negated=function(){var e=new F(this);return e.s=-e.s||null,e},T.plus=function(e,t){var r,i=this.s;if(t=(e=new F(e,t)).s,!i||!t)return new F(NaN);if(i!=t)return e.s=-t,this.minus(e);var n=this.e/14,a=e.e/14,o=this.c,s=e.c;if(!n||!a){if(!o||!s)return new F(i/0);if(!o[0]||!s[0])return s[0]?e:new F(o[0]?this:0*i)}if(n=c(n),a=c(a),o=o.slice(),i=n-a){for(i>0?(a=n,r=s):(i=-i,r=o),r.reverse();i--;r.push(0));r.reverse()}for((i=o.length)-(t=s.length)<0&&(r=s,s=o,o=r,t=i),i=0;t;)i=(o[--t]=o[t]+s[t]+i)/1e14|0,o[t]=1e14===o[t]?0:o[t]%1e14;return i&&(o=[i].concat(o),++a),K(e,o,a)},T.precision=T.sd=function(e,t){var r,i,n;if(null!=e&&!!e!==e)return p(e,1,1e9),null==t?t=P:p(t,0,8),W(new F(this),e,t);if(!(r=this.c))return null;if(i=14*(n=r.length-1)+1,n=r[n]){for(;n%10==0;n/=10,i--);for(n=r[0];n>=10;n/=10,i++);}return e&&this.e+1>i&&(i=this.e+1),i},T.shiftedBy=function(e){return p(e,-0x1fffffffffffff,0x1fffffffffffff),this.times("1e"+e)},T.squareRoot=T.sqrt=function(){var e,t,r,i,n,a=this.c,o=this.s,s=this.e,u=k+4,l=new F("0.5");if(1!==o||!a||!a[0])return new F(!o||o<0&&(!a||a[0])?NaN:a?this:1/0);if(0==(o=Math.sqrt(+V(this)))||o==1/0?(((t=d(a)).length+s)%2==0&&(t+="0"),o=Math.sqrt(+t),s=c((s+1)/2)-(s<0||s%2),r=new F(t=o==1/0?"5e"+s:(t=o.toExponential()).slice(0,t.indexOf("e")+1)+s)):r=new F(o+""),r.c[0]){for((o=(s=r.e)+u)<3&&(o=0);;)if(n=r,r=l.times(n.plus(w(this,n,u,1))),d(n.c).slice(0,o)===(t=d(r.c)).slice(0,o)){if(r.e<s&&--o,"9999"!=(t=t.slice(o-3,o+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(W(r,r.e+k+2,1),e=!r.times(r).eq(this));break}if(!i&&(W(n,n.e+k+2,0),n.times(n).eq(this))){r=n;break}u+=4,o+=4,i=1}}return W(r,r.e+k+1,P,e)},T.toExponential=function(e,t){return null!=e&&(p(e,0,1e9),e++),L(this,e,t,1)},T.toFixed=function(e,t){return null!=e&&(p(e,0,1e9),e=e+this.e+1),L(this,e,t)},T.toFormat=function(e,t,r){var i;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=D;else if("object"!=typeof r)throw Error(s+"Argument not an object: "+r);if(i=this.toFixed(e,t),this.c){var n,a=i.split("."),o=+r.groupSize,u=+r.secondaryGroupSize,l=r.groupSeparator||"",c=a[0],d=a[1],f=this.s<0,p=f?c.slice(1):c,h=p.length;if(u&&(n=o,o=u,u=n,h-=n),o>0&&h>0){for(n=h%o||o,c=p.substr(0,n);n<h;n+=o)c+=l+p.substr(n,o);u>0&&(c+=l+p.slice(n)),f&&(c="-"+c)}i=d?c+(r.decimalSeparator||"")+((u=+r.fractionGroupSize)?d.replace(RegExp("\\d{"+u+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):d):c}return(r.prefix||"")+i+(r.suffix||"")},T.toFraction=function(e){var t,r,i,n,a,o,u,c,f,p,h,m,b=this.c;if(null!=e&&(!(u=new F(e)).isInteger()&&(u.c||1!==u.s)||u.lt(E)))throw Error(s+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+V(u));if(!b)return new F(this);for(t=new F(E),f=r=new F(E),i=c=new F(E),m=d(b),a=t.e=m.length-this.e-1,t.c[0]=l[(o=a%14)<0?14+o:o],e=!e||u.comparedTo(t)>0?a>0?t:f:u,o=R,R=1/0,u=new F(m),c.c[0]=0;p=w(u,t,0,1),1!=(n=r.plus(p.times(i))).comparedTo(e);)r=i,i=n,f=c.plus(p.times(n=f)),c=n,t=u.minus(p.times(n=t)),u=n;return n=w(e.minus(r),i,0,1),c=c.plus(n.times(f)),r=r.plus(n.times(i)),c.s=f.s=this.s,a*=2,h=1>w(f,i,a,P).minus(this).abs().comparedTo(w(c,r,a,P).minus(this).abs())?[f,i]:[c,r],R=o,h},T.toNumber=function(){return+V(this)},T.toPrecision=function(e,t){return null!=e&&p(e,1,1e9),L(this,e,t,2)},T.toString=function(e){var t,r=this,i=r.s,n=r.e;return null===n?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=n<=_||n>=I?m(d(r.c),n):b(d(r.c),n,"0"):10===e&&U?t=b(d((r=W(new F(r),k+n+1,P)).c),r.e,"0"):(p(e,2,M.length,"Base"),t=v(b(d(r.c),n,"0"),10,e,i,!0)),i<0&&r.c[0]&&(t="-"+t)),t},T.valueOf=T.toJSON=function(){return V(this)},T._isBigNumber=!0,null!=t&&F.set(t),F}()).default=i.BigNumber=i,"function"==typeof define&&define.amd)e.r,void 0!==i&&e.v(i);else t.exports?t.exports=i:(r||(r="u">typeof self&&self?self:window),r.BigNumber=i)}(e.e)},499675,(e,t,r)=>{"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(r,"__esModule",{value:!0});var n,a,o,s,u=i(e.r(699247)),l=i(e.r(127416)),c=e.r(811874),d=e.r(851694),f=e.r(376036),p=e.r(863062),h=e.r(702503),m=e.r(847994),b=e.r(700334),g=e.r(520108);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function x(e,t){var r="u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return y(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.r(477912),e.r(622175),(a=r.CommandType||(r.CommandType={}))[a.V3_SWAP_EXACT_IN=0]="V3_SWAP_EXACT_IN",a[a.V3_SWAP_EXACT_OUT=1]="V3_SWAP_EXACT_OUT",a[a.PERMIT2_TRANSFER_FROM=2]="PERMIT2_TRANSFER_FROM",a[a.PERMIT2_PERMIT_BATCH=3]="PERMIT2_PERMIT_BATCH",a[a.SWEEP=4]="SWEEP",a[a.TRANSFER=5]="TRANSFER",a[a.PAY_PORTION=6]="PAY_PORTION",a[a.V2_SWAP_EXACT_IN=8]="V2_SWAP_EXACT_IN",a[a.V2_SWAP_EXACT_OUT=9]="V2_SWAP_EXACT_OUT",a[a.PERMIT2_PERMIT=10]="PERMIT2_PERMIT",a[a.WRAP_ETH=11]="WRAP_ETH",a[a.UNWRAP_WETH=12]="UNWRAP_WETH",a[a.PERMIT2_TRANSFER_FROM_BATCH=13]="PERMIT2_TRANSFER_FROM_BATCH",a[a.BALANCE_CHECK_ERC20=14]="BALANCE_CHECK_ERC20",a[a.V4_SWAP=16]="V4_SWAP",a[a.V3_POSITION_MANAGER_PERMIT=17]="V3_POSITION_MANAGER_PERMIT",a[a.V3_POSITION_MANAGER_CALL=18]="V3_POSITION_MANAGER_CALL",a[a.V4_INITIALIZE_POOL=19]="V4_INITIALIZE_POOL",a[a.V4_POSITION_MANAGER_CALL=20]="V4_POSITION_MANAGER_CALL",a[a.EXECUTE_SUB_PLAN=33]="EXECUTE_SUB_PLAN",a[a.ACROSS_V4_DEPOSIT_V3=64]="ACROSS_V4_DEPOSIT_V3",(o=r.Subparser||(r.Subparser={}))[o.V3PathExactIn=0]="V3PathExactIn",o[o.V3PathExactOut=1]="V3PathExactOut",(s=r.Parser||(r.Parser={}))[s.Abi=0]="Abi",s[s.V4Actions=1]="V4Actions",s[s.V3Actions=2]="V3Actions";var A,w,v,S,T,E,k,P,_,I,N,R,B,C,O,D,M,U,F,L,q,K,W,V,G,z,j,H,X,Q=new Set([r.CommandType.EXECUTE_SUB_PLAN]),J=((n={})[r.CommandType.EXECUTE_SUB_PLAN]={parser:r.Parser.Abi,params:[{name:"commands",type:"bytes"},{name:"inputs",type:"bytes[]"}]},n[r.CommandType.PERMIT2_PERMIT]={parser:r.Parser.Abi,params:[{name:"permit",type:"((address token,uint160 amount,uint48 expiration,uint48 nonce) details,address spender,uint256 sigDeadline)"},{name:"signature",type:"bytes"}]},n[r.CommandType.PERMIT2_PERMIT_BATCH]={parser:r.Parser.Abi,params:[{name:"permit",type:"((address token,uint160 amount,uint48 expiration,uint48 nonce)[] details,address spender,uint256 sigDeadline)"},{name:"signature",type:"bytes"}]},n[r.CommandType.PERMIT2_TRANSFER_FROM]={parser:r.Parser.Abi,params:[{name:"token",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint160"}]},n[r.CommandType.PERMIT2_TRANSFER_FROM_BATCH]={parser:r.Parser.Abi,params:[{name:"transferFrom",type:"(address from,address to,uint160 amount,address token)[]"}]},n[r.CommandType.V3_SWAP_EXACT_IN]={parser:r.Parser.Abi,params:[{name:"recipient",type:"address"},{name:"amountIn",type:"uint256"},{name:"amountOutMin",type:"uint256"},{name:"path",subparser:r.Subparser.V3PathExactIn,type:"bytes"},{name:"payerIsUser",type:"bool"}]},n[r.CommandType.V3_SWAP_EXACT_OUT]={parser:r.Parser.Abi,params:[{name:"recipient",type:"address"},{name:"amountOut",type:"uint256"},{name:"amountInMax",type:"uint256"},{name:"path",subparser:r.Subparser.V3PathExactOut,type:"bytes"},{name:"payerIsUser",type:"bool"}]},n[r.CommandType.V2_SWAP_EXACT_IN]={parser:r.Parser.Abi,params:[{name:"recipient",type:"address"},{name:"amountIn",type:"uint256"},{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"payerIsUser",type:"bool"}]},n[r.CommandType.V2_SWAP_EXACT_OUT]={parser:r.Parser.Abi,params:[{name:"recipient",type:"address"},{name:"amountOut",type:"uint256"},{name:"amountInMax",type:"uint256"},{name:"path",type:"address[]"},{name:"payerIsUser",type:"bool"}]},n[r.CommandType.V4_SWAP]={parser:r.Parser.V4Actions},n[r.CommandType.WRAP_ETH]={parser:r.Parser.Abi,params:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}]},n[r.CommandType.UNWRAP_WETH]={parser:r.Parser.Abi,params:[{name:"recipient",type:"address"},{name:"amountMin",type:"uint256"}]},n[r.CommandType.SWEEP]={parser:r.Parser.Abi,params:[{name:"token",type:"address"},{name:"recipient",type:"address"},{name:"amountMin",type:"uint256"}]},n[r.CommandType.TRANSFER]={parser:r.Parser.Abi,params:[{name:"token",type:"address"},{name:"recipient",type:"address"},{name:"value",type:"uint256"}]},n[r.CommandType.PAY_PORTION]={parser:r.Parser.Abi,params:[{name:"token",type:"address"},{name:"recipient",type:"address"},{name:"bips",type:"uint256"}]},n[r.CommandType.BALANCE_CHECK_ERC20]={parser:r.Parser.Abi,params:[{name:"owner",type:"address"},{name:"token",type:"address"},{name:"minBalance",type:"uint256"}]},n[r.CommandType.V4_INITIALIZE_POOL]={parser:r.Parser.Abi,params:[{name:"poolKey",type:"(address currency0,address currency1,uint24 fee,int24 tickSpacing,address hooks)"},{name:"sqrtPriceX96",type:"uint160"}]},n[r.CommandType.V3_POSITION_MANAGER_PERMIT]={parser:r.Parser.V3Actions},n[r.CommandType.V3_POSITION_MANAGER_CALL]={parser:r.Parser.V3Actions},n[r.CommandType.V4_POSITION_MANAGER_CALL]={parser:r.Parser.V4Actions},n[r.CommandType.ACROSS_V4_DEPOSIT_V3]={parser:r.Parser.Abi,params:[{name:"depositor",type:"address"},{name:"recipient",type:"address"},{name:"inputToken",type:"address"},{name:"outputToken",type:"address"},{name:"inputAmount",type:"uint256"},{name:"outputAmount",type:"uint256"},{name:"destinationChainId",type:"uint256"},{name:"exclusiveRelayer",type:"address"},{name:"quoteTimestamp",type:"uint32"},{name:"fillDeadline",type:"uint32"},{name:"exclusivityDeadline",type:"uint32"},{name:"message",type:"bytes"},{name:"useNative",type:"bool"}]},n),Y=function(){function e(){this.commands="0x",this.inputs=[]}var t=e.prototype;return t.addSubPlan=function(e){return this.addCommand(r.CommandType.EXECUTE_SUB_PLAN,[e.commands,e.inputs],!0),this},t.addCommand=function(e,t,i){void 0===i&&(i=!1);var n=function(e,t){var i=J[e];switch(i.parser){case r.Parser.Abi:return{type:e,encodedInput:m.defaultAbiCoder.encode(i.params.map(function(e){return e.type}),t)};case r.Parser.V4Actions:case r.Parser.V3Actions:return{type:e,encodedInput:t[0]}}}(e,t);if(this.inputs.push(n.encodedInput),i){if(!Q.has(n.type))throw Error("command type: "+n.type+" cannot be allowed to revert");n.type=128|n.type}return this.commands=this.commands.concat(n.type.toString(16).padStart(2,"0")),this},t.addAcrossBridge=function(e){return this.addCommand(r.CommandType.ACROSS_V4_DEPOSIT_V3,[e.depositor,e.recipient,e.inputToken,e.outputToken,e.inputAmount,e.outputAmount,e.destinationChainId,e.exclusiveRelayer,e.quoteTimestamp,e.fillDeadline,e.exclusivityDeadline,e.message,e.useNative]),this},e}();function Z(e,t){if(t.involvesToken(e))return e;if(t.involvesToken(e.wrapped))return e.wrapped;if(t instanceof p.Pool&&t.token0.wrapped.equals(e))return t.token0;if(t instanceof p.Pool&&t.token1.wrapped.equals(e))return t.token1;throw Error("Expected currency "+e.symbol+" to be either "+t.token0.symbol+" or "+t.token1.symbol)}(A=r.RouterActionType||(r.RouterActionType={})).UniswapTrade="UniswapTrade",A.UnwrapWETH="UnwrapWETH",(X=r.UniversalRouterVersion||(r.UniversalRouterVersion={})).V1_2="1.2",X.V2_0="2.0",X.V2_1="2.1";var $=((H={})[1]={weth:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",routerConfigs:((w={})[r.UniversalRouterVersion.V1_2]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:0x1059809},w[r.UniversalRouterVersion.V2_0]={address:"0x66a9893cc07d91d95644aedd05d03f95e1dba8af",creationBlock:0x14af304},w[r.UniversalRouterVersion.V2_1]={address:"0xd92a36b0000531ef3063ded4de20a0783308446c",creationBlock:0x16bb6bc},w)},H[5]={weth:"0xb4fbf271143f4fbf7b91a5ded31805e42b2208d6",routerConfigs:((v={})[r.UniversalRouterVersion.V1_2]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:8940568},v[r.UniversalRouterVersion.V2_0]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:8940568},v[r.UniversalRouterVersion.V2_1]={address:"0x0000000000000000000000000000000000000000",creationBlock:1},v)},H[0xaa36a7]={weth:"0xfFf9976782d46CC05630D1f6eBAb18b2324d6B14",routerConfigs:((S={})[r.UniversalRouterVersion.V1_2]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:3543575},S[r.UniversalRouterVersion.V2_0]={address:"0x3a9d48ab9751398bbfa63ad67599bb04e4bdf98b",creationBlock:7259601},S[r.UniversalRouterVersion.V2_1]={address:"0x470FFC67b1feEEC31D16C46AC7545C98716a194c",creationBlock:9664766},S)},H[137]={weth:"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270",routerConfigs:((T={})[r.UniversalRouterVersion.V1_2]={address:"0xec7BE89e9d109e7e3Fec59c222CF297125FEFda2",creationBlock:0x31ca9e9},T[r.UniversalRouterVersion.V2_0]={address:"0x1095692a6237d83c6a72f3f5efedb9a670c49223",creationBlock:0x3fe0a31},T[r.UniversalRouterVersion.V2_1]={address:"0xE27610fD9dD05FC061366bc9dA414CA6F948f204",creationBlock:0x4b930d4},T)},H[80001]={weth:"0x9c3C9283D3e44854697Cd22D3Faa240Cfb032889",routerConfigs:((E={})[r.UniversalRouterVersion.V1_2]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:0x218be74},E[r.UniversalRouterVersion.V2_0]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:0x218be74},E[r.UniversalRouterVersion.V2_1]={address:"0x0000000000000000000000000000000000000000",creationBlock:1},E)},H[10]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((k={})[r.UniversalRouterVersion.V1_2]={address:"0xCb1355ff08Ab38bBCE60111F1bb2B784bE25D7e8",creationBlock:0x6d637ba},k[r.UniversalRouterVersion.V2_0]={address:"0x851116d9223fabed8e56c0e6b8ad0c31d98b3507",creationBlock:0x7ce1a67},k[r.UniversalRouterVersion.V2_1]={address:"0xde20EEE5398D3790a4D356e8925bD21Ea65D99Af",creationBlock:0x8953f31},k)},H[420]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((P={})[r.UniversalRouterVersion.V1_2]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:8887728},P[r.UniversalRouterVersion.V2_0]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:8887728},P[r.UniversalRouterVersion.V2_1]={address:"0x0000000000000000000000000000000000000000",creationBlock:1},P)},H[42161]={weth:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",routerConfigs:((_={})[r.UniversalRouterVersion.V1_2]={address:"0x5E325eDA8064b456f4781070C0738d849c824258",creationBlock:0xa19f344},_[r.UniversalRouterVersion.V2_0]={address:"0xa51afafe0263b40edaef0df8781ea9aa03e381a3",creationBlock:0x11c0b8da},_[r.UniversalRouterVersion.V2_1]={address:"0x96b2FD2F80e9428Daa65d859653117D453981AB4",creationBlock:0x17f6f341},_)},H[421613]={weth:"0xe39Ab88f8A4777030A534146A9Ca3B52bd5D43A3",routerConfigs:((I={})[r.UniversalRouterVersion.V1_2]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:0x11f192d},I[r.UniversalRouterVersion.V2_0]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:0x11f192d},I[r.UniversalRouterVersion.V2_1]={address:"0x0000000000000000000000000000000000000000",creationBlock:1},I)},H[42220]={weth:"0x0000000000000000000000000000000000000000",routerConfigs:((N={})[r.UniversalRouterVersion.V1_2]={address:"0x643770e279d5d0733f21d6dc03a8efbabf3255b4",creationBlock:0x146a795},N[r.UniversalRouterVersion.V2_0]={address:"0xcb695bc5D3Aa22cAD1E6DF07801b061a05A0233A",creationBlock:0x2d314d1},N[r.UniversalRouterVersion.V2_1]={address:"0xBB8Ed9bF0BFF210652AE5f473a849F82e990DDf6",creationBlock:0x314d247},N)},H[44787]={weth:"0x0000000000000000000000000000000000000000",routerConfigs:((R={})[r.UniversalRouterVersion.V1_2]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:0x10c0bc2},R[r.UniversalRouterVersion.V2_0]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:0x10c0bc2},R[r.UniversalRouterVersion.V2_1]={address:"0x0000000000000000000000000000000000000000",creationBlock:1},R)},H[56]={weth:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",routerConfigs:((B={})[r.UniversalRouterVersion.V1_2]={address:"0x4Dae2f939ACf50408e13d58534Ff8c2776d45265",creationBlock:0x21880c7},B[r.UniversalRouterVersion.V2_0]={address:"0x1906c1d672b88cd1b9ac7593301ca990f94eae07",creationBlock:0x2bd74b8},B[r.UniversalRouterVersion.V2_1]={address:"0x91BF3bfAEf8D771A74E1A8fE460b3EE646b2e588",creationBlock:0x419b878},B)},H[43114]={weth:"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7",routerConfigs:((C={})[r.UniversalRouterVersion.V1_2]={address:"0x4Dae2f939ACf50408e13d58534Ff8c2776d45265",creationBlock:0x265f8c9},C[r.UniversalRouterVersion.V2_0]={address:"0x94b75331ae8d42c1b61065089b7d48fe14aa73b7",creationBlock:0x3597943},C[r.UniversalRouterVersion.V2_1]={address:"0x0Cf1f86B331A03179646341D10A2A87515087221",creationBlock:0x44e83e7},C)},H[84531]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((O={})[r.UniversalRouterVersion.V1_2]={address:"0xd0872d928672ae2ff74bdb2f5130ac12229cafaf",creationBlock:6915289},O[r.UniversalRouterVersion.V2_0]={address:"0xd0872d928672ae2ff74bdb2f5130ac12229cafaf",creationBlock:6915289},O[r.UniversalRouterVersion.V2_1]={address:"0x0000000000000000000000000000000000000000",creationBlock:1},O)},H[8453]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((D={})[r.UniversalRouterVersion.V1_2]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:9107268},D[r.UniversalRouterVersion.V2_0]={address:"0x6ff5693b99212da76ad316178a184ab56d299b43",creationBlock:0x182d357},D[r.UniversalRouterVersion.V2_1]={address:"0xf3a4f4094bd2c6c06ca2f61789d8727b8d1e7259",creationBlock:0x24a0073},D)},H[81457]={weth:"0x4300000000000000000000000000000000000004",routerConfigs:((M={})[r.UniversalRouterVersion.V1_2]={address:"0x643770E279d5D0733F21d6DC03A8efbABf3255B4",creationBlock:1116444},M[r.UniversalRouterVersion.V2_0]={address:"0xeabbcb3e8e415306207ef514f660a3f820025be3",creationBlock:0xdb6167},M[r.UniversalRouterVersion.V2_1]={address:"0x77c0097c1acf6fd84878d3f7c0603e3f04e8bec7",creationBlock:0x1a1ffff},M)},H[7777777]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((U={})[r.UniversalRouterVersion.V1_2]={address:"0x2986d9721A49838ab4297b695858aF7F17f38014",creationBlock:0xb48b5b},U[r.UniversalRouterVersion.V2_0]={address:"0x3315ef7ca28db74abadc6c44570efdf06b04b020",creationBlock:0x18419b0},U[r.UniversalRouterVersion.V2_1]={address:"0x880853091b60f80301a0c1d2f9893c4993041295",creationBlock:0x24abbca},U)},H[324]={weth:"0x5aea5775959fbc2557cc8789bc1bf90a239d9a91",routerConfigs:((F={})[r.UniversalRouterVersion.V1_2]={address:"0x28731BCC616B5f51dD52CF2e4dF0E78dD1136C06",creationBlock:0xc0e2d3},F[r.UniversalRouterVersion.V2_0]={address:"0x28731BCC616B5f51dD52CF2e4dF0E78dD1136C06",creationBlock:0xc0e2d3},F[r.UniversalRouterVersion.V2_1]={address:"0x0000000000000000000000000000000000000000",creationBlock:1},F)},H[480]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((L={})[r.UniversalRouterVersion.V1_2]={address:"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D",creationBlock:4063979},L[r.UniversalRouterVersion.V2_0]={address:"0x8ac7bee993bb44dab564ea4bc9ea67bf9eb5e743",creationBlock:9111895},L[r.UniversalRouterVersion.V2_1]={address:"0x03c4f6b55733cdf3caa07c01e5b83ddee3381f60",creationBlock:0x151b2da},L)},H[1301]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((q={})[r.UniversalRouterVersion.V1_2]={address:"0x8909Dc15e40173Ff4699343b6eB8132c65e18eC6",creationBlock:1241811},q[r.UniversalRouterVersion.V2_0]={address:"0xf70536b3bcc1bd1a972dc186a2cf84cc6da6be5d",creationBlock:7100543},q[r.UniversalRouterVersion.V2_1]={address:"0x7F9B8D606E0F35E5073ABf93695814530b28a37b",creationBlock:0x230b4a5},q)},H[130]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((K={})[r.UniversalRouterVersion.V1_2]={address:"0x4D73A4411CA1c660035e4AECC8270E5DdDEC8C17",creationBlock:23678},K[r.UniversalRouterVersion.V2_0]={address:"0xef740bf23acae26f6492b10de645d6b98dc8eaf3",creationBlock:6819690},K[r.UniversalRouterVersion.V2_1]={address:"0xe6039ae5b44f90d56c6b029354fb22999861a9a0",creationBlock:0x1f542e5},K)},H[10143]={weth:"0x760AfE86e5de5fa0Ee542fc7B7B713e1c5425701",routerConfigs:((W={})[r.UniversalRouterVersion.V1_2]={address:"0x3ae6d8a282d67893e17aa70ebffb33ee5aa65893",creationBlock:23678},W[r.UniversalRouterVersion.V2_0]={address:"0x3ae6d8a282d67893e17aa70ebffb33ee5aa65893",creationBlock:23678},W[r.UniversalRouterVersion.V2_1]={address:"0x0000000000000000000000000000000000000000",creationBlock:1},W)},H[84532]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((V={})[r.UniversalRouterVersion.V1_2]={address:"0x492e6456d9528771018deb9e87ef7750ef184104",creationBlock:0x1347b09},V[r.UniversalRouterVersion.V2_0]={address:"0x492e6456d9528771018deb9e87ef7750ef184104",creationBlock:0x1347b09},V[r.UniversalRouterVersion.V2_1]={address:"0x0000000000000000000000000000000000000000",creationBlock:1},V)},H[1868]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((G={})[r.UniversalRouterVersion.V1_2]={address:"0x0e2850543f69f678257266e0907ff9a58b3f13de",creationBlock:3254782},G[r.UniversalRouterVersion.V2_0]={address:"0x0e2850543f69f678257266e0907ff9a58b3f13de",creationBlock:3254782},G[r.UniversalRouterVersion.V2_1]={address:"0xdb1d5986551c820bd0f3b1caca3e77ce03acb5ef",creationBlock:0xe86cdf},G)},H[143]={weth:"0x3bd359C1119dA7Da1D913D1C4D2B7c461115433A",routerConfigs:((z={})[r.UniversalRouterVersion.V1_2]={address:"0x0d97dc33264bfc1c226207428a79b26757fb9dc3",creationBlock:0x1be6901},z[r.UniversalRouterVersion.V2_0]={address:"0x0d97dc33264bfc1c226207428a79b26757fb9dc3",creationBlock:0x1be6901},z[r.UniversalRouterVersion.V2_1]={address:"0xBC2A036E5027b9AE57BbA847eF88E1b14823F7B1",creationBlock:0x23050b9},z)},H[196]={weth:"0xe538905cf8410324e03A5A23C1c177a474D59b2b",routerConfigs:((j={})[r.UniversalRouterVersion.V1_2]={address:"0x0000000000000000000000000000000000000000",creationBlock:1},j[r.UniversalRouterVersion.V2_0]={address:"0x5507749f2c558bb3e162c6e90c314c092e7372ff",creationBlock:0x2d78b5e},j[r.UniversalRouterVersion.V2_1]={address:"0x0000000000000000000000000000000000000000",creationBlock:1},j)},H),ee=function(e,t){if(!(t in $))throw Error("Universal Router not deployed on chain "+t);return $[t].routerConfigs[e].address},et=function(e){if(!(e in $))throw Error("Universal Router not deployed on chain "+e);if("0x0000000000000000000000000000000000000000"==$[e].weth)throw Error("Chain "+e+" does not have WETH");return $[e].weth},er=d.BigNumber.from(2).pow(255),ei="0x0000000000000000000000000000000000000000",en="0x0000000000000000000000000000000000000001",ea="0x0000000000000000000000000000000000000002";function eo(e){return e.isNative?ei:e.wrapped.address}var es=new h.Percent(50,100),eu=function(){var e;function t(e,t){if(this.trade=e,this.options=t,this.tradeType=r.RouterActionType.UniswapTrade,t.fee&&t.flatFee)throw Error("Only one fee option permitted");this.payerIsUser=!(this.inputRequiresWrap||this.inputRequiresUnwrap||this.options.useRouterBalance)}return t.prototype.encode=function(e,t){this.inputRequiresWrap?e.addCommand(r.CommandType.WRAP_ETH,[ea,this.trade.maximumAmountIn(this.options.slippageTolerance).quotient.toString()]):this.inputRequiresUnwrap&&(e.addCommand(r.CommandType.PERMIT2_TRANSFER_FROM,[this.trade.inputAmount.currency.address,ea,this.trade.maximumAmountIn(this.options.slippageTolerance).quotient.toString()]),e.addCommand(r.CommandType.UNWRAP_WETH,[ea,0])),this.options.recipient=null!=(i=this.options.recipient)?i:en;for(var i,n,a,o=this.trade.tradeType===h.TradeType.EXACT_INPUT&&this.trade.routes.length>2||this.outputRequiresTransition||!!(n=this.options).fee||!!n.flatFee,s=x(this.trade.swaps);!(a=s()).done;){var u=a.value;switch(u.route.protocol){case g.Protocol.V2:el(e,u,this.trade.tradeType,this.options,this.payerIsUser,o);break;case g.Protocol.V3:ec(e,u,this.trade.tradeType,this.options,this.payerIsUser,o);break;case g.Protocol.V4:ed(e,u,this.trade.tradeType,this.options,this.payerIsUser,o);break;case g.Protocol.MIXED:!function(e,t,i,n,a,o){var s,u=t.route,l=t.inputAmount,c=t.outputAmount,d=o?ea:null!=(s=n.recipient)?s:en;if(1===u.pools.length){if(u.pools[0]instanceof p.Pool)return ed(e,t,i,n,a,o);if(u.pools[0]instanceof f.Pool)return ec(e,t,i,n,a,o);if(u.pools[0]instanceof b.Pair)return el(e,t,i,n,a,o);throw Error("Invalid route type")}for(var h=g.MixedRouteTrade.createUncheckedTrade({route:u,inputAmount:l,outputAmount:c,tradeType:i}),m=h.maximumAmountIn(n.slippageTolerance,l).quotient.toString(),y=o?0:h.minimumAmountOut(n.slippageTolerance,c).quotient.toString(),x=g.partitionMixedRouteByProtocol(u),A=function(e){return e===x.length-1},w=u.pathInput,v=0;v<x.length;v++){var S=x[v],T=S[0],E=g.getOutputOfPools(S,w),k=new g.MixedRoute(new g.MixedRouteSDK([].concat(S),w,E)),P=void 0,_=void 0;if(A(v))P=E,_=d;else{var I=x[v+1][0];P=Z(E,I),_=I instanceof b.Pair&&E.equals(P)?I.liquidityToken.address:ea}if(T instanceof p.Pool){var N=new p.V4Planner,R=new p.Route(S,k.input,k.output);N.addSettle(w,a&&0===v,0==v?m:er),N.addAction(p.Actions.SWAP_EXACT_IN,[{currencyIn:w.isNative?ei:w.address,path:p.encodeRouteToPath(R),maxHopSlippage:n.maxHopSlippage||[],amountIn:0,amountOutMinimum:A(v)?y:0}],n.urVersion);var B=E;if(A(v)){var C=u.pools[u.pools.length-1],O=C instanceof p.Pool&&C.currency1.equals(C.currency0.wrapped),D=u.pools[u.pools.length-2];O&&(E.isNative&&D.token0.isNative?B=E.wrapped:!E.isNative&&(D.token0.equals(C.token1)||D.token1.equals(C.token1))&&(B=C.token0))}N.addTake(B,_),e.addCommand(r.CommandType.V4_SWAP,[N.finalize()])}else if(T instanceof f.Pool)e.addCommand(r.CommandType.V3_SWAP_EXACT_IN,[_,0==v?m:er,A(v)?y:0,g.encodeMixedRouteToPath(k),a&&0===v]);else{if(!(T instanceof b.Pair))throw Error("Unexpected Pool Type");e.addCommand(r.CommandType.V2_SWAP_EXACT_IN,[_,0===v?m:er,A(v)?y:0,k.path.map(function(e){return e.wrapped.address}),a&&0===v])}A(v)||(E.isNative&&!P.isNative?e.addCommand(r.CommandType.WRAP_ETH,[ea,er]):!E.isNative&&P.isNative&&e.addCommand(r.CommandType.UNWRAP_WETH,[ea,0])),w=P}}(e,u,this.trade.tradeType,this.options,this.payerIsUser,o);break;default:throw Error("UNSUPPORTED_TRADE_PROTOCOL")}}var l=d.BigNumber.from(this.trade.minimumAmountOut(this.options.slippageTolerance).quotient.toString());if(o){var c=this.trade.swaps[0].route.pools,m=eo(Z(this.trade.outputAmount.currency,c[c.length-1]));if(this.options.fee){var y=f.toHex(this.options.fee.fee.multiply(1e4).quotient);e.addCommand(r.CommandType.PAY_PORTION,[m,this.options.fee.recipient,y]),this.trade.tradeType===h.TradeType.EXACT_OUTPUT&&(l=l.sub(l.mul(y).div(1e4)))}if(this.options.flatFee){var A=this.options.flatFee.amount;if(l.lt(A))throw Error("Flat fee amount greater than minimumAmountOut");e.addCommand(r.CommandType.TRANSFER,[m,this.options.flatFee.recipient,A]),this.trade.tradeType===h.TradeType.EXACT_OUTPUT&&(l=l.sub(A))}this.outputRequiresUnwrap?e.addCommand(r.CommandType.UNWRAP_WETH,[this.options.recipient,l]):this.outputRequiresWrap?e.addCommand(r.CommandType.WRAP_ETH,[this.options.recipient,er]):e.addCommand(r.CommandType.SWEEP,[eo(this.trade.outputAmount.currency),this.options.recipient,l])}(this.trade.tradeType===h.TradeType.EXACT_OUTPUT||this.trade.priceImpact.greaterThan(es))&&(this.inputRequiresWrap?e.addCommand(r.CommandType.UNWRAP_WETH,[this.options.recipient,0]):this.inputRequiresUnwrap?e.addCommand(r.CommandType.WRAP_ETH,[this.options.recipient,er]):this.trade.inputAmount.currency.isNative&&e.addCommand(r.CommandType.SWEEP,[ei,this.options.recipient,0])),this.options.safeMode&&e.addCommand(r.CommandType.SWEEP,[ei,this.options.recipient,0])},e=[{key:"isAllV4",get:function(){for(var e,t=!0,r=x(this.trade.swaps);!(e=r()).done;)t=t&&e.value.route.protocol==g.Protocol.V4;return t}},{key:"inputRequiresWrap",get:function(){return this.trade.swaps[0].route.pools[0]instanceof p.Pool?this.trade.inputAmount.currency.isNative&&!this.trade.swaps[0].route.pathInput.isNative:this.trade.inputAmount.currency.isNative}},{key:"inputRequiresUnwrap",get:function(){return this.trade.swaps[0].route.pools[0]instanceof p.Pool&&!this.trade.inputAmount.currency.isNative&&this.trade.swaps[0].route.pathInput.isNative}},{key:"outputRequiresWrap",get:function(){var e=this.trade.swaps[0].route,t=e.pools[e.pools.length-1];if(t instanceof p.Pool&&!this.trade.outputAmount.currency.isNative){if(e.pathOutput.isNative)return!0;if(t.currency1.equals(t.currency0.wrapped)&&e.pools.length>1){var r=e.pools[e.pools.length-2];if(r instanceof p.Pool&&(r.currency0.equals(t.currency1)||r.currency1.equals(t.currency1))||r.token0.equals(t.currency1)||r.token1.equals(t.currency1))return!0}}return!1}},{key:"outputRequiresUnwrap",get:function(){var e=this.trade.swaps[0].route,t=e.pools[e.pools.length-1];return t instanceof p.Pool&&this.trade.outputAmount.currency.isNative?!this.trade.swaps[0].route.pathOutput.isNative||!!(e.pools.length>1&&e.pools[e.pools.length-2]instanceof p.Pool&&e.pools[e.pools.length-2].currency0.isNative&&t.currency1.equals(t.currency0.wrapped)):this.trade.outputAmount.currency.isNative}},{key:"outputRequiresTransition",get:function(){return this.outputRequiresWrap||this.outputRequiresUnwrap}}],function(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(i.key),i)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();function el(e,t,i,n,a,o){var s=t.route,u=new b.Trade(s,i==h.TradeType.EXACT_INPUT?t.inputAmount:t.outputAmount,i);i==h.TradeType.EXACT_INPUT?e.addCommand(r.CommandType.V2_SWAP_EXACT_IN,[o?ea:n.recipient,u.maximumAmountIn(n.slippageTolerance).quotient.toString(),o?0:u.minimumAmountOut(n.slippageTolerance).quotient.toString(),s.path.map(function(e){return e.wrapped.address}),a]):i==h.TradeType.EXACT_OUTPUT&&e.addCommand(r.CommandType.V2_SWAP_EXACT_OUT,[o?ea:n.recipient,u.minimumAmountOut(n.slippageTolerance).quotient.toString(),u.maximumAmountIn(n.slippageTolerance).quotient.toString(),s.path.map(function(e){return e.wrapped.address}),a])}function ec(e,t,i,n,a,o){var s=t.route,u=f.Trade.createUncheckedTrade({route:s,inputAmount:t.inputAmount,outputAmount:t.outputAmount,tradeType:i}),l=f.encodeRouteToPath(s,u.tradeType===h.TradeType.EXACT_OUTPUT);i==h.TradeType.EXACT_INPUT?e.addCommand(r.CommandType.V3_SWAP_EXACT_IN,[o?ea:n.recipient,u.maximumAmountIn(n.slippageTolerance).quotient.toString(),o?0:u.minimumAmountOut(n.slippageTolerance).quotient.toString(),l,a]):i==h.TradeType.EXACT_OUTPUT&&e.addCommand(r.CommandType.V3_SWAP_EXACT_OUT,[o?ea:n.recipient,u.minimumAmountOut(n.slippageTolerance).quotient.toString(),u.maximumAmountIn(n.slippageTolerance).quotient.toString(),l,a])}function ed(e,t,i,n,a,o){var s,u=t.inputAmount,l=t.outputAmount,c=t.route.pools.map(function(e){return e}),d=new p.Route(c,u.currency,l.currency),f=p.Trade.createUncheckedTrade({route:d,inputAmount:u,outputAmount:l,tradeType:i}),m=o&&i==h.TradeType.EXACT_INPUT?void 0:n.slippageTolerance,b=new p.V4Planner;b.addTrade(f,m,n.maxHopSlippage,n.urVersion),b.addSettle(f.route.pathInput,a);var g=f.route.pathOutput,y=d.pools[d.pools.length-1];if(y.currency1.equals(y.currency0.wrapped)&&d.pools.length>1){var x=d.pools[d.pools.length-2];g.isNative&&x.currency0.isNative?g=g.wrapped:!g.isNative&&(x.currency0.equals(y.currency1)||x.currency1.equals(y.currency1))&&(g=y.currency0)}b.addTake(g,o?ea:null!=(s=n.recipient)?s:en),e.addCommand(r.CommandType.V4_SWAP,[b.finalize()])}function ef(e,t){var i=t.signature,n=d.ethers.utils.arrayify(t.signature).length;65!==n&&64!==n||(i=d.ethers.utils.joinSignature(d.ethers.utils.splitSignature(t.signature))),e.addCommand(r.CommandType.PERMIT2_PERMIT,[t,i])}var ep={ExecuteSigned:[{name:"commands",type:"bytes"},{name:"inputs",type:"bytes[]"},{name:"intent",type:"bytes32"},{name:"data",type:"bytes32"},{name:"sender",type:"address"},{name:"nonce",type:"bytes32"},{name:"deadline",type:"uint256"}]};function eh(e,t){return{name:"UniversalRouter",version:"2",chainId:e,verifyingContract:t}}function em(){var e=d.ethers.utils.randomBytes(32);return d.ethers.utils.hexlify(e)}var eb="0x"+"f".repeat(64),eg=function(){function e(){}return e.swapCallParameters=function(t,r,i){var n=new Y,a=new eu(t,r),o=a.trade.inputAmount.currency;o.isNative&&r.inputTokenPermit&&u(!1),r.inputTokenPermit&&ef(n,r.inputTokenPermit);var s=d.BigNumber.from(o.isNative?a.trade.maximumAmountIn(r.slippageTolerance).quotient.toString():0);if(a.encode(n,{allowRevert:!1}),i)for(var l,c=x(i);!(l=c()).done;)n.addAcrossBridge(l.value);return e.encodePlan(n,s,{deadline:r.deadlineOrPreviousBlockhash?d.BigNumber.from(r.deadlineOrPreviousBlockhash):void 0})},e.getExecuteSignedPayload=function(t,r,i,n,a){try{s=(o=e.INTERFACE.decodeFunctionData("execute(bytes,bytes[],uint256)",t)).commands,u=o.inputs}catch(r){s=(o=e.INTERFACE.decodeFunctionData("execute(bytes,bytes[])",t)).commands,u=o.inputs}var o,s,u,l=r.nonce||em(),c=r.sender;return{domain:eh(n,a),types:ep,value:{commands:s,inputs:u,intent:r.intent,data:r.data,sender:c,nonce:l,deadline:d.BigNumber.from(i).toString()}}},e.encodeExecuteSigned=function(t,r,i,n,a){var o,s,u;void 0===a&&(a=d.BigNumber.from(0));try{s=(o=e.INTERFACE.decodeFunctionData("execute(bytes,bytes[],uint256)",t)).commands,u=o.inputs}catch(r){s=(o=e.INTERFACE.decodeFunctionData("execute(bytes,bytes[])",t)).commands,u=o.inputs}if(!i.nonce)throw Error("Nonce is required for encodeExecuteSigned - use the nonce from getExecuteSignedPayload");return{calldata:e.INTERFACE.encodeFunctionData("executeSigned",[s,u,i.intent,i.data,"0x0000000000000000000000000000000000000000"!==i.sender,i.nonce,r,n]),value:a.toHexString()}},e.migrateV3ToV4CallParameters=function(t,i){var n=t.outputPosition.pool,a=t.inputPosition.pool.token0,o=t.inputPosition.pool.token1,s=null!=i?i:h.CHAIN_TO_ADDRESSES_MAP[n.chainId].v4PositionManagerAddress;n.currency0.isNative?n.currency0.wrapped.equals(a)&&n.currency1.equals(o)||n.currency0.wrapped.equals(o)&&n.currency1.equals(a)||u(!1):(a!==n.token0&&u(!1),o!==n.token1&&u(!1)),t.v3RemoveLiquidityOptions.liquidityPercentage.equalTo(new h.Percent(100,100))||u(!1),1!=t.v3RemoveLiquidityOptions.burnToken&&u(!1),t.v3RemoveLiquidityOptions.collectOptions.recipient!==s&&u(!1),Object.keys(t.v4AddLiquidityOptions).some(function(e){return"recipient"===e})||u(!1),t.v4AddLiquidityOptions.migrate||u(!1);var l=new Y;if(t.v4AddLiquidityOptions.createPool){var c=p.Pool.getPoolKey(n.currency0,n.currency1,n.fee,n.tickSpacing,n.hooks);l.addCommand(r.CommandType.V4_INITIALIZE_POOL,[c,n.sqrtRatioX96.toString()]),delete t.v4AddLiquidityOptions.createPool}t.v3RemoveLiquidityOptions.permit&&(ee(r.UniversalRouterVersion.V2_0,t.inputPosition.pool.chainId)!=t.v3RemoveLiquidityOptions.permit.spender&&u(!1),m=t.v3RemoveLiquidityOptions.permit,b=t.v3RemoveLiquidityOptions.tokenId,g=f.NonfungiblePositionManager.INTERFACE.encodeFunctionData("permit",[h.validateAndParseAddress(m.spender),b,m.deadline,m.v,m.r,m.s]),l.addCommand(r.CommandType.V3_POSITION_MANAGER_PERMIT,[g]),delete t.v3RemoveLiquidityOptions.permit);for(var m,b,g,y,A=f.NonfungiblePositionManager.removeCallParameters(t.inputPosition,t.v3RemoveLiquidityOptions),w=x(f.Multicall.decodeMulticall(A.calldata));!(y=w()).done;){var v=y.value,S=v.slice(0,10);S!=f.NonfungiblePositionManager.INTERFACE.getSighash("collect")&&S!=f.NonfungiblePositionManager.INTERFACE.getSighash("decreaseLiquidity")&&S!=f.NonfungiblePositionManager.INTERFACE.getSighash("burn")&&u(!1),l.addCommand(r.CommandType.V3_POSITION_MANAGER_CALL,[v])}var T=p.V4PositionManager.addCallParameters(t.outputPosition,t.v4AddLiquidityOptions);return T.calldata.slice(0,10)!=p.V4PositionManager.INTERFACE.getSighash("modifyLiquidities")&&u(!1),l.addCommand(r.CommandType.V4_POSITION_MANAGER_CALL,[T.calldata]),e.encodePlan(l,d.BigNumber.from(0),{deadline:d.BigNumber.from(t.v4AddLiquidityOptions.deadline)})},e.encodePlan=function(t,r,i){void 0===i&&(i={});var n=t.commands,a=t.inputs;return{calldata:e.INTERFACE.encodeFunctionData(i.deadline?"execute(bytes,bytes[],uint256)":"execute(bytes,bytes[])",i.deadline?[n,a,i.deadline]:[n,a]),value:r.toHexString()}},e}();eg.INTERFACE=new c.Interface(l.abi);var ey,ex=function(){function e(e,t,i){this.tradeType=r.RouterActionType.UnwrapWETH,this.wethAddress=et(t),this.amount=e,i&&(i.details.token.toLowerCase()!==this.wethAddress.toLowerCase()&&u(!1),i.details.amount>=e||u(!1),this.permit2Data=i)}return e.prototype.encode=function(e,t){var i;(i={permit2Permit:this.permit2Data,permit2TransferFrom:{token:this.wethAddress,amount:this.amount.toString()}}).permit2TransferFrom&&i.permit2Permit&&i.permit2TransferFrom.token!==i.permit2Permit.details.token&&u(!1),i.permit2Permit&&ef(e,i.permit2Permit),i.permit2TransferFrom&&e.addCommand(r.CommandType.PERMIT2_TRANSFER_FROM,[i.permit2TransferFrom.token,i.permit2TransferFrom.recipient?i.permit2TransferFrom.recipient:ea,i.permit2TransferFrom.amount]),e.addCommand(r.CommandType.UNWRAP_WETH,[ea,this.amount])},e}();(ey=r.PoolType||(r.PoolType={})).V2Pool="v2-pool",ey.V3Pool="v3-pool",ey.V4Pool="v4-pool";var eA=function(e){return e.toLowerCase()===ei.toLowerCase()||"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee"===e.toLowerCase()},ew=function(){function e(){}return e.fromClassicQuote=function(t){var i=t.route,n=t.tokenIn,a=t.tokenOut;if(!i)throw Error("Expected route to be present");if(!i.length)throw Error("Expected there to be at least one route");if(i.some(function(e){return!e.length}))throw Error("Expected all routes to have at least one pool");var o=i[0],s=o[0].tokenIn,u=o[o.length-1].tokenOut;if(!s||!u)throw Error("Expected both tokenIn and tokenOut to be present");if(s.chainId!==u.chainId)throw Error("Expected tokenIn and tokenOut to be have same chainId");var l=e.toCurrency(eA(n),s),c=e.toCurrency(eA(a),u),d=i.map(function(t){var i=t[0].amountIn,n=t[t.length-1].amountOut;if(!i||!n)throw Error("Expected both raw amountIn and raw amountOut to be present");var a=h.CurrencyAmount.fromRawAmount(l,i),o=h.CurrencyAmount.fromRawAmount(c,n),s=e.isVersionedRoute(r.PoolType.V2Pool,t),u=e.isVersionedRoute(r.PoolType.V3Pool,t),d=e.isVersionedRoute(r.PoolType.V4Pool,t);return{routev4:d?new p.Route(t.map(e.toV4Pool),l,c):null,routev3:u?new f.Route(t.map(e.toV3Pool),l,c):null,routev2:s?new b.Route(t.map(e.toPair),l,c):null,mixedRoute:d||u||s?null:new g.MixedRouteSDK(t.map(e.toPoolOrPair),l,c),inputAmount:a,outputAmount:o}});return new g.Trade({v2Routes:d.filter(function(e){return e.routev2}).map(function(e){return{routev2:e.routev2,inputAmount:e.inputAmount,outputAmount:e.outputAmount}}),v3Routes:d.filter(function(e){return e.routev3}).map(function(e){return{routev3:e.routev3,inputAmount:e.inputAmount,outputAmount:e.outputAmount}}),v4Routes:d.filter(function(e){return e.routev4}).map(function(e){return{routev4:e.routev4,inputAmount:e.inputAmount,outputAmount:e.outputAmount}}),mixedRoutes:d.filter(function(e){return e.mixedRoute}).map(function(e){return{mixedRoute:e.mixedRoute,inputAmount:e.inputAmount,outputAmount:e.outputAmount}}),tradeType:t.tradeType})},e.toCurrency=function(e,t){return e?h.Ether.onChain(t.chainId):this.toToken(t)},e.toToken=function(e){var t=e.symbol,r=e.buyFeeBps,i=e.sellFeeBps;return new h.Token(e.chainId,e.address,parseInt(e.decimals.toString()),t,void 0,!1,r?d.BigNumber.from(r):void 0,i?d.BigNumber.from(i):void 0)},e.toV3Pool=function(t){var r=t.fee,i=t.sqrtRatioX96,n=t.liquidity,a=t.tickCurrent,o=t.tokenOut;return new f.Pool(e.toToken(t.tokenIn),e.toToken(o),parseInt(r),i,n,parseInt(a))},e.toV4Pool=function(t){var r=e.toCurrency(eA(t.tokenIn.address),t.tokenIn),i=e.toCurrency(eA(t.tokenOut.address),t.tokenOut);return new p.Pool(r,i,parseInt(t.fee),parseInt(t.tickSpacing),t.hooks,t.sqrtRatioX96,t.liquidity,parseInt(t.tickCurrent))},e.isVersionedRoute=function(e,t){return t.every(function(t){return t.type===e})},e}();ew.toPoolOrPair=function(e){switch(e.type){case r.PoolType.V4Pool:return ew.toV4Pool(e);case r.PoolType.V3Pool:return ew.toV3Pool(e);case r.PoolType.V2Pool:return ew.toPair(e);default:throw Error("Invalid pool type")}},ew.toPair=function(e){var t=e.reserve0,r=e.reserve1;return new b.Pair(h.CurrencyAmount.fromRawAmount(ew.toToken(t.token),t.quotient),h.CurrencyAmount.fromRawAmount(ew.toToken(r.token),r.quotient))};var ev=function(){function e(){}return e.parseCalldata=function(t){var r=new eS(J),i=e.INTERFACE.parseTransaction({data:t}).args;return r.parse(i.commands,i.inputs)},e}();ev.INTERFACE=new c.Interface(l.abi);var eS=function(){function e(e){this.commandDefinition=e}return e.prototype.parse=function(t,i){var n=this;return{commands:e.getCommands(t).map(function(e,t){var a=n.commandDefinition[e];if(a.parser===r.Parser.V4Actions){var o=p.V4BaseActionsParser.parseCalldata(i[t]);return{commandName:r.CommandType[e],commandType:e,params:o.actions.map(function(e){return{name:e.actionName,value:e.params.map(function(e){return{name:e.name,value:e.value}})}})}}if(a.parser===r.Parser.Abi){var s=a.params,u=d.ethers.utils.defaultAbiCoder.decode(s.map(function(e){return e.type}),i[t]).map(function(e,t){switch(s[t].subparser){case r.Subparser.V3PathExactIn:return{name:s[t].name,value:function(e){for(var t=e.replace("0x",""),r=d.ethers.utils.getAddress(t.substring(0,40)),i=40,n=[];i<t.length;){var a=t.substring(i,i+46),o=parseInt(a.substring(0,6),16),s=d.ethers.utils.getAddress(a.substring(6,46));n.push({tokenIn:r,tokenOut:s,fee:o}),r=s,i+=46}return n}(e)};case r.Subparser.V3PathExactOut:return{name:s[t].name,value:function(e){for(var t=e.replace("0x",""),r=d.ethers.utils.getAddress(t.substring(t.length-40)),i=t.length-86,n=[];i>=0;){var a=t.substring(i,i+46),o=d.ethers.utils.getAddress(a.substring(0,40)),s=parseInt(a.substring(40,46),16);n.push({tokenIn:r,tokenOut:o,fee:s}),r=o,i-=46}return n}(e)};default:return{name:s[t].name,value:e}}});return{commandName:r.CommandType[e],commandType:e,params:u}}if(a.parser===r.Parser.V3Actions)return{commandName:r.CommandType[e],commandType:e,params:i.map(function(e){return{name:"command",value:e}})};throw Error("Unsupported parser: "+a)})}},e.getCommands=function(e){for(var t=[],r=2;r<e.length;r+=2){var i=e.substring(r,r+2);t.push(parseInt(i,16))}return t},e}();Object.defineProperty(r,"URVersion",{enumerable:!0,get:function(){return p.URVersion}}),r.COMMAND_DEFINITION=J,r.CONTRACT_BALANCE=er,r.CommandParser=ev,r.EXECUTE_SIGNED_TYPES=ep,r.GenericCommandParser=eS,r.NONCE_SKIP_CHECK=eb,r.ROUTER_AS_RECIPIENT=ea,r.RoutePlanner=Y,r.RouterTradeAdapter=ew,r.SwapRouter=eg,r.UNIVERSAL_ROUTER_ADDRESS=ee,r.UNIVERSAL_ROUTER_CREATION_BLOCK=function(e,t){if(!(t in $))throw Error("Universal Router not deployed on chain "+t);return $[t].routerConfigs[e].creationBlock},r.UniswapTrade=eu,r.UnwrapWETH=ex,r.WETH_ADDRESS=et,r.generateNonce=em,r.getUniversalRouterDomain=eh,r.isNativeCurrency=eA},936868,(e,t,r)=>{"use strict";t.exports=e.r(499675)},679265,460070,658957,e=>{"use strict";var t=e.i(936868),r=e.i(704434),i=e.i(375116),n=e.i(734532);let a="0x0000000000000000000000000000000000000001",o="0x0000000000000000000000000000000000000002";function s(e,t){let r=e.map(e=>e.slice(2)),i=t.toString(16).padStart(6,"0");return`0x${r[0]}${i}${r[1]}${r[2]}`.toLowerCase()}function u(e,r,n,a,o=i.AXIOM_ROUTER_ADDRESS,s=!1){return e.addCommand(t.CommandType.V2_SWAP_EXACT_IN,[o,r,n,a,s]),e}function l(e,r,n,a,o,u=i.AXIOM_ROUTER_ADDRESS,c=!1){return e.addCommand(t.CommandType.V3_SWAP_EXACT_IN,[u,r,n,s(a,o),c]),e}e.s(["ADDRESS_THIS",0,o,"AXIOM_ROUTER_ABI",0,[{inputs:[{internalType:"bytes",name:"commands",type:"bytes"},{internalType:"bytes[]",name:"inputs",type:"bytes[]"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"axiomTrade",outputs:[],stateMutability:"payable",type:"function"}],"FOUR_MEME_BUY_TO_USER",0,17,"FOUR_MEME_SELL_FROM_USER",0,18,"FOUR_MEME_SELL_TO_QUOTE_TOKEN",0,20,"MSG_SENDER",0,a,"encodePath",()=>s],460070);let c=BigInt(2)**BigInt(255),d=BigInt(2)**BigInt(254),f=BigInt(2)**BigInt(253);class p{planner;constructor(){this.planner=new t.RoutePlanner}addFeeWrapAllETH(e=[],t=[]){this.planner.commands=this.planner.commands.concat("22");let i=(0,r.encodeAbiParameters)([{name:"referralAddresses",type:"address[]"},{name:"referralPoints",type:"uint8[]"}],[e,t]);return this.planner.inputs.push(i),this}addAxiomFee(e=[],t=[]){this.planner.commands=this.planner.commands.concat("23");let i=(0,r.encodeAbiParameters)([{name:"referralAddresses",type:"address[]"},{name:"referralPoints",type:"uint8[]"}],[e,t]);return this.planner.inputs.push(i),this}addUnwrapAllWethFeeSweep(e,t=[],i=[]){this.planner.commands=this.planner.commands.concat("24");let n=(0,r.encodeAbiParameters)([{name:"amountMinimum",type:"uint256"},{name:"referralAddresses",type:"address[]"},{name:"referralPoints",type:"uint8[]"}],[e,t,i]);return this.planner.inputs.push(n),this}sendBribe(e){return e>BigInt(0)&&this.planner.addCommand(t.CommandType.TRANSFER,[n.BNB_QUOTE_TOKEN_INFO.bnb.address,i.BLOXROUTE_BRIBE_ADDRESS,e]),this}addSweep(e,r,i=BigInt(0)){return this.planner.addCommand(t.CommandType.SWEEP,[e,r,i]),this}buy(e,t,s,d,f,p="wbnb",h=BigInt(0),m=[],b=[]){var g,y,x;("v2"===e||"v3"===e)&&"bnb"===p?p="wbnb":("fourmeme"===e||"binance"===e||"flap"===e)&&"wbnb"===p&&(p="bnb"),this.sendBribe(h);let A=n.BNB_QUOTE_TOKEN_INFO[p].address;if("bnb"!==p?this.addFeeWrapAllETH(m,b):this.addAxiomFee(m,b),"bnb"!==p&&"wbnb"!==p){let t=n.BNB_QUOTE_TOKEN_INFO[p];if(!t.intermediatePool)throw Error(`No intermediate pool configured for quote token: ${p}`);let{address:r,fee:a}=t.intermediatePool,s=[n.BNB_QUOTE_TOKEN_INFO.wbnb.address,t.address,r],u="flap"===e?o:i.AXIOM_ROUTER_ADDRESS;l(this.planner,c,BigInt(0),s,a,u)}if("fourmeme"===e){let e;g=this.planner,e=(0,r.encodeAbiParameters)([{name:"token",type:"address"},{name:"quoteToken",type:"address"},{name:"amountOutMin",type:"uint256"}],[t,A,s]),g.addCommand(17,[e])}else if("binance"===e){let e;if("bnb"!==p)throw Error("Binance (X Mode) tokens only support BNB as quote token");y=this.planner,y.commands=y.commands.concat("15"),e=(0,r.encodeAbiParameters)([{name:"token",type:"address"},{name:"amountOutMin",type:"uint256"}],[t,s]),y.inputs.push(e)}else if("flap"===e){let e;x=this.planner,x.commands=x.commands.concat("16"),e=(0,r.encodeAbiParameters)([{name:"token",type:"address"},{name:"quoteToken",type:"address"},{name:"amountOutMin",type:"uint256"}],[t,A,s]),x.inputs.push(e)}else{let r=[A,t,d];"v2"===e?u(this.planner,c,s,r,a):l(this.planner,c,s,r,f,a)}return this}sell(e,t,a,s,p,h,m="wbnb",b=BigInt(0),g=[],y=[]){var x,A;("v2"===e||"v3"===e)&&"bnb"===m?m="wbnb":("fourmeme"===e||"binance"===e||"flap"===e)&&"wbnb"===m&&(m="bnb"),this.sendBribe(b);let w=n.BNB_QUOTE_TOKEN_INFO[m].address;if("fourmeme"===e||"binance"===e){let e;if("bnb"===m)return!function(e,t,i,n,a=[],o=[]){let s=(0,r.encodeAbiParameters)([{name:"token",type:"address"},{name:"amountIn",type:"uint256"},{name:"amountOutMin",type:"uint256"},{name:"referralAddresses",type:"address[]"},{name:"referralPoints",type:"uint8[]"}],[t,i,n,a,o]);e.addCommand(18,[s])}(this.planner,t,a,s,g,y),this;x=this.planner,e=(0,r.encodeAbiParameters)([{name:"token",type:"address"},{name:"amountIn",type:"uint256"},{name:"quoteToken",type:"address"}],[t,a,w]),x.addCommand(20,[e])}else if("flap"===e){let e;if("bnb"===m)return!function(e,t,i,n,a=[],o=[]){e.commands=e.commands.concat("17");let s=(0,r.encodeAbiParameters)([{name:"token",type:"address"},{name:"amountIn",type:"uint256"},{name:"amountOutMin",type:"uint256"},{name:"referralAddresses",type:"address[]"},{name:"referralPoints",type:"uint8[]"}],[t,i,n,a,o]);e.inputs.push(s)}(this.planner,t,a,s,g,y),this;A=this.planner,A.commands=A.commands.concat("18"),e=(0,r.encodeAbiParameters)([{name:"token",type:"address"},{name:"amountIn",type:"uint256"},{name:"quoteToken",type:"address"}],[t,a,w]),A.inputs.push(e)}else{let r=[t,w,p];"v2"===e?u(this.planner,a,BigInt(0),r,i.AXIOM_ROUTER_ADDRESS,!0):l(this.planner,a,BigInt(0),r,h,i.AXIOM_ROUTER_ADDRESS,!0)}if("bnb"!==m&&"wbnb"!==m){let t="fourmeme"===e||"binance"===e?d:"flap"===e?f:c,r=n.BNB_QUOTE_TOKEN_INFO[m];if(!r.intermediatePool)throw Error(`No intermediate pool configured for quote token: ${m}`);let{address:a,fee:s}=r.intermediatePool,u=[r.address,n.BNB_QUOTE_TOKEN_INFO.wbnb.address,a],p="flap"===e?o:i.AXIOM_ROUTER_ADDRESS;l(this.planner,t,BigInt(0),u,s,p,"fourmeme"===e||"binance"===e)}return this.addUnwrapAllWethFeeSweep(s,g,y),this}finalize(){return{commands:this.planner.commands,inputs:this.planner.inputs}}}e.s(["ExecutionPlanner",()=>p],658957),e.s([],679265)},932677,e=>{"use strict";let t=(0,e.i(639372).atom)(Date.now());e.s(["serverTimeAtom",0,t])},788324,e=>{"use strict";var t=e.i(581949),r=e.i(656679);let i="0xcA11bde05977b3631167028862bE2a173976CA11",n=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"getBlockNumber",outputs:[{name:"blockNumber",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"addr",type:"address"}],name:"getEthBalance",outputs:[{name:"balance",type:"uint256"}],stateMutability:"view",type:"function"}];async function a({rpcUrl:e,calls:a,blockNumber:o,includeBlockNumber:s=!1,timeout:u=1e4}){let l=[...a];s&&!o&&l.push({target:i,allowFailure:!1,callData:(0,r.encodeFunctionData)({abi:n,functionName:"getBlockNumber",args:[]})});let c=(0,r.encodeFunctionData)({abi:n,functionName:"aggregate3",args:[l]}),d=o?[{to:i,data:c},`0x${o.toString(16)}`]:[{to:i,data:c},"latest"],f=await t.default.post(e,{jsonrpc:"2.0",id:1,method:"eth_call",params:d},{headers:{"Content-Type":"application/json"},timeout:u});if(!f.data.result)throw Error("Invalid response from RPC");let p=function(e){let t=[],r=128,i=parseInt(e.slice(64,128),16),n=[];for(let t=0;t<i;t++){let t=e.slice(r,r+64);n.push(2*parseInt(t,16)),r+=64}for(let r=0;r<i;r++){let i=n[r]+128,a="1"===e.slice(i,i+64).slice(-1),o=2*parseInt(e.slice(i+64,i+128),16),s=i+o,u=2*parseInt(e.slice(s,s+64),16),l=e.slice(s+64,s+64+u);t.push({success:a,returnData:l})}return t}(f.data.result.slice(2)),h=o;if(s&&!o&&p.length>a.length){let e=p[p.length-1];if(e?.success&&e.returnData.length>=64)h=parseInt(e.returnData.slice(0,64),16);else throw Error("Failed to get block number from multicall")}return{results:s&&!o?p.slice(0,-1):p,blockNumber:h??void 0}}e.s(["executeMulticall",()=>a])},636440,e=>{"use strict";var t=e.i(309682),r=e.i(656679),i=e.i(110163),n=e.i(831095),a=e.i(674768),o=e.i(746256),s=e.i(764335),u=e.i(375116),l=e.i(734532),c=e.i(514276);e.i(679265);var d=e.i(788324),f=e.i(781754);let p=new Map;function h(e,t,r){return[e.toLowerCase(),t.toLowerCase(),r.toLowerCase()]}function m(e,t,r,i){let[n,a,o]=h(e,t,r),s=p.get(n);s||(s=new Map,p.set(n,s));let u=s.get(a);u||(u=new Map,s.set(a,u)),u.set(o,i)}async function b(e,r,n,l){let[c,d,f]=h(e,r,n),b=()=>{let t=p.get(c),i=t?.get(d),a=i?.get(f);return a?"pending"===a.status&&a.submittedAt&&Date.now()-a.submittedAt>1e3*u.CANCEL_TRANSACTION_BUFFER_SECONDS?(m(e,r,n,{status:"not_approved"}),"not_approved"):a.status:null},g=b();if(g)return g;let y=l||(0,t.createPublicClient)({chain:o.bsc,transport:(0,i.http)(u.BNB_FRONTEND_RPC)});try{let t=await y.readContract({address:r,abi:s.ERC20_ABI,functionName:"allowance",args:[e,n]}),i=b();if(i)return i;let o=t>=a.maxUint256/BigInt(10)?"approved":"not_approved";return m(e,r,n,{status:o}),o}catch(e){return console.error("Failed to fetch approval status:",e),"not_approved"}}async function g(e,t){let i=[],n=[];for(let a of e)for(let{token:e,spender:o}of t)i.push({target:e,allowFailure:!0,callData:(0,r.encodeFunctionData)({abi:s.ERC20_ABI,functionName:"allowance",args:[a,o]})}),n.push({wallet:a,token:e,spender:o});try{let{results:e}=await (0,d.executeMulticall)({rpcUrl:u.BNB_FRONTEND_RPC,calls:i});e.forEach((e,t)=>{let{wallet:r,token:i,spender:o}=n[t];if(e.success&&e.returnData.length>=64){let t=BigInt("0x"+e.returnData.slice(0,64))>=a.maxUint256/BigInt(10)?"approved":"not_approved";m(r,i,o,{status:t})}})}catch(e){console.error("Failed to prefetch approvals:",e)}}async function y(e,t,i,l,d,p,h,g){let y=l.address,x=await b(y,e,t,i);if("approved"!==x&&("buy"!==g||"pending"!==x)){m(y,e,t,{status:"pending",submittedAt:Date.now()});try{let b=await p(y,i),g={from:l.address,to:e,data:(0,r.encodeFunctionData)({abi:s.ERC20_ABI,functionName:"approve",args:[t,a.maxUint256]}),value:BigInt(0),gas:u.BNB_GAS_CONFIG.gasLimitApprove,gasPrice:d,nonce:b,chainId:o.bsc.id};if(!l.signTransaction)throw Error("Account does not support signing transactions");(async()=>{try{let r=await l.signTransaction(g),a=(0,n.keccak256)(r);(0,c.sendBscTransaction)(r,!1),await (0,f.monitorTransaction)(i,h,a,500,1e3*u.SWAP_DEADLINE_SECONDS),m(y,e,t,{status:"approved"})}catch(r){console.error("Token approval failed:",r),m(y,e,t,{status:"not_approved"})}})()}catch(r){console.error("Token approval failed:",r),m(y,e,t,{status:"not_approved"})}}}async function x(e,t,r,i,n,a,o,s,c){let d=[];"fourmeme"===e||"binance"===e?(d.push(y(t,u.FOUR_MEME_ROUTER_ADDRESS,i,n,a,o,s,c)),"bnb"!==r&&"wbnb"!==r&&d.push(y(l.BNB_QUOTE_TOKEN_INFO[r].address,u.AXIOM_ROUTER_ADDRESS,i,n,a,o,s,c))):"flap"===e?d.push(y(t,u.FLAP_ROUTER_ADDRESS,i,n,a,o,s,c)):d.push(y(t,u.AXIOM_ROUTER_ADDRESS,i,n,a,o,s,c)),await Promise.all(d)}e.s(["handleAllApprovals",()=>x,"prefetchApprovals",()=>g])},538560,970317,353478,e=>{"use strict";e.s(["QuickBuyButtonBnb",()=>er],538560);var t=e.i(843476),r=e.i(672464),i=e.i(271645),n=e.i(432602),a=e.i(363071),o=e.i(592846);e.i(490156);var s=e.i(542119),u=e.i(741124),l=e.i(352120),c=e.i(538701);e.s(["useBnbSwap",()=>$],353478);var d=e.i(247167),f=e.i(828073),p=e.i(659341),h=e.i(750214),m=e.i(705766),b=e.i(309682),g=e.i(656679),y=e.i(110163),x=e.i(599509),A=e.i(668375),w=e.i(831095),v=e.i(736837),S=e.i(746256),T=e.i(892260);e.i(89928);var E=e.i(739663),k=e.i(375116),P=e.i(734532),_=e.i(438828),I=e.i(206850),N=e.i(448259),R=e.i(698430),B=e.i(509597),C=e.i(514276);e.i(449885);var O=e.i(126389),D=e.i(722607),M=e.i(885438);e.i(679265);var U=e.i(460070),F=e.i(658957),L=e.i(354640),q=e.i(458768),K=e.i(401597),W=e.i(181937),V=e.i(91204),G=e.i(918030),z=e.i(944325),j=e.i(932677),H=e.i(636440),X=e.i(781754);function Q(){let e=(0,h.useAtomCallback)((0,i.useCallback)(e=>e(M.bnbNoncesAtom),[])),t=(0,r.useSetAtom)(M.bnbNoncesAtom);return(0,i.useCallback)((r,i,n,a)=>{let o=e(),s=o[r.toLowerCase()];if(!s)return;let u=s.lastOnChainNonce,l=s.pendingTxs.filter(e=>e.nonce>u)??[],c=Date.now(),d=1e3*k.CANCEL_TRANSACTION_BUFFER_SECONDS;for(let t=u+1;t<n;t++){let n=l.find(e=>e.nonce===t);if(n){let o=c-n.createdAt;o>=d?J(i,t,a):setTimeout(()=>{let n=e()[r.toLowerCase()];n&&!(t<=n.lastOnChainNonce)&&J(i,t,a)},d-o)}else J(i,t,a)}t({...o,[r.toLowerCase()]:{...s,pendingTxs:l}})},[e,t])}async function J(e,t,r){try{let i=(0,v.privateKeyToAccount)(`0x${e}`),n={from:i.address,to:i.address,value:BigInt(0),gas:BigInt(21e3),gasPrice:r,nonce:t,chainId:S.bsc.id},a=await i.signTransaction(n);(0,C.sendBscTransaction)(a,!1)}catch{}}async function Y({results:e,walletsToUse:t,tokenAddress:r,startTime:i,toastId:n,refreshBnbNonces:a,refreshBalancesEvm:o,handleTokenReferral:s,tradeType:u}){let l=e.filter(e=>e.success).length,c=e.length-l,d=Date.now()-i;l===e.length?"buy"===u?l>1?q.default.txSuccess(`All ${l} buy${l>1?"s":""} successful!`,{toastId:n,elapsedMs:d}):q.default.txSuccess("Buy successful!",{toastId:n,elapsedMs:d}):l>1?q.default.txSellSuccess(`All ${l} sell${l>1?"s":""} successful!`,{toastId:n,elapsedMs:d}):q.default.txSellSuccess("Sell successful!",{toastId:n,elapsedMs:d}):l>0?q.default.warn(`${l}/${e.length} ${u}${l>1?"s":""} successful, ${c} failed`,{toastId:n}):e.length>1?q.default.error(`All ${u}s failed`,{toastId:n}):q.default.error(`${u} failed: Transaction reverted`,{toastId:n}),a(t),o(t,r),setTimeout(()=>{o(t,r)},1e3);let f=e.find(e=>e.success);f&&s(f.hash,r)}function Z(e){return e>=20?2e3:e>=10?1e3:e>=5?500:200}function $(){let e=(0,h.useAtomCallback)((0,i.useCallback)(e=>e(s.isAuthedAtom),[])),t=(0,h.useAtomCallback)((0,i.useCallback)(e=>e(M.selectedEvmWalletsAtom),[])),r=(0,h.useAtomCallback)((0,i.useCallback)(e=>e(M.monitoredEvmWalletsAtom),[])),n=(0,h.useAtomCallback)((0,i.useCallback)(e=>e(M.evmBalancesAtom),[])),a=(0,h.useAtomCallback)((0,i.useCallback)(e=>e(M.evmTokenAccountsAtom),[])),o=(0,h.useAtomCallback)((0,i.useCallback)(e=>e(z.regionInfoAtom),[])),u=(0,h.useAtomCallback)((0,i.useCallback)(e=>e(M.buyVarianceBnbAtom),[])),l=(0,h.useAtomCallback)((0,i.useCallback)(e=>e(M.transactionDelayMultiWalletBnbAtom),[])),c=(0,h.useAtomCallback)((0,i.useCallback)(e=>e(s.referralDataAtom),[])),J=(0,h.useAtomCallback)((0,i.useCallback)(e=>e(s.rewardsPercentageAtom),[])),$=(0,h.useAtomCallback)((0,i.useCallback)(e=>e(G.referredTokenAtom),[])),ee=(0,h.useAtomCallback)((0,i.useCallback)(e=>e(j.serverTimeAtom),[])),et=(0,L.useRefreshBalancesEvm)(),er=(0,D.useGetEvmPreset)(),ei=(0,M.useGetAndIncrementNonce)(),en=(0,M.useRefreshBnbNonces)(),ea=Q(),eo=(0,G.useHandleTokenReferral)();return(0,i.useCallback)(async({poolConfig:s,tradeType:h,amount:D,overrideWalletAddress:L,presetType:G="default",fetchLatestSwapInfo:j=!1})=>{let Q=e(),es=t(),eu=r(),el=n(),ec=a(),ed=o(),ef=u(),ep=l(),eh=c(),em=J(),eb=$(),eg=Date.now(),ey=ee(),ex=(0,z.getRegionUrl)(ed.name),eA=O.AxiomWebSocketRoomManager.getInstance({url:ex,queryParams:d.default.env.NEXT_PUBLIC_LOCAL_WS_PASSWORD?{"localhost-password":d.default.env.NEXT_PUBLIC_LOCAL_WS_PASSWORD}:void 0});if(!Q)return void q.default.error("Please sign in to trade");if(0===es.length)return void q.default.error("Please select a wallet to trade with");let ew=L?[L]:es;if(!s.pairAddress||!s.tokenAddress)return void q.default.error("Invalid pool configuration");let ev=q.default.loadingWithTimer(`${"buy"===h?"Buying":"Selling"} tokens${ew.length>1?` across ${ew.length} wallets`:""}...`,{}),eS={referralPoints:[Math.floor(2*em)],referralAddress:[eh?.re0??"0x0000000000000000000000000000000000000000"]};if(eh?.re1&&eh.r&&(eS.referralAddress.push(eh.re1),eS.referralPoints.push(Math.floor(2*eh.r))),eh?.re2&&(eS.referralAddress.push(eh.re2),eS.referralPoints.push(6)),eh?.re3&&(eS.referralAddress.push(eh.re3),eS.referralPoints.push(4)),eb&&eb.referrerEvmAddress&&s.tokenAddress===eb.tokenAddress){eS.referralAddress.push(eb.referrerEvmAddress);let e=eh?.re1?5:20;eS.referralPoints.push(Math.floor(2*e))}try{let e=er(h,G),t=Number(k.BNB_GAS_CONFIG.gasLimit)+Number(k.BNB_GAS_CONFIG.gasLimitApprove);if("buy"===h&&"bnb"!==D.units)return void q.default.error("Buy orders must specify amount in BNB",{toastId:ev});let r=new Map;if("buy"===h&&"bnb"===D.units){let e=new p.default((0,x.parseEther)(D.amountBnb.toString()).toString()),t=(0,K.distributeAmountBN)(e,ew.length,ef);for(let e=0;e<ew.length;e++)r.set(ew[e],t[e])}let n=new Map,a=(r,i,a)=>{let o=(0,f.default)(t).multipliedBy(e.customGas).multipliedBy(1e9).plus((0,f.default)(e.bribe).multipliedBy(1e18));"buy"===h&&"bnb"===D.units&&i&&(o=o.plus((0,f.default)(i)));let s=el.data.get(r.toLowerCase()),u=a?(0,f.default)(a[r.toLowerCase()]?.balanceWei??"0"):(0,f.default)(s?.balanceWei??"0");u.isLessThan(o)?n.set(r.toLowerCase(),{balanceWei:u,requiredWei:o}):n.delete(r.toLowerCase())};for(let e of ew)a(e,r.get(e)?.toString());if(n.size>0){let e={publicKeys:[...n.keys()]},t=await E.workersApi.post("/batched-evm-balance",e);for(let e of n.keys())a(e,r.get(e)?.toString(),t);if(n.size>0){for(let e of n.keys()){let t=n.get(e).requiredWei,r=n.get(e).balanceWei;q.default.error(`Insufficient BNB balance for swap and gas fees${ew.length>1?` for ${e}`:""}. Required: ${t.dividedBy(1e18).toPrecision(3)} BNB, Available: ${r.dividedBy(1e18).toPrecision(3)} BNB`,{duration:4e3})}m.default.dismiss(ev);return}}let o=s;if(j)try{let e=await T.bnbApi.get("/swap-info",{pairAddress:s.pairAddress}),t=(0,T.bnbGetDataOrThrow)(e);if(!(o={...s,liquidityBnb:t.liquidityBnb,liquidityToken:t.liquidityToken}).quoteToken){let e=(0,P.getQuoteTokenFromAddresses)(t.quoteTokenAddress);if(!e)return void q.default.error("Fetched invalid quote token",{toastId:ev});o.quoteToken=e}o.protocol||(o.protocol=t.protocol),o.fee||(o.fee=t.fee),o.tokenDecimals||(o.tokenDecimals=t.tokenDecimals)}catch{q.default.error("Failed to fetch latest swap info, using provided values",{toastId:ev});return}let u=(0,R.getExecutionProtocol)(o.protocol);if(!u)return void q.default.error(`Protocol ${o.protocol} not supported`,{toastId:ev});let l=o.pairAddress,c=o.tokenAddress,d=o.fee,O=o.quoteToken,L=(0,b.createPublicClient)({chain:S.bsc,transport:(0,y.http)(k.BNB_FRONTEND_RPC)}),z=(0,A.parseUnits)(e.customGas.toString(),9),Q=z+(0,A.parseUnits)(e.bribe.toString(),18)/k.BNB_GAS_CONFIG.gasLimit,J=BigInt(0);if("buy"===h){let t;if("bnb"!==D.units)return void q.default.error("Buy orders must specify amount in BNB",{toastId:ev});if(D.amountBnb<k.MIN_BUY_AMOUNT_BNB)return void q.default.error(`Minimum buy amount is ${k.MIN_BUY_AMOUNT_BNB} BNB`,{toastId:ev});let n=async(t,r)=>{try{let i=eu.find(e=>e.publicKey.toLowerCase()===t.toLowerCase())?.privateKey;if(!i)return{wallet:t,hash:"",success:!1};let n=(0,v.privateKeyToAccount)(`0x${i}`),a=BigInt(r.toString()),s=(0,_.estimateBuyBnb)({bnb:a.toString(),liquidityBnb:o.liquidityBnb,liquidityToken:o.liquidityToken,fee:d,protocol:o.protocol}),f=BigInt((0,W.applySlippage)(s,e.slippage,"buy").toFixed(0)),p=new F.ExecutionPlanner;p.buy(u,c,f,l,d,O,J,eS.referralAddress,eS.referralPoints);let h=p.finalize(),m=BigInt(Math.ceil(Math.max(ey,Date.now())/1e3)+k.SWAP_DEADLINE_SECONDS),b=await ei(n.address,L),y="binance"===u?k.AXIOM_ROUTER_ADDRESS_V2:"flap"===u?k.FLAP_ROUTER_ADDRESS:k.AXIOM_ROUTER_ADDRESS,x="flap"===u&&"bnb"!==O&&"wbnb"!==O?k.BNB_GAS_CONFIG.gasLimit+k.BNB_GAS_CONFIG.gasLimitFlapQuoteToken:k.BNB_GAS_CONFIG.gasLimit,A=await n.signTransaction({from:n.address,to:y,data:(0,g.encodeFunctionData)({abi:U.AXIOM_ROUTER_ABI,functionName:"axiomTrade",args:[h.commands,h.inputs,m]}),value:a+J,gas:x,gasPrice:Q,nonce:b,chainId:S.bsc.id}),T=(0,w.keccak256)(A);return(0,C.sendBscTransaction)(A,e.antiMevRpc),ea(n.address,i,b,z),(0,H.handleAllApprovals)(u,c,O,L,n,z,ei,eA,"buy"),await (0,X.monitorTransaction)(L,eA,T,Z(ew.length),(k.SWAP_DEADLINE_SECONDS+1)*1e3),{wallet:t,hash:T,success:!0}}catch(e){return console.error(`Buy failed for wallet ${t}:`,e),{wallet:t,hash:"",success:!1}}};if(0===ep)t=await Promise.all(ew.map(e=>n(e,r.get(e))));else{let e=[];for(let t=0;t<ew.length;t++)e.push(n(ew[t],r.get(ew[t]))),t<ew.length-1&&await (0,V.sleep)(ep);t=await Promise.all(e)}for(let e of(await Y({results:t,walletsToUse:ew,tokenAddress:c,startTime:eg,toastId:ev,refreshBnbNonces:en,refreshBalancesEvm:et,handleTokenReferral:eo,tradeType:"buy"}),t.filter(e=>e.success).map(e=>e.wallet)))(async()=>{let t=await (0,B.checkEIP7702Delegation)(e,L);!0===t&&q.default.warn({message:i.default.createElement("span",null,"You are using a smart wallet which makes trading slower. ",i.default.createElement("a",{href:"https://support.metamask.io/configure/accounts/switch-to-or-revert-from-a-smart-account/#how-to-switch-back-to-a-standard-account",target:"_blank",rel:"noopener noreferrer",className:"underline text-primaryBlue hover:text-primaryBlue/80"},"Follow these steps to disable")," or contact support for help.")},{duration:1/0,toastId:`eip7702-warning-${e}`})})().catch(console.error);return}if("sell"===h){let t,r,i=[],n=new Map;for(let e of ew){let t=(0,M.findEvmTokenBalanceRaw)(ec,e,c);t&&"0"!==t||i.push(e)}if(i.length>0)try{let e=await E.workersApi.post("/batched-evm-token-balances-by-token",{publicKeys:i,tokenAddress:c});for(let t of i){let r=e[t.toLowerCase()],i=r?.tokenBalance||"0";"0"!==i&&n.set(t,i)}}catch(e){console.error("Failed to fetch fresh balances:",e)}let a=e=>n.has(e)?n.get(e):(0,M.findEvmTokenBalanceRaw)(ec,e,c)||"0";if("percentage"===D.units)for(let e of(t=new Map,ew)){let r=a(e);if(r&&"0"!==r){let i=(0,f.default)(r).multipliedBy(D.percentage).dividedBy(100).integerValue(f.default.ROUND_DOWN);i.isGreaterThan(0)&&t.set(e,BigInt(i.toFixed(0)))}}else try{t=function(e,t,r,i){let n,a=new Map;if("bnb"===e.units){let r=(0,f.default)(e.amountBnb).multipliedBy(1e18);n=(0,N.estimateSellInverseBnb)({targetBnb:r.toFixed(0),liquidityBnb:t.liquidityBnb,liquidityToken:t.liquidityToken,fee:t.fee,protocol:t.protocol})}else if("tokens"===e.units)n=(0,f.default)(e.amountTokens).multipliedBy(10**t.tokenDecimals);else throw Error("Percentage sells do not use getBnbTokensToSell");let o=(0,f.default)(0);for(let e of r){let t=i(e);o=o.plus(t||"0")}if(n.isGreaterThan(o.multipliedBy(1.01)))throw Error(`Not enough tokens. Need ${n.dividedBy(10**t.tokenDecimals).toFixed(4)} but have ${o.dividedBy(10**t.tokenDecimals).toFixed(4)}`);n.isGreaterThan(o)&&(n=o);let s=n;for(let e of r){if(s.isZero())break;let t=i(e),r=(0,f.default)(t||"0"),n=r.isGreaterThan(s)?s:r;n.isGreaterThan(0)&&(a.set(e,BigInt(n.toFixed(0))),s=s.minus(n))}return a}(D,o,ew,a)}catch(e){q.default.error(e instanceof Error?e.message:"Error calculating sell amounts",{toastId:ev});return}if(0===t.size)return void q.default.error("No tokens to sell",{toastId:ev});let s=async(t,r)=>{try{let i=eu.find(e=>e.publicKey.toLowerCase()===t.toLowerCase())?.privateKey;if(!i)return{wallet:t,hash:"",success:!1};let n=(0,v.privateKeyToAccount)(`0x${i}`),a=r;("fourmeme"===u||"binance"===u)&&(a=r/BigInt(1e9)*BigInt(1e9));let s=(0,I.estimateSellBnb)({tokens:a.toString(),liquidityBnb:o.liquidityBnb,liquidityToken:o.liquidityToken,fee:d,protocol:o.protocol}),f=BigInt((0,W.applySlippage)(s,e.slippage,"sell").toFixed(0));await (0,H.handleAllApprovals)(u,c,O,L,n,z,ei,eA,"sell");let p=new F.ExecutionPlanner;p.sell(u,c,a,f,l,d,O,J,eS.referralAddress,eS.referralPoints);let h=p.finalize(),m=BigInt(Math.ceil(Math.max(ey,Date.now())/1e3)+k.SWAP_DEADLINE_SECONDS),b=await ei(n.address,L),y="binance"===u?k.AXIOM_ROUTER_ADDRESS_V2:"flap"===u?k.FLAP_ROUTER_ADDRESS:k.AXIOM_ROUTER_ADDRESS,x="flap"===u&&"bnb"!==O&&"wbnb"!==O?k.BNB_GAS_CONFIG.gasLimit+k.BNB_GAS_CONFIG.gasLimitFlapQuoteToken:k.BNB_GAS_CONFIG.gasLimit,A=await n.signTransaction({from:n.address,to:y,data:(0,g.encodeFunctionData)({abi:U.AXIOM_ROUTER_ABI,functionName:"axiomTrade",args:[h.commands,h.inputs,m]}),value:J,gas:x,gasPrice:Q,nonce:b,chainId:S.bsc.id}),T=(0,w.keccak256)(A);return(0,C.sendBscTransaction)(A,e.antiMevRpc),ea(n.address,i,b,z),await (0,X.monitorTransaction)(L,eA,T,Z(ew.length),(k.SWAP_DEADLINE_SECONDS+1)*1e3),{wallet:t,hash:T,success:!0}}catch(e){return console.error(`Sell failed for wallet ${t}:`,e),{wallet:t,hash:"",success:!1}}},p=[...t.entries()];if(0===ep)r=await Promise.all(p.map(([e,t])=>s(e,t)));else{let e=[];for(let t=0;t<p.length;t++){let[r,i]=p[t];e.push(s(r,i)),t<p.length-1&&await new Promise(e=>setTimeout(e,ep))}r=await Promise.all(e)}await Y({results:r,walletsToUse:[...t.keys()],tokenAddress:c,startTime:eg,toastId:ev,refreshBnbNonces:en,refreshBalancesEvm:et,handleTokenReferral:eo,tradeType:"sell"});return}}catch(e){q.default.error(`${"buy"===h?"Buy":"Sell"} failed: ${e instanceof Error?e.message:"Unknown error"}`,{toastId:ev}),et(ew,s.tokenAddress)}},[ee,et,er,ei,en,eo,ea,t,r,o,e,n,a,$,u,l,c,J])}e.s(["useBnbCancelPendingTx",()=>Q],970317);var ee=e.i(115906),et=e.i(937491);let er=(0,i.memo)(function({pairInfo:e,size:d="32px",icon:f=!1,padding:p="12px",hideUnit:h=!1,showLabel:m=!0,pulse:b=!1,rounded:g="999px",keyType:y="default",width:x="",height:A="",seeThrough:w=!1,transparentStyle:v=!1,isSecond:S=!1,isPulse:T=!1,color:E="primaryBlue",shouldRedirect:k=!1,fetchLatestSwapInfo:P=!1}){let _,{t:I}=(0,o.useTranslation)(),N=(0,r.useAtomValue)(c.themeAtom),R=(0,r.useAtomValue)(u.currentChainAtom),[B]=(0,n.useEvmSettings)("lowContrastButtons",!1),C=w&&B?"textPrimary":E,O=C||"primaryBlue",D=C?.startsWith("#"),M="textPrimary"===C,U=D?(0,et.synthesizeHoverColor)(C):C?M?"textPrimary":`${C}Hover`:"primaryBlueHover",[F,L]=(0,l.useQuickBuyAmount)(S?"second":y,"bnb"),q=$(),K=(0,r.useAtomValue)(s.isAuthedAtom),W=(0,r.useSetAtom)(s.isSignupModalOpenAtom),V=(0,i.useRef)(null),{uiLocked:G,isLocked:z,lock:j,unlock:H}=(0,a.default)(),[X,Q]=(0,i.useState)(!1),[J]=(0,n.useEvmSettings)("quickBuyBehavior","nothing"),Y=(0,ee.useRouter)(),[Z]=(0,n.useEvmSettings)("ultraButtonBorder",!1),[er]=(0,n.useEvmSettings)("useGigaButtons",!1),ei=async t=>{if(t.preventDefault(),t.stopPropagation(),!z()){if(!K)return void W(!0);if(j(),setTimeout(()=>{H()},200),q({poolConfig:{pairAddress:e.pairAddress,tokenAddress:e.tokenAddress,tokenDecimals:e.tokenDecimals,protocol:e.protocol,fee:e.fee,quoteToken:e.quoteToken,liquidityBnb:e.liquidityBnb,liquidityToken:e.liquidityToken},tradeType:"buy",amount:{units:"bnb",amountBnb:F},presetType:S?"second":y,fetchLatestSwapInfo:P}),T&&"nothing"!==J||!0===k){let t=e.pairAddress;if("tab"===J){let e=window.open(`/meme/${t}?chain=${R}`,"_blank");e&&e.focus()}else"goto"===J&&Y.push(`/meme/${t}?chain=${R}`)}}};return(0,t.jsxs)("button",{type:"button",ref:V,onClick:ei,className:`${b?w?"bg-transparent transition-all duration-0 ease-in-out hover:bg-textTertiary/[0.045] active:bg-textTertiary/[0.065]":"bg-primaryStroke text-textSecondary hover:bg-secondaryStroke":v?"bg-textPrimary/[0.045] transition-all duration-0 ease-in-out hover:bg-textPrimary/[0.065] active:bg-textPrimary/[0.095]":w?"bg-transparent transition-all duration-0 ease-in-out hover:bg-textTertiary/[0.045] active:bg-textTertiary/[0.065]":!D?`bg-${O}`:""} ${!b&&!w&&!v&&!D&&`hover:bg-${U}`} ${b?w?!D?M?"text-textPrimary transition-colors duration-0 ease-in-out":`text-${U} transition-colors duration-0 ease-in-out`:"transition-colors duration-0 ease-in-out":"text-textSecondary":v||w?!D?M?"text-textPrimary transition-colors duration-0 ease-in-out":`text-${U} transition-colors duration-0 ease-in-out`:"transition-colors duration-0 ease-in-out":"text-[#090909]"} flex flex-row gap-[4px] ${w?"items-end justify-end":"items-center justify-center"} rounded-[${g}] ${A?`${A}`:`h-[${d}]`} group/quickBuyButton relative overflow-hidden whitespace-nowrap transition-all duration-0 ${w?"hover:backdrop-blur-[0.65px]":""} ${w?"border-l border-l-transparent transition-[border-color] duration-0 group-hover/pulseRow:border-l-white/10":""}`,style:{paddingLeft:p,paddingRight:w?"16px":p,paddingBottom:w?"16px":void 0,width:x,...D?{backgroundColor:b||w||v?void 0:O,color:b&&w||v||w?O:void 0}:{},...Z&&er&&T?{boxShadow:`inset 0 0 0 1px ${B?"rgba(255, 255, 255, 0.5)":S&&D?O:N.primaryColor}`,borderRadius:"4px"}:{}},disabled:G,onMouseEnter:e=>{Q(!0),!D||b||w||v||(e.currentTarget.style.backgroundColor=U),D&&(b&&w||v||w)&&(e.currentTarget.style.color=U)},onMouseLeave:e=>{Q(!1),!D||b||w||v||(e.currentTarget.style.backgroundColor=O),D&&(b&&w||v||w)&&(e.currentTarget.style.color=O)},onMouseMove:e=>{if(w){let t=e.currentTarget.getBoundingClientRect();e.currentTarget.style.setProperty("--mouse-x",`${e.clientX-t.left}px`),e.currentTarget.style.setProperty("--mouse-y",`${e.clientY-t.top}px`)}},children:[w&&(0,t.jsx)("div",{className:`pointer-events-none absolute transition-opacity duration-200 ease-in-out ${X?"opacity-20":"opacity-0"}`,style:{width:"220px",height:"220px",borderRadius:"50%",left:"var(--mouse-x, 50%)",top:"var(--mouse-y, 50%)",transform:"translate(-50%, -50%)",background:(_=(0,et.hexToRgb)(et.DEFAULT_COLORS.textPrimary))?`radial-gradient(circle, rgba(${_.r}, ${_.g}, ${_.b}, 0.15), rgba(${_.r}, ${_.g}, ${_.b}, 0))`:"radial-gradient(circle, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0))"}}),G?(0,t.jsx)("div",{className:"relative z-10 animate-spin",children:(0,t.jsx)("i",{className:"ri-loader-4-line flex items-center text-[16px]"})}):(0,t.jsxs)(t.Fragment,{children:[f&&(0,t.jsx)("i",{className:`${b?w?M?"ri-flashlight-fill -mb-[2px] text-textPrimary transition-colors duration-0":"ri-flashlight-fill -mb-[2px] text-textTertiary transition-colors duration-0":"ri-flashlight-fill text-textTertiary":v?!D?M?"ri-flashlight-fill text-textPrimary transition-colors duration-0":`ri-flashlight-fill text-${U} transition-colors duration-0`:"ri-flashlight-fill transition-colors duration-0":w?!D?M?"ri-flashlight-fill -mb-[2px] text-textPrimary transition-colors duration-0":`ri-flashlight-fill text-${U} -mb-[2px] transition-colors duration-0`:"ri-flashlight-fill -mb-[2px] transition-colors duration-0":"ri-flashlight-fill"} relative z-10 flex items-center text-[16px]`,style:D&&!b?{color:v||w?O:void 0}:void 0}),m&&(0,t.jsx)("span",{className:`text-[12px] ${w||v||b?"font-semibold":"font-bold"} ${w||v?"transition-colors duration-0":""} relative z-10`,children:I("Buy")}),L&&(0,t.jsxs)("span",{className:`text-[12px] ${w||v?"font-medium":b?"font-semibold":"font-bold"} ${w||v?"transition-colors duration-0":""} relative z-10`,children:[L,!h&&" BNB"]})]})]})})},189592,e=>{"use strict";var t=e.i(639372),r=e.i(672464),i=e.i(461025),n=e.i(265172),a=e.i(271645),o=e.i(741124),s=e.i(832544);let u=(0,t.atom)([]),l=(0,t.atom)([]),c=(0,t.atom)([]),d={newPairs:u,finalStretch:l,migrated:c};function f(e,t){return`${e}:${t}`}let p=(0,i.atomFamily)(e=>(0,t.atom)(null),(e,t)=>e===t);function h(e,t){return e.length===t.length&&e.every((e,r)=>e===t[r])}let m=(0,t.atom)(e=>e(u).filter(t=>null!==e(p(f("newPairs",t))))),b=(0,t.atom)(e=>e(l).filter(t=>null!==e(p(f("finalStretch",t))))),g=(0,t.atom)(e=>e(c).filter(t=>null!==e(p(f("migrated",t))))),y=(0,n.selectAtom)(m,e=>e,h),x=(0,n.selectAtom)(b,e=>e,h),A=(0,n.selectAtom)(g,e=>e,h),w=(0,t.atom)(null),v=(0,t.atom)(null),S=(0,t.atom)(null),T=(0,t.atom)(null,(e,t,r)=>{let i=e(S);i&&clearTimeout(i),t(v,r);let n=setTimeout(()=>{t(v,null),t(S,null)},350);t(S,n)}),E=(0,t.atom)(null,(e,t)=>{let r=e(S);r&&clearTimeout(r),t(v,null),t(S,null)});function k(e,t,r){let i=d[e],n=r.get(i),a=t.map(e=>e.pairAddress),o=new Set(a);for(let i of t){let t=p(f(e,i.pairAddress));r.set(t,i)}for(let t of n)if(!o.has(t)){let i=f(e,t),n=p(i);r.set(n,null),p.remove(i)}(a.length!==n.length||a.some((e,t)=>e!==n[t]))&&r.set(i,a)}let P=(0,t.atom)(e=>e(u).slice(0,5).map(t=>{let r=e(p(f("newPairs",t)));return{pairAddress:t,tokenAddress:r?.tokenAddress??"",bondingCurvePercent:r?.bondingCurvePercent??0}})),_=(0,t.atom)(e=>e(l).slice(0,5).map(t=>{let r=e(p(f("finalStretch",t)));return{pairAddress:t,tokenAddress:r?.tokenAddress??"",bondingCurvePercent:r?.bondingCurvePercent??0}})),I=(0,t.atom)(e=>e(c).slice(0,5).map(t=>{let r=e(p(f("migrated",t)));return{pairAddress:t,tokenAddress:r?.tokenAddress??"",bondingCurvePercent:r?.bondingCurvePercent??0}})),N=(0,t.atom)(e=>e(u).length>0),R=(0,t.atom)(e=>e(l).length>0),B=(0,t.atom)(e=>e(c).length>0),C=(0,t.atom)(!1),O=(0,t.atom)(!1),D=(0,t.atom)(!1),M=(0,t.atom)(null),U=(0,t.atom)(!1),F=(0,t.atom)(!1),L=(0,t.atom)(!1),q=(0,t.atom)(!1),K=(0,t.atom)(!1),W=(0,t.atom)(!1),V=(0,n.atomWithStorage)("newPairsSearchQuery","",void 0,{getOnInit:!0}),G=(0,n.atomWithStorage)("finalStretchSearchQuery","",void 0,{getOnInit:!0}),z=(0,n.atomWithStorage)("migratedSearchQuery","",void 0,{getOnInit:!0}),j=(0,t.atom)(null,(e,t,r)=>{t(V,r),t(G,r),t(z,r)}),H=(0,t.atom)(null,(e,t,r)=>{let i=e(s.isMobileAtom);t(s.isMobileAtom,r),!1===i&&!0===r&&t(X)}),X=(0,t.atom)(null,(e,t)=>{t(V,""),t(G,""),t(z,"")}),Q=(0,n.atomWithStorage)("blacklistedItemsMap",{},void 0,{getOnInit:!0}),J={sol:(0,n.atomWithStorage)("blacklist-sol",{},void 0,{getOnInit:!0}),bnb:(0,n.atomWithStorage)("blacklist-bnb",{},void 0,{getOnInit:!0})},Y="blacklist-migration-v1-complete";!function(){if(!localStorage.getItem(Y))try{let e=localStorage.getItem("blacklistedItemsMap");if(!e)return void localStorage.setItem(Y,"true");let t=JSON.parse(e),r={},i={};for(let[e,n]of Object.entries(t))"ca"===n.type||"dev"===n.type?i[e]=n:r[e]=n;localStorage.setItem("blacklistedItemsMap",JSON.stringify(r)),localStorage.setItem("blacklist-sol",JSON.stringify(i)),localStorage.setItem(Y,"true")}catch(e){console.error(" Blacklist migration failed:",e),localStorage.setItem(Y,"true")}}();let Z=(0,t.atom)(e=>{let t=e(o.currentChainAtom),r=e(Q),i=e(J[t]);return{...r,...i}}),$=(0,t.atom)(!1);(0,n.atomWithStorage)("pulseNotificationsEnabled",!0,void 0,{getOnInit:!0});let ee=(0,n.atomWithStorage)("pulseSoundEnabled",!1,void 0,{getOnInit:!1}),et=(0,n.atomWithStorage)("pulseSoundVolume",50,void 0,{getOnInit:!0});(0,n.atomWithStorage)("newPairsSoundEnabled",!0,void 0,{getOnInit:!0}),(0,n.atomWithStorage)("migratedPairsSoundEnabled",!0,void 0,{getOnInit:!0}),(0,n.atomWithStorage)("finalStretchSoundEnabled",!0,void 0,{getOnInit:!0});let er=(0,n.atomWithStorage)("newPairsSoundType","default",void 0,{getOnInit:!0}),ei=(0,n.atomWithStorage)("finalStretchSoundType","default",void 0,{getOnInit:!0}),en=(0,n.atomWithStorage)("migratedSoundType","default",void 0,{getOnInit:!0}),ea={low:"#52C5FF",mid:"#DCC13C",high:"#2FE3AC",thresholdLow:3e4,thresholdHigh:15e4},eo={low:"#FFFFFF",high:"#FFFFFF",mid:"#FFFFFF",thresholdLow:10,thresholdHigh:50,isLowOverridden:!1,isMidOverridden:!1,isHighOverridden:!1},es={low:"#FFFFFF",high:"#FFFFFF",mid:"#FFFFFF",thresholdLow:1e3,thresholdHigh:2e3,isLowOverridden:!1,isMidOverridden:!1,isHighOverridden:!1},eu={low:"#10B981",high:"#EF4444",mid:"#F59E0B",thresholdLow:10,thresholdHigh:60,thresholdLowUnit:"minutes",thresholdHighUnit:"minutes"},el=(0,t.atom)("protocols"),ec=(0,t.atom)("newPairs");e.s(["BLACKLIST_MAX_SIZE",0,1e3,"DEFAULT_HOLDERS_COLORS_SETTINGS",0,eo,"DEFAULT_MARKET_CAP_COLORS_SETTINGS",0,ea,"DEFAULT_PULSE_COLORS_SETTINGS",0,{marketCap:ea,holders:eo,volume:es,tweetCreatedAt:eu},"DEFAULT_TWEET_CREATED_AT_COLORS_SETTINGS",0,eu,"DEFAULT_VOLUME_COLORS_SETTINGS",0,es,"activeSubTabPulseAtom",0,el,"activeTableTabPulseAtom",0,ec,"blacklistedItemsMapAtom",0,Q,"chainBlacklistAtoms",0,J,"currentChainBlacklistAtom",0,Z,"currentSnipePairAtom",0,M,"filteredPairAddressesAtomsByTable",0,{newPairs:y,finalStretch:x,migrated:A},"finalStretchPairAddressesAtom",0,l,"finalStretchSearchBarQueryAtom",0,G,"finalStretchSearchQueryAtom",0,G,"finalStretchSoundDataAtom",0,_,"finalStretchSoundTypeAtom",0,ei,"hasFinalStretchDataAtom",0,R,"hasMigratedDataAtom",0,B,"hasNewPairsDataAtom",0,N,"hotkeyFlashedPairAddressAtom",0,v,"hotkeyPreviewTableAtom",0,w,"isAlertsModalOpenAtom",0,$,"isBlacklistModalOpenAtom",0,K,"isFiltersOpenAtom",0,q,"isFinalStretchLoadingAtom",0,O,"isFinalStretchPausedAtom",0,F,"isMigratedLoadingAtom",0,D,"isMigratedPausedAtom",0,L,"isNewPairsLoadingAtom",0,C,"isNewPairsPausedAtom",0,U,"makeRowKey",()=>f,"migratedPairAddressesAtom",0,c,"migratedSearchBarQueryAtom",0,z,"migratedSearchQueryAtom",0,z,"migratedSoundDataAtom",0,I,"migratedSoundTypeAtom",0,en,"newPairsPairAddressesAtom",0,u,"newPairsSearchBarQueryAtom",0,V,"newPairsSearchQueryAtom",0,V,"newPairsSoundDataAtom",0,P,"newPairsSoundTypeAtom",0,er,"pulseRowAtomFamily",0,p,"pulseSoundEnabledAtom",0,ee,"pulseSoundVolumeAtom",0,et,"setHotkeyFlashAtom",0,T,"showDiscoverBlacklistedItemsAtom",0,W,"updateIsMobileAtom",0,H,"updateMobileSearchQueryAtom",0,j,"updatePulseTable",()=>k,"useCleanupPulseAtoms",0,()=>{let e=(0,r.useSetAtom)(U),t=(0,r.useSetAtom)(F),i=(0,r.useSetAtom)(L),n=(0,r.useSetAtom)(X),o=(0,r.useSetAtom)(w),s=(0,r.useSetAtom)(E);(0,a.useEffect)(()=>()=>{e(!1),t(!1),i(!1),n(),o(null),s()},[e,t,i,n,o,s])}])},458768,157613,603,e=>{"use strict";e.s(["default",()=>R],458768);var t=e.i(843476),r=e.i(639372),i=e.i(271645),n=e.i(705766),a=e.i(741124),o=e.i(718646),s=e.i(205388),u=e.i(740626);e.s(["QuickBuyButton",()=>S],603);var l=e.i(672464),c=e.i(564012),d=e.i(538560);e.s(["QuickBuyButtonSol",()=>v],157613);var f=e.i(189592),p=e.i(363071),h=e.i(592846);e.i(490156);var m=e.i(542119),b=e.i(352120),g=e.i(182781),y=e.i(538701),x=e.i(350721),A=e.i(115906),w=e.i(937491);let v=(0,i.memo)(function({pairInfo:e,size:r="32px",icon:n=!1,padding:o="12px",hideUnit:s=!1,showLabel:u=!0,snipe:c=!1,pulse:d=!1,rounded:v="999px",keyType:S="default",width:T="",height:E="",seeThrough:k=!1,transparentStyle:P=!1,isSecond:_=!1,isPulse:I=!1,color:N="primaryBlue",shouldRedirect:B=!1}){let C,{t:O}=(0,h.useTranslation)(),D=(0,l.useAtomValue)(y.themeAtom),[M]=(0,g.useSettings)("lowContrastButtons",!1),U=k&&M?"textPrimary":N,F=U||"primaryBlue",L=U?.startsWith("#"),q="textPrimary"===U,K=L?(0,w.synthesizeHoverColor)(U):U&&q?"textPrimary":U?`${U}Hover`:"primaryBlueHover",[W,V]=(0,b.useQuickBuyAmount)(_?"second":S,"sol"),G=(0,x.useMarketBuySolMeme)(),z=(0,l.useAtomValue)(m.isAuthedAtom),j=(0,l.useSetAtom)(m.isSignupModalOpenAtom),H=(0,l.useSetAtom)(b.isSnipeModalOpenAtom),X=(0,l.useSetAtom)(b.isSnipeSecondQuickBuyAtom),Q=(0,l.useSetAtom)(f.currentSnipePairAtom),J=(0,i.useRef)(null),{uiLocked:Y,isLocked:Z,lock:$,unlock:ee}=(0,p.default)(),[et,er]=(0,i.useState)(!1),[ei]=(0,g.useSettings)("quickBuyBehavior","nothing"),en=(0,A.useRouter)(),ea=(0,l.useAtomValue)(a.currentChainAtom),[eo]=(0,g.useSettings)("ultraButtonBorder",!1),[es]=(0,g.useSettings)("useGigaButtons",!1),eu=async t=>{let r;if(t.preventDefault(),t.stopPropagation(),!Z()){if(!z)return void j(!0);try{r="pair-getter"===e.type?e.getPairInfo():e}catch{return R.error(O("Pair info not available"))}if(c){if("full"!==r.type)return R.error(O("Snipe is not available on this quick buy button"));Q(r),H(!0),X(_)}else $(),setTimeout(()=>{ee()},200),G({amountSol:W,pairInfo:r,presetType:_?"second":S,supplementalData:"pair-getter"===e.type&&e.getSupplementalData?e.getSupplementalData():void 0});if(I&&"nothing"!==ei||!0===B){let e="pairAddress"in r?r.pairAddress:r.tokenAddress;if("tab"===ei){let t=window.open(`/meme/${e}?chain=${ea}`,"_blank");t&&t.focus()}else"goto"===ei&&en.push(`/meme/${e}?chain=${ea}`)}}};return(0,t.jsxs)("button",{type:"button",ref:J,onClick:eu,className:`${c?k?"bg-transparent transition-all duration-0 ease-in-out hover:bg-textTertiary/[0.045] active:bg-textTertiary/[0.065]":!L?`border bg-background border-${F} hover:bg-[#15182C]`:"border bg-background":d?k?"bg-transparent transition-all duration-0 ease-in-out hover:bg-textTertiary/[0.045] active:bg-textTertiary/[0.065]":"bg-primaryStroke text-textSecondary hover:bg-secondaryStroke":P?"bg-textPrimary/[0.045] transition-all duration-0 ease-in-out hover:bg-textPrimary/[0.065] active:bg-textPrimary/[0.095]":k?"bg-transparent transition-all duration-0 ease-in-out hover:bg-textTertiary/[0.045] active:bg-textTertiary/[0.065]":!L?`bg-${F}`:""} ${!c&&!d&&!k&&!P&&!L&&`hover:bg-${K}`} ${c?k?!L?q?"text-textPrimary transition-colors duration-0 ease-in-out":`text-${K} transition-colors duration-0 ease-in-out`:"transition-colors duration-0 ease-in-out":!L?q?"text-textPrimary":`text-${F}`:"":d?k?!L?q?"text-textPrimary transition-colors duration-0 ease-in-out":`text-${K} transition-colors duration-0 ease-in-out`:"transition-colors duration-0 ease-in-out":"text-textSecondary":P||k?!L?q?"text-textPrimary transition-colors duration-0 ease-in-out":`text-${K} transition-colors duration-0 ease-in-out`:"transition-colors duration-0 ease-in-out":"text-[#090909]"} flex flex-row gap-[4px] ${k?"items-end justify-end":"items-center justify-center"} rounded-[${v}] ${E?`${E}`:`h-[${r}]`} group/quickBuyButton relative overflow-hidden whitespace-nowrap transition-all duration-0 ${k?"hover:backdrop-blur-[0.65px]":""} ${k?"border-l border-l-transparent transition-[border-color] duration-0 group-hover/pulseRow:border-l-white/10":""}`,style:{paddingLeft:o,paddingRight:k?"16px":o,paddingBottom:k?"16px":void 0,width:T,...L?{backgroundColor:c||d||k||P?void 0:F,borderColor:c&&!k?F:void 0,color:c&&!k||c&&k||d&&k||P||k?F:void 0}:{},...eo&&es&&I?{boxShadow:`inset 0 0 0 1px ${M?"rgba(255, 255, 255, 0.5)":_&&L?F:D.primaryColor}`,borderRadius:"4px"}:{}},disabled:Y,onMouseEnter:e=>{er(!0),!L||c||d||k||P||(e.currentTarget.style.backgroundColor=K),L&&c&&!k&&(e.currentTarget.style.backgroundColor="#15182C"),L&&(c&&k||d&&k||P||k)&&(e.currentTarget.style.color=K)},onMouseLeave:e=>{er(!1),!L||c||d||k||P||(e.currentTarget.style.backgroundColor=F),L&&c&&!k&&(e.currentTarget.style.backgroundColor=""),L&&(c&&k||d&&k||P||k)&&(e.currentTarget.style.color=F)},onMouseMove:e=>{if(k){let t=e.currentTarget.getBoundingClientRect();e.currentTarget.style.setProperty("--mouse-x",`${e.clientX-t.left}px`),e.currentTarget.style.setProperty("--mouse-y",`${e.clientY-t.top}px`)}},children:[k&&(0,t.jsx)("div",{className:`pointer-events-none absolute transition-opacity duration-200 ease-in-out ${et?"opacity-20":"opacity-0"}`,style:{width:"220px",height:"220px",borderRadius:"50%",left:"var(--mouse-x, 50%)",top:"var(--mouse-y, 50%)",transform:"translate(-50%, -50%)",background:(C=(0,w.hexToRgb)(w.DEFAULT_COLORS.textPrimary))?`radial-gradient(circle, rgba(${C.r}, ${C.g}, ${C.b}, 0.15), rgba(${C.r}, ${C.g}, ${C.b}, 0))`:"radial-gradient(circle, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0))"}}),Y?(0,t.jsx)("div",{className:"relative z-10 animate-spin",children:(0,t.jsx)("i",{className:"ri-loader-4-line flex items-center text-[16px]"})}):(0,t.jsxs)(t.Fragment,{children:[n&&(0,t.jsx)("i",{className:`${c?k?!L?q?"ri-crosshair-2-fill -mb-[2px] text-textPrimary transition-colors duration-0":`ri-crosshair-2-fill text-${K} -mb-[2px] transition-colors duration-0`:"ri-crosshair-2-fill -mb-[2px] transition-colors duration-0":!L?q?"ri-crosshair-2-fill text-textPrimary":`ri-crosshair-2-fill text-${F}`:"ri-crosshair-2-fill":d?k?q?"ri-flashlight-fill -mb-[2px] text-textPrimary transition-colors duration-0":"ri-flashlight-fill -mb-[2px] text-textTertiary transition-colors duration-0":"ri-flashlight-fill text-textTertiary":P?!L?q?"ri-flashlight-fill text-textPrimary transition-colors duration-0":`ri-flashlight-fill text-${K} transition-colors duration-0`:"ri-flashlight-fill transition-colors duration-0":k?!L?q?"ri-flashlight-fill -mb-[2px] text-textPrimary transition-colors duration-0":`ri-flashlight-fill text-${K} -mb-[2px] transition-colors duration-0`:"ri-flashlight-fill -mb-[2px] transition-colors duration-0":"ri-flashlight-fill"} relative z-10 flex items-center text-[16px]`,style:L&&!d?{color:c&&!k||c&&k||P||k?F:void 0}:void 0}),u&&(0,t.jsx)("span",{className:`text-[12px] ${k||P||c||d?"font-semibold":"font-bold"} ${k||P?"transition-colors duration-0":""} relative z-10`,children:O("Buy")}),V&&(0,t.jsxs)("span",{className:`text-[12px] ${k||P?"font-medium":d?"font-semibold":"font-bold"} ${k||P?"transition-colors duration-0":""} relative z-10`,children:[V,!s&&" SOL"]})]})]})});function S(e){let r=(0,l.useAtomValue)(a.currentChainAtom);return"sol"===r?(0,t.jsx)(v,{...e}):"bnb"===r?(0,t.jsx)(d.QuickBuyButtonBnb,{...e}):((0,c.assertUnreachable)(r),null)}let T=`
  @keyframes pulseBlueUp {
    0% {
      transform: translateY(600%);
      opacity: 1;
    }
    100% {
      transform: translateY(-650%);
      opacity: 1;
    }
  }
  .pulse-blue-up {
    animation: pulseBlueUp 1.35s cubic-bezier(0.25, 1, 0.5, 1) forwards;
  }
`,E={duration:2e3,animationType:"default"},k=()=>(0,r.getDefaultStore)().get(o.toastPositionAtom)||"top-center",P=(e,t="default",r)=>{let i=(r||k()).includes("bottom");return({default:e?i?"animate-enter-bottom":"animate-enter":i?"animate-leave-bottom":"animate-leave",warning:e?i?"animate-warning-enter-bottom":"animate-warning-enter":i?"animate-warning-leave-bottom":"animate-warning-leave",transaction:e?i?"animate-transaction-enter-bottom":"animate-transaction-enter":i?"animate-transaction-leave-bottom":"animate-transaction-leave"})[t]},_=({startTime:e})=>{let[r,n]=(0,i.useState)(0);(0,i.useEffect)(()=>{let t=setInterval(()=>{n(Date.now()-e)},200);return()=>clearInterval(t)},[e]);let a=(r/1e3).toFixed(2);return(0,t.jsxs)("span",{className:"ml-2 font-GeistMono text-[12px] tabular-nums text-primaryBlue",children:[a,"s"]})},I=e=>{let t=(0,r.getDefaultStore)(),i=!1,n=null;if("pumpLive"===e){let e=localStorage.getItem("pumpLiveSettings");if(e)try{let t=JSON.parse(e);i=!0===t.toastSound,n=t.toastSoundType||"default"}catch{i=!1}}else i=t.get(o.soundEnabledAtom),n="buy"===e?t.get(o.buySoundAtom):t.get(o.sellSoundAtom);if(!i)return;let a=n?.replace(/"/g,"");if("none"===a)return;if(a?.startsWith("custom-")){let r=localStorage.getItem("buy"===e?"customBuySoundData":"sell"===e?"customSellSoundData":"pumpLiveCustomSoundData");if(r){let i=new Audio(r);return i.volume="pumpLive"===e?JSON.parse(localStorage.getItem("pumpLiveSettings")||"{}").toastVolume||.5:(t.get(o.soundVolumeAtom)??50)/100,i.play().catch(e=>console.error("Failed to play custom notification sound:",e)),i}}let s="kaching"===a?"/sounds/kaching-notification.mp3":"/sounds/notification.mp3",u=.5;u="pumpLive"===e?JSON.parse(localStorage.getItem("pumpLiveSettings")||"{}").toastVolume||.5:(t.get(o.soundVolumeAtom)??50)/100;let l=new Audio(s);l.volume=u,l.play().catch(e=>console.error("Failed to play notification sound:",e))},N={success:(e,r=E)=>{let{message:i,icon:a}="string"==typeof e?{message:e,icon:(0,t.jsx)("i",{className:"ri-checkbox-circle-fill text-[16px] text-increase"})}:{...e,icon:e.icon??(0,t.jsx)("i",{className:"ri-checkbox-circle-fill text-[16px] text-increase"})},o=r?.animationType||E.animationType,s=r?.position||k();return n.toast.custom(e=>(0,t.jsxs)("div",{className:`${P(e.visible,o,s)} rounded-[8px] border border-secondaryStroke bg-backgroundTertiary shadow-lg sm:rounded-[4px] ${e.visible?"pointer-events-auto":"pointer-events-none"} flex h-[52px] items-center gap-[16px] p-[16px]`,style:r?.style,children:[(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,t.jsx)("div",{className:"flex h-[20px] w-[20px] items-center justify-center",children:a}),(0,t.jsx)("div",{className:"text-[14px] font-normal leading-[20px] text-textPrimary",children:i})]})}),(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)("button",{type:"button",onClick:()=>{n.toast.dismiss(e.id),setTimeout(()=>{n.toast.dismiss()},100)},className:"flex h-[24px] w-[24px] items-center justify-center rounded-[4px] border border-transparent p-3 text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-[20px] text-textTertiary"})})})]}),{position:r?.position||k(),duration:r?.duration,id:r?.toastId})},txSuccess:(e,r=E)=>{let{message:i,icon:a}="string"==typeof e?{message:e,icon:(0,t.jsx)("i",{className:"ri-checkbox-circle-fill text-[16px] text-increase"})}:{...e,icon:e.icon??(0,t.jsx)("i",{className:"ri-checkbox-circle-fill text-[16px] text-increase"})},o=r?.animationType||E.animationType,s=r?.position||k();return I("buy"),n.toast.custom(e=>(0,t.jsxs)("div",{className:`${P(e.visible,o,s)} rounded-[8px] border border-secondaryStroke bg-backgroundTertiary shadow-lg sm:rounded-[4px] ${e.visible?"pointer-events-auto":"pointer-events-none"} flex h-[52px] items-center gap-[8px] p-[16px]`,children:[(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,t.jsx)("div",{className:"flex h-[20px] w-[20px] items-center justify-center",children:a}),(0,t.jsxs)("div",{className:"flex items-center text-[14px] font-normal leading-[20px] text-textPrimary",children:[i,r?.elapsedMs!==void 0&&(0,t.jsxs)("span",{className:"ml-2 font-GeistMono text-[12px] tabular-nums text-primaryBlue",children:[(r.elapsedMs/1e3).toFixed(2),"s"]})]})]})}),(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)("button",{type:"button",onClick:()=>{n.toast.dismiss(e.id),setTimeout(()=>{n.toast.dismiss()},100)},className:"flex h-[24px] w-[24px] items-center justify-center rounded-[4px] border border-transparent p-3 text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-[20px] text-textTertiary"})})})]}),{position:r?.position||k(),duration:r?.duration,id:r?.toastId})},txSellSuccess:(e,r=E)=>{let{message:i,icon:a}="string"==typeof e?{message:e,icon:(0,t.jsx)("i",{className:"ri-checkbox-circle-fill text-[16px] text-increase"})}:{...e,icon:e.icon??(0,t.jsx)("i",{className:"ri-checkbox-circle-fill text-[16px] text-increase"})},o=r?.animationType||E.animationType,s=r?.position||k();return I("sell"),n.toast.custom(e=>(0,t.jsxs)("div",{className:`${P(e.visible,o,s)} rounded-[8px] border border-secondaryStroke bg-backgroundTertiary shadow-lg sm:rounded-[4px] ${e.visible?"pointer-events-auto":"pointer-events-none"} flex h-[52px] items-center gap-[8px] p-[16px]`,children:[(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,t.jsx)("div",{className:"flex h-[20px] w-[20px] items-center justify-center",children:a}),(0,t.jsxs)("div",{className:"flex items-center text-[14px] font-normal leading-[20px] text-textPrimary",children:[i,r?.elapsedMs!==void 0&&(0,t.jsxs)("span",{className:"ml-2 font-GeistMono text-[12px] tabular-nums text-primaryBlue",children:[(r.elapsedMs/1e3).toFixed(2),"s"]})]})]})}),(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)("button",{type:"button",onClick:()=>{n.toast.dismiss(e.id),setTimeout(()=>{n.toast.dismiss()},100)},className:"flex h-[24px] w-[24px] items-center justify-center rounded-[4px] border border-transparent p-3 text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-[20px] text-textTertiary"})})})]}),{position:r?.position||k(),duration:r?.duration,id:r?.toastId})},error:(e,r)=>{let{message:i,icon:a}="string"==typeof e?{message:e,icon:(0,t.jsx)("i",{className:"ri-error-warning-fill text-[16px] text-decrease"})}:{...e,icon:e.icon??(0,t.jsx)("i",{className:"ri-error-warning-fill text-[16px] text-decrease"})},o=r?.animationType||E.animationType,s=r?.position||k();return n.toast.custom(e=>(0,t.jsxs)("div",{className:`${P(e.visible,o,s)} rounded-[8px] border border-secondaryStroke bg-backgroundTertiary shadow-lg sm:rounded-[4px] ${e.visible?"pointer-events-auto":"pointer-events-none"} flex h-[52px] items-center gap-[16px] p-[16px]`,children:[(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,t.jsx)("div",{className:"flex h-[20px] w-[20px] items-center justify-center",children:a}),(0,t.jsx)("div",{className:"text-[14px] font-normal leading-[20px] text-textPrimary",children:i})]})}),(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)("button",{type:"button",onClick:()=>{n.toast.dismiss(e.id),setTimeout(()=>{n.toast.dismiss()},100)},className:"flex h-[24px] w-[24px] items-center justify-center rounded-[4px] border border-transparent p-3 text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-[20px] text-textTertiary"})})})]}),{position:r?.position||k(),duration:r?.duration||E.duration,id:r?.toastId})},warn:(e,r)=>{let{message:i,icon:a}="string"==typeof e?{message:e,icon:(0,t.jsx)("i",{className:"ri-error-warning-fill text-[16px] text-yellow-500"})}:{...e,icon:e.icon??(0,t.jsx)("i",{className:"ri-error-warning-fill text-[16px] text-yellow-500"})},o=r?.animationType||E.animationType,s=r?.position||k();return n.toast.custom(e=>(0,t.jsxs)("div",{className:`${P(e.visible,o,s)} rounded-[8px] border border-secondaryStroke bg-backgroundTertiary shadow-lg sm:rounded-[4px] ${e.visible?"pointer-events-auto":"pointer-events-none"} flex h-[52px] items-center gap-[16px] p-[16px]`,children:[(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,t.jsx)("div",{className:"flex h-[20px] w-[20px] items-center justify-center",children:a}),(0,t.jsx)("div",{className:"text-[14px] font-normal leading-[20px] text-textPrimary",children:i})]})}),(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)("button",{type:"button",onClick:()=>{n.toast.dismiss(e.id),setTimeout(()=>{n.toast.dismiss()},100)},className:"flex h-[24px] w-[24px] items-center justify-center rounded-[4px] border border-transparent p-3 text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-[20px] text-textTertiary"})})})]}),{position:r?.position||k(),duration:r?.duration||E.duration,id:r?.toastId})},loading:(e,r=E)=>{let{message:i,icon:a}="string"==typeof e?{message:e,icon:(0,t.jsx)("i",{className:"ri-loader-line animate-spin text-[16px] text-textPrimary"})}:{...e,icon:e.icon??(0,t.jsx)("i",{className:"ri-loader-line animate-spin text-[16px] text-textPrimary"})},o=r?.animationType||E.animationType,s=r?.position||k();return n.toast.custom(e=>(0,t.jsx)("div",{className:`${P(e.visible,o,s)} rounded-[8px] border border-secondaryStroke bg-backgroundTertiary shadow-lg sm:rounded-[4px] ${e.visible?"pointer-events-auto":"pointer-events-none"} flex h-[52px] items-center gap-[16px] p-[16px]`,children:(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,t.jsx)("div",{className:"flex h-[20px] w-[20px] items-center justify-center",children:a}),(0,t.jsx)("div",{className:"text-[14px] font-normal leading-[20px] text-textPrimary",children:i})]})})}),{position:r?.position||k(),duration:r?.duration,id:r?.toastId})},loadingWithTimer:(e,r=E)=>{let i=Date.now(),a=r?.animationType||E.animationType,o=r?.position||k();return n.toast.custom(r=>(0,t.jsx)("div",{className:`${P(r.visible,a,o)} rounded-[8px] border border-secondaryStroke bg-backgroundTertiary shadow-lg sm:rounded-[4px] ${r.visible?"pointer-events-auto":"pointer-events-none"} flex h-[52px] items-center gap-[16px] p-[16px]`,children:(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,t.jsx)("div",{className:"flex h-[20px] w-[20px] items-center justify-center",children:(0,t.jsx)("i",{className:"ri-loader-line animate-spin text-[16px] text-textPrimary"})}),(0,t.jsxs)("div",{className:"flex items-center text-[14px] font-normal leading-[20px] text-textPrimary",children:[e,(0,t.jsx)(_,{startTime:i})]})]})})}),{position:r?.position||k(),duration:r?.duration||1/0,id:r?.toastId})},turboToast:(e,r=E)=>{let{message:i,icon:a}="string"==typeof e?{message:e,icon:(0,t.jsx)("i",{className:"ri-loader-line animate-spin text-[16px] text-textPrimary"})}:{...e,icon:e.icon??(0,t.jsx)("i",{className:"ri-loader-line animate-spin text-[16px] text-textPrimary"})},o=r?.animationType||E.animationType,s=r?.position||k();return n.toast.custom(e=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("style",{children:T}),(0,t.jsxs)("div",{className:`${P(e.visible,o,s)} relative ${e.visible?"":"pointer-events-none"}`,children:[(0,t.jsx)("div",{className:"pointer-events-none absolute inset-[-1px] z-0 rounded-[8px] bg-secondaryStroke sm:rounded-[4px]"}),(0,t.jsx)("div",{className:"pointer-events-none absolute inset-[-2px] z-[1] overflow-hidden rounded-[8px] sm:rounded-[4px]",children:e.visible&&(0,t.jsx)("div",{className:"pulse-blue-up absolute inset-0 bottom-0 h-[50%] w-full bg-primaryBlueHover"})}),(0,t.jsx)("div",{className:`z-10 rounded-[7px] bg-backgroundTertiary shadow-lg sm:rounded-[3px] ${e.visible?"pointer-events-auto":"pointer-events-none"} relative flex h-[52px] items-center gap-[16px] p-[16px]`,children:(0,t.jsx)("div",{className:"relative",children:(0,t.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,t.jsx)("div",{className:"flex h-[20px] w-[20px] items-center justify-center",children:a}),(0,t.jsx)("div",{className:"text-[14px] font-normal leading-[20px] text-textPrimary",children:i})]})})})]})]}),{position:r?.position||k(),duration:r?.duration,id:r?.toastId})},notify:(e,r)=>{let i=(r?.position||k()).includes("bottom");return n.toast.custom(r=>(0,t.jsx)("div",{className:`${r.visible?i?"animate-notify-enter-bottom":"animate-notify-enter":i?"animate-notify-leave-bottom":"animate-notify-leave"} rounded-[8px] border border-secondaryStroke bg-backgroundTertiary shadow-lg sm:rounded-[4px] ${r.visible?"pointer-events-auto":"pointer-events-none"} flex items-center`,onClick:()=>{r.visible&&(n.toast.dismiss(r.id),setTimeout(()=>{n.toast.dismiss()},100))},children:(0,t.jsx)(u.default,{...e,onClose:()=>{r.visible&&(n.toast.dismiss(r.id),setTimeout(()=>{n.toast.dismiss()},100))}})}),{position:r?.position||k(),duration:r?.duration||15e3,id:r?.toastId})},priceAlert:(e,r=E)=>{let{message:i}="string"==typeof e?{message:e}:e,a=r?.animationType||E.animationType,o=r?.position||k();return n.toast.custom(e=>(0,t.jsxs)("div",{className:`${P(e.visible,a,o)} rounded-[8px] border border-secondaryStroke bg-backgroundTertiary shadow-lg sm:rounded-[4px] ${e.visible?"pointer-events-auto":"pointer-events-none"} flex items-center gap-[8px] px-[16px]`,style:r?.style,children:[(0,t.jsx)("div",{className:"",children:(0,t.jsx)("div",{className:"flex items-center gap-[8px]",children:(0,t.jsx)("div",{className:"text-[14px] font-normal leading-[20px] text-textPrimary",children:i})})}),(0,t.jsx)("div",{className:"flex flex-row gap-[4px]",children:(0,t.jsx)("button",{type:"button",onClick:()=>{n.toast.dismiss(e.id),setTimeout(()=>{n.toast.dismiss()},100)},className:"flex h-[24px] w-[24px] items-center justify-center rounded-[4px] border border-transparent p-3 text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-[20px] text-textTertiary"})})})]}),{position:r?.position||k(),duration:r?.duration||1e3,id:r?.toastId})},tracker:(e,r=E,i,a)=>{let{message:o}="string"==typeof e?{message:e}:{...e},s=r?.animationType||E.animationType,u=r?.position||k(),l=!0;return n.toast.custom(e=>(0,t.jsxs)("div",{className:`${P(e.visible,s,u)} rounded-[8px] border border-secondaryStroke bg-backgroundTertiary shadow-lg sm:rounded-[4px] ${e.visible?"pointer-events-auto":"pointer-events-none"} flex items-center ${r?.isLegacy?"gap-[8px] px-[16px]":""}`,style:r?.style,children:[(0,t.jsx)("div",{className:"",children:(0,t.jsx)("div",{className:"flex items-center gap-[8px]",children:(0,t.jsx)("div",{className:"text-[14px] font-normal leading-[20px] text-textPrimary",children:o})})}),(0,t.jsxs)("div",{className:r?.isLegacy?"flex flex-row gap-[4px]":"flex h-full flex-col items-end justify-between",children:[!r?.isLegacy&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-row gap-[2px] pr-[3px] pt-[3px]",children:[(0,t.jsx)("button",{type:"button",onClick:e=>{try{e.stopPropagation(),i(),l=!l}catch(e){console.error("Error toggling toast alerts:",e),N.error("Error toggling toast alerts")}},className:"flex h-[24px] w-[24px] items-center justify-center rounded-[4px] border border-transparent p-3 text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:`${l?"ri-notification-fill text-decrease":"ri-notification-line text-textTertiary/50"} text-[13px]`})}),(0,t.jsx)("button",{type:"button",onClick:()=>{n.toast.dismiss(e.id),setTimeout(()=>{n.toast.dismiss()},100)},className:"flex h-[24px] w-[24px] items-center justify-center rounded-[4px] border border-transparent p-3 text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-[17px] text-textTertiary"})})]}),a&&a.showQuickBuy&&(0,t.jsx)("span",{className:"pb-[11px] pl-[8px] pr-[11px]",children:(0,t.jsx)(S,{pairInfo:a.pairInfo,size:"20px",height:"h-[20px]",padding:"6px",rounded:"999px",transparentStyle:!0,icon:!0,hideUnit:!0,showLabel:!1,shouldRedirect:a.shouldRedirect})})]}),r?.isLegacy&&(0,t.jsx)("button",{type:"button",onClick:e=>{try{e.stopPropagation(),i(),l=!l}catch(e){console.error("Error toggling toast alerts:",e),N.error("Error toggling toast alerts")}},className:"flex h-[24px] w-[24px] items-center justify-center rounded-[4px] border border-transparent p-3 text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:`${l?"ri-notification-fill text-decrease":"ri-notification-line text-textTertiary/50"} text-[16px]`})}),r?.isLegacy&&(0,t.jsx)("button",{type:"button",onClick:()=>{n.toast.dismiss(e.id),setTimeout(()=>{n.toast.dismiss()},100)},className:"flex h-[24px] w-[24px] items-center justify-center rounded-[4px] border border-transparent p-3 text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-[20px] text-textTertiary"})})]})]}),{position:r?.position||k(),duration:r?.duration||1e3,id:r?.toastId})},pumpLive:(e,r=E,i)=>{let o=r?.animationType||E.animationType,s=r?.position||k(),{message:u}="string"==typeof e?{message:e}:{...e};return I("pumpLive"),n.toast.custom(e=>(0,t.jsxs)("div",{className:`${P(e.visible,o,s)} rounded-[8px] border border-secondaryStroke bg-backgroundTertiary shadow-lg sm:rounded-[4px] ${e.visible?"pointer-events-auto":"pointer-events-none"} relative flex h-[52px] cursor-pointer items-center gap-[12px] p-[16px]`,style:r?.style,onClick:()=>{r?.pairAddress&&(window.location.href=`/meme/${r.pairAddress}?chain=${(0,a.getChainFromUrl)()}`)},children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex items-center gap-[16px]",children:[(0,t.jsx)("div",{className:"",children:(0,t.jsx)("div",{className:"flex items-center gap-[8px]",children:(0,t.jsx)("div",{className:"text-[14px] font-normal leading-[20px] text-textPrimary",children:u})})}),(0,t.jsx)("div",{className:"text-[14px] font-normal leading-[20px] text-textPrimary",children:i&&i.showQuickBuy&&(0,t.jsx)("span",{className:"pb-[11px] pl-[8px] pr-[8px]",children:(0,t.jsx)(S,{pairInfo:i.pairInfo,size:"20px",height:"h-[24px]",padding:"8px",rounded:"999px",transparentStyle:!0,icon:!0,hideUnit:!0,showLabel:!1,shouldRedirect:i.shouldRedirect})})})]})}),(0,t.jsx)("button",{type:"button",onClick:t=>{t.stopPropagation(),n.toast.dismiss(e.id),setTimeout(()=>{n.toast.dismiss()},100)},className:"flex h-[24px] w-[24px] items-center justify-center rounded-[4px] border border-transparent p-3 text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-[20px] text-textTertiary"})})]}),{position:r?.position||k(),duration:r?.duration||1e3,id:r?.toastId})},social:(e,r,i,a,o,s,u,l=E)=>{let c=l?.animationType||E.animationType,d=l?.position||k();return n.toast.custom(l=>(0,t.jsxs)("div",{className:`${P(l.visible,c,d)} rounded-[8px] border border-secondaryStroke bg-backgroundTertiary shadow-lg sm:rounded-[4px] ${l.visible?"pointer-events-auto":"pointer-events-none"} flex h-[52px] items-center gap-[12px] p-[16px]`,children:[(0,t.jsxs)("div",{className:"relative h-[24px] w-[24px] flex-shrink-0 overflow-hidden rounded-full",children:[(0,t.jsx)("div",{className:"pointer-events-none absolute inset-0 z-[15] h-full w-full rounded-full border-[1px] border-white/[0.1]"}),e?(0,t.jsx)("img",{src:e,alt:r,className:"h-[24px] w-[24px] rounded-full object-cover"}):(0,t.jsx)("div",{className:"flex h-[24px] w-[24px] items-center justify-center rounded-full bg-gradient-to-br from-purple-500 to-pink-500",children:(0,t.jsx)("span",{className:"text-[10px] font-medium text-textPrimary",children:r.charAt(0).toUpperCase()})})]}),(0,t.jsxs)("div",{className:"flex flex-1 items-center gap-[8px]",children:[(0,t.jsxs)("div",{className:"text-[14px] font-normal leading-[20px] text-textPrimary",children:[(0,t.jsx)("span",{className:"font-medium",children:r}),(0,t.jsxs)("span",{className:"text-textSecondary",children:[" ",i]})]}),a&&o&&(0,t.jsxs)("div",{className:"flex items-center gap-[4px]",children:[(0,t.jsxs)("div",{className:"relative h-[16px] w-[16px] flex-shrink-0 overflow-hidden rounded-[4px]",children:[(0,t.jsx)("div",{className:"pointer-events-none absolute inset-0 z-[15] h-full w-full rounded-[4px] border-[1px] border-white/[0.1]"}),(0,t.jsx)("img",{src:a,alt:o,className:"h-[16px] w-[16px] rounded-[4px] object-cover"})]}),(0,t.jsx)("span",{className:"text-[14px] font-medium leading-[20px] text-textPrimary",children:o})]})]}),s&&u&&(0,t.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),u(),n.toast.dismiss(l.id)},className:"flex h-[24px] flex-shrink-0 cursor-pointer flex-row items-center justify-center rounded-full bg-primaryBlue px-[6px] transition-all duration-[150ms] hover:bg-primaryBlue/80 hover:brightness-110",children:(0,t.jsx)("span",{className:"text-[12px] font-bold text-background",children:s})}),(0,t.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),n.toast.dismiss(l.id),setTimeout(()=>{n.toast.dismiss()},100)},className:"flex h-[24px] w-[24px] items-center justify-center rounded-[4px] border border-transparent p-3 text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-[20px] text-textTertiary"})})]}),{position:l?.position||k(),duration:l?.duration||5e3,id:l?.toastId})},alphaTracker:(e,r,i,o=E)=>{let u=o?.animationType||E.animationType,l=o?.position||k(),c=s.ALERT_TOAST_CONSTANTS[e],d={type:"pair",fetchLiquidity:!0,pairAddress:i};return n.toast.custom(e=>(0,t.jsxs)("div",{className:`${P(e.visible,u,l)} rounded-full bg-backgroundTertiary shadow-lg ${e.visible?"pointer-events-auto":"pointer-events-none"} relative cursor-pointer overflow-hidden`,style:{border:`1px solid ${c.toastBorderColor}`,...o?.style},onClick:()=>{i&&(window.location.href=`/meme/${i}?chain=${(0,a.getChainFromUrl)()}`)},children:[(0,t.jsx)("div",{className:"absolute inset-0 rounded-full",style:{backgroundColor:c.toastBackgroundColor}}),(0,t.jsxs)("div",{className:"relative z-10 flex h-[52px] items-center gap-[10px] p-[12px]",children:[r,(0,t.jsx)("span",{className:"flex-shrink-0",children:(0,t.jsx)(S,{pairInfo:d,size:"20px",height:"h-[24px]",padding:"8px",rounded:"999px",transparentStyle:!0,icon:!0,hideUnit:!0,showLabel:!1,shouldRedirect:!0})}),(0,t.jsx)("button",{type:"button",onClick:t=>{t.stopPropagation(),n.toast.dismiss(e.id),setTimeout(()=>{n.toast.dismiss()},100)},className:"flex h-[24px] w-[24px] items-center justify-center rounded-full border border-transparent p-3 text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-[20px] text-textTertiary"})})]})]}),{position:o?.position||k(),duration:o?.duration||5e3,id:o?.toastId})}},R=N},40039,e=>{"use strict";e.s(["checkVanishHealth",()=>p,"coalesceVanishWithAxiomTransactions",()=>w,"commitVanishAction",()=>f,"executeVanishTrade",()=>d,"getLatestVanishTransactions",()=>y,"getVanishAllBalances",()=>v,"getVanishBalances",()=>s,"getVanishDepositAddress",()=>l,"getVanishOneTimeWallet",()=>h,"getVanishPendingActions",()=>u,"getVanishPortfolioStats",()=>x,"getVanishPositionByToken",()=>b,"getVanishPositions",()=>m,"getVanishRewardPoints",()=>A,"getVanishTransactionsByToken",()=>g,"withdrawFromVanish",()=>c]);var t=e.i(467034),r=e.i(458768),i=e.i(50454);e.i(89928);var n=e.i(739663);let a=`By signing, I hereby agree to Vanish's Terms of Service and agree to be bound by them (docs.vanish.trade/legal/TOS)

Details: `;async function o(e,r){let i=new TextEncoder().encode(`${a}${r}`),n=await e.signMessage(i);return t.Buffer.from(n).toString("base64")}async function s({signer:e,userAddress:t}){let r=Date.now().toString(),i=await o(e,`read:${r}`);return await n.workersApi.post("/vanish-core/balances",{timestamp:r,user_address:t,signature:i})}async function u({signer:e,userAddress:t}){let r=Date.now().toString(),i=await o(e,`read:${r}`);return await n.workersApi.post("/vanish-core/pending",{timestamp:r,user_address:t,signature:i})}async function l({tokenAddress:e}){return await n.workersApi.get("/vanish-core/deposit-address",{token_address:e})}async function c({signer:e,userAddress:t,tokenAddress:r,amount:i,additionalSol:a}){let s=Date.now().toString(),u=`withdraw:${r}:${i}:${a}:${s}`,l=await o(e,u);return await n.workersApi.post("/vanish-core/withdraw",{user_address:t,token_address:r,amount:i,timestamp:s,additional_sol:a,user_signature:l})}async function d({signer:e,userAddress:t,sourceTokenAddress:r,targetTokenAddress:a,amount:s,swapTransaction:u,loanAdditionalSol:l,jitoTipAmount:c,splitRepay:d,oneTimeWallet:f}){let p=Date.now().toString(),h=`trade:${r}:${a}:${s}:${l}:${p}:${c}`,m=await o(e,h),b=await n.workersApi.post("/vanish-core/trade",{user_address:t,source_token_address:r,target_token_address:a,amount:s,swap_transaction:u,loan_additional_sol:l,jito_tip_amount:c,timestamp:p,user_signature:m,split_repay:d,one_time_wallet:f});return i.axiomApiV2.post("/register-vanish-trade",{signature:b.tx_id}).catch(e=>{console.error("Error registering Vanish trade:",e)}),b}async function f({txId:e}){return await n.workersApi.post("/vanish-core/commit",{tx_id:e})}async function p(){return await n.workersApi.get("/vanish-core/health")}async function h(){return await n.workersApi.get("/vanish-core/one-time-wallet")}async function m({signer:e,userAddress:t,type:r}){let i=Date.now().toString(),a=await o(e,`read:${i}`);return await n.workersApi.post("/vanish-core/vanish-positions",{timestamp:i,user_address:t,signature:a,type:r})}async function b({signer:e,userAddress:t,tokenAddress:r}){let i=Date.now().toString(),a=await o(e,`read:${i}`);return await n.workersApi.post(`/vanish-core/position-by-token?tokenAddress=${r}`,{timestamp:i,user_address:t,signature:a})}async function g({signer:e,userAddress:t,tokenAddress:r}){let i=Date.now().toString(),a=await o(e,`read:${i}`);return await n.workersApi.post(`/vanish-core/vanish-transactions?tokenAddress=${r}`,{timestamp:i,user_address:t,signature:a})}async function y({signer:e,userAddress:t}){let r=Date.now().toString(),i=await o(e,`read:${r}`),a=Math.floor((Date.now()-1296e6)/1e3);return await n.workersApi.post(`/vanish-core/vanish-transactions?start_from=${a}`,{timestamp:r,user_address:t,signature:i})}async function x({signer:e,userAddress:t}){let r=Date.now().toString(),i=await o(e,`read:${r}`);return await n.workersApi.post("/vanish-core/vanish-portfolio",{timestamp:r,user_address:t,signature:i})}async function A({signer:e,userAddress:t}){let r=Date.now().toString(),i=await o(e,`read:${r}`);return await n.workersApi.post("/vanish-core/reward-points",{timestamp:r,user_address:t,signature:i})}async function w(e,t,n){let a=new Set(e.map(e=>e.oneTimeAddress)),o=[];try{a.size>0&&(o=await i.axiomApiV2.post("/transactions-from-traders",{traders:[...a],pairAddress:n,tokenAddress:t}))}catch(e){console.error("Error fetching Axiom transactions:",e),r.default.error("Failed to fetch transaction data")}let s=new Map(o.map(e=>[e.signature,e])),u=[];for(let t of e){let e=s.get(t.signature),r={created_at:t.createdAt,liquidity_sol:0,liquidity_token:0,maker_address:t.oneTimeAddress,pair_address:"",price_sol:0,price_usd:0,signature:t.signature,token_amount:Number(t.tokenAmount)/10**t.tokenDecimals,total_sol:Number(t.totalSol)/1e9,total_usd:Number(t.totalUsd),type:"buy"===t.type?"buy":"sell",isProUser:!1,isBundler:!1,isNewHolder:!1,innerIndex:null,outerIndex:null,f:Number(t.feeSol)/1e9};e?u.push({...r,price_sol:e.price_sol,price_usd:e.price_usd,created_at:e.created_at,total_sol:Number(e.total_sol),total_usd:Number(e.total_usd),f:Number(r.total_sol)-e.total_sol+e.f+Number(r.f)}):u.push(r)}return u}async function v({signers:e}){let t=Date.now().toString(),r=await Promise.all(e.map(e=>o(e,`read:${t}`)));return(await n.workersApi.post("/vanish-core/all-sol-balances",{wallets:e.map(e=>e.publicKey),signatures:r,timestamp:t})).balances_by_user}},711418,e=>{"use strict";let t=["nozomi.temporal.xyz","lax1.secure.nozomi.temporal.xyz","ewr1.secure.nozomi.temporal.xyz","ams1.secure.nozomi.temporal.xyz","pit1.secure.nozomi.temporal.xyz","fra2.secure.nozomi.temporal.xyz","ash1.secure.nozomi.temporal.xyz","sgp1.secure.nozomi.temporal.xyz","tyo1.secure.nozomi.temporal.xyz"],r=["la1.0slot.trade","ny3.0slot.trade","ash1.0slot.trade","dal1.0slot.trade","ams1.0slot.trade","de1.0slot.trade","jp1.0slot.trade","sgp1.0slot.trade","chi1.0slot.trade","sv1.0slot.trade","hk1.0slot.trade"],i=["slc.mainnet.block-engine.jito.wtf","london.mainnet.block-engine.jito.wtf","frankfurt.mainnet.block-engine.jito.wtf","ny.mainnet.block-engine.jito.wtf","tokyo.mainnet.block-engine.jito.wtf","amsterdam.mainnet.block-engine.jito.wtf"],n=["axiom-ca.gateway.astralane.io","axiom-fra.gateway.astralane.io","ams.gateway.astralane.io","jp.gateway.astralane.io","sg.gateway.astralane.io","fr.gateway.astralane.io"],a=new Set(t),o=new Set(r),s=new Set(i),u=new Set(n);function l(e,t,r,i,n){let a=[],o=n?i-1:i;for(let t=0;t<r.length;t++){let i=r[t];if(n&&i===n)continue;let o=e.get(i);null!=o&&a.push({endpoint:i,latency:o})}if(a.length<o){t.clear();for(let e=0;e<r.length;e++)t.add(r[e]);return}for(let e=0;e<o;e++){let t=e;for(let r=e+1;r<a.length;r++)a[r].latency<a[t].latency&&(t=r);if(t!==e){let r=a[e];a[e]=a[t],a[t]=r}}t.clear(),n&&t.add(n);for(let e=0;e<o;e++)t.add(a[e].endpoint)}function c(e,t,r){l(e,t,r,3)}function d(e){l(e,a,t,4,"nozomi.temporal.xyz")}e.s(["ASTRALANE_ENDPOINTS",0,n,"JITO_ENDPOINTS",0,i,"TEMPORAL_ENDPOINTS",0,t,"ZEROSLOT_ENDPOINTS",0,r,"bestAstralaneEndpoints",0,u,"bestJitoEndpoints",0,s,"bestZeroslotEndpoints",0,o,"updateBestEndpoints",()=>c,"updateBestTemporalEndpoints",()=>d])},85026,e=>{"use strict";e.s(["AXIOM_ADDRESS_LOOKUP_TABLES_V2",()=>_,"BRIBE_PREFERED_RATIO",()=>k,"PSOL_PROGRAM_ADDRESS",()=>T,"PSOL_STATE_ADDRESS",()=>E,"PSOL_TOKEN_ADDRESS",()=>S,"addPriorityFeeInstructions",()=>M,"addTokenAccountCloseInstruction",()=>ea,"addTokenAccountInstructions",()=>en,"calculateAxiomFee",()=>P,"calculateComputeUnits",()=>R,"calculateVanishLoanExtraLamports",()=>C,"clearSignerCache",()=>K,"compileTransaction",()=>z,"createValidatedSigner",()=>G,"getPrivateKey",()=>W,"globalHeliusConnection",()=>et,"handleMassSwapTxCreation",()=>O,"hasSigner",()=>V,"initializeSigners",()=>q,"isVanishSigner",()=>N,"makeCreateATAInstruction",()=>I,"monitorTransactionSignature",()=>er,"sendAndMonitorSimpleTxBatched",()=>ei,"sendSimpleSolTransaction",()=>$,"sendSwapTransactionBatched",()=>Z]);var t=e.i(467034),r=e.i(123424),i=e.i(761405),n=e.i(946865),a=e.i(127261),o=e.i(581949),s=e.i(659341),u=e.i(103476),l=e.i(596510),c=e.i(50454);e.i(89928);var d=e.i(739663),f=e.i(682382),p=e.i(40039),h=e.i(592e3),m=e.i(973444);e.i(465903);var b=e.i(767924),g=e.i(700479),y=e.i(247317),x=e.i(719387),A=e.i(711418),w=e.i(799689),v=e.i(426436);let S="pSoL47GE52V2bgUUyQvs9LSdWQZsokarp2yNsWQaLYy",T="pBasedTVV99yFBmg2u6Uvka9fJueRcs7SB9PJ2HfrEn",E="BaAw9xsjbixDxa5DqaXyyNFWcaqvwo3vuw5UzBqMbCfN",k=.95,P=e=>e.mul((0,m.newSafeBN)(b.AXIOM_FEE_BASIS_POINTS)).div((0,m.newSafeBN)(b.BASIS_POINTS_DIVISOR)),_=[new a.AddressLookupTableAccount({key:new a.PublicKey("7RKtfATWCe98ChuwecNq8XCzAzfoK3DtZTprFsPMGtio"),state:a.AddressLookupTableAccount.deserialize(t.Buffer.from("AQAAAP//////////gmCiFwAAAADNAZP/ZbjBTLi7bDpYRmnQ2JkpA1slY6metWWiy16EftYBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMGRm/lIRcy/+ytunLDm+e8jOW7xfcSayxDmzpAAAAABqfVFxksXFEhjMlMPUrxf1ja7gibof1E49vZigAAAAAGp9UXGSxWjuCKhF9z0peIzwNcMUWyGrNE2AYuqUAAAAbd9uHXZaGT2cvhRs7reawctIXtX1s3kTqM9YV+/wCpBt324e51j94YQl285GzN2rYa/E2DuQ0n/r35KNihi/yMlyWPTiSJ8bs9ECkUjg2DC1oTmdr/EIQEjnvY2+n4WQabiFf+q4GE+2h/Y0YYwDXaxDncGus7VZig8AAAAAABS9lJxDYCwz8gd5DtFqNSTKG5l1zxIaKpDP/sffi2is1BV7BYDzHF/ORKYlgtvPnXjudZQ6CEo5OzUDaNIomTCA0HUagoLaYTBf4pnDe5mOWEcdsRNQNzEPi+EEWmCvbuhQ8tbgKkevgk0Jq2ncQtcMsoy/okn7fuV7nSVsEnYu+pKlqLTylZUoQlUKqT/VuVtazmqOuSDJOULkNpDCDsc+sA2fWykrQhSsfQN7TW8GRQuWRgDfNzBSu16E8vjppnsyE/uov5yH+pHkeBlijDg+AL6n6Yx6A+A7oQac/D9vMBVuD2k2Zaz0TbFWi/F1uqUYnLl/XS/ztlXSu2/W0YsDqGXmnuD1SAyrz2Y1fk3C8Y1Y1Fwep0ifs3I9l5PHKmrPE26wH8HE6IPSPItYRKtZo39mrdV8XprDtT4FnTXGQMFN78gl7GdpQlCBi7ZUBl9CmNMVbVcbTU+AkMGOmoY4kLpkT+H1WqGfEc0tLsFNMjO24KS+ru9ytphY4h4XDWCWAMpST3sbfWzLHDlzqgMw0ZA9pgHMm13uPGYrTK0UnM+ALUzMyE1/shtfc7SdgaFsW0yI7jI5ThyR01iMxAgJP/Zbm2NFCyLfXLlNjf5tNjSkF4Wbq8lwDsHrxHLWt0XhE7A3OtRTHRkX4UmSgsor5/Uyc0VOL7yw1ZkP1x6jozxRHBeLZAPcCT5m6HAci1RrRtumdDzLVm6eM34vF/jaz1R0Q2FSRDM3RlF/7BSYR3XQYMIyQT1rR5jeeMz44qjj5sOSRR2GqzgM8UF4rm7xXlbsH4F4NypGRC2xEPejeT/2W/8kf8Dh76zhcb0VYFJLdJisRke9Upy9O0i9m225P/ZcZ2dg2VUpvRPA7z8OzwCFAr/NHJxGzjZkq2iGE5CvHDQyGIyjpjUTWhOhiVG6g28J7c9ttfXVBaMnBQ/5nTdCF2uJxeFMlrdImYQh84EB4J5cWTMbFotiXNJxW7JvYXzUUQr3DHYZIEmfj+l9WyMRpp4ZoXaDyiqqSL7Jp92E4SkMGY54i6DhFPA4IUZ5YI2ij80goWMe/Dk/u/aSrgBMh865j6XOR/gDgG/Sx5RdKVJJWa7ADe2XgU8494RpwlJHx6/mh3nE583EE55WuEze54pO2bR06h+o7pPOIlSsL40N1cvJfjKJwZfLUGKlTz2Va5zm5RFfllZ6pcs+Z32RWVX4iAcxzrSnWgzJbBdPpAlcTh2ZZ6z8QoRa5nrv+Dg4GLqPoow807bV6T+fq48Jebw3IVrMWyRod7qMPJufBGo6LPTuIStPqS/Z0A+k+ws/z9Nh5ArlOR+WA16mNjg3MADqIssmTTSv9koEte+r+7dN3NBImXsZgVR9fREAe0ZyjFA6fIFZjsUWe5tjKg2nvc6Y8HxZZ7EO1veKHOYIzMHfzpYbQ7d5wZFQWm4tO/RdWk20YYrXbILWF1RTVdDjJtTGrX/32PUz/DCQhUvR/vMpEIQA9fVdeeS4eAUYOEdCkuZ1qUtDbssKmYiUIyioPdxiM4ApYSZ8XNYRfLomMXpTug/WjEyVPsMPDgm45zaHUcsoFUhsrj6Z0K+d3/g4OBi6j6KMPNO21ek/n6uPCXm8NyFazFskaHe6jDybnwRqOiz07iErT6kv2dAPpPsLP8/TYeQK5TkflgNepjjRgaDISfqTem80re0wge+VcAqssMm7PZCaS5FHUnpOvUEXuWRjrqaw28gxoeB52B2nK9qoyy5sh+wlJKiK1aVWUdNDzPgdvMXY7AKWWyqwfnWScjX+VgN5mvuTVj9eW+gftQbE7mle4y/g0vNUz0GyWQhUKc4YOvj8N5nqgg83K3KI9s3mRaCL2YckVw+xDs91u3HJfYWj/fL3CYEGNxejBd32LKwCvgB5R2DY1bT1lpeVPGJts6nf7JAhqdcJpYWqejq7lWcXDGDGvUJQ1SJgScfjoTnZypy0n8TZwMH8zuJGNmA8KkWmuYqhctCFaX2RhXlI+dPFr5uG0hboXFmHNMMaJ5sKsStm3z3ukMf7eHt1tHx2BMvF3b19kgvQVIN9IgWuxheG8k3xAEXd2mLU5EdwZFIdZN7GBw36F1MAt1pbd+ZDHno5mxhI2cRHffLjMW/pFkoFRLfRyB+ZxfbGlqJzjHEHSDv/49n+aXCmhZsqT7hID+lO4FyqLi7YPPuqoRIwdcLkaKWDJbiDfYdf0XAW70zx1vaCETNlbXwbRATl5Vls+cVQ4NYlzRaMFCwmMdTAIRfM1lX+kJGxkaQLpdovF2mURh4gOoXfc+Ff71ndGLa0UbIRMMBHeJCb5M9qBV7WfcfVNwMqR1gryKxus8Rbgw5/f3jN7ryogV6pxozNx6iJekgq6eSOE9ft2w5LHTquWRXXI/9lMcEzm42z41cpm4NU0yuFalVIU/mMIrk+sD+o66eyqWxvoHhBr3YtbREzxC4Q7rO1iFUsMoD36sExD65fUSbSRnNzgWf8As6ZaX0UOUIIAqaB1tdvtqE4YMwDtuIZboRDT7I4rKkfEbkuryLvxZt82uKHzqH9hogmhYbaHSV5lDMW/4uYcsUQx0GRDqMHK3lVybBer6KTh7RB2djWVv3CyPLG+Aytfhm1gQ+7kyVPpfzRhJTYQf9udhEgdKtLMuOe9lmhfCdRRPsekjVXxFbp/hS4hqRjcuHKZ2T7FRrYFHugu1KkOTLkwURMOoWdkygiA3NaIzAse+Kx3sYcNT8j3lceURXC4+rUlkCTb+wt/OyPr/+3G1hbBrD0Zhe2wdecGHCDJKf17byVfZlugE7J3UarjMcNeRRqrXDgUKMkJX9PBthWkQUmrbLGjWNHu+KZMlxgIsujnnIcmiVb/XfQz+gIyced1EWwQzrKJbfmJOGmajJmGfOP2FjRp/sAhrXNdoF5QS0gUncW/l2z8AMf+vevKCNUF1kNhYYz2D3IMiGVKizAT9oXu6vZi/2c/97ICWBERLUM9xsIn4H13lS5FaCPNxhK+aq/B/SVEk/qUIO7ghyZ0H9e1XiOkvDX25qJg7bJhwd8GXb12SUQCgOWXkx9qs4e9olVvc95LyanJN5n16KBp0Q7Q3Sgmp1W7jC5Ppi/tQYoDFgiZA4SvD72dQy5OqmHRrX6zINoyn23g01sEYnGYlAmEBbkgrHFXaWB/70IBIA5E0EhRF2CJTfwM2ONYyuG4DkH7S7Emx1P5G9RZvcK5Jr3JH22bzQUTssnU0rtzN7/F/v7t5ZlVqFg5PJLcrRJmLJ1Z+AiZaGiN47VlMbbCmPQCFOpgXQVnCZWJX8TAxM0cAzPiP7OKCK2mM34ToLd4vppfRuEvMLiEmTZY2uzMu1q5YZ88imckr/CogTXa1m2dCqlCj1aTt69ZLUVogG83awswyLzb6OM6kjRYWLya2KmSjQYQ5mndjKihfcVR2Tijnv/YnKtz+B0mgnJqnBiiXnhIk+CBY4hq6OgBamkJCV1rDnoRYlSJMO+e2z/aAEQBPVYxoRZ4f7e2rTjuXFjlK6zVX/49rUrSyO9TNJ4Kr1xp8oANqEB9MCJ3Kd9Pw8Tp1cob/5hH6PjsBWMUPNK+CNeFyqOhtEh0v2MIlK8t6I7rHFosu1NXVVhlmyjCxYQb0zfwBBN3ga/r0YDvgJLWrMUrYsvhaKFuKMNS1tCOo52UmuVFWJjVKsNL/oY3n5vShYEs6X9aL79khNUYh+ckcMmOgT1kPBBBcSE0OckgD9WT8tg9+wQU/Y89gqLL1uHt7mzuUZKoata5kzrR1GLIwPA5uAp+ZS7JULQ/aIIbZw5ZuvxtagMYzAy3fl3yYkQR51VvyMcBu7nTFbs5oFQf9sbLeo/SOUQKxzaJWvBOPtD/6J/XX9kp0wJsfKVh53ksJqzbfyd1RSzIap7OM5eg9bkcuZ6RuprS9C6ud/TXitMcvHW1Zwuq5XJQlc60i8bhw4S3TeYkVYdLp+o8mQxg063NvLyT8KipN/x/V3KTf8su5t2Dt2xhXBjAwY60z17VyluoC1OAzXjHOr6TMQt3G+nrzvtutOj1l82qryXQxsbvkwtL24OR8pgIDRS9dYQTp4S+8hOgmyTLM6eJkDM4VWQwcYnOwklcIujuFILC8BUpTWpkpIQZNJOhxYNo4fHw1td28kruB5B+oQEEFRI2ycNZ/qYxRzwITBRNYliuvNXQr7VnJ2URenA0MhcfNkSEouRzesZCcqQ2FLe3syltzOjgWyoTmSyioGicN/Q3/o80MNJgTv82sPgy4oI0JzW/aSEdg1YtqdhPtuKvfxmEkErjzWwdt2/rOX1mGLVKfRvZqHdYo03sFD5RnNL3oR2Ylin/3TU4FIzWqlJzZXoL+8cKyP0p2imd9xZeAflbM2mNoH3KGvMgGcZ4sK1CiAVckO/yWaLEVILxThD7c2wgJLSE1ZXoVnCuH1LZqcNuOl1I4n/dqryBs7QY6OPla7Qrxw0MhiMo6Y1E1oToYlRuoNvCe3PbbX11QWjJwUP+ZCvHDQyGIyjpjUTlQciQ1oBQH8ZdGjmI0c+GjtBBQ/5kK8cNDIYjKOmNRPP+qL9Ykf9jyj7Al6QmKcu01sFD/mQrxw0MhiMo6Y1FAruI7dqjrqfOIGb1v3qEENrdQUP+ZCvHDQyGIyjpjUUReGkcXLVd69ICDVPazt5WAOPBQ/5kK8cNDIYjKOmNRSA1SUrexw0v1eOzsfYjOJsm6kFD/mQrxw0MhiMo6Y1FLvIpeWDYvHPZxVoQEXeS4EzwwUP+ZCvHDQyGIyjpjUU9rwmn4uprt92nAG4sy+0lcvdBQ/5kK8cNDIYjKOmNRUxr6dZk/Br74YimzEggR2qY/cFD/mQrxw0MhiMo6Y1FWyjKBOcNyj/lak0qY3Shr78EQUP+ZCvHDQyGIyjpjUVp5aozaR95g+lL84h+yPv05QrBQ/5kK8cNDIYjKOmNRXiiimHrMSjH7S2Z5podVjoLEUFD/mQrxw0MhiMo6Y1Fh19qkG1C2AvxD0BEtXGwfzEXwUP+ZCvHDQyGIyjpjUWWHEq+71SHT/Tw5qLQxgrEVx5BQ/5kK8cNDIYjKOmNRaTZKu1xZjaT+NKNAOwaZQl9JMFD/mQrxw0MhiMo6Y1Fs5YLG/N35df8tDNfB26/TqMrQUP+ZCvHDQyGIyjpjUXCUutKdYmVHACV2b0iwxmTyTHBQ/5kK8cNDIYjKOmNRdEPy3j3m0RgBHeAGz4Xc9jvOEFD/mQrxw0MhiMo6Y1F38yrp3ms86QIWSZ5WWvOHhU+wUP+ZCvHDQyGIyjpjUXuiYvV+76i6Aw6zNd0wChjO0VBQ/5kK8cNDIYjKOmNRf1GbAR90FIsEBxzNZAUgqhhS8FD/mQrxw0MhiMo6Y1GDANMMv/iAXAT/hmTq2jc7YdSQUP+ZCvHDQyGIyjpjUYawCxhgfOwtBffv/HGvTcyrVjBQ/5kK8cNDIYjKOmNRil9DJAEBV/4G8FmT+IRkXfTX0FD/mQrxw0MhiMo6Y1GODnsvoYXDzwfowyt/WXrvPllwUP+ZCvHDQyGIyjpjUZG9sztCCi+gCOEswwYukYCH2xBQ/5kK8cNDIYjKOmNRlWzrRuKOm3EJ2ZZajQOoEdFcsFD/mQrxw0MhiMo6Y1GZHCNSgxMHQgrR//IT2L6jGt5QUP+ZCvHDQyGIyjpjUZzLW14jl3MTC8ppiZqt1TRkX/BQ/5kK8cNDIYjKOmNRoHqTacQb3uQMwtMhIYLrxa3hkFD/mQrxw0MhiMo6Y1GkKct1ZKBKtQ27PLioWAJW92MwUP+ZCvHDQyGIyjpjUafZA4EFJLaGDrOmUC8tGOhA5NBQ/5kK8cNDIYjKOmNRq4g7jKWpIlcPrA/ntgIveYpmcFD/mQrxw0MhiMo6Y1GvN3OYRi2OKBCkeX8810YK0+gQUP+ZCvHDQyGIyjpjUbLmq6Pmsfn5EZzjFsOsXJwdabBQ/5kK8cNDIYjKOmNRtpXjr4c2ZcoSlUyuSoFzLWbrUFD/mQrxw0MhiMo6Y1G6RRu7J7rRmxONtkXRVom+sGzwUP+ZCvHDQyGIyjpjUb30U8bIPz1sFIYf3VgroE/57pBQ/5kK8cNDIYjKOmNRwaOL0mjDqT0Vfol03wC24UNwMFD/mQrxw0MhiMo6Y1HFUsPeCUgVDhZ28wxl1c1yjPHQUP+ZCvHDQyGIyjpjUckB++mpzIDfF29co+yq5APWc3BQ/5nyzNU1rKXxc2rIIt0Hc+TZL72KWbKUA1AClakBHHOp5Sp257NEZAoc/FlMi8rQoJEBHKx90Va/g6gz+yII63etbdZfEtJQdH0sOjpm6c4Zzp4cc4hgSRZ3MV31cvhw/f8NDWEOc4CRcf0ZniAaqoBWr/zyJbnVcWuRAkykq5z0Rm5xkebepS5+j3xiPXwNO6u7PYic7466DkkzgOh4nnVjBqfVFxjHdMkoVmOYaR1etoteuKObS21cc1VbIQAAAACl1cqeBM9dtZC3FLov4yyxWRM/wcGStyJX/QfTnLBAHgcHLwVKtI2YfaTllp5jLN3zjdZBQTSdpBsLaVuR0Vw6i6gFL72gENZo8Xoi18mwrTm2L5gSX4CjuOR/BY5PhT1BiKZq3u+BBOVfEeSxGuut/gMaTKaXqY72yXUXrS+TSLaInroPRNHsE6RFMVFkBlTDS9FO5JANAFS+k29VC5BDG7MxHnCsnxuBxRFJR8gu8SKjwOU0QgAXnisoCOcxPLRgaY6he3VBxyRMEaQCD3seU6sXMbssn6Om6cksowrN6Za5O9M0z1/8afXy3pHcrNBlDEcU4xrl8dbpmAZeocMae3KGVCLgk7ZLkog3hU/s91aBNjZ7ncoMWkJy8N4ESJHx6ZBqbf6pEqm8e0XUWLSnbK65buUgHmGXEA0GvqysL9njea5xxAes7K8REHcR7q8dvu2aroWZhLLc3kIwYpTuBQQ7lU3KJuHvkbUsT4+Jr4pvWsjGIVbxcc8PIaxRySK5IowF8VQfdS6cLL9Quk3/AvYU5n8ePGUOPrquzMALlcVXX+Kyf8g3JgDfFFqGSPtuS7TO62tdyRF4X8+Xr6VapX/RQVQAVXrGSBJ230W45cl76FiW3+ss4FzBjyqmk03okxQfsY6fFXTYEOF44Z4wYE4xdaouSjLfyGAHJ9EHCUkb0eJTmClXffX3wK3UZyj7wevy3ou+qVDO99PTe8VKxAfZ809YnXhSZqO+vxkYZYN1sQD+EavNecpuq2QOZ3TNheV7pZTm1iy5EQh/3HGJYYa0mG5ZbX+baCjYdq+DoiSbSC2UPHhaTaCmX4ztahsaN1xpu0idrfrHerOuO9xrI5cHzoZnq4st5gdvDWn7VF3rbUKWjiC4G753M+1IvXn40s8H7nCGTAaNU8sHqCJC58OlYehPrgKwPzrGGUCj155hW5D/F6vrpPntC7B2XEG3SotgZV2Eqn1Su6LOQPcPEV9wqhopUf8YckECzOqJcqPHfP26Ohj6MC2d8Qfx6pbLozJ3+QKrfDdcV51HoHvAn1KGXls+88Hrs8y9ys3aTKg7MlpsVaTYtR+vPMisEjeJQjm7wZ+sKnfsmVFYGkwbWuVDq7w83si5I4jwzTDLiFqgjHNFmoJ48ff1G+FwpvTbmjVn7xuc7mifhKBSHhzqxzcYmfLGpNNUPXB514pAI7nlVUrfV2eyCXRehJ2wnoaTj7mRdBkHNRDr+M/yeC1/EYoWub0cgUwCvNgvzFBBXrBJtBd60CQgfEebUVkvgik1g7ZvhQEvWDcXtLEmwSQY7B76iW1Llf+7zkM6Xyb9LVtC+T1rM/8cKzkJXBwSqV/MLZhPCx9QT1ATuH1rCy0mBqfVFxh70WY12tQEVf3CwMEkxo8hVnWl27rLXwgAAADPSSdQoRoJ1mQqPjxA0nrjDfb6Z/Uv5R8mMXEnrixQuVsgw36GBUEg1hW8QfG/bQzPvBkHcT+t4iKBn26CN9hoXabVKUpBate421RT/tdd4/r/nXTnyDbUBlRKDD3oicV82QcHXhY50TuJeyZ29eS/ZzOKL5v6EfSZkKmXouCOqMn/1mDXnyCX4U22Hul/hIcvCq24trQ9m3DmpsuAYi6thdL3M0BhfppQd8IFgi5q5g5hJrl2dTKnaKW8U+gPYkZvz/oLW9G1tSIGqGPbRhyCIxp7t3a32TggQSRLvdA3JttA4W7dtmBlPChWfvH9xelbhPyQkip0EK0Ih+teEC4YpASro+ujwswDp1eEmhP+Sy6y1rVaUb2dI4r5hjTYrTsj/mE4JC87PRe3nvWWwCm92X4UKdxzFGTfRRULjiZadnr9dCsn91npxnBwPNOdgXqgkwrOO1LSbVSgVN0jh7vT7wuZvkUhrrFC9hUiByyIZMOXB2lPrJVgKFWRFwY+L0OE1y5rafhSTr/5Mcslxm+VtlJcRn5syZI+TVfx8kCL2cinbUP4LjKuWV2t+qXbUzmbpeLB8RN2nMBxFoPrMUZFQ7mzGHBJpaBCywSENRqHrkkpTCNW+iyFs9NYtsYDs/OokpyS0GjdRhtcyucwHlIAqrBKANCZR8eMTk76hvq1pIfv2IAf8MzyfwiaxUgPQpVQJ6m9qlslCAYg8+kdOrhmWFI/zaLXekaJUCCYTi/egWPtGXO14e7NYiX7+gj7poZPDbqTLr1wYNobyxEWh6JnC4D9hNSWxNH3yRD7/j+INw==","base64"))})],I=(e,t,i=b.TOKEN_PROGRAM_ADDRESS,o,s)=>{let u=(0,n.getAssociatedTokenAddressSync)(new a.PublicKey(t),e,s??!1,new a.PublicKey(i),new a.PublicKey(b.ASSOCIATED_TOKEN_PROGRAM_ADDRESS));return{ataInstruction:(0,r.createAssociatedTokenAccountIdempotentInstruction)(o??e,u,e,new a.PublicKey(t),new a.PublicKey(i),new a.PublicKey(b.ASSOCIATED_TOKEN_PROGRAM_ADDRESS)),ataAddress:u.toString()}};function N(e){return!0===e.isVanish}function R({baseComputeUnits:e,isUsdc:t,isUsd1:r,isVanish:i}){let n=e;return(t||r)&&(n+=1e5),i&&(n+=5e4),n}function B(e,t,r){return r?Math.min(9,Math.ceil((0,m.fromSafeBN)(e)/10**t/1e9*100/.5)):1}let C=e=>{let t=new s.default(1e4);e.extraLamports&&(t=t.add(e.extraLamports)),"buy"===e.type&&(t=t.add(e.amount.divn(99).add((0,m.newSafeBN)(1))));let r=1;return e.isWsol&&r++,e.isUsdc&&r++,e.isUsd1&&r++,"buy"===e.type&&(r+=B(e.expectedAmountOut,e.tokenDecimals,!0)),t=t.add((0,m.newSafeBN)(b.TOKEN_ACCOUNT_RENT_EXEMPTION_LAMPORTS*r))},O=async({instructions:e,wallet:r,swapSettings:i,blockhash:n,nonceInstruction:o,providers:s,lookupTables:l,computeUnits:c,rewardsPercentage:d,swapInfo:g})=>{let y,x;s=s??["jito"];let A=(y=Math.min(Math.floor(d/2.5),40),x=u.default.encode(t.Buffer.from([y])),`jitodontfront${x}1111111TradeWithAxiomDotTrade`),w=r.isVanish;return await Promise.all(s.map(async s=>{let u=[...e],d=i;w&&(d={...i,bribeFeeSol:0,priorityFeeSol:0}),D({instructions:u,walletAddress:r.publicKey,swapSettings:d,computeUnits:c??b.SWAP_COMPUTE_UNITS,provider:s});let y={pubkey:new a.PublicKey(A),isSigner:!1,isWritable:!1};if(!w&&i.priorityFeeSol&&u[0].keys.push(y),o&&u.unshift(o),r.isVanish){if(!g)throw Error("Swap info not found");let e=new a.TransactionMessage({payerKey:new a.PublicKey(r.publicKey),recentBlockhash:n,instructions:u}),o=new a.VersionedTransaction(e.compileToV0Message(l)),s=t.Buffer.from(o.serialize()).toString("base64"),c=(0,m.newSafeBN)((i.bribeFeeSol+i.priorityFeeSol)*1e9);if(c.lt((0,m.newSafeBN)(1e4)))throw Error("Total bribe + priority fee must be at least 0.00001 SOL for Vanish trades");(0,h.fetchAndSetVanishOneTimeWallet)().catch(()=>{});let d=B(g.expectedAmountOut,g.tokenDecimals,g.sourceTokenAddress===f.NATIVE_SOL_TOKEN_ADDRESS);try{let e=await (0,p.executeVanishTrade)({userAddress:r.primaryPublicKey,signer:r,sourceTokenAddress:g.sourceTokenAddress,targetTokenAddress:g.targetTokenAddress,amount:g.amount.toString(),swapTransaction:s,loanAdditionalSol:g.loanExtraLamports.add(c).toString(),jitoTipAmount:c.toString(),splitRepay:d,oneTimeWallet:r.publicKey});return{base64Tx:"",signature:e.tx_id}}catch{throw Error("Error executing Vanish trade")}}return await z({instructions:u,blockhash:n,signer:r,lookupTables:l})}))},D=({instructions:e,computeUnits:t,swapSettings:r,walletAddress:i,provider:n})=>{let o;n=n??"jito";let s=new a.PublicKey(i);if("jito"===n){if(r.bribeFeeSol>=1e-6){let e=["96gYZGLnJYVFmbjzopPSU6QiEV5fGqZNyN9nmNhvrZU5","HFqU5x63VTqvQss8hp11i4wVV8bD44PvwucfZ2bU7gRe","Cw8CFyM9FkoMi7K7Crf6HNQqf4uEMzpKw6QNghXLvLkY","ADaUMid9yfUytqMBgopwjb2DTLSokTSzL1zt6iGPaS49","DfXygSm4jCyNCybVYYK6DwvWqjKee8pbDmJGcLWNDXjh","ADuUkR4vqLUMWXxW9gh6D6L8pMSawimctcNZ5pGwDcEt","DttWaMuVvTiduZRnguLF7jNxTgiMBZ1hyAumKUiL2KRL","3AVi9Tg9Uo68tJfuvoKvqKNWKkC5wPdSSdeBnizKZ6jT"];o=e[Math.floor(Math.random()*e.length)]}}else if("temporal"===n||"temporal-priority"===n||"temporal-bribe"===n){if(r.bribeFeeSol>=.001){let e=["axmMdWvgEnN3NFrxMfTqUURzj9NLhZL2DkHkWCdgiFV","axmQTWU68qZ4fuG7zzkCXCBmxxeHVZrNrLkgxEFCbRv","axmhpocX3hU7nT7KtsLBzNBR1Ur3HtU22Q5P313FREY","axmD4LFJopAcbRKCKsrrmovCZZzmKQCMEfs5qEXj8dG","axmWxBPqgRmcBN2cV12quqaQzsk16SazVXq8397KFKu","axmFmfqQwZGEUZeF3i3MqbRCDiGPfshtbdoBjk41k88","axmYVq9b1ABYqtyizMtyfJppPTPxZGXPLctB3hV6W5b","axm2JQY1FKEktAwgXWqjGYkkWsWPfwKzgbnGVt5kiP4"];o=e[Math.floor(Math.random()*e.length)]}}else if("0xslot"===n||"0xslot-bribe"===n){let e=["Eb2KpSC8uMt9GmzyAEm5Eb1AAAgTjRaXWFjKyFXHZxF3","FCjUJZ1qozm1e8romw216qyfQMaaWKxWsuySnumVCCNe","ENxTEjSQ1YabmUpXAdCgevnHQ9MHdLv8tzFiuiYJqa13","6rYLG55Q9RpsPGvqdPNJs4z5WTxJVatMB8zV3WJhs5EK","Cix2bHfqPcKcM233mzxbLk14kSggUUiz2A87fJtGivXr","6fQaVhYZA4w3MBSXjJ81Vf6W1EDYeUPXpgVQ6UQyU1Av","4HiwLEP2Bzqj3hM2ENxJuzhcPCdsafwiet3oGkMkuQY4","7toBU3inhmrARGngC7z6SjyP85HgGMmCTEwGNRAcYnEK","8mR3wB1nh4D6J9RUCugxUpc6ya8w38LPxZ3ZjcBhgzws","6SiVU5WEwqfFapRuYCndomztEwDjvS5xgtEof3PLEGm9","TpdxgNJBWZRL8UXF5mrEsyWxDWx9HQexA9P1eTWQ42p","D8f3WkQu6dCF33cZxuAsrKHrGsqGP2yvAHf8mX6RXnwf","GQPFicsy3P3NXxB5piJohoxACqTvWE9fKpLgdsMduoHE","Ey2JEr8hDkgN8qKJGrLf2yFjRhW7rab99HVxwi5rcvJE","4iUgjMT8q2hNZnLuhpqZ1QtiV8deFPy2ajvvjEpKKgsS","3Rz8uD83QsU8wKvZbgWAPvCNDU6Fy8TSZTMcPm3RB6zt","6MgjyQU7G988jgL6EGAgfHYoeesCnwYMyPeh1fpJ71FP","AumQWSLrWwDXRq1yDEYPiw8vT5NUBYzrbdWCprJ4ZUa8","ForLDu55GfA2U1aTUaitmjzjs92vvVn1MSqzY3D9HtAK","AsEF2SWSEZ1xpGZ5fdzDKaoka1XEtFSjGo39YUXkpvAh","2WoQNgmc4SEXrR3rKQypmeWmsxGqHHE6rApnVrP6Pt77","12pHu2j2DDShyCVFU7vtSLXga74et9y83VD38mw6XYhB"];o=e[Math.floor(Math.random()*e.length)]}else if("bloxroute"===n){let e=["HWEoBxYs7ssKuudEjzjmpfJVX7Dvi7wescFsVx2L5yoY","95cfoy472fcQHaw4tPGBTKpn6ZQnfEPfBgDQx6gcRmRg","3UQUKjhMKaY2S6bjcQD6yHB7utcZt5bfarRCmctpRtUd","FogxVNs6Mm2w9rnGL1vkARSwJxvLE8mujTv3LK8RnUhF"];o=e[Math.floor(Math.random()*e.length)]}else if("helio"===n)o="HYseAPq3ZPYzA35hLsEgmdsKCZQ3P7FBCcCPPytRtyTz";else if("astralane"===n){let e=["ASTRa2mTtzDFyjDHdSTMGa5sGg7bdVZNqDCPWH6ZZXax","AsTrACB6f3qtnZ1jpwPUui9714sHsS9Jtgaiy1ay4gAx","ASTrARNVyyJrzDm8QxJ7p3BJF3BVB5vWDXjjVGQEuBAX","AstRaL1TEkvTHBWAYvgGRzq9ViBags5nZGQ5eguABJAX"];o=e[Math.floor(Math.random()*e.length)]}else if("nextblock"===n){let e=["NextbLoCkVtMGcV47JzewQdvBpLqT9TxQFozQkN98pE","NexTbLoCkWykbLuB1NkjXgFWkX9oAtcoagQegygXXA2","NeXTBLoCKs9F1y5PJS9CKrFNNLU1keHW71rfh7KgA1X","NexTBLockJYZ7QD7p2byrUa6df8ndV2WSd8GkbWqfbb","neXtBLock1LeC67jYd1QdAa32kbVeubsfPNTJC1V5At","nEXTBLockYgngeRmRrjDV31mGSekVPqZoMGhQEZtPVG","NEXTbLoCkB51HpLBLojQfpyVAMorm3zzKg7w9NFdqid","nextBLoCkPMgmG8ZgJtABeScP35qLa2AMCNKntAP7Xc"];o=e[Math.floor(Math.random()*e.length)]}else if("merkle"===n){let e=["TJzUUoKA3ngRDkgf6g42r2tv4uUNnf2S2mngawi61fi","Eqd6r1pThnbYgtn6kLy4a7zFELFHkyiFesiYaC6eYg9v","9xSYXtWXX2Gv6x3QA8Ffv1mGeLzn2oV2Sh3ZLrcxF8EX","ARFWuFgvNjjAyw8Sb77JjZF2kQvduCh9uWyYU9wrdgNp","AKAikQvacoWtK3TC6Wx4TUappTw6NuTnPqWHBA6WymgP","5yhYeqTB7tNXJUEopfCMX43pcFdCaQFjdUxb3RqAg5yY","2NASvutUxvRWuvVygtVyT2vsNgFDbg5Gbe8K8mzZAkje","FGtPX6qVePUPwYJ29tENeDu7ucFVLQmkeNDthYjPYPeB","8B6Ayvfq2yNnAai3dkdmoExpxcyBbwhptTQTdndPZUUG","Aru6VYgVEvz2Bki6Sm4fjNuJAc1XVbD7gyRBLsNe3MoB","BgNWpV557p3fPUmHCREg1qwUdDRKtzKpndJijs4sWd3u","A9Hk5FtpHvED5TN49y4ahmBtc1sNWoFEnPiXXGPxAmNj","H5DNFugVFjFRkPhcTkVCRfTugVzGYa3jATa7zed4pbFg","8h2PSH4XaMp28JWRDEwDmXyQWMyLWT5RYA9WKkcCiPvZ","Hjaq8W4h4RBKx11YNRyQMRJtU7ccVoXv46cgLAbgMEjV","TJzUUoKA3ngRDkgf6g42r2tv4uUNnf2S2mngawi61fi","G7bdAL1cykNJaSnfCZGGVfuBeKf3R1dx2H1JjQhhKsRf","3GHLrYyEPsfVnFwcPg1EJst1rkLhxRHaYuS7UL36kwtA","CPh9BMcZfzYd5NJf2ucDAAz5PWK32EgJY9qRGm2rQNAy","9YS3QR6o8JEfsvyNHNuG5NqxaFsJnRr6t6itM7b73YjD","6TbHNfUpLpGjn1R7PiPMsxsffivE3noMMJ8oCTyxiuPQ"];o=e[Math.floor(Math.random()*e.length)]}else if("flashblock"===n){let e=["FLaShB3iXXTWE1vu9wQsChUKq3HFtpMAhb8kAh1pf1wi","FLashhsorBmM9dLpuq6qATawcpqk1Y2aqaZfkd48iT3W","FLaSHJNm5dWYzEgnHJWWJP5ccu128Mu61NJLxUf7mUXU","FLaSHR4Vv7sttd6TyDF4yR1bJyAxRwWKbohDytEMu3wL","FLASHRzANfcAKDuQ3RXv9hbkBy4WVEKDzoAgxJ56DiE4","FLasHstqx11M8W56zrSEqkCyhMCCpr6ze6Mjdvqope5s","FLAShWTjcweNT4NSotpjpxAkwxUr2we3eXQGhpTVzRwy","FLasHXTqrbNvpWFB6grN47HGZfK6pze9HLNTgbukfPSk","FLAshyAyBcKb39KPxSzXcepiS8iDYUhDGwJcJDPX4g2B","FLAsHZTRcf3Dy1APaz6j74ebdMC6Xx4g6i9YxjyrDybR"];o=e[Math.floor(Math.random()*e.length)]}else if("helius"===n){let e=["4ACfpUFoaSD9bfPdeu6DBt89gB6ENTeHBXCAi87NhDEE","D2L6yPZ2FmmmTKPgzaMKdhu6EWZcTpLy1Vhx8uvZe7NZ","9bnz4RShgq1hAnLnZbP8kbgBg1kEmcJBYQq3gQbmnSta","5VY91ws6B2hMmBFRsXkoAAdsPHBJwRfBht4DXox3xkwn","2nyhqdwKcJZR2vcqCyrYsaPVdAnFoJjiksCXJ7hfEYgD","2q5pghRs6arqVjRvT5gfgWfWcHWmw1ZuCzphgd5KfWGJ","wyvPkWjVZz1M8fHQnMMCDTQDbkManefNNhweYk5WkcF","3KCKozbAaF75qEU33jtzozcJ29yJuaLJTy2jFdzUY8bT","4vieeGHPYPG2MmyPRcYjdiDmmhN3ww7hsFNap8pVN3Ey","4TQLFNWK8AovT1gFvda5jfw2oJeRMKEmw7aH6MGBJ3or"];o=e[Math.floor(Math.random()*e.length)]}let u=r.priorityFeeSol,l=r.bribeFeeSol,c=u+l;if("temporal-priority"===n||"0xslot-priority"===n?(u=.9*c,l=.09999999999999998*c):("temporal-bribe"===n||"0xslot-bribe"===n)&&(u=c*(1-k),l=c*k),o){let t=a.SystemProgram.transfer({fromPubkey:s,toPubkey:new a.PublicKey(o),lamports:BigInt((1e9*l).toFixed(0))});e.push(t)}let d=(0,m.newSafeBN)(1e9*u).mul((0,m.newSafeBN)(1e6)).div((0,m.newSafeBN)(t));u>0&&M({instructions:e,computeUnits:t,microLamports:d})},M=({instructions:e,computeUnits:t,microLamports:r,numPrefixInstructions:i=0})=>{let n=a.ComputeBudgetProgram.setComputeUnitLimit({units:t}),o=a.ComputeBudgetProgram.setComputeUnitPrice({microLamports:BigInt(String(Math.round(Number(r.toString()))))});e.splice(i,0,n,o)},U=e=>"object"==typeof e&&null!==e&&"signTransaction"in e&&"function"==typeof e.signTransaction,F=new Map,L=new Map;function q(e){for(let t of(F.clear(),L.clear(),e))F.set(t.publicKey,function(e){let t=a.Keypair.fromSecretKey(u.default.decode(e));return{publicKey:t.publicKey.toBase58(),signTransaction:async e=>(e instanceof a.VersionedTransaction?e.sign([t]):e.partialSign(t),e),signMessage:async e=>l.default.sign.detached(e,t.secretKey)}}(t.privateKey)),L.set(t.publicKey,t.privateKey)}function K(){F.clear(),L.clear()}function W(e){return L.get(e)??null}function V(e){return F.has(e)}async function G(e){let t=F.get(e);if(t)return t;throw Error(`Signing key not available for ${e}. Try logging out and back in.`)}let z=async({signer:e,instructions:r,blockhash:i,lookupTables:n})=>{let o=Array.isArray(e)?e:[e];if(0===o.length)throw Error("No signers provided");let s=U(o[0])?new a.PublicKey(o[0].publicKey):o[0].publicKey,l=new a.TransactionMessage({payerKey:s,recentBlockhash:i,instructions:r}),c=new a.VersionedTransaction(n?l.compileToV0Message(n):l.compileToLegacyMessage());if(o.some(U)){let e=await Promise.all(o.map(async(e,t)=>U(e)?(await e.signTransaction(c)).signatures[t]:(c.sign([e]),c.signatures[t])));for(let t=0;t<e.length;t++)c.signatures[t]=e[t]}else c.sign(o);let d=c.serialize();return{base64Tx:t.Buffer.from(d).toString("base64"),signature:u.default.encode(c.signatures[0])}},j=e=>{let r=t.Buffer.from(e,"base64");try{let e=a.VersionedTransaction.deserialize(r);return u.default.encode(e.signatures[0])}catch(t){console.error("getSignatureFromBase64",t);let e=a.Transaction.from(r);return u.default.encode(e.signatures[0].signature??[])}},H=async(e,t,r={})=>{try{if(t.mevProtection)return;let i={jsonrpc:"2.0",id:1,method:"sendTransaction",params:[e,{encoding:"base64",skipPreflight:!0,preflightCommitment:"confirmed",maxRetries:0,...r}]},n=await o.default.post(g.HELIUS_FRONTEND_RPC_URL,i);if(n.data?.result)return n.data.result;return}catch{return}},X=e=>{let t=`{"jsonrpc":"2.0","id":1,"method":"sendTransaction","params":["${e}",{"encoding":"base64","maxRetries":5}]}`;for(let e of A.bestJitoEndpoints)fetch(`https://${e}/api/v1/transactions`,{method:"POST",headers:{"Content-Type":"application/json"},body:t,priority:"high"}).catch(()=>{})},Q=new Set(["sgp1.0slot.trade","chi1.0slot.trade","sv1.0slot.trade"]),J=(e,t)=>{t||fetch("https://quicksol.merkle.io/",{method:"POST",headers:{"Content-Type":"application/json"},body:`{"jsonrpc":"2.0","id":1,"method":"sendTransaction","params":["${e}",{"encoding":"base64","skipPreflight":true}]}`,priority:"high"}).catch(()=>{})},Y={temporal:0,jito:1,"0xslot":2,astralane:3,merkle:4,helius:5},Z=(e,t,r,i)=>{if(0===e.length)return;let n=t.mevProtection?"1":"0",a=void 0===t.enhancedMevProtection?"":t.enhancedMevProtection?"1":"0",o=e.map(e=>e.transactions.map(e=>`${Y[e.provider]??0}:${e.base64Tx}`).join(","));fetch("/api/batched-send-tx-v3",{method:"POST",headers:{"Content-Type":"text/plain"},body:`${n}|${a}|${o.join("|")}`,priority:"high"}).catch(()=>{});let s=i?[]:e.slice(0,4),u=[],l=[],d=[],f=[],p=[];for(let e of s)for(let r of e.transactions)f.push(r.base64Tx),"temporal"===r.provider?u.push(r.base64Tx):"0xslot"===r.provider?l.push(r.base64Tx):"astralane"===r.provider?d.push(r.base64Tx):"jito"===r.provider?X(r.base64Tx):"merkle"===r.provider?J(r.base64Tx,t.mevProtection):"helius"===r.provider&&p.push(r.base64Tx);for(let e of(((e,t,r)=>{if(0===e.length)return;let i=`/api/sendTransaction2?c=${r?"d0815c33-5d16-468e-8413-8101482faacc":t?"9acaf288-e73b-4133-a5f3-12fa5d31205b":"0ce8ae77-b0e2-4e12-81af-00cd2bfb974b"}`;for(let t of A.TEMPORAL_ENDPOINTS){let r=`https://${t}${i}`;for(let t of e)fetch(r,{method:"POST",headers:{"Content-Type":"text/plain"},body:t,priority:"high"}).catch(()=>{})}})(u,t.mevProtection,t.enhancedMevProtection),((e,t,r)=>{if(0===e.length)return;let i=r?"&secure=true":t?"&anti-mev=true":"";for(let t of A.bestZeroslotEndpoints){let r=Q.has(t)?"e619b143d79f4049a12cb2f336104cfd":"047c0844952a48fab5d608fb7647a9ae",n=`https://${t}/?id=${r}${i}`;for(let t of e)fetch(n,{method:"POST",headers:{"Content-Type":"text/plain"},body:`{"jsonrpc":"2.0","id":1,"method":"sendTransaction","params":["${t}",{"encoding":"base64"}]}`,priority:"high"}).catch(()=>{})}})(l,t.mevProtection,t.enhancedMevProtection),((e,t)=>{if(0===e.length)return;let r=`/iris2?api-key=AxiomozyNSTbBlP88VY35BvSdDVS3du1be8Q1VMmconPgpWFVWnpmfnpUrhRj97F&method=sendTransaction${t?"&mev-protect=true":""}`;for(let t of A.bestAstralaneEndpoints){let i=`https://${t}${r}`;for(let t of e)fetch(i,{method:"POST",headers:{"Content-Type":"text/plain"},body:t,priority:"high"}).catch(()=>{})}})(d,t.mevProtection),((e,t)=>{if(0!==e.length&&!t)for(let t of e)fetch("https://sender.helius-rpc.com/fast?api-key=69725de3-97e0-4cfe-b6a7-d959867aa0fe",{method:"POST",headers:{"Content-Type":"text/plain"},body:`{"jsonrpc":"2.0","id":1,"method":"sendTransaction","params":["${t}",{"encoding":"base64","skipPreflight":true,"maxRetries":0}]}`,priority:"high"}).catch(()=>{})})(p,t.mevProtection),f))H(e,t);if(!t.enhancedMevProtection)for(let e of s){let t=e.transactions[0]?.base64Tx;t&&fetch("https://tx.axiomext.net",{method:"POST",headers:{"Content-Type":"text/plain"},body:`{"message":"${t}"}`,priority:"high"}).catch(()=>{})}if(fetch("https://tx-pro.axiom.trade/batched-send-tx-v2",{method:"POST",headers:{"Content-Type":"application/json"},body:`{"mevProtection":${t.mevProtection},"enhancedMevProtection":${t.enhancedMevProtection??"null"},"wallets":[${e.map(e=>`{"transactions":[${e.transactions.map(e=>`{"provider":"${e.provider}","base64Tx":"${e.base64Tx}"}`).join(",")}]}`).join(",")}]}`,priority:"high",credentials:"include"}).catch(()=>{}),t.customRpcUrl&&!t.mevProtection){let r={customRpcUrl:t.customRpcUrl,transactions:e.map(e=>({base64Tx:e.transactions[0].base64Tx}))};c.axiomApiV2.post("/batched-send-custom-tx",r,{urlOverride:"https://tx-custom.axiom.trade"}).catch(()=>{})}},$=async e=>{let t={mevProtection:!1},r={skipPreflight:!0,preflightCommitment:"confirmed"},i=ee(e,t,r),n=H(e,t,r);try{let e=await i;if(e)return e;throw Error("Unexpected Error")}catch(t){let e=await n;if(e)return e;throw t}},ee=async(e,t,r={})=>{let i={isSmartMEV:t.mevProtection,jsonrpc:"2.0",id:1,method:"sendTransaction",params:[e,{encoding:"base64",skipPreflight:!0,preflightCommitment:"confirmed",maxRetries:5,...r}]};return(await d.workersApi.post("/api/swap",i)).result},et=new a.Connection(g.HELIUS_FRONTEND_RPC_URL,"confirmed");function er(e){let{signature:t,callback:r,commitment:i,protocol:n,pairAddress:a}=e;return et.onSignature(t,e=>{if(e.err){let t=e.err?.InstructionError?.[1],i=t?.Custom;if(30===i)r(!1,"Transaction failed and priority fees were consumed: slippage exceeded");else if(100===i)r(!1,"Transaction failed and priority fees were consumed: Insufficient input tokens");else if(17===i)r(!1,"Transaction failed and priority fees were consumed: token creator froze your tokens");else if(29===i)r(!1,"Transaction failed and priority fees were consumed: pool liquidity too low");else if(6005===i)r(!1,"Transaction failed and priority fees were consumed: slippage exceeded or bonding curve complete");else if(n===b.PROTOCOL_HEAVEN&&6013===i)r(!1,"Transaction failed and priority fees were consumed: slippage exceeded");else if(n===b.PROTOCOL_HEAVEN)r(!1,"Transaction failed and priority fees were consumed: Trading is not enabled yet, wait for an official announcement.");else if(6027===i&&n===b.PROTOCOL_RAYDIUM_CLMM)r(!1,"Transaction failed and priority fees were consumed: tick arrays out of range, try trading less tokens at once");else if(6006===i)r(!1,"Transaction failed and priority fees were consumed: something went wrong, contact support");else if(6027===i||6013===i)r(!1,"Transaction failed and priority fees were consumed: bonding curve complete");else if(6001===i||6002===i||6003===i||6004===i||6005===i||103===i||6040===i)r(!1,"Transaction failed and priority fees were consumed: slippage exceeded");else if(6e3===i)r(!1,"Transaction failed and priority fees were consumed: pool not open yet");else if(2505===i)r(!1,"Transaction failed and priority fees were consumed: pool liquidity too low");else if(3012===i)r(!1,"Transaction failed and priority fees were consumed: Cannot find your token account, refreshing");else if(1===i||40===i||6023===i)r(!1,"Transaction failed and priority fees were consumed: Insufficient tokens");else if(38===i)r(!1,"Transaction failed and priority fees were consumed: token account closed, refresh and retry");else if(0===i)r(!1,"Transaction failed and priority fees were consumed: slippage exceeded");else if(3003===i)r(!1,"Transaction failed and priority fees were consumed: Account not extended, place a buy of any size in order to sell");else if(6015===i)r(!1,"Transaction failed and priority fees were consumed: Price out of allowed range of the pool, try a different pool");else if(2001===i)r(!1,"Transaction failed and priority fees were consumed: Did you change primary wallets after creating a yield account?");else if(2006===i){if(r(!1,"Transaction failed and priority fees were consumed: Coin creator changed, refreshing data..."),a&&v.pumpCreatorCache.set(a,null),(n===b.PROTOCOL_PUMP||n===b.PROTOCOL_PUMP_AMM)&&a){let e=n===b.PROTOCOL_PUMP?"bondingCurve":"pool";c.axiomApiV2.post("/update-pump-creator",{pairAddress:a,type:e}).catch(()=>{})}}else"UnbalancedInstruction"===t?r(!1,"Transaction failed and priority fees were consumed: The Pump program has a bug, place a buy of any size in order to sell"):"ComputationalBudgetExceeded"===t?r(!1,"Transaction failed and priority fees were consumed: Transaction too large, contact support"):"ProgramFailedToComplete"===t?r(!1,"Transaction failed and priority fees were consumed: Invalid swap data, contact support"):r(!1,`Transaction failed and priority fees were consumed: ${JSON.stringify(e.err)}`)}else r(!0,"Transaction confirmed!")},i??"confirmed")}async function ei(e){let t=[],r=0,i=[];try{let n=[];for(let t of e)ee(t,{mevProtection:!1},{skipPreflight:!0}).catch(console.error),n.push(j(t));let a=new Promise(e=>{setTimeout(()=>{e()},6e4)}),o=await Promise.race([Promise.all(n.map(e=>new Promise(n=>{let a=er({signature:e,callback:(e,i)=>{e?r++:t.push(i),n()}});i.push(a)}))),a]);return Array.isArray(o)||t.push("Transaction(s) timed out"),{numSuccess:r,numFailed:e.length-r,errorMessages:t}}catch(i){return t.push((0,y.getErrorMessage)(i)),{numSuccess:r,numFailed:e.length-r,errorMessages:t}}finally{for(let e of i)et.removeSignatureListener(e).catch(()=>{})}}async function en(e){let r,i,n,o,{userWalletAddress:s,tokenAddress:u,tokenProgramAddress:l}=e;if(e.userTokenAccountAddress)r=e.userTokenAccountAddress;else{let{ataInstruction:t,ataAddress:i}=I(new a.PublicKey(s),u,l);r=i,e.instructions.push(t)}if(e.usdc){let{ataInstruction:t,ataAddress:r}=I(new a.PublicKey(s),b.USDC_TOKEN_ADDRESS,b.TOKEN_PROGRAM_ADDRESS);i=r,e.instructions.push(t)}if(e.usd1){let{ataInstruction:t,ataAddress:r}=I(new a.PublicKey(s),b.USD1_TOKEN_ADDRESS,b.TOKEN_PROGRAM_ADDRESS);n=r,e.instructions.push(t)}return e.wsolAmount&&(o=e.psol?eo(new a.PublicKey(s),e.wsolAmount,e.instructions).toBase58():function(e,r,i){let[n,o]=(0,w.findProgramAddressSync)([t.Buffer.from("wrapped_sol_account"),e.toBuffer()],new a.PublicKey(x.AXIOM_ROUTER_PROGRAM_ADDRESS)),s=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:new a.PublicKey(b.WSOL_TOKEN_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new a.PublicKey(b.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new a.PublicKey(b.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}],u=r.toArrayLike(t.Buffer,"le",8),l=new a.TransactionInstruction({keys:s,programId:new a.PublicKey(x.AXIOM_ROUTER_PROGRAM_ADDRESS),data:t.Buffer.concat([t.Buffer.from([1]),u,t.Buffer.from([o])])});return i.push(l),n.toBase58()}(new a.PublicKey(s),e.wsolAmount,e.instructions)),{userTokenAccountAddress:r,userUsdcAccountAddress:i,userUsd1AccountAddress:n,userWsolAccountAddress:o}}let ea=(e,t,r,n=b.TOKEN_PROGRAM_ADDRESS)=>{r.push((0,i.createCloseAccountInstruction)(new a.PublicKey(t),new a.PublicKey(e),new a.PublicKey(e),void 0,new a.PublicKey(n)))},eo=(e,r,i)=>{let{ataInstruction:n,ataAddress:o}=I(e,S);if(i.push(n),r.lte(new s.default(0)))return new a.PublicKey(o);let u=[{pubkey:new a.PublicKey(E),isSigner:!1,isWritable:!0},{pubkey:new a.PublicKey(S),isSigner:!1,isWritable:!0},{pubkey:new a.PublicKey("71J1bTThWGXD9qVxsyYwxZbGG5GbdUzV7t7ohkuGxt5a"),isSigner:!1,isWritable:!1},{pubkey:new a.PublicKey(o),isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:new a.PublicKey(b.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new a.PublicKey(b.ASSOCIATED_TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new a.PublicKey(b.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new a.PublicKey(b.RENT_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}],l=r.toArrayLike(t.Buffer,"le",8),c=new a.TransactionInstruction({keys:u,programId:new a.PublicKey(T),data:t.Buffer.concat([t.Buffer.from("2f3e9bac83cd25c9","hex"),l])});return i.push(c),new a.PublicKey(o)}},719387,e=>{"use strict";e.s(["AXIOM_ROUTER_PROGRAM_ADDRESS",()=>u,"MEMO_V2_PROGRAM_ADDRESS",()=>g,"RAYDIUM_CLMM_PROGRAM_ADDRESS",()=>h,"buildAxiomRouterInstruction",()=>c,"buildUsdAxiomRouterInstruction",()=>f]);var t=e.i(467034),r=e.i(127261),i=e.i(769998),n=e.i(973444);e.i(465903);var a=e.i(767924),o=e.i(799689),s=e.i(85026);let u="FLASHX8DrLbgeR8FcfNV1F5krxYcYMUdBkrP1EPBtxB9",l={pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA:2,"6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P":3,F5tfvbLog9VdGUPqBDTT8rgXvTTcq7e5UiGnupL1zvBq:4,boop8hVGQGqehUK2iVEMEnMrL5RbjywRzHKBmBE7ry4:5,HEAVENoP2qxoeuF8Dj2oT1GHEnu49U5mJYkdeC8BAX2o:6,LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj:7,Eo7WjKq67rjJQSZxS6z3YkapzY3eMj6Xy8X5EQVn5UaB:8,cpamdpZCGKUy5JxQXB4dcpGPiikHawvSWAd6mEn1sGG:9,LBUZKhRxPF3XUpBCjp4YzTKgLccjZhTSDM9YuVaPwxo:10,MoonCVVNZFSYkqNXP6bxHLPL6QQJiMagDL3qcqUQTrG:11,whirLbMiicVdio4qvUfM5KAg6Ct8VwpYzGff3uctyCc:12,"675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8":13,CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK:14,CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C:15,deus4Bvftd5QKcEkE5muQaWGWDoma8GrySvPFrBPjhS:16,vrTGoBuy5rYSxAfV3jaRJWHH6nN9WK4NRExGxsk1bCJ:17,dbcij3LWUppWqq96dh6gJWwBifmcGfLSB5D4DuSMaqN:18,CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK_LEGACY:19,"9H6tua7jkLhdm3w8BvgpTn5LZNU7g4ZynDmCiNN3q6Rp":20,ExA6GYhHAeRNMWVNLrDir1SKPJZcZA2oaPq6uriSmxfJ:21};function c(e){let i,{type:n,amountIn:c,minAmountOut:f,userWalletAddress:p,inputTokenAccount:h,solWrapperToken:m,steps:b,rewardsData:g}=e,y=[];y.push(d(0)),y.push(c.toArrayLike(t.Buffer,"le",8)),y.push(f.toArrayLike(t.Buffer,"le",8)),"buy"===n?y.push(d(0)):y.push(d(1));let x=b.length+ +!!m;y.push(d(x));let A=[{pubkey:new r.PublicKey(h),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(p),isSigner:!0,isWritable:!0},{pubkey:new r.PublicKey((0,a.getAxiomFeeAddress)()),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(a.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(u),isSigner:!1,isWritable:!1}];for(let e of b){for(let t of(A.push({pubkey:new r.PublicKey(e.programAddress.split("_")[0]),isSigner:!1,isWritable:!1}),e.accounts))A.push(t);A.push({pubkey:new r.PublicKey(u),isSigner:!1,isWritable:!1}),y.push(d(l[e.programAddress])),e.extraData&&y.push(e.extraData)}m&&("wsol"===m.type?(A.push({pubkey:new r.PublicKey(a.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}),A.push({pubkey:new r.PublicKey(m.userWrappedTokenAccount),isSigner:!1,isWritable:!0}),A.push({pubkey:new r.PublicKey(u),isSigner:!1,isWritable:!1}),y.push(d(0))):"psol"===m.type&&(A.push({pubkey:new r.PublicKey(s.PSOL_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}),A.push({pubkey:new r.PublicKey(s.PSOL_STATE_ADDRESS),isSigner:!1,isWritable:!0}),A.push({pubkey:new r.PublicKey(s.PSOL_TOKEN_ADDRESS),isSigner:!1,isWritable:!0}),A.push({pubkey:new r.PublicKey(m.userWrappedTokenAccount),isSigner:!1,isWritable:!0}),A.push({pubkey:new r.PublicKey(a.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}),A.push({pubkey:new r.PublicKey(u),isSigner:!1,isWritable:!1}),y.push(d(1))));let w=null!==g.referralAddress,v=null!==g.tokenReferralAddress,S=g.referralAddress??g.tokenReferralAddress??u,T=w?g.tokenReferralAddress??u:u,E=w?g.referralRewardsPercentage??0:20*!!v,k=g.referralLevel2Address??u,P=g.referralLevel3Address??u;return A.push({pubkey:new r.PublicKey((i=Math.floor(8*Math.random())+1,(0,o.findProgramAddressSync)([t.Buffer.from("vault"),t.Buffer.from([i])],new r.PublicKey(u))[0])),isSigner:!1,isWritable:!0}),A.push({pubkey:new r.PublicKey(S),isSigner:!1,isWritable:!0}),A.push({pubkey:new r.PublicKey(k),isSigner:!1,isWritable:!0}),A.push({pubkey:new r.PublicKey(P),isSigner:!1,isWritable:!0}),A.push({pubkey:new r.PublicKey(T),isSigner:!1,isWritable:!0}),k===u&&P===u&&S===u&&T===u?y.push(d(50)):y.push(d(2*Math.floor(g.userRewardsPercentage||0))),y.push(d(2*Math.floor(E))),new r.TransactionInstruction({keys:A,programId:new r.PublicKey(u),data:t.Buffer.concat(y)})}function d(e){return t.Buffer.from([e])}async function f(e){var i,o,s;let u,l,d;if("buy"===e.type?u=(l=(0,n.newSafeBN)((0,n.fromSafeBN)(e.amountIn)*e.usdPerSol/e.priceInUsdc*10**(e.tokenDecimals-9))).mul((0,n.newSafeBN)(1e4)).div((0,n.newSafeBN)(1e4+100*e.slippage)):(l=(0,n.newSafeBN)((0,n.fromSafeBN)(e.amountIn)*e.priceInUsdc/e.usdPerSol*10**(9-e.tokenDecimals)),u=(0,n.newSafeBN)((0,n.fromSafeBN)(l)*(100-e.slippage)/100)),"usd1"===e.stableCoin){let t,n,o,s,u;d=1>Math.random()?{programAddress:S,accounts:(n=(t="buy"===(i=e).type)?w:v,o=t?v:w,s=t?i.userWsolAccountAddress:i.userUsdAccountAddress,u=t?i.userUsdAccountAddress:i.userWsolAccountAddress,[{pubkey:new r.PublicKey(i.userAccountAddress),isSigner:!0,isWritable:!0},{pubkey:new r.PublicKey("A9eAH6Az7VoXRPwcEdXZuqXqQaf7GWfzAQC91dkf76xD"),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(n),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(o),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(s),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(u),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(a.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}])}:{programAddress:p,accounts:await T({type:e.type,userAccountAddress:e.userAccountAddress,userWsolAccountAddress:e.userWsolAccountAddress,userUsd1AccountAddress:e.userUsdAccountAddress,usdPerSol:e.usdPerSol})}}else if("usdc"===e.stableCoin){let i,n,u,l,c,f;d=1>Math.random()?{programAddress:S,accounts:(n=(i="buy"===(o=e).type)?x:A,u=i?A:x,l=i?o.userWsolAccountAddress:o.userUsdAccountAddress,c=i?o.userUsdAccountAddress:o.userWsolAccountAddress,[{pubkey:new r.PublicKey(o.userAccountAddress),isSigner:!0,isWritable:!0},{pubkey:new r.PublicKey("EWGcY44T5cBH61LwX3oGRd9cPfg55auELFwKSAorbFQx"),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(n),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(u),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(l),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(c),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(a.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}])}:{programAddress:y,accounts:(f="buy"===(s=e).type?"H68hZeFqiX53vZf6ptCnjBTu8ePh6wg9LbxTE263jFb8":"9wZ8Af8iQsFZ6tVooizCZQiLBrDCWTQGj955Vd7UNMnY",[{pubkey:new r.PublicKey(s.userAccountAddress),isSigner:!0,isWritable:!0},{pubkey:new r.PublicKey("FksffEqnBRixYGR791Qw2MgdU7zNCpHVFYBL4Fa4qVuH"),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("C3FzbX9n1YD2dow2dCmEv5uNyyf22Gb3TLAEqGBhw5fY"),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("3RWFAQBRkNGq7CMGcTLK3kXDgFTe9jgMeFYqk8nHwcWh"),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(s.userWsolAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(s.userUsdAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(f),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("SysvarC1ock11111111111111111111111111111111"),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(a.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey("Sysvar1nstructions1111111111111111111111111"),isSigner:!1,isWritable:!1}]),extraData:t.Buffer.from(crypto.getRandomValues(new Uint8Array(8)))}}else throw Error("Invalid stable coin");return{swapInstruction:c({type:e.type,amountIn:e.amountIn,minAmountOut:u,userWalletAddress:e.userAccountAddress,inputTokenAccount:"buy"===e.type?e.userWsolAccountAddress:e.userTokenAccountAddress,solWrapperToken:{type:"wsol",userWrappedTokenAccount:e.userWsolAccountAddress},steps:"buy"===e.type?[d,...e.steps]:[...e.steps,d],rewardsData:e.rewardsData}),expectedAmountOut:l}}let p="CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK_LEGACY",h="CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK",m="5QpMZ6MuyKjg8Qa1X8gM5G3YMsd43rpHb2iQ6hdcRM7m",b="DHY2efKhMcZyAgmPw82C2Gez1e98Ab7oWcXfxz9frUCr",g="MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr",y="9H6tua7jkLhdm3w8BvgpTn5LZNU7g4ZynDmCiNN3q6Rp",x="5ZNYsDXq5VQXPmKpAPRGiiKjG6D6nbCJmpULGqegDKir",A="CM3A8693jQSSSiPweC8rTg8WLfnmzR9TtKqgC7MU9QNw",w="6wmcuTBwhhsNnvtTswZLpvk8eefMCPaqEv1nJRgGmBG9",v="6KbMJEc4Qrpqd9CTH9aGjNSEJVT4qEdcpv8WB93R36GE",S="ExA6GYhHAeRNMWVNLrDir1SKPJZcZA2oaPq6uriSmxfJ";async function T(e){let t=[{pubkey:new r.PublicKey(e.userAccountAddress),isSigner:!0,isWritable:!0},{pubkey:new r.PublicKey("E64NGkDLLCdQ2yFNPcavaKptrEgmiQaNykUuLC1Qgwyp"),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("AQAGYQsdU853WAKhXM79CgNdoyhrRwXvYHX6qrDyC1FS"),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("buy"===e.type?e.userWsolAccountAddress:e.userUsd1AccountAddress),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("buy"===e.type?e.userUsd1AccountAddress:e.userWsolAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("buy"===e.type?m:b),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("buy"===e.type?b:m),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("2s8VC2vpZcoUCbvEqwUagvdyHfUeWYQZuKV376acx6iF"),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(a.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}];for(let n of(await (0,i.fetchUsd1TickArrays)(e.usdPerSol)))t.push({pubkey:new r.PublicKey(n),isSigner:!1,isWritable:!0});return t}},542251,290705,e=>{"use strict";e.s(["calculateBondingCurve",()=>T,"calculateMigrationPrice",()=>k],542251);var t=e.i(447800);e.s(["LAUNCHLAB_MIGRATE_FEE_RAW",()=>p,"LAUNCHLAB_PROTOCOL_FEE_RATE",()=>h,"getLaunchLabPoolInfo",()=>m,"swapLaunchLab",()=>g],290705);var r=e.i(49498),i=e.i(127261),n=e.i(659341);e.i(89928);var a=e.i(739663),o=e.i(682382),s=e.i(973444);e.i(465903);var u=e.i(767924),l=e.i(719387),c=e.i(799689),d=e.i(85026);let f="LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj",p="0",h="2500",m=(e,t,r)=>{let i,a,o,s,u,l,c,d,f,h,m,b,{realLiquiditySol:g,realLiquidityToken:y,initialLiquiditySol:x,initialLiquidityToken:A}=(i=new n.default(r.quoteRaiseRaw),a=new n.default(r.baseSupplyRaw),o=new n.default(r.baseSellRaw),s=new n.default(r.baseLockedRaw),u=new n.default(p),l=a.sub(s).sub(o),c=i.sub(u),d=new n.default("1000000000000000000000"),f=c.mul(d).div(l),h=o.mul(f).div(d).sub(i),m=i.mul(i).div(h),b=f.mul(o).mul(o).div(h).div(d),{realLiquiditySol:t.sub(m),realLiquidityToken:b.sub(e),initialLiquiditySol:m,initialLiquidityToken:b});return{virtualA:A,virtualB:x,realA:y,realB:g,totalSellA:new n.default(r.baseSellRaw),totalFundRaisingB:new n.default(r.quoteRaiseRaw)}},b=async({type:e,amount:t,slippage:a,liquiditySolRaw:o,liquidityTokenRaw:c,tokenAddress:d,userAccountAddress:p,userSolAccountAddress:b,userTokenAccountAddress:g,userUsd1AccountAddress:x,protocolDetails:A,pairAddress:w,tokenDecimals:v,usdPerSol:S,rewardsData:T})=>{if(A.isUsd1){let E,k=new i.PublicKey(f),P=(0,r.getPdaLaunchpadAuth)(k).publicKey,_=m(c,o,A);if("buy"===e){let e=r.Curve.buyExactIn({poolInfo:_,amountB:t,protocolFeeRate:new n.default(h),platformFeeRate:new n.default(A.platformFee),curveType:0,shareFeeRate:new n.default(0)}).amountA.mul((0,s.newSafeBN)(1e4)).div((0,s.newSafeBN)(1e4+100*a));E=(0,r.buyExactInInstruction)(k,new i.PublicKey(p),P,new i.PublicKey(A.globalConfig),new i.PublicKey(A.platformConfig),new i.PublicKey(w),new i.PublicKey(g),new i.PublicKey(x),new i.PublicKey(A.baseVault),new i.PublicKey(A.quoteVault),new i.PublicKey(d),new i.PublicKey(u.USD1_TOKEN_ADDRESS),new i.PublicKey(A.tokenProgram),new i.PublicKey(u.TOKEN_PROGRAM_ADDRESS),t,e)}else{let e=r.Curve.sellExactIn({poolInfo:_,amountA:t,protocolFeeRate:new n.default(h),platformFeeRate:new n.default(A.platformFee),curveType:0,shareFeeRate:new n.default(0)}).amountB.mul((0,s.newSafeBN)(1e4-100*a)).div((0,s.newSafeBN)(1e4));E=(0,r.sellExactInInstruction)(k,new i.PublicKey(p),P,new i.PublicKey(A.globalConfig),new i.PublicKey(A.platformConfig),new i.PublicKey(w),new i.PublicKey(g),new i.PublicKey(x),new i.PublicKey(A.baseVault),new i.PublicKey(A.quoteVault),new i.PublicKey(d),new i.PublicKey(u.USD1_TOKEN_ADDRESS),new i.PublicKey(A.tokenProgram),new i.PublicKey(u.TOKEN_PROGRAM_ADDRESS),t,e)}await y(E.keys,w,A,u.USD1_TOKEN_ADDRESS);let I=(0,s.newSafeBN)(10).pow((0,s.newSafeBN)(18)),N=S.toFixed(18).replace(".",""),R=(0,s.newSafeBN)(N),B=(0,s.newSafeBN)(10).pow((0,s.newSafeBN)(v)),C=o.mul(R).mul(B).mul(I),O=c.mul((0,s.newSafeBN)(1e9)).mul((0,s.newSafeBN)("1000000000000000000")),D=Number(C.div(O).toString())/Number(I.toString());return await (0,l.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usd1",userAccountAddress:p,userWsolAccountAddress:b,userUsdAccountAddress:x,userTokenAccountAddress:g,usdPerSol:S,amountIn:t,tokenDecimals:v,priceInUsdc:D,slippage:a,steps:[{programAddress:f,accounts:E.keys}],rewardsData:T})}let E=new i.PublicKey(f),k=(0,r.getPdaLaunchpadAuth)(E).publicKey,P=m(c,o,A);if("buy"===e){let o=r.Curve.buyExactIn({poolInfo:P,amountB:t,protocolFeeRate:new n.default(h),platformFeeRate:new n.default(A.platformFee),curveType:0,shareFeeRate:new n.default(0)}).amountA,c=o.mul((0,s.newSafeBN)(1e4)).div((0,s.newSafeBN)(1e4+100*a)),m=(0,r.buyExactInInstruction)(E,new i.PublicKey(p),k,new i.PublicKey(A.globalConfig),new i.PublicKey(A.platformConfig),new i.PublicKey(w),new i.PublicKey(g),new i.PublicKey(b),new i.PublicKey(A.baseVault),new i.PublicKey(A.quoteVault),new i.PublicKey(d),new i.PublicKey(u.WSOL_TOKEN_ADDRESS),new i.PublicKey(A.tokenProgram),new i.PublicKey(u.TOKEN_PROGRAM_ADDRESS),t,c);return await y(m.keys,w,A,u.WSOL_TOKEN_ADDRESS),{swapInstruction:(0,l.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:c,userWalletAddress:p,inputTokenAccount:b,solWrapperToken:{type:"wsol",userWrappedTokenAccount:b},steps:[{programAddress:f,accounts:m.keys}],rewardsData:T}),expectedAmountOut:o}}let _=r.Curve.sellExactIn({poolInfo:P,amountA:t,protocolFeeRate:new n.default(h),platformFeeRate:new n.default(A.platformFee),curveType:0,shareFeeRate:new n.default(0)}),I=_.amountB,N=I.mul((0,s.newSafeBN)(1e4-100*a)).div((0,s.newSafeBN)(1e4)),R=(0,r.sellExactInInstruction)(E,new i.PublicKey(p),k,new i.PublicKey(A.globalConfig),new i.PublicKey(A.platformConfig),new i.PublicKey(w),new i.PublicKey(g),new i.PublicKey(b),new i.PublicKey(A.baseVault),new i.PublicKey(A.quoteVault),new i.PublicKey(d),new i.PublicKey(u.WSOL_TOKEN_ADDRESS),new i.PublicKey(A.tokenProgram),new i.PublicKey(u.TOKEN_PROGRAM_ADDRESS),_.amountA.lt(t)?_.amountA:t,N,new n.default(0));return await y(R.keys,w,A,u.WSOL_TOKEN_ADDRESS),{swapInstruction:(0,l.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:N,userWalletAddress:p,inputTokenAccount:g,solWrapperToken:{type:"wsol",userWrappedTokenAccount:b},steps:[{programAddress:f,accounts:R.keys}],rewardsData:T}),expectedAmountOut:I}},g=async({type:e,amount:t,liquiditySolRaw:r,liquidityTokenRaw:i,tokenAddress:n,userTokenAccountAddress:a,protocolDetails:u,blockhash:l,wallet:c,pairAddress:f,swapSettings:p,nonceInstruction:h,providers:m,rewardsData:g,tokenDecimals:y,usdPerSol:x,liquidityToken:A})=>{let w=[],v=await (0,d.addTokenAccountInstructions)({userWalletAddress:c.publicKey,tokenAddress:n,tokenProgramAddress:u.tokenProgram,instructions:w,userTokenAccountAddress:a,wsolAmount:"buy"===e?t:(0,s.newSafeBN)(0),usd1:u.isUsd1});"buy"===e&&(t=t.sub((0,d.calculateAxiomFee)(t)));let{swapInstruction:S,expectedAmountOut:T}=await b({type:e,amount:t,slippage:p.slippage,liquiditySolRaw:r,liquidityTokenRaw:i,tokenAddress:n,userAccountAddress:c.publicKey,userTokenAccountAddress:v.userTokenAccountAddress,userSolAccountAddress:v.userWsolAccountAddress,userUsd1AccountAddress:v.userUsd1AccountAddress,protocolDetails:u,pairAddress:f,tokenDecimals:y,liquidityToken:A,usdPerSol:x,rewardsData:g});return w.push(S),u.isUsd1&&(0,d.isVanishSigner)(c)&&(0,d.addTokenAccountCloseInstruction)(c.publicKey,v.userUsd1AccountAddress,w),await (0,d.handleMassSwapTxCreation)({instructions:w,wallet:c,swapSettings:p,blockhash:l,nonceInstruction:h,providers:m,computeUnits:(0,d.calculateComputeUnits)({baseComputeUnits:2e5,isUsd1:u.isUsd1,isVanish:(0,d.isVanishSigner)(c)}),lookupTables:d.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:g.userRewardsPercentage,swapInfo:{amount:t,expectedAmountOut:T,tokenDecimals:y,sourceTokenAddress:"buy"===e?o.NATIVE_SOL_TOKEN_ADDRESS:n,targetTokenAddress:"buy"===e?n:o.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,d.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:!1,isUsd1:u.isUsd1??!1,amount:t,expectedAmountOut:T,tokenDecimals:y})}})};async function y(e,t,r,n){let[o]=(0,c.findProgramAddressSync)([new i.PublicKey(r.platformConfig).toBuffer(),new i.PublicKey(n).toBuffer()],new i.PublicKey(f));r.creator||(r.creator=(await a.workersApi.post("/launchlab-creator",{pool:t})).creator);let[s]=(0,c.findProgramAddressSync)([new i.PublicKey(r.creator).toBuffer(),new i.PublicKey(n).toBuffer()],new i.PublicKey(f));e.push({pubkey:new i.PublicKey(u.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0})}var x=e.i(626914);let A="1073000000000000",w="793100000000000",v="1045000000000000",S="780000000000000",T=e=>{let{liquidityToken:r,liquiditySol:i,tokenDecimals:n,protocol:a,protocolDetails:o,usdPerSol:u}=e;if("Pump V1"===a)return Number(((Number(A)/10**n-r)/(Number(w)/10**n)*100).toFixed(2));if("Sugar"===a)return Number(((Number(v)/10**n-r)/(Number(S)/10**n)*100).toFixed(2));if("Moonshot"===a){if(!o||o?.helioFee)return 0;let e=o?.curveType;if(3===e)return Math.min(100,Number(((i-30)/(Number(o?.collateralCollected)/1e9)*100).toFixed(2)));if(1===e){let e=Number(o.amount)/10**o.decimals;return Math.min(100,Number(((e-r)/(.8*e)*100).toFixed(2)))}return 0}if("LaunchLab"===a){let e,i;if(!o)return 0;let a=Number(o.baseSupplyRaw)/10**n,s=Number(o.baseLockedRaw)/10**n,l=Number(o.baseSellRaw)/10**n;if(o.isUsd1){let r=u||t.FALLBACK_USD_PER_SOL;e=Number(o.quoteRaiseRaw)/1e6/r,i=Number(p)/1e6/r}else e=Number(o.quoteRaiseRaw)/1e9,i=Number(p)/1e9;let c=(e-i)/(a-s-l);return Number(((c*l*l/(c*l-e)-r)/l*100).toFixed(2))}if("Virtual Curve"===a){if(!o)return 0;let e=o.isUsdc||o.isUsd1?6:9,t=BigInt((0,s.newSafeBN)(0xffffffffffffffff*Math.sqrt(r/10**n*10**e)).toString());return Math.min(100,Number((Number(function(e,t,r){let i=BigInt(0);for(let n=0;n<r.length;n++){let a=0===n?e:BigInt(r[n-1].sqrt_price);if(BigInt(r[n].sqrt_price)>t){i+=E(a,t,BigInt(r[n].liquidity));break}i+=E(a,BigInt(r[n].sqrt_price),BigInt(r[n].liquidity))}return i}(BigInt(o.sqrt_start_price),BigInt(t),o.curve))/Number(o.swap_base_amount)*100).toFixed(2)))}else return"Boop"===a?Math.min(100,Number(((i-30)/86*100).toFixed(2))):"Heaven"!==a?0:Math.min(99.99,Number((i/r*1e9*(u??t.FALLBACK_USD_PER_SOL)/1e5*100).toFixed(2)))};function E(e,t,r){let i=e*t;return i===BigInt(0)?BigInt(0):(r*(t-e)+i/BigInt(2))/i}let k=e=>{let{tokenDecimals:t,protocol:r,protocolDetails:i,ammConstant:n,usdPerSol:a}=e;if("Pump V1"===r||"Sugar"===r){let e="Sugar"===r?v:A,i="Sugar"===r?S:w,a=Number(e)/10**t-Number(i)/10**t;return(n??0)/a/a}if("Moonshot"===r){if(!i||i?.helioFee)return 0;let e=i?.curveType;if(1===e){let e=Number(i.amount)/10**i.decimals*.19999999999999996;return(0,x.default)({protocol:r,liquidityToken:e,liquidityNative:(n??0)/e,protocolDetails:i})}if(3===e){let e=Number(i?.collateralCollected)/1e9;return(0,x.default)({protocol:r,liquidityToken:-1,liquidityNative:e+30,protocolDetails:i})}}else if("LaunchLab"===r){let e,r=Number(i.baseSupplyRaw)/10**t,n=Number(i.baseLockedRaw)/10**t,o=Number(i.baseSellRaw)/10**t;return i.isUsd1?((e=Number(i.quoteRaiseRaw)/1e6)-Number(p)/1e6)/(r-n-o)/a:((e=Number(i.quoteRaiseRaw)/1e9)-Number(p)/1e9)/(r-n-o)}else if("Virtual Curve"===r){if(!i)return 0;let e=BigInt(2)**BigInt(64),r=Number(i.migration_sqrt_price)/Number(e),n=i.isUsdc||i.isUsd1?a:1,o=i.isUsdc||i.isUsd1?6:9;return r*r/(10**(t-o)*n)}else if("Boop"===r)return(0,x.default)({protocol:r,liquidityToken:(n??0)/116,liquidityNative:116,protocolDetails:i});else if(r===u.PROTOCOL_HEAVEN)return i?.migrated?0:1e5/a/1e9;return 0}},609187,994293,988147,260536,790936,66687,366652,586646,e=>{"use strict";e.s(["isPairLoadedChainAwareAtom",()=>W,"lastTransactionChainAwareAtom",()=>K,"pairAndLastTransactionChainAwareAtom",()=>V,"pairChainAwareAtom",()=>q,"refinePairAndLastTransactionBnb",()=>G,"refinePairAndLastTransactionSol",()=>z,"supplementalDataChainAwareAtom",()=>j],609187);var t,r,i,n,a,o,s=e.i(639372),u=e.i(741124),l=e.i(564012),c=e.i(877710),d=e.i(472660),f=e.i(205733);e.s(["currentMarketCapAtomSol",()=>M,"currentPriceAtomSol",()=>D,"lastTransactionLoadedAtomSol",()=>A,"pairAddressAtomSol",()=>w,"pairBondingCurveCompleteAtomSol",()=>O,"pairDevAddressAtomSol",()=>_,"pairExtraAtomSol",()=>R,"pairIsLaunchpadAtomSol",()=>B,"pairLoadedAtomSol",()=>x,"pairProtocolAtomSol",()=>N,"pairProtocolDetailsAtomSol",()=>I,"pairSupplyAsNumberAtomSol",()=>P,"pairSupplyAtomSol",()=>k,"pairTokenAddressAtomSol",()=>v,"pairTokenBalanceAtomSol",()=>F,"pairTokenDecimalsAtomSol",()=>E,"pairTokenImageAtomSol",()=>T,"pairTokenTickerAtomSol",()=>S,"pairTotalTokenBalanceAtomSol",()=>L,"pairWithUpdatedLiquidityAtomSol",()=>U],994293);var p=e.i(43351);e.i(255730);var h=e.i(754825),m=e.i(542251),b=e.i(626914),g=e.i(233324),y=e.i(767924);let x=(0,s.atom)(e=>null!==e(d.pairAtomSol)),A=(0,s.atom)(e=>null!==e(d.lastTransactionAtomSol)),w=(0,s.atom)(e=>{let t=e(d.pairAtomSol);return t?.pairAddress??""}),v=(0,s.atom)(e=>{let t=e(d.pairAtomSol);return t?.tokenAddress??""}),S=(0,s.atom)(e=>{let t=e(d.pairAtomSol);return t?.tokenTicker??""}),T=(0,s.atom)(e=>{let t=e(d.pairAtomSol);return t?.tokenImage??""}),E=(0,s.atom)(e=>{let t=e(d.pairAtomSol);return t?.tokenDecimals??0}),k=(0,s.atom)(e=>{let t=e(d.pairAtomSol);return t?.supply??0}),P=(0,s.atom)(e=>{let t=e(d.pairAtomSol);return"string"==typeof t?.supply?Number.parseFloat(t.supply):t?.supply??0}),_=(0,s.atom)(e=>{let t=e(d.pairAtomSol);return(0,g.getDevAddress)(t)}),I=(0,s.atom)(e=>{let t=e(d.pairAtomSol);return t?.protocolDetails??null}),N=(0,s.atom)(e=>{let t=e(d.pairAtomSol);return t?.protocol??""}),R=(0,s.atom)(e=>{let t=e(d.pairAtomSol);return t?.extra??null}),B=(0,s.atom)(e=>{let t=e(d.pairAtomSol);return y.LAUNCHPAD_PROTOCOLS_SET.has(t?.protocol??"")}),C=(0,s.atom)(e=>{let t=e(d.pairAtomSol),r=e(d.lastTransactionAtomSol),i=e(p.usdPerSolAtom);return r&&t?(0,m.calculateBondingCurve)({liquidityToken:r.liquidityToken,liquiditySol:r.liquiditySol,tokenDecimals:t.tokenDecimals,protocol:t.protocol??"",protocolDetails:t.protocolDetails,usdPerSol:i}):0}),O=(0,s.atom)(e=>100===e(C)),D=(0,s.atom)(e=>{let t=e(d.pairAtomSol),r=e(d.lastTransactionAtomSol),i=e(p.usdPerSolAtom);return r&&t?(0,b.default)({protocol:t.protocol??"",liquidityNative:r.liquiditySol,liquidityToken:r.liquidityToken,protocolDetails:t.protocolDetails,usdPerNative:i}):null}),M=(0,s.atom)(e=>{let t=e(D),r=e(P),i=e(p.usdPerSolAtom);return t&&r&&i?t*r*i:null}),U=(0,s.atom)(e=>{let t=e(d.pairAtomSol),r=e(d.lastTransactionAtomSol);return r&&t?{...t,liquiditySol:r.liquiditySol,liquidityToken:r.liquidityToken}:null}),F=(0,s.atom)(e=>{let t=e(d.pairAtomSol);if(!t)return 0;let r=new Set(e(h.selectedSolWalletsAtom)),i=e(h.monitoredSolWalletsAtom).filter(e=>r.has(e.publicKey)),n=e(h.tokenAccountsAtom);return i.reduce((e,r)=>e+(0,h.findTokenBalance)(n,r.publicKey,t.tokenAddress,t.tokenDecimals),0)}),L=(0,s.atom)(e=>{let t=e(d.pairAtomSol);if(!t)return 0;let r=e(h.tokenAccountsAtom);return e(h.monitoredSolWalletsAtom).reduce((e,i)=>e+(0,h.findTokenBalance)(r,i.publicKey,t.tokenAddress,t.tokenDecimals),0)}),q=(0,s.atom)(e=>{let t=e(u.currentChainAtom);switch(t){case"sol":return e(d.pairAtomSol);case"bnb":return e(c.pairAtomBnb);default:(0,l.assertUnreachable)(t)}},(e,t,r)=>{let i=e(u.currentChainAtom),n=e(q),a="function"==typeof r?r(n):r;switch(i){case"sol":t(d.pairAtomSol,a);break;case"bnb":t(c.pairAtomBnb,a);break;default:(0,l.assertUnreachable)(i)}}),K=(0,s.atom)(e=>{let t=e(u.currentChainAtom);switch(t){case"sol":return e(d.lastTransactionAtomSol);case"bnb":return e(c.lastTransactionAtomBnb);default:(0,l.assertUnreachable)(t)}},(e,t,r)=>{let i=e(u.currentChainAtom);switch(i){case"sol":t(d.lastTransactionAtomSol,r);break;case"bnb":t(c.lastTransactionAtomBnb,r);break;default:(0,l.assertUnreachable)(i)}}),W=(0,s.atom)(e=>{let t=e(u.currentChainAtom);switch(t){case"sol":return e(x);case"bnb":return e(f.pairLoadedAtomBnb);default:(0,l.assertUnreachable)(t)}});(0,s.atom)(e=>{let t=e(u.currentChainAtom);switch(t){case"sol":return e(A);case"bnb":return e(f.lastTransactionLoadedAtomBnb);default:(0,l.assertUnreachable)(t)}});let V=(0,s.atom)(e=>{let t=e(u.currentChainAtom);switch(t){case"sol":return{pair:e(d.pairAtomSol),lastTransaction:e(d.lastTransactionAtomSol)};case"bnb":return{pair:e(c.pairAtomBnb),lastTransaction:e(c.lastTransactionAtomBnb)};default:(0,l.assertUnreachable)(t)}});function G(e){return!!(e.lastTransaction&&"liquidityBnb"in e.lastTransaction)}function z(e){return!!(e.lastTransaction&&"liquiditySol"in e.lastTransaction)}let j=(0,s.atom)(e=>{let t=e(u.currentChainAtom);switch(t){case"sol":return e(d.supplementalDataAtomSol);case"bnb":return e(c.supplementalDataAtomBnb);default:(0,l.assertUnreachable)(t)}},(e,t,r)=>{let i=e(u.currentChainAtom);switch(i){case"sol":t(d.supplementalDataAtomSol,r);break;case"bnb":t(c.supplementalDataAtomBnb,r);break;default:(0,l.assertUnreachable)(i)}});e.s([],260536),e.s(["allPositionPairAddressesAtomSol",()=>ea,"createPositionPriceSelectAtomSol",()=>eo,"globalMemePositionsAtomSol",()=>J,"globalMemePositionsByTokenMapSol",()=>Z,"globalMemePositionsMapSol",()=>Y,"handlePositionMigrationAtomSol",()=>et,"positionPriceAtomSol",()=>ei,"positionsLoadedAtomSol",()=>Q,"rawMemePositionsAtomSol",()=>X,"setRawMemePositionsAtomSol",()=>$,"updateMemePositionAtomSol",()=>ee,"updatePositionPriceAtomSol",()=>en],988147);var H=e.i(265172);let X=(0,s.atom)([]),Q=(0,s.atom)(!1),J=(0,s.atom)(e=>((e,t)=>{let r=new Map(e.map(e=>[e.tokenAddress,e]));for(let e of t||[]){if(!e)continue;let t=r.get(e.tokenAddress);t?r.set(e.tokenAddress,{...t,tokensBought:t.tokensBought+e.tokensBought,tokensSold:t.tokensSold+e.tokensSold,solSpent:t.solSpent+e.solSpent,solReceived:t.solReceived+e.solReceived,usdSpent:t.usdSpent+e.usdSpent,usdReceived:t.usdReceived+e.usdReceived,buyCount:t.buyCount+e.buyCount,sellCount:t.sellCount+e.sellCount,updatedAt:new Date(Math.max(new Date(t.updatedAt).getTime(),new Date(e.updatedAt).getTime())),isVanish:!0}):r.set(e.tokenAddress,{...e,isVanish:!0})}return[...r.values()]})(e(X),e(d.vanishPositionsAtomSol)).sort((e,t)=>new Date(t.updatedAt).getTime()-new Date(e.updatedAt).getTime()).slice(0,25)),Y=(0,s.atom)(e=>new Map(e(J).map(e=>[e.pairAddress,e]))),Z=(0,s.atom)(e=>new Map(e(J).map(e=>[e.tokenAddress,e]))),$=(0,s.atom)(null,(e,t,r)=>{t(X,r),t(Q,!0);let i=e(er).data,n=!1;for(let e of r){let t=e.extra?.migratedTo??e.pairAddress;i.has(t)||(i.set(t,e.priceSol),n=!0)}n&&t(er,{data:i})}),ee=(0,s.atom)(null,(e,t,r)=>{let i=e(X),n=i.findIndex(e=>e.tokenAddress===r.tokenAddress);if(n>=0){let e=[...i];e[n]=r,t(X,e)}else t(X,[...i,r])}),et=(0,s.atom)(null,(e,t,r,i)=>{let n=e(X).map(e=>e.pairAddress===r?{...e,pairAddress:i,extra:{...e.extra,migratedTo:i}}:e);t(X,n);let a=e(er).data,o=a.get(r);void 0!==o&&(a.delete(r),a.set(i,o),t(er,{data:a}))}),er=(0,s.atom)({data:new Map}),ei=(0,s.atom)(e=>e(er)),en=(0,s.atom)(null,(e,t,r,i)=>{let n=e(er).data;n.set(r,i),t(er,{data:n})}),ea=(0,s.atom)(e=>new Set(e(J).map(e=>e.extra?.migratedTo??e.pairAddress))),eo=e=>(0,H.selectAtom)(ei,t=>t.data.get(e)??0);(0,s.atom)(e=>{let t=e(u.currentChainAtom);switch(t){case"sol":return e(J);case"bnb":return e(c.memePositionsAtomBnb);default:(0,l.assertUnreachable)(t)}},(e,t,r)=>{let i=e(u.currentChainAtom);switch(i){case"sol":t($,r??[]);break;case"bnb":t(c.memePositionsAtomBnb,r);break;default:(0,l.assertUnreachable)(i)}}),e.s(["kolTransactionsChainAwareAtom",()=>eu,"socialBubblesChainAwareAtom",()=>es],790936);let es=(0,s.atom)(e=>{let t=e(u.currentChainAtom);switch(t){case"sol":return e(d.socialBubblesAtomSol);case"bnb":return e(c.socialBubblesAtomBnb);default:(0,l.assertUnreachable)(t)}}),eu=(0,s.atom)(e=>{let t=e(u.currentChainAtom);switch(t){case"sol":return e(d.kolTransactionsAtomSol);case"bnb":return e(c.kolTransactionsAtomBnb);default:(0,l.assertUnreachable)(t)}});e.s(["oneMinuteStatsChainAwareAtom",()=>el],66687),(0,s.atom)(e=>{let t=e(u.currentChainAtom);switch(t){case"sol":return e(d.panelPriceTriggerAtomSol);case"bnb":return e(c.panelPriceBnbTriggerAtom);default:(0,l.assertUnreachable)(t)}},(e,t,r)=>{let i=e(u.currentChainAtom);switch(i){case"sol":t(d.panelPriceTriggerAtomSol,r);break;case"bnb":t(c.panelPriceBnbTriggerAtom,r);break;default:(0,l.assertUnreachable)(i)}}),(0,s.atom)(e=>{let t=e(u.currentChainAtom);switch(t){case"sol":return e(d.graphPriceTriggerAtomSol);case"bnb":return e(c.graphPriceBnbTriggerAtom);default:(0,l.assertUnreachable)(t)}},(e,t,r)=>{let i=e(u.currentChainAtom);switch(i){case"sol":t(d.graphPriceTriggerAtomSol,r);break;case"bnb":t(c.graphPriceBnbTriggerAtom,r);break;default:(0,l.assertUnreachable)(i)}});let el=(0,s.atom)(e=>{let t=e(u.currentChainAtom);switch(t){case"sol":return e(d.oneMinuteStatsAtomSol);case"bnb":return e(c.oneMinuteStatsAtomBnb);default:(0,l.assertUnreachable)(t)}},(e,t,r)=>{let i=e(u.currentChainAtom);switch(i){case"sol":t(d.oneMinuteStatsAtomSol,r);break;case"bnb":t(c.oneMinuteStatsAtomBnb,r);break;default:(0,l.assertUnreachable)(i)}});e.s(["bundlersHoldColorAtom",()=>ew,"bundlersHoldPercentAtom",()=>eA,"devHoldsColorAtom",()=>em,"devHoldsPercentAtom",()=>eh,"dexPaidAtom",()=>ek,"dexPaidColorAtom",()=>eP,"dexPaidTimeAtom",()=>e_,"hasTokenInfoAtom",()=>eR,"insidersHoldColorAtom",()=>ex,"insidersHoldPercentAtom",()=>ey,"isBagsPairAtom",()=>eC,"isSoarPairAtom",()=>eO,"lpBurnedColorAtom",()=>eS,"lpBurnedPercentAtom",()=>ev,"numBotUsersAtom",()=>eE,"numHoldersAtom",()=>eT,"pairAddressAtom",()=>eN,"shouldShowWarningAtom",()=>eB,"snipersHoldColorAtom",()=>eg,"snipersHoldPercentAtom",()=>eb,"tokenAddressAtom",()=>eI,"tokenInfoChainAwareAtom",()=>ed,"top10HoldersColorAtom",()=>ep,"top10HoldersPercentAtom",()=>ef],366652);var ec=e.i(759694);let ed=(0,s.atom)(e=>{let t=e(u.currentChainAtom);switch(t){case"sol":return e(d.tokenInfoAtomSol);case"bnb":return e(c.tokenInfoAtomBnb);default:(0,l.assertUnreachable)(t)}}),ef=(0,s.atom)(e=>{let t=e(ed);return Math.round((t?.top10HoldersPercent??0)*100)/100}),ep=(0,s.atom)(e=>{let t=e(ed);return(t?.top10HoldersPercent??0)<15?"text-primaryGreen":"text-primaryRed"}),eh=(0,s.atom)(e=>{let t=e(ed);return Math.round((t?.devHoldsPercent??0)*100)/100}),em=(0,s.atom)(e=>{let t=e(ed);return(t?.devHoldsPercent??0)<25?"text-primaryGreen":"text-primaryRed"}),eb=(0,s.atom)(e=>{let t=e(ed);return Math.round((t?.snipersHoldPercent??0)*100)/100}),eg=(0,s.atom)(e=>{let t=e(ed);return(t?.snipersHoldPercent??0)<5?"text-primaryGreen":"text-primaryRed"}),ey=(0,s.atom)(e=>{let t=e(ed);return Math.round((t?.insidersHoldPercent??0)*100)/100}),ex=(0,s.atom)(e=>{let t=e(ed);return(t?.insidersHoldPercent??0)<5?"text-primaryGreen":"text-primaryRed"}),eA=(0,s.atom)(e=>{let t=e(ed);return Math.round((t?.bundlersHoldPercent??0)*100)/100}),ew=(0,s.atom)(e=>{let t=e(ed);return(t?.bundlersHoldPercent??0)<10?"text-primaryGreen":"text-primaryRed"}),ev=(0,s.atom)(e=>{let t=e(q);return t?.lpBurned===void 0||t?.lpBurned===null?null:Math.round(100*("string"==typeof t.lpBurned?parseFloat(t.lpBurned):t.lpBurned))/100}),eS=(0,s.atom)(e=>{let t=e(q);return t?.lpBurned===void 0||t?.lpBurned===null?"text-primaryRed":("string"==typeof t.lpBurned?parseFloat(t.lpBurned):t.lpBurned)>95?"text-primaryGreen":"text-primaryRed"}),eT=(0,s.atom)(e=>{let t=e(ed);return t?.numHolders??0}),eE=(0,s.atom)(e=>{let t=e(ed);return t?.numBotUsers??0}),ek=(0,s.atom)(e=>{let t=e(ed);return t?.dexPaid??!1}),eP=(0,s.atom)(e=>e(ek)?"text-primaryGreen":"text-primaryRed"),e_=(0,s.atom)(e=>{if("sol"===e(u.currentChainAtom)){let t=e(d.tokenInfoAtomSol);return t?.dexPaidTime??null}return null}),eI=(0,s.atom)(e=>{let t=e(q);return t?.tokenAddress??null}),eN=(0,s.atom)(e=>{let t=e(q);return t?.pairAddress??null}),eR=(0,s.atom)(e=>null!=e(ed)),eB=(0,s.atom)(e=>{let t=e(q),r=new Date("2025-01-10"),i=t&&("createdAt"in t?t.createdAt:t.pairCreatedAt);return!!(i&&new Date(i)<r)}),eC=(0,s.atom)(e=>{let t=e(q);return!!t&&(0,ec.isBags)(t.protocol,t.extra,t.protocolDetails)}),eO=(0,s.atom)(e=>{let t=e(q);return!!t&&(0,ec.isSoar)(t.protocol,t.extra,t.protocolDetails)});(t={})[t.TRADER_ADDRESS=0]="TRADER_ADDRESS",t[t.TRANSACTION_COUNT=1]="TRANSACTION_COUNT",t[t.FUNDED_AT=2]="FUNDED_AT",t[t.FUNDED_BNB=3]="FUNDED_BNB",(r={})[r.NOT_INSIDER=1]="NOT_INSIDER",r[r.NOT_INSIDER_BUT_WAS_INSIDER=2]="NOT_INSIDER_BUT_WAS_INSIDER",r[r.INSIDER=3]="INSIDER",r[r.INSIDER_BUT_WAS_NON_INSIDER=4]="INSIDER_BUT_WAS_NON_INSIDER",(i={})[i.NOT_BUNDLED=1]="NOT_BUNDLED",i[i.NOT_BUNDLED_BUT_WAS_BUNDLED=2]="NOT_BUNDLED_BUT_WAS_BUNDLED",i[i.BUNDLED=3]="BUNDLED",i[i.BUNDLED_BUT_WAS_NON_BUNDLED=4]="BUNDLED_BUT_WAS_NON_BUNDLED";var eD=((n={})[n.NOT_PRO_USER=0]="NOT_PRO_USER",n[n.PRO_USER=1]="PRO_USER",n);(a={})[a.OLD_TRADER=0]="OLD_TRADER",a[a.NEW_TRADER=1]="NEW_TRADER";var eM=((o={})[o.TRADER_ADDRESS=0]="TRADER_ADDRESS",o[o.CURRENT_BALANCE_RAW=1]="CURRENT_BALANCE_RAW",o[o.DELTA_BALANCE_RAW=2]="DELTA_BALANCE_RAW",o[o.PRO_USER_STATUS=3]="PRO_USER_STATUS",o[o.CREATED_BLOCK=4]="CREATED_BLOCK",o[o.WEI_BALANCE=5]="WEI_BALANCE",o[o.CURRENT_BLOCK=6]="CURRENT_BLOCK",o);e.s(["AccountUpdateIndex",()=>eM,"ProUserStatus",()=>eD,"convertWebsocketTransactionBnbToTransactionBnb",0,e=>({signature:e.signature,txHash:e.txHash,logIndex:e.log_index,blockNumber:e.block_number,pairAddress:e.pair_address,makerAddress:e.maker_address,type:e.type,totalBnb:e.total_bnb,totalUsd:e.total_usd,totalQuote:e.total_quote,tokenAmount:e.tokenAmount||e.token_amount,liquidityBnb:e.liquidity_bnb,liquidityUsd:e.liquidity_usd,liquidityQuote:e.liquidity_quote,liquidityToken:e.liquidity_token,priceBnb:e.price_bnb,priceUsd:e.price_usd,finalizedAt:new Date(e.created_at)})],586646)},860655,e=>{"use strict";var t=e.i(265172),r=e.i(758219);let i=(0,t.atomWithStorage)("activeTab","positions",(0,r.safeSSRNoSyncStorage)(),{getOnInit:!0}),n=(0,t.atomWithStorage)("activeMobileTab","trade",(0,r.safeSSRNoSyncStorage)(),{getOnInit:!0}),a=(0,t.atomWithStorage)("showOnlyActiveOrders",!1,(0,r.safeSSRNoSyncStorage)(),{getOnInit:!0}),o=(0,t.atomWithStorage)("showOnlyCurrentTokenOrders",!1,(0,r.safeSSRNoSyncStorage)(),{getOnInit:!0}),s=(0,t.atomWithStorage)("pairStatsTimeFrame","5m",(0,r.safeSSRNoSyncStorage)(),{getOnInit:!0}),u=(0,t.atomWithStorage)("tableHeight",640,(0,r.safeSSRNoSyncStorage)(),{getOnInit:!0}),l=(0,t.atomWithStorage)("transactionsFeedDirection","DESC",(0,r.safeSSRNoSyncStorage)(),{getOnInit:!0}),c=(0,t.atomWithStorage)("amountType","percentage",(0,r.safeSSRNoSyncStorage)(),{getOnInit:!0}),d=(0,t.atomWithStorage)("filterMinAmount","",(0,r.safeSSRNoSyncStorage)(),{getOnInit:!0}),f=(0,t.atomWithStorage)("filterMaxAmount","",(0,r.safeSSRNoSyncStorage)(),{getOnInit:!0}),p=(0,t.atomWithStorage)("filterAmountCurrency","usd",(0,r.safeSSRNoSyncStorage)(),{getOnInit:!0});(0,t.atomWithStorage)("didUserChooseTradesPosition","",(0,r.safeSSRNoSyncStorage)(),{getOnInit:!0});let h=(0,t.atomWithStorage)("tradesPanelPosition","bottom",(0,r.safeSSRNoSyncStorage)(),{getOnInit:!0}),m=(0,t.atomWithStorage)("onlyTrackedWallets",!1,(0,r.safeSSRNoSyncStorage)(),{getOnInit:!0}),b=(0,t.atomWithStorage)("showFilterMakerInTransactionsPanel",!1,(0,r.safeSSRNoSyncStorage)(),{getOnInit:!0}),g=(0,t.atomWithStorage)("tokenInfoExpanded",!0),y=(0,t.atomWithStorage)("isTradingPanelOrdersCollapsed",!1,(0,r.safeSSRNoSyncStorage)()),x=(0,t.atomWithStorage)("isSidebarOpen",!0,(0,r.safeSSRNoSyncStorage)());(0,t.atomWithStorage)("showBagsInfo",!0,(0,r.safeSSRNoSyncStorage)(),{getOnInit:!0}),(0,t.atomWithStorage)("devAnalysisExpanded",!0,(0,r.safeSSRNoSyncStorage)());let A=(0,t.atomWithStorage)("similarTokensExpanded",!0,(0,r.safeSSRNoSyncStorage)()),w=(0,t.atomWithStorage)("similarTokensType","MC",(0,r.safeSSRNoSyncStorage)()),v=(0,t.atomWithStorage)("reusedImageTokensExpanded",!1,(0,r.safeSSRNoSyncStorage)()),S=(0,t.atomWithStorage)("instantTradeModalOpen",!1,(0,r.safeSSRNoSyncStorage)()),T=(0,t.atomWithStorage)("instantTradeModalPosition",{x:window.innerWidth/2-174,y:window.innerHeight/2-136},(0,r.safeSSRNoSyncStorage)()),E=(0,t.atomWithStorage)("instantTradeModalSize",{width:348,height:264},(0,r.safeSSRNoSyncStorage)(),{getOnInit:!0});e.s(["activeMobileTabAtom",0,n,"activeTabAtom",0,i,"amountTypeAtom",0,c,"filterAmountCurrencyAtom",0,p,"filterMaxAmountAtom",0,f,"filterMinAmountAtom",0,d,"instantTradeModalOpenAtom",0,S,"instantTradeModalPositionAtom",0,T,"instantTradeModalSizeAtom",0,E,"isSidebarOpenAtom",0,x,"isTradingPanelOrdersCollapsedAtom",0,y,"onlyTrackedWalletsAtom",0,m,"pairStatsTimeFrameAtom",0,s,"reusedImageTokensExpandedAtom",0,v,"showFilterMakerInTransactionsPanelAtom",0,b,"showOnlyActiveOrdersAtom",0,a,"showOnlyCurrentTokenOrdersAtom",0,o,"similarTokensExpandedAtom",0,A,"similarTokensTypeAtom",0,w,"tableHeightAtom",0,u,"tokenInfoExpandedAtom",0,g,"tradesPanelPositionAtom",0,h,"transactionsFeedDirectionAtom",0,l])},318383,683087,141401,710842,e=>{"use strict";e.s([],318383),e.i(104686),e.i(110059),e.i(782080),e.i(125250),e.i(645612);var t=e.i(737620),r=e.i(609187);e.i(260536),e.i(790936),e.i(66687),e.i(366652),e.s(["isTransactionsFiltersOpenAtom",()=>g,"isTransactionsLoadingAtom",()=>m,"isTransactionsMarketCapAtom",()=>y,"isTransactionsPausedAtom",()=>x,"nativeTokenSymbolAtom",()=>b,"transactionsFeedChainAwareAtom",()=>d,"transactionsToRenderChainAwareAtom",()=>p,"transactionsToRenderSizeAtom",()=>h,"userPairTransactionsChainAwareAtom",()=>c],683087);var i=e.i(639372),n=e.i(741124),a=e.i(564012),o=e.i(877710),s=e.i(472660),u=e.i(586646),l=e.i(860655);(0,i.atom)(e=>{let t=e(n.currentChainAtom);switch(t){case"sol":return e(s.trackedTransactionsAtomSol);case"bnb":return e(o.trackedTransactionsAtomBnb);default:(0,a.assertUnreachable)(t)}},(e,t,r)=>{let i=e(n.currentChainAtom);switch(i){case"sol":t(s.trackedTransactionsAtomSol,r);break;case"bnb":t(o.trackedTransactionsAtomBnb,r);break;default:(0,a.assertUnreachable)(i)}});let c=(0,i.atom)(e=>{let t=e(n.currentChainAtom);switch(t){case"sol":return[...e(s.userPairTransactionsAtomSol),...e(s.vanishTransactionsAtomSol)];case"bnb":return e(o.userPairTransactionsAtomBnb);default:(0,a.assertUnreachable)(t)}},(e,t,r)=>{let i=e(n.currentChainAtom);switch(i){case"sol":t(s.userPairTransactionsAtomSol,r);break;case"bnb":t(o.userPairTransactionsAtomBnb,r.map(u.convertWebsocketTransactionBnbToTransactionBnb));break;default:(0,a.assertUnreachable)(i)}}),d=(0,i.atom)(e=>{let t=e(n.currentChainAtom);switch(t){case"sol":return e(s.transactionsFeedWithVanishAtomSol);case"bnb":return e(o.transactionsFeedAtomBnb);default:(0,a.assertUnreachable)(t)}},(e,t,r)=>{let i=e(n.currentChainAtom);switch(i){case"sol":t(s.transactionsFeedAtomSol,r);break;case"bnb":t(o.transactionsFeedAtomBnb,r);break;default:(0,a.assertUnreachable)(i)}}),f=(0,i.atom)(e=>{let t=e(n.currentChainAtom),r=e(l.transactionsFeedDirectionAtom);return"sol"===t?e(s.allWatchedTraderTransactionsAtomSol).filter(e=>"Dev"!==e.trader.name&&"You"!==e.trader.name).map(t=>{let r=t.transaction,i=e((0,s.traderTxCountFamilySol)(r.makerAddress));return{...r,txnCount:i??null}}).sort((e,t)=>{let i=e.createdAt.getTime(),n=t.createdAt.getTime();return"ASC"===r?i-n:n-i}):e(o.allWatchedTraderTransactionsAtomBnb).filter(e=>"Dev"!==e.trader.name&&"You"!==e.trader.name).map(t=>{let r=t.transaction,i=e((0,o.traderTxCountFamilyBnb)(r.makerAddress));return{...r,txnCount:i??null}}).sort((e,t)=>{let i=e.finalizedAt.getTime(),n=t.finalizedAt.getTime();return"ASC"===r?i-n:n-i})}),p=(0,i.atom)(e=>e(t.isTrackedWalletsSelectedAtom)?e(f):e(d)),h=(0,i.atom)(e=>{let t=e(p);return t?.length??0}),m=(0,i.atom)(e=>{let i=e(t.loadingTransactionsAtom),n=e(r.isPairLoadedChainAwareAtom),a=e(d);return i||!n||!a}),b=(0,i.atom)(e=>"sol"===e(n.currentChainAtom)?"SOL":"BNB"),g=(0,i.atom)(!1),y=(0,i.atom)(!0),x=(0,i.atom)(!1);e.s(["memeWarningModalChainAwareAtom",()=>A],141401);let A=(0,i.atom)(e=>{let t=e(n.currentChainAtom);switch(t){case"sol":return e(s.memeWarningModalAtomSol);case"bnb":return e(o.memeWarningModalAtomBnb);default:(0,a.assertUnreachable)(t)}},(e,t,r)=>{let i=e(n.currentChainAtom);switch(i){case"sol":t(s.memeWarningModalAtomSol,r);break;case"bnb":t(o.memeWarningModalAtomBnb,r);break;default:(0,a.assertUnreachable)(i)}});e.s(["watchedTradersTransactionsChainAwareAtom",()=>w],710842),(0,i.atom)(e=>{let t=e(n.currentChainAtom);switch(t){case"sol":return e(s.watchedTradersAtomSol);case"bnb":return e(o.watchedTradersAtomBnb);default:(0,a.assertUnreachable)(t)}},(e,t,r)=>{let i=e(n.currentChainAtom);switch(i){case"sol":t(s.watchedTradersAtomSol,r);break;case"bnb":t(o.watchedTradersAtomBnb,r);break;default:(0,a.assertUnreachable)(i)}});let w=(0,i.atom)(e=>{let t=e(n.currentChainAtom);switch(t){case"sol":return e(s.watchedTradersTransactionsAtomSol);case"bnb":return e(o.watchedTradersTransactionsAtomBnb);default:(0,a.assertUnreachable)(t)}},(e,t,r)=>{let i=e(n.currentChainAtom);switch(i){case"sol":t(s.watchedTradersTransactionsAtomSol,r);break;case"bnb":t(o.watchedTradersTransactionsAtomBnb,r);break;default:(0,a.assertUnreachable)(i)}});(0,i.atom)(e=>{let t=e(n.currentChainAtom);switch(t){case"sol":return e(s.allWatchedTraderTransactionsAtomSol);case"bnb":return e(o.allWatchedTraderTransactionsAtomBnb);default:(0,a.assertUnreachable)(t)}})},645612,e=>{"use strict";e.s(["filteredHolderDataAtomSol",()=>p,"fundingDataByWalletBnb",()=>y,"fundingDataByWalletSol",()=>g,"holderDataAtomBnb",()=>l,"holderDataAtomSol",()=>s,"holderDataChainAwareAtom",()=>d,"trackedHolderDataAtomBnb",()=>c,"trackedHolderDataAtomSol",()=>u]);var t=e.i(639372),r=e.i(265172);e.i(318383);var i=e.i(860655),n=e.i(737620),a=e.i(741124),o=e.i(564012);let s=(0,t.atom)(null),u=(0,t.atom)(null),l=(0,t.atom)(null),c=(0,t.atom)(null),d=(0,t.atom)(e=>{let t=e(a.currentChainAtom);switch(t){case"sol":return e(s);case"bnb":return e(l);default:(0,o.assertUnreachable)(t)}},(e,t,r)=>{let i=e(a.currentChainAtom);switch(i){case"sol":t(s,r);break;case"bnb":t(l,r);break;default:(0,o.assertUnreachable)(i)}});(0,t.atom)(e=>{let t=e(a.currentChainAtom);switch(t){case"sol":return e(u);case"bnb":return e(c);default:(0,o.assertUnreachable)(t)}},(e,t,r)=>{let i=e(a.currentChainAtom);switch(i){case"sol":t(u,r);break;case"bnb":t(c,r);break;default:(0,o.assertUnreachable)(i)}});let f="39azUYFWPz3VHgKCf3VChUwbpURdCHRxjWVowf5jUJjg",p=(0,t.atom)(e=>{let t=e(i.onlyTrackedWalletsAtom),r=e(n.funderAddressSearchAtom),a=e(t?u:s);return null==a?null:a.filter(e=>e.walletAddress!==f&&(!r||e.walletFunding?.fundingWalletAddress===r))});(0,t.atom)(e=>{let t=e(i.onlyTrackedWalletsAtom),r=e(n.funderAddressSearchAtom),a=e(t?c:l);return null==a?null:a.filter(e=>!r||e.walletFunding?.fundingWalletAddress===r)});let h=(0,t.atom)(e=>{let t=e(i.onlyTrackedWalletsAtom),r=e(n.funderAddressSearchAtom),a=e(s),o=e(u),l=((t?o:a)??[]).filter(e=>e.walletAddress!==f&&(!r||e.walletFunding?.fundingWalletAddress===r)),c=new Map;for(let e of l){if(!e.walletFunding)continue;let t=e.walletFunding.fundingWalletAddress,r=e.walletFunding.amountSol??0;if(c.has(t)){let e=c.get(t);e&&(e.walletCount+=1,e.amountSol+=r)}else c.set(t,{walletCount:1,amountSol:r})}return c}),m=(0,t.atom)(e=>{let t=e(i.onlyTrackedWalletsAtom),r=e(n.funderAddressSearchAtom),a=e(l),o=e(c),s=((t?o:a)??[]).filter(e=>!r||e.walletFunding?.fundingWalletAddress===r),u=new Map;for(let e of s){if(!e.walletFunding)continue;let t=e.walletFunding.fundingWalletAddress,r=e.walletFunding.amountNative??0;if(u.has(t)){let e=u.get(t);e&&(e.walletCount+=1,e.amountSol+=r)}else u.set(t,{walletCount:1,amountSol:r})}return u}),b=(e,t)=>e===t||null!==e&&null!==t&&e.walletCount===t.walletCount&&e.amountSol===t.amountSol,g=e=>(0,r.selectAtom)(h,t=>e?t.get(e)??null:null,b),y=e=>(0,r.selectAtom)(m,t=>e?t.get(e)??null:null,b)},472660,e=>{"use strict";e.s(["MAX_TRANSACTIONS_PER_TRADER",()=>z,"accountUpdatesQueueSol",()=>L,"allWatchedTraderTransactionsAtomSol",()=>H,"bagsClaimEventsAtomSol",()=>A,"bagsCreatorsAtomSol",()=>x,"bagsFeeStatsAtomSol",()=>w,"bagsIsLoadingAtomSol",()=>v,"chartTransactionsQueueSol",()=>W,"devFundingAtomSol",()=>y,"devTokensDataAtomSol",()=>ee,"fastTransactionsQueueSol",()=>K,"graphPriceTriggerAtomSol",()=>er,"kolTransactionsAtomSol",()=>R,"lastTransactionAtomSol",()=>T,"memeWarningModalAtomSol",()=>ea,"oneMinuteStatsAtomSol",()=>k,"pairAtomSol",()=>m,"pairPromiseAtomSol",()=>b,"panelPriceTriggerAtomSol",()=>et,"socialBubblesAtomSol",()=>N,"supplementalDataAtomSol",()=>S,"tokenAnalysisAtomSol",()=>ei,"tokenInfoAtomSol",()=>P,"topTradersAtomSol",()=>_,"trackedTransactionsAtomSol",()=>X,"trackedWalletDisplayMapAtomSol",()=>eo,"traderTransactionsMapSol",()=>j,"traderTxCountFamilySol",()=>O,"traderWalletFundingFamilySol",()=>D,"transactionsFeedAtomSol",()=>E,"transactionsFeedWithVanishAtomSol",()=>Z,"transactionsQueueSol",()=>q,"useCleanupPairAtomsSol",()=>en,"useSetTraderTxCountSol",()=>U,"useSetTraderWalletFundingSol",()=>F,"userPairTransactionsAtomSol",()=>Q,"userPairTransactionsWithVanishAtomSol",()=>$,"vanishPositionsAtomSol",()=>I,"vanishTransactionSignaturesAtomSol",()=>J,"vanishTransactionsAtomSol",()=>Y,"watchedTradersAtomSol",()=>V,"watchedTradersTransactionsAtomSol",()=>G]);var t=e.i(639372),r=e.i(672464),i=e.i(461025),n=e.i(750214),a=e.i(271645),o=e.i(645612),s=e.i(682382),u=e.i(807392),l=e.i(667710),c=e.i(800473),d=e.i(582273),f=e.i(256709);e.i(318383);var p=e.i(104686),h=e.i(737620);let{atom:m,promiseAtom:b,promiseStateAtom:g}=(0,d.createAtomPromise)(),y=(0,t.atom)(null),x=(0,t.atom)(null),A=(0,t.atom)(null),w=(0,t.atom)(null),v=(0,t.atom)(!0),S=(0,t.atom)(null),T=(0,t.atom)(null),E=(0,t.atom)(null),k=(0,t.atom)(null),P=(0,t.atom)(null),_=(0,t.atom)(null);(0,t.atom)(null);let I=(0,t.atom)(null),N=(0,t.atom)(null),R=(0,t.atom)(null),B=(0,i.atomFamily)(()=>(0,t.atom)(null)),C=(0,i.atomFamily)(()=>(0,t.atom)(null)),O=(0,i.atomFamily)(e=>(0,t.atom)(t=>t(B(e)))),D=(0,i.atomFamily)(e=>(0,t.atom)(t=>t(C(e)))),M=(0,t.atom)(new Set),U=()=>{let e=(0,r.useSetAtom)(M);return(0,n.useAtomCallback)((0,a.useCallback)((t,r,i,n)=>{r(B(i),n),e(e=>{if(e.has(i))return e;let t=new Set(e);return t.add(i),t})},[e]))},F=()=>{let e=(0,r.useSetAtom)(M);return(0,n.useAtomCallback)((0,a.useCallback)((t,r,i,n)=>{r(C(i),n),e(e=>{if(e.has(i))return e;let t=new Set(e);return t.add(i),t})},[e]))},L=(0,f.createQueue)();(0,f.createQueue)();let q=(0,f.createQueue)(),K=(0,f.createQueue)(),W=(0,f.createQueue)(),V=(0,t.atom)(new Map),G=(0,t.atom)([]),z=200,j=new Map,H=(0,t.atom)([]),X=(0,t.atom)([]),Q=(0,t.atom)([]),J=(0,t.atom)(new Set),Y=(0,t.atom)([]),Z=(0,t.atom)(e=>{let t=e(E),r=e(Y),i=e(h.makerAddressAtom).split(",").includes(s.VANISH_WALLET_ADDRESS);return t?0!==r.length&&i?[...t,...r.map(e=>({signature:e.signature,pairAddress:e.pair_address,type:e.type,createdAt:new Date(e.created_at),liquiditySol:e.liquidity_sol,liquidityToken:e.liquidity_token,makerAddress:s.VANISH_WALLET_ADDRESS,priceSol:e.price_sol,priceUsd:e.price_usd,tokenAmount:e.token_amount,totalSol:e.total_sol,totalUsd:e.total_usd,innerIndex:e.innerIndex??null,outerIndex:e.outerIndex??null,isProUser:!0,isInsider:!1,isSniper:!1,isBundler:e.isBundler??!1,isNewHolder:e.isNewHolder??!1,isTopHolder:!1,isDev:!1,createdSlot:0,txnCount:null}))].sort((e,t)=>{let r=new Date(e.createdAt).getTime();return new Date(t.createdAt).getTime()-r}):t:null}),$=(0,t.atom)(e=>[...e(Q),...e(Y)].sort((e,t)=>{let r=new Date(e.created_at).getTime();return new Date(t.created_at).getTime()-r})),ee=(0,t.atom)(null),et=(0,t.atom)(null),er=(0,t.atom)(null),ei=(0,t.atom)(null),en=()=>{let e=(0,r.useSetAtom)(S),t=(0,r.useSetAtom)(m),i=(0,r.useSetAtom)(P),s=(0,r.useSetAtom)(_),l=(0,r.useSetAtom)(T),d=(0,r.useSetAtom)(E),f=(0,r.useSetAtom)(G),b=(0,r.useSetAtom)(Q),g=(0,r.useSetAtom)(J),I=(0,r.useSetAtom)(Y),O=(0,r.useSetAtom)(N),D=(0,r.useSetAtom)(R),U=(0,r.useSetAtom)(o.holderDataAtomSol),F=(0,r.useSetAtom)(h.loadingTransactionsAtom),z=(0,r.useSetAtom)(h.makerAddressAtom),Z=(0,r.useSetAtom)(et),$=(0,r.useSetAtom)(er),en=(0,r.useSetAtom)(k),eo=(0,r.useSetAtom)(p.pairDeployerAddressAtom),es=(0,r.useSetAtom)(u.closeGlobalModalAtom),eu=(0,r.useSetAtom)(h.pairChartLastBarAtom),el=(0,r.useSetAtom)(ee),ec=(0,r.useSetAtom)(V),ed=(0,r.useSetAtom)(h.pauseTransactionsFeedAtom),ef=(0,r.useSetAtom)(ei),ep=(0,r.useSetAtom)(p.devMigrationCountAtom),eh=(0,r.useSetAtom)(o.trackedHolderDataAtomSol),em=(0,r.useSetAtom)(h.isTrackedHolderDataLoadedAtom),eb=(0,r.useSetAtom)(y),eg=(0,r.useSetAtom)(h.initializedHolderDataAtom),ey=(0,r.useSetAtom)(h.initializedTopTradersAtom),ex=(0,r.useSetAtom)(h.funderAddressSearchAtom),eA=(0,r.useSetAtom)(h.selectedBarAtom),ew=(0,r.useSetAtom)(H),ev=(0,r.useSetAtom)(ea),eS=(0,n.useAtomCallback)((0,a.useCallback)(e=>e(M),[])),eT=(0,r.useSetAtom)(M),eE=(0,r.useSetAtom)(X),ek=(0,r.useSetAtom)(c.lobbyTransactionsAtomSol),eP=(0,r.useSetAtom)(x),e_=(0,r.useSetAtom)(A),eI=(0,r.useSetAtom)(w),eN=(0,r.useSetAtom)(v);return(0,a.useCallback)(()=>{for(let r of(t(null),e(null),l(null),d(null),i(null),s(null),L.clear(),q.clear(),K.clear(),W.clear(),f([]),ew([]),eE([]),b([]),g(new Set),I([]),O(null),D(null),U(null),eh(null),F(!1),z(""),Z(null),$(null),en(null),eo(null),es(),eu({}),em(!1),eg(!1),ey(!1),ex(null),eA(null),ev({isOpen:!1,warnings:[],onProceed:null}),ek(new Map),eS().keys()))B.remove(r),C.remove(r);eT(new Set),j.clear(),el(null),ec(new Map),ed(!1),ef(null),ep(null),eb(null),eP(null),e_(null),eI(null),eN(!0)},[eS,ew,eb,ep,el,$,U,es,l,F,z,en,t,eu,eo,Z,ed,ef,i,s,d,b,ec,f,e,eh,em,eg,ey,ex,eA,eT,g,I,D,O,ev,eE,ek])},ea=(0,t.atom)({isOpen:!1,warnings:[],onProceed:null}),eo=(0,t.atom)(e=>{let t=e(l.trackedWalletsAtomSol),r=new Map;for(let e of t){let t=e.emoji?`${e.emoji} ${e.name||e.trackedWalletAddress}`:e.name||e.trackedWalletAddress;r.set(e.trackedWalletAddress,t)}return r})},942730,e=>{"use strict";e.s(["useVanishRefresh",()=>d,"useVanishTransactionsRefresh",()=>f]);var t=e.i(672464),r=e.i(750214),i=e.i(271645),n=e.i(472660),a=e.i(40039);e.i(490156);var o=e.i(754825),s=e.i(85026),u=e.i(458768),l=e.i(247317),c=e.i(682382);function d(){let e=(0,r.useAtomCallback)((0,i.useCallback)(e=>e(o.solPublicKeyAtom),[])),n=(0,t.useSetAtom)(o.batchUpdateTokenAccountsAtom),u=(0,t.useSetAtom)(o.updateSolBalanceAtom),d=(0,t.useSetAtom)(o.loadedVanishBalancesAtom);return(0,i.useCallback)(async()=>{let t=e();if(t)try{d(!1);let e=await (0,s.createValidatedSigner)(t),r=await (0,a.getVanishBalances)({signer:e,userAddress:t}),i=r.find(e=>e.token_address===c.NATIVE_SOL_TOKEN_ADDRESS),o=r.filter(e=>e.token_address!==c.NATIVE_SOL_TOKEN_ADDRESS).map(e=>({tokenAddress:e.token_address,balanceRaw:e.balance,lastUpdatedSlot:0,tokenAccountAddress:e.token_address,tokenProgram:e.program_id}));n(c.VANISH_WALLET_ADDRESS,0,o),u(c.VANISH_WALLET_ADDRESS,{slot:0,balanceSol:Number(i?.balance??0)/1e9}),d(!0)}catch(e){console.error(`Error refreshing Vanish: ${(0,l.getErrorMessage)(e)}`)}},[e,n,u,d])}function f(){let e=(0,t.useSetAtom)(n.vanishTransactionsAtomSol),c=(0,r.useAtomCallback)((0,i.useCallback)(e=>e(o.solPublicKeyAtom),[]));return(0,i.useCallback)(async(t,r)=>{let i=c();if(i)try{let n=await (0,s.createValidatedSigner)(i),o=await (0,a.getVanishTransactionsByToken)({signer:n,userAddress:i,tokenAddress:t}),u=await (0,a.coalesceVanishWithAxiomTransactions)(o,t,r);e(u)}catch(e){u.default.error(`Error fetching Vanish transactions: ${(0,l.getErrorMessage)(e)}`)}},[c,e])}},506405,711698,e=>{"use strict";function t(e){let t=atob(e);return Uint8Array.from(t,e=>e.charCodeAt(0))}function r(e){(e=e.replace(/^0x/,"")).length%2!=0&&(e="0"+e);let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=parseInt(e.slice(r,r+2),16);return t}function i(e){return[...e instanceof Uint8Array?e:new Uint8Array(e)].map(e=>e.toString(16).padStart(2,"0")).join("")}function n(e){let t=e instanceof Uint8Array?e:new Uint8Array(e);return btoa(String.fromCharCode.apply(null,[...t]))}async function a(e,r){let n=t(r),a=await window.crypto.subtle.importKey("raw",n,"AES-GCM",!1,["decrypt"]),o=t(e.split(":")[0]),s=t(e.split(":")[1]);return i(await window.crypto.subtle.decrypt({name:"AES-GCM",iv:o},a,s))}e.s(["base64ToUint8Array",()=>t,"hexToUint8Array",()=>r,"uint8ArrayToBase64",()=>n,"uint8ArrayToHex",()=>i],711698),e.s(["decryptKey",()=>a],506405)},354640,e=>{"use strict";e.s(["WalletProvider",()=>L,"getHlUsdcBalance",()=>O,"getPublicKeyFromPrivate",()=>R,"useInitializeWallets",()=>F,"useRefreshBalancesEvm",()=>B,"useRefreshBalancesHl",()=>D,"useRefreshBalancesSol",()=>C]);var t=e.i(467034),r=e.i(127261);e.i(284795);var i=e.i(784503),n=e.i(356026);e.i(258291);var a=e.i(874107),o=e.i(581949),s=e.i(103476),u=e.i(7836),l=e.i(672464),c=e.i(750214),d=e.i(271645),f=e.i(942730),p=e.i(50454);e.i(89928);var h=e.i(739663),m=e.i(682382),b=e.i(40039),g=e.i(592e3),y=e.i(447800),x=e.i(542119),A=e.i(275195),w=e.i(182781);e.i(255730);var v=e.i(754825),S=e.i(885438),T=e.i(85026),E=e.i(458768),k=e.i(564012),P=e.i(506405),_=e.i(247317),I=e.i(91204),N=e.i(815062);function R(e,t){if("sol"===t){let t=s.default.decode(e);return r.Keypair.fromSecretKey(t).publicKey.toString()}if("evm"===t){let t=e.startsWith("0x")?e:`0x${e}`;return new u.ethers.Wallet(t).address}(0,k.assertUnreachable)(t)}function B(){let e=D(),t=(0,l.useSetAtom)(S.updateEvmBalanceAtom),r=(0,l.useSetAtom)(S.batchUpdateEvmTokenAccountsAtom),i=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(S.monitoredEvmWalletsAtom),[]));return(0,d.useCallback)(async(n,a,o)=>{try{if(!i().length)return null;let s=async()=>{let e=await h.workersApi.post("/batched-evm-balance",{publicKeys:n});for(let[r,i]of Object.entries(e))i&&t(r,{blockNumber:i.blockNumber,balanceWei:i.balanceWei})},u=async(e,t)=>{if(e){let i=await h.workersApi.post("/batched-evm-token-balances-by-token",{publicKeys:n,tokenAddress:e,blockNumber:t});for(let[t,n]of Object.entries(i))n&&r(t,n.blockNumber,[{tokenAddress:e,balanceRaw:n.tokenBalance}],e)}else{let e=await h.workersApi.post("/batched-evm-token-balances",{publicKeys:n});for(let[t,i]of Object.entries(e))i&&r(t,i.blockNumber,i.tokenBalances)}},l=[];a||l.push(e()),l.push(s()),l.push(u(a,o)),await Promise.all(l)}catch(e){return E.default.error(`Error refreshing EVM balances: ${(0,_.getErrorMessage)(e)}`),null}},[e,t,r,i])}function C(){let e=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(v.solPublicKeyAtom),[])),t=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(v.monitoredSolWalletsAtom),[])),r=(0,l.useSetAtom)(v.batchUpdateTokenAccountsAtom),i=(0,l.useSetAtom)(v.updateSolBalanceAtom),n=(0,f.useVanishRefresh)();return(0,d.useCallback)(async(a,o)=>{try{if(!t().length)return null;if(!a){let t=e();if(!t)return null;a=[t]}let s=a.includes(m.VANISH_WALLET_ADDRESS);a=a.filter(e=>e!==m.VANISH_WALLET_ADDRESS);let u=async()=>{let e=await h.workersApi.post("/batched-sol-balance",{publicKeys:a});for(let[t,r]of Object.entries(e))r&&i(t,{slot:r.slot,balanceSol:r.solBalance})},l=async()=>{let e=await h.workersApi.post("/batched-wallet-token-accounts",{publicKeys:a});for(let[t,i]of Object.entries(e))i&&r(t,i.slot,i.tokenAccounts)},c=async()=>{s&&await n()},d=[];o||d.push(u()),d.push(l()),d.push(c()),await Promise.all(d)}catch(e){return E.default.error(`Error refreshing balances: ${(0,_.getErrorMessage)(e)}`),null}},[t,e,r,i,n])}async function O(e){try{return(await o.default.post("https://api.hyperliquid.xyz/info",{user:e,type:"clearinghouseState"})).data.withdrawable??null}catch{return null}}function D(){let e=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(S.evmPublicKeyAtom),[])),t=(0,l.useSetAtom)(S.hlUsdcBalanceAtom);return(0,d.useCallback)(async()=>{let r=e();if(!r)return;let i=await O(r);i&&t(i)},[e,t])}let M=!1,U=!1;function F(){let e=(0,l.useSetAtom)(S.evmPublicKeyAtom),o=(0,l.useSetAtom)(S.evmPrivateKeyAtom),f=(0,l.useSetAtom)(x.turnkeyPublicKeyAtom),h=(0,l.useSetAtom)(x.turnkeyPrivateKeyAtom),b=(0,l.useSetAtom)(x.turnkeyReauthRequiredAtom),g=(0,N.useSaveBundles)(),A=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(x.sBundlesAtom),[])),k=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(x.eBundleAtom),[])),_=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(x.eBundlesAtom),[])),R=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(x.bundleAtom),[])),O=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(v.vanishEnabledAtom),[])),D=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(v.allSolWalletsAtom),[])),F=(0,l.useSetAtom)(v.allSolWalletsAtom),L=(0,l.useSetAtom)(v.monitoredSolWalletsAtom),q=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(v.monitoredSolWalletsAtom),[])),K=(0,l.useSetAtom)(v.selectedSolWalletsAtom),W=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(v.selectedSolWalletsAtom),[])),V=C(),G=B(),z=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(x.turnkeyOrgIdAtom),[])),j=(0,S.useRefreshBnbNonces)(),H=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(S.allEvmWalletsAtom),[])),X=(0,l.useSetAtom)(S.allEvmWalletsAtom),Q=(0,l.useSetAtom)(S.monitoredEvmWalletsAtom),J=(0,l.useSetAtom)(v.solWalletsLoadedAtom),Y=(0,l.useSetAtom)(S.evmWalletsLoadedAtom),Z=(0,l.useSetAtom)(v.signersReadyAtom),$=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(S.monitoredEvmWalletsAtom),[])),ee=(0,l.useSetAtom)(S.selectedEvmWalletsAtom),et=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(S.selectedEvmWalletsAtom),[])),er=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(v.solNoncesAtom),[])),[ei]=(0,w.useSettingsStable)("experimentalWallets",!1),en=(0,d.useCallback)(async e=>{try{let t=await p.axiomApiV2.post("/user-nonce-accounts",{userWallets:e}),r=er();for(let e of t){r.has(e.authority)||r.set(e.authority,[]);let t=r.get(e.authority),i=t.find(t=>t.account===e.account);i?i.slot<e.slot&&(i.nonce=e.nonce,i.slot=e.slot,i.available=!0):t.push({account:e.account,nonce:e.nonce,slot:e.slot,available:!0})}}catch{E.default.error("Error fetching nonce accounts")}},[er]);return(0,d.useCallback)(async(l,c)=>{let{bundleKey:d,wallets:x}=await p.axiomApiV2.post("/bundle-key-and-wallets"),w=R();for(let e of x)"evm"===e.network&&(e.walletAddress=e.walletAddress.toLowerCase());if(!c){if(!w)throw Error("Missing authentication bundle, please re-login");if(!(c=await (0,P.decryptKey)(w,d)))throw Error("Missing Turnkey credentials, please re-login")}if(!l){let e=z();if(!e)throw Error("Authentication organization not found, please re-login");l=e}let v=t.Buffer.from((0,n.getPublicKey)(c)).toString("hex");f(v),h(c);let S=x.filter(e=>"sol"===e.network),N=S.find(e=>e.isPrimary);if(!N)throw Error("Missing primary Solana wallet, please re-login");let B=S.map(e=>({walletAddress:e.walletAddress,isArchived:e.isArchived,isPrimary:e.isPrimary,name:e.name})),C=x.filter(e=>"evm"===e.network),er=C.find(e=>e.isPrimary);if(!er)throw Error("Missing primary EVM wallet, please re-login");let ea=C.map(e=>({walletAddress:e.walletAddress,isArchived:e.isArchived,isPrimary:e.isPrimary,name:e.name}));O()&&B.splice(1,0,{walletAddress:m.VANISH_WALLET_ADDRESS,isArchived:!1,isPrimary:!1,name:m.VANISH_WALLET_NAME});let eo=D(),es=[];JSON.stringify([...eo].sort((e,t)=>e.walletAddress.localeCompare(t.walletAddress)))===JSON.stringify([...B].sort((e,t)=>e.walletAddress.localeCompare(t.walletAddress)))?es=eo.filter(e=>!e.isArchived&&e.walletAddress!==m.VANISH_WALLET_ADDRESS).map(e=>e.walletAddress):(F(e=>{let t=new Map(B.map(e=>[e.walletAddress,e])),r=new Set(e.map(e=>e.walletAddress)),i=e.map(e=>t.get(e.walletAddress)??null).filter(e=>null!==e);for(let e of B)r.has(e.walletAddress)||i.push(e);return i}),es=B.filter(e=>!e.isArchived&&e.walletAddress!==m.VANISH_WALLET_ADDRESS).map(e=>e.walletAddress));let eu=H(),el=[];JSON.stringify([...eu].sort((e,t)=>e.walletAddress.localeCompare(t.walletAddress)))===JSON.stringify([...ea].sort((e,t)=>e.walletAddress.localeCompare(t.walletAddress)))?el=eu.filter(e=>!e.isArchived).map(e=>e.walletAddress):(X(e=>{let t=new Map(ea.map(e=>[e.walletAddress,e])),r=new Set(e.map(e=>e.walletAddress)),i=e.map(e=>t.get(e.walletAddress)??null).filter(e=>null!==e);for(let e of ea)r.has(e.walletAddress)||i.push(e);return i}),el=ea.filter(e=>!e.isArchived).map(e=>e.walletAddress)),M=!0,U=!0,J(!0),Y(!0),en(es.slice(0,y.MAX_TRADING_WALLETS));let ec=new Map,ed=new Map,ef=A(),ep=k(),eh=_().length>0?_():ep?[ep]:[];try{if(!w||0===ef.length||0===eh.length)throw Error("Missing some authentication bundles, please re-login");let[e,i]=await Promise.all([Promise.all(ef.map(async e=>s.default.encode(t.Buffer.from(await (0,P.decryptKey)(e,d),"hex")))),Promise.all(eh.map(async e=>await (0,P.decryptKey)(e,d)))]),n=new Map;for(let t of e){let e=r.Keypair.fromSecretKey(s.default.decode(t)).publicKey.toString();n.set(e,t)}for(let e of es){let t=n.get(e);if(!t)throw Error("Bundle state does not match");ec.set(e,t)}let a=new Map;for(let e of i){let t=u.ethers.computeAddress("0x"+e);a.set(t.toLowerCase(),e)}for(let e of el){let t=a.get(e.toLowerCase());if(!t)throw Error("Bundle state does not match");ed.set(e.toLowerCase(),t)}(e.length!==es.length||i.length!==el.length)&&g(c,[...n.values()],[...a.values()],d)}catch{let e=(0,n.generateP256KeyPair)(),o=new a.Turnkey({apiBaseUrl:"https://api.turnkey.com",apiPrivateKey:c,apiPublicKey:v,defaultOrganizationId:l,activityPoller:{intervalMs:250,numRetries:60}}),f=o.apiClient().getPrivateKeys({organizationId:l}),p=async r=>{try{return await o.apiClient().exportWalletAccount({organizationId:l,address:r,targetPublicKey:e.publicKeyUncompressed})}catch{let i=(await f).privateKeys.find(e=>s.default.encode(t.Buffer.from(e.publicKey,"hex"))===r);if(!i)throw Error("Credentials not found, please re-login");try{return await o.apiClient().exportPrivateKey({organizationId:l,privateKeyId:i.privateKeyId,targetPublicKey:e.publicKeyUncompressed})}catch{return await o.apiClient().exportPrivateKey({organizationId:l,privateKeyId:i.privateKeyId,targetPublicKey:e.publicKeyUncompressed})}}},h=async t=>{try{return await o.apiClient().exportWalletAccount({organizationId:l,address:u.ethers.getAddress(t),targetPublicKey:e.publicKeyUncompressed})}catch{let r=(await f).privateKeys.find(e=>e.addresses.find(e=>e.address?.toLowerCase()===t.toLowerCase())?.address?.toLowerCase()===t.toLowerCase());if(!r)throw Error("Credentials not found, please re-login");try{return await o.apiClient().exportPrivateKey({organizationId:l,privateKeyId:r.privateKeyId,targetPublicKey:e.publicKeyUncompressed})}catch{return await o.apiClient().exportPrivateKey({organizationId:l,privateKeyId:r.privateKeyId,targetPublicKey:e.publicKeyUncompressed})}}},m=es.filter(e=>!ec.has(e)),y=el.filter(e=>!ed.has(e.toLowerCase()));try{let t=[],n=[];for(let e=0;e<m.length;e+=25){e>0&&await (0,I.sleep)(250);let r=m.slice(e,e+25),i=await Promise.all(r.map(p));t.push(...i)}for(let e=0;e<y.length;e+=25){e>0&&await (0,I.sleep)(250);let t=y.slice(e,e+25),r=await Promise.all(t.map(h));n.push(...r)}let[a,o]=await Promise.all([Promise.all(t.map(t=>(0,i.decryptExportBundle)({exportBundle:t.exportBundle,embeddedKey:e.privateKey,keyFormat:"SOLANA",organizationId:l,returnMnemonic:!1}))),Promise.all(n.map(t=>(0,i.decryptExportBundle)({exportBundle:t.exportBundle,embeddedKey:e.privateKey,organizationId:l,returnMnemonic:!1})))]);for(let e of a){let t=r.Keypair.fromSecretKey(s.default.decode(e)).publicKey.toString();ec.set(t,e)}for(let e of o){let t=u.ethers.computeAddress("0x"+e);ed.set(t.toLowerCase(),e)}if(!ed.get(er.walletAddress.toLowerCase()))throw Error("Missing primary EVM wallet key");g(c,[...ec.values()],[...ed.values()],d)}catch{b(!0);return}}es.length>y.MAX_ACTIVE_WALLETS&&!ei()&&E.default.error(`Maximum of ${y.MAX_ACTIVE_WALLETS} wallets allowed, please archive excess wallets or enable experimental wallets`),O()&&es.push(m.VANISH_WALLET_ADDRESS);let em=new Set(q().map(e=>e.publicKey)),eb=[],eg=[],ey=es.map(e=>{if(em.has(e)||eb.push(e),m.VANISH_WALLET_ADDRESS===e){let t=ec.get(N.walletAddress);if(!t)throw Error("Missing primary Solana wallet, please re-login");eg.push({publicKey:e,privateKey:t})}else{let t=ec.get(e);if(!t)throw Error("Missing Solana wallet, please re-login");eg.push({publicKey:e,privateKey:t})}return{publicKey:e}});0!==W().length&&W().every(e=>ey.some(t=>t.publicKey===e))||K([N.walletAddress]),L(ey),(0,T.initializeSigners)(eg),Z(!0);let ex=[],eA=new Set($().map(e=>e.publicKey)),ew=el.map(e=>{eA.has(e)||ex.push(e);let t=ed.get(e.toLowerCase());if(!t)throw Error(`Missing EVM wallet key for ${e}`);return{publicKey:e,privateKey:t}});0!==et().length&&et().every(e=>ew.some(t=>t.publicKey.toLowerCase()===e.toLowerCase()))||ee([er.walletAddress]),Q(ew),e(er.walletAddress),o(ed.get(er.walletAddress.toLowerCase())||null);let ev=[];eb.length>0&&eb.filter(e=>e!==m.VANISH_WALLET_ADDRESS).length<=y.MAX_TRADING_WALLETS&&ev.push(V(eb)),ex.length>0&&ex.length<=y.MAX_TRADING_WALLETS&&ev.push(G(ex)),await Promise.all(ev),j()},[R,A,k,_,g,q,L,e,o,f,h,z,F,K,W,V,en,O,D,H,X,Q,$,et,ee,G,j,J,Y,Z,b,ei])}function L(){let e=(0,l.useSetAtom)(v.loadedBalancesSolAtom),t=(0,l.useSetAtom)(v.loadedBalancesEvmAtom),r=(0,l.useAtomValue)(S.evmPublicKeyAtom),i=D(),n=(0,l.useAtomValue)(v.allSolWalletsAtom),a=(0,l.useAtomValue)(S.allEvmWalletsAtom),o=(0,l.useAtomValue)(v.solWalletsLoadedAtom),s=(0,l.useAtomValue)(S.evmWalletsLoadedAtom),u=(0,l.useAtomValue)(v.signersReadyAtom),p=(0,c.useAtomCallback)(e=>e(v.monitoredSolWalletsAtom)),h=(0,c.useAtomCallback)(e=>e(S.monitoredEvmWalletsAtom)),x=(0,l.useSetAtom)(v.monitoredSolWalletsAtom),E=(0,l.useSetAtom)(S.monitoredEvmWalletsAtom),k=C(),P=B(),_=(0,l.useAtomValue)(v.vanishEnabledAtom),I=(0,l.useAtomValue)(v.solPublicKeyAtom),N=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(v.selectedSolWalletsAtom),[])),R=(0,f.useVanishRefresh)();(0,d.useEffect)(()=>{r&&i()},[r,i]),(0,d.useEffect)(()=>{if(n.length>0&&!p().length){let t=n.filter(e=>!e.isArchived).map(e=>e.walletAddress);x(t.map(e=>({publicKey:e})));let r=t.filter(e=>e!==m.VANISH_WALLET_ADDRESS);r.length<=y.MAX_TRADING_WALLETS?k(r).then(()=>{e(!0)}):k(N()).then(()=>{e(!0)})}},[n,p,k,x,N,e]),(0,d.useEffect)(()=>{if(a.length>0&&!h().length){let e=a.filter(e=>!e.isArchived).map(e=>e.walletAddress);E(e.map(e=>({publicKey:e,privateKey:null}))),P(e).then(()=>{t(!0)})}},[a,h,P,E,t]);let[O,F]=(0,w.useSettings)("solWalletsAndGroups",[]),L=(0,l.useAtomValue)(A.isMountedAtom),q=(0,l.useAtomValue)(w.settingsLoadedAtom);(0,d.useEffect)(()=>{if(!o||!n.length||!L||!q)return;let e=new Set(n.map(e=>e.walletAddress)),t=!1,r=[],i=new Set;for(let n of O)if("wallet"===n.type)e.has(n.address)||n.address===m.VANISH_WALLET_ADDRESS?(r.push(n),i.add(n.address)):t=!0;else if("group"===n.type){let a=n.group.wallets.filter(t=>e.has(t)||t===m.VANISH_WALLET_ADDRESS);for(let e of(a.length!==n.group.wallets.length&&(t=!0),r.push({...n,group:{...n.group,wallets:a}}),a))i.add(e)}let a=[];for(let e of n)i.has(e.walletAddress)||a.push({type:"wallet",address:e.walletAddress});M&&t?F([...r,...a]):a.length>0&&F([...O,...a]),M=!1},[L,n,O,F,q,o]);let[K,W]=(0,w.useSettings)("evmWalletsAndGroups",[]);return(0,d.useEffect)(()=>{if(!s||!a.length||!L||!q)return;let e=new Set(a.map(e=>e.walletAddress)),t=!1,r=[],i=new Set;for(let n of K)if("wallet"===n.type)e.has(n.address)?(r.push(n),i.add(n.address)):t=!0;else if("group"===n.type){let a=n.group.wallets.filter(t=>e.has(t));for(let e of(a.length!==n.group.wallets.length&&(t=!0),r.push({...n,group:{...n.group,wallets:a}}),a))i.add(e)}let n=[];for(let e of a)i.has(e.walletAddress)||n.push({type:"wallet",address:e.walletAddress});U&&t?W([...r,...n]):n.length>0&&W([...K,...n]),U=!1},[L,a,K,W,q,s]),(0,d.useEffect)(()=>{let e=async e=>{let t=await (0,T.createValidatedSigner)(e),r=await (0,b.getVanishPendingActions)({signer:t,userAddress:e}),i=[];for(let e of r)i.push((0,b.commitVanishAction)({txId:e.tx_id}));await Promise.all(i),await R()};_&&I&&u&&((0,g.fetchAndSetVanishOneTimeWallet)(),R(),e(I).catch(()=>{}))},[_,R,I,u]),null}},118455,e=>{"use strict";e.s(["hasRegisteredRefWalletsAtom",()=>x,"isRegisteringRefWalletsAtom",()=>w,"refAutoEnrollmentFailedAtom",()=>S,"refWalletsAtom",()=>A,"useAutoEnrollInRefProgram",()=>T,"useCreateWallet",()=>y,"useReferralEnrollment",()=>v]);var t=e.i(639372),r=e.i(672464),i=e.i(265172),n=e.i(750214),a=e.i(271645),o=e.i(50454),s=e.i(447800),u=e.i(592846),l=e.i(863568),c=e.i(542119),d=e.i(182781),f=e.i(885438),p=e.i(754825),h=e.i(354640),m=e.i(458768),b=e.i(247317),g=e.i(91204);function y(){let{t:e}=(0,u.useTranslation)(),t=(0,l.useTurnkeyClient)(),i=(0,h.useInitializeWallets)(),y=(0,a.useRef)(!1),x=(0,r.useSetAtom)(c.turnkeyReauthRequiredAtom),A=(0,r.useAtomValue)(p.allSolWalletsAtom),v=(0,r.useAtomValue)(f.allEvmWalletsAtom),S=(0,r.useAtomValue)(p.monitoredSolWalletsAtom),T=(0,r.useAtomValue)(f.monitoredEvmWalletsAtom),[E]=(0,d.useSettings)("experimentalWallets",!1),k=(0,n.useAtomCallback)(e=>e(w)),P=(0,a.useCallback)(async()=>{if(!y.current){if(k())return m.default.error(e("You can't create a wallet right now"),{toastId:"create-wallet"});try{let r,n;if(y.current=!0,!t)return void x(!0);m.default.loading(e("Creating Solana wallet..."),{toastId:"create-wallet",duration:1/0});let a=E?s.MAX_OVERRIDE_WALLETS:s.MAX_TOTAL_WALLETS,u=E?s.MAX_OVERRIDE_WALLETS:s.MAX_ACTIVE_WALLETS;if(A.length>=a)throw Error(e(`Maximum of ${a} wallets allowed, delete archived wallets to create more`));let l=(await t.getWallets()).wallets.find(e=>"Primary"===e.walletName);if(!l)throw Error(e("Failed to find primary wallet"));if(S.length>=u)throw Error(e(`Maximum of ${u} active wallets allowed`));let c=[];for(;c.length<5e3;){let e=await t.getWalletAccounts({walletId:l.walletId,paginationOptions:{limit:"100",after:r}});if(c.push(...e.accounts),e.accounts.length<100)break;r=e.accounts[e.accounts.length-1].walletAccountId}let d=c.filter(e=>"ADDRESS_FORMAT_SOLANA"===e.addressFormat),f=0;for(let e of d){let t=parseInt(e.path.split("/")[3].replace("'",""));t>f&&(f=t)}try{n=await t.createWalletAccounts({walletId:l.walletId,accounts:[{curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/501'/${f+1}'/0'`,addressFormat:"ADDRESS_FORMAT_SOLANA"}]})}catch(e){throw e}let p=n.addresses[0];await o.axiomApiV2.post("/add-sol-wallet",{walletAddress:p,exp:E}),await (0,g.sleep)(1e3),await i(),m.default.success(e("Solana wallet created successfully"),{toastId:"create-wallet"})}catch(t){(0,l.isTurnkeyError)(t)?3===t.code?m.default.error(e("Maximum of generated wallets reached 5000"),{toastId:"create-wallet"}):(0,l.isTurnkeySessionExpiryError)(t)&&x(!0):m.default.error(`${e("Error creating wallet")}: ${(0,b.getErrorMessage)(t)}`,{toastId:"create-wallet"})}finally{y.current=!1}}},[e,t,E,A,S,i,k,x]),_=(0,a.useCallback)(async()=>{if(!y.current){if(k())return m.default.error(e("You can't create a wallet right now"),{toastId:"create-wallet"});try{let r,n;if(y.current=!0,!t)return void x(!0);m.default.loading(e("Creating EVM wallet..."),{toastId:"create-wallet",duration:1/0});let a=s.MAX_TOTAL_WALLETS,u=s.MAX_ACTIVE_WALLETS;if(v.length>=a)throw Error(e(`Maximum of ${a} EVM wallets allowed, delete archived wallets to create more`));let l=(await t.getWallets()).wallets.find(e=>"Primary"===e.walletName);if(!l)throw Error(e("Failed to find primary wallet"));if(T.length>=u)throw Error(e(`Maximum of ${u} active EVM wallets allowed`));let c=[];for(;c.length<5e3;){let e=await t.getWalletAccounts({walletId:l.walletId,paginationOptions:{limit:"100",after:r}});if(c.push(...e.accounts),e.accounts.length<100)break;r=e.accounts[e.accounts.length-1].walletAccountId}let d=c.filter(e=>"ADDRESS_FORMAT_ETHEREUM"===e.addressFormat),f=-1;for(let e of d){let t=parseInt(e.path.split("/")[5]?.replace("'","")||"-1");t>f&&(f=t)}try{n=await t.createWalletAccounts({walletId:l.walletId,accounts:[{curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/60'/0'/0/${f+1}`,addressFormat:"ADDRESS_FORMAT_ETHEREUM"}]})}catch(e){throw e}let p=n.addresses[0].toLowerCase();await o.axiomApiV2.post("/add-evm-wallet",{walletAddress:p,exp:!1}),await (0,g.sleep)(1e3),await i(),m.default.success(e("EVM wallet created successfully"),{toastId:"create-wallet"})}catch(t){(0,l.isTurnkeyError)(t)?3===t.code?m.default.error(e("Maximum of generated wallets reached 5000"),{toastId:"create-wallet"}):(0,l.isTurnkeySessionExpiryError)(t)&&x(!0):m.default.error(`${e("Error creating wallet")}: ${(0,b.getErrorMessage)(t)}`,{toastId:"create-wallet"})}finally{y.current=!1}}},[e,t,v,T,i,k,x]);return{createSolWallet:P,createEvmWallet:_}}let x=(0,i.atomWithStorage)("hasRegisteredRefWallets",!1,void 0,{getOnInit:!0}),A=(0,i.atomWithStorage)("refWallets",null),w=(0,t.atom)(!1);function v(){let e=(0,l.useTurnkeyClient)(),t=(0,n.useAtomCallback)((0,a.useCallback)(e=>e(x),[])),i=(0,r.useSetAtom)(w),s=(0,r.useSetAtom)(x),u=(0,n.useAtomCallback)((0,a.useCallback)(e=>e(w),[])),d=(0,n.useAtomCallback)((0,a.useCallback)(e=>e(A),[])),f=(0,r.useSetAtom)(A),p=(0,r.useSetAtom)(c.turnkeyReauthRequiredAtom);return{checkIfEnrolledInRefProgram:(0,a.useCallback)(async e=>{if(t()&&!e)return{hasRefWallet:!0};try{let e=await o.axiomApiV2.get("/check-has-ref-wallet");return s(e.hasRefWallet),e}catch(t){return e&&m.default.error("Error checking if reference wallets are registered: "+(0,b.getErrorMessage)(t)),null}},[t,s]),enrollInRefProgram:(0,a.useCallback)(async r=>{if(u())return r&&m.default.error("Already enrolling..."),null;if(t())return r&&m.default.error("Already enrolled"),!0;try{let t;if(i(!0),!e)return p(!0),!1;r&&m.default.loading("Enrolling...",{toastId:"enroll-in-ref-program",duration:1/0});let n=(await e.getWallets()).wallets.find(e=>"Primary"===e.walletName);if(!n)throw Error("Failed to find primary wallet");let a=[];for(;a.length<6e3;){let r=await e.getWalletAccounts({walletId:n.walletId,paginationOptions:{limit:"100",after:t}});if(a.push(...r.accounts),r.accounts.length<100)break;t=r.accounts[r.accounts.length-1].walletAccountId}let u=a.filter(e=>"ADDRESS_FORMAT_SOLANA"===e.addressFormat),l=0;for(let e of u){let t=parseInt(e.path.split("/")[3].replace("'",""));t>l&&(l=t)}let c=a.filter(e=>"ADDRESS_FORMAT_ETHEREUM"===e.addressFormat),h=-1;for(let e of c){let t=parseInt(e.path.split("/")[5]?.replace("'","")||"-1");t>h&&(h=t)}let b=d();if(!r&&b&&Date.now()-b.dateEnrolled<36e5)return null;let g=await e.createWalletAccounts({walletId:n.walletId,accounts:[{curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/501'/${l+1}'/0'`,addressFormat:"ADDRESS_FORMAT_SOLANA"},{curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/60'/0'/0/${h+1}`,addressFormat:"ADDRESS_FORMAT_ETHEREUM"}]}),y=g.addresses[0],x=g.addresses[1].toLowerCase();return f({solWallet:y,evmWallet:x,dateEnrolled:Date.now()}),await o.axiomApiV2.post("/upload-ref-wallets",{evmWallet:x,solWallet:y}),r&&m.default.success("Enrolled in referral program",{toastId:"enroll-in-ref-program"}),s(!0),!0}catch(e){return(0,l.isTurnkeyError)(e)&&(0,l.isTurnkeySessionExpiryError)(e)?p(!0):r&&((0,l.isTurnkeyError)(e)?3===e.code&&m.default.error("Failed to generate more wallets",{toastId:"enroll-in-ref-program"}):m.default.error("Error enrolling: "+(0,b.getErrorMessage)(e),{toastId:"enroll-in-ref-program"})),!1}finally{i(!1)}},[u,t,i,s,e,p])}}let S=(0,t.atom)(!1);function T(){let{checkIfEnrolledInRefProgram:e,enrollInRefProgram:t}=v(),i=(0,l.useTurnkeyClient)(),n=(0,r.useSetAtom)(S);(0,a.useEffect)(()=>{i&&e().then(async e=>{e&&(e.hasRefWallet||!1===await t(!1)&&n(!0))})},[e,t,i,n])}},251193,e=>{"use strict";var t=e.i(271645);e.s(["default",0,function(e,r){let i=(0,t.useRef)(void 0);(0,t.useEffect)(()=>{i.current=e},[e]),(0,t.useEffect)(()=>{if(null!==r){let e=setInterval(function(){i.current?.()},r);return()=>clearInterval(e)}},[r])}])},815062,859749,60166,e=>{"use strict";e.s(["AuthProvider",()=>ec,"clientTimeOffsetAtom",()=>en,"useLogout",()=>ea,"useOnAuth",()=>eu,"useSaveBundle",()=>eo,"useSaveBundles",()=>es],815062);var t=e.i(467034),r=e.i(843476);e.i(284795);var i=e.i(784503),n=e.i(356026),a=e.i(103476),o=e.i(639372),s=e.i(672464),u=e.i(265172),l=e.i(750214),c=e.i(271645),d=e.i(667587),f=e.i(50454),p=e.i(447800),h=e.i(118455),m=e.i(251193),b=e.i(863568),g=e.i(542119),y=e.i(718646),x=e.i(735013),A=e.i(944325),w=e.i(758219);let v=(0,o.atom)(""),S=(0,o.atom)(""),T=(0,u.atomWithStorage)("search-is-pump",!1,(0,w.safeSSRNoSyncStorage)()),E=(0,u.atomWithStorage)("search-is-bonk",!1,(0,w.safeSSRNoSyncStorage)()),k=(0,u.atomWithStorage)("search-is-bags",!1,(0,w.safeSSRNoSyncStorage)()),P=(0,u.atomWithStorage)("search-is-usd1",!1,(0,w.safeSSRNoSyncStorage)()),_=(0,u.atomWithStorage)("search-is-og-only",!1,(0,w.safeSSRNoSyncStorage)()),I=(0,u.atomWithStorage)("search-only-bonded",!1,(0,w.safeSSRNoSyncStorage)()),N=(0,u.atomWithStorage)("search-sort-by","volume",(0,w.safeSSRNoSyncStorage)()),R=(0,u.atomWithStorage)("search-bnb-protocol",null,(0,w.safeSSRNoSyncStorage)());e.s(["searchBnbProtocolAtom",0,R,"searchIsBagsAtom",0,k,"searchIsBonkAtom",0,E,"searchIsOgOnlyAtom",0,_,"searchIsPumpAtom",0,T,"searchIsUsd1Atom",0,P,"searchOnlyBondedAtom",0,I,"searchQueryAtom",0,S,"searchSortByAtom",0,N,"searchValueAtom",0,v],859749);var B=e.i(182781);e.i(255730);var C=e.i(885438),O=e.i(754825),D=e.i(85026),M=e.i(115906);e.i(490156);var U=e.i(716689),F=e.i(392335),L=e.i(569692);let q=(0,o.atom)(null),K=(0,o.atom)([]),W=(0,o.atom)(new Map),V=(0,u.atomWithStorage)("lobby-chat-draft",null),G=(0,u.atomWithStorage)("lastMessageSentTimestamp",[]),z=(0,o.atom)(""),j=(0,u.atomWithStorage)("showLobbyMessage",!0),H=(0,u.atomWithStorage)("showLobbyActivity",!1),X=(0,u.atomWithStorage)("showLobbyAlerts",!1);e.s(["BURST_MAX_MESSAGE_IN_WINDOW",0,7,"BURST_MESSAGE_INTERVAL",0,5e3,"NON_BURST_MESSAGE_INTERVAL",0,1e3,"chatDraftAtom",0,V,"lastChatCursorAtom",0,q,"lastMessageSentTimestampAtom",0,G,"lobbyChatMessagesAtom",0,K,"lobbySearchQueryAtom",0,z,"messageAuthorsAtom",0,W,"showLobbyActivityAtom",0,H,"showLobbyAlertsAtom",0,X,"showLobbyMessageAtom",0,j],60166);var Q=e.i(800473),J=e.i(458768),Y=e.i(711858),Z=e.i(711698);async function $(e,t){let r=(0,Z.base64ToUint8Array)(t),i=await window.crypto.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]),n=window.crypto.getRandomValues(new Uint8Array(12)),a=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},i,(0,Z.hexToUint8Array)(e));return(0,Z.uint8ArrayToBase64)(n)+":"+(0,Z.uint8ArrayToBase64)(a)}var ee=e.i(247317),et=e.i(561676),er=e.i(662537),ei=e.i(354640);let en=(0,o.atom)(null);function ea(e){let t=(0,s.useSetAtom)(g.isAuthedAtom),r=(0,s.useSetAtom)(g.userIdAtom),i=(0,s.useSetAtom)(g.turnkeyOrgIdAtom),n=(0,s.useSetAtom)(g.authMethodAtom),a=(0,s.useSetAtom)(B.settingsInternalAtom),o=(0,s.useSetAtom)(y.notificationsAtom),p=(0,s.useSetAtom)(O.monitoredSolWalletsAtom),m=(0,s.useSetAtom)(O.allSolWalletsAtom),A=(0,s.useSetAtom)(O.selectedSolWalletsAtom),w=(0,s.useSetAtom)(C.monitoredEvmWalletsAtom),v=(0,s.useSetAtom)(C.allEvmWalletsAtom),S=(0,s.useSetAtom)(C.selectedEvmWalletsAtom),q=(0,s.useSetAtom)(C.evmPublicKeyAtom),z=(0,s.useSetAtom)(C.evmPrivateKeyAtom),j=(0,s.useSetAtom)(C.hlUsdcBalanceAtom),H=(0,s.useSetAtom)(g.profilePictureAtom),X=(0,s.useSetAtom)(g.usernameAtom),Y=(0,s.useSetAtom)(g.usernameLoadedAtom),Z=(0,s.useSetAtom)(g.bundleAtom),$=(0,s.useSetAtom)(x.ordersAtom),et=(0,s.useSetAtom)(g.sBundlesAtom),er=(0,s.useSetAtom)(g.eBundleAtom),ei=(0,s.useSetAtom)(g.eBundlesAtom),en=(0,s.useSetAtom)(B.settingsLoadedAtom),ea=(0,s.useSetAtom)(g.referralDataAtom),eo=(0,s.useSetAtom)(g.rewardsPercentageAtom),es=(0,s.useSetAtom)(T),eu=(0,s.useSetAtom)(E),el=(0,s.useSetAtom)(k),ec=(0,s.useSetAtom)(P),ed=(0,s.useSetAtom)(_),ef=(0,s.useSetAtom)(I),ep=(0,s.useSetAtom)(N),eh=(0,s.useSetAtom)(R),em=(0,s.useSetAtom)(h.hasRegisteredRefWalletsAtom),eb=(0,s.useSetAtom)(h.refWalletsAtom),eg=(0,s.useSetAtom)(O.signersReadyAtom),ey=(0,s.useSetAtom)(O.solWalletsLoadedAtom),ex=(0,s.useSetAtom)(C.evmWalletsLoadedAtom),eA=(0,l.useAtomCallback)((0,c.useCallback)(e=>e(g.turnkeyPublicKeyAtom),[])),ew=(0,b.useTurnkeyClient)(),ev=(0,M.useRouter)(),eS=(0,s.useSetAtom)(d.portfolioSelectedListSolAtom),eT=(0,s.useSetAtom)(d.portfolioSelectedListBnbAtom),{resetSocialTrackerAtoms:eE}=(()=>{let e,t,r,i=(0,s.useSetAtom)(L.friendListInitializedAtom),n=(0,s.useSetAtom)(L.friendProfileDataAtom),a=(0,s.useSetAtom)(L.userProfileAtom),o=(0,s.useSetAtom)(L.sharedPresetsAtom),u=(0,s.useSetAtom)(L.sharedThemeAtom),l=(0,s.useSetAtom)(L.friendListAtom),c=(0,s.useSetAtom)(L.incomingFriendListAtom),d=(0,s.useSetAtom)(L.sentFriendListAtom),f=(0,s.useSetAtom)(L.blockedFriendListAtom),p=(0,s.useSetAtom)(L.relationshipToFriendAtom),h=(0,s.useSetAtom)(L.usernameToDataAtom),m=(0,s.useSetAtom)(L.userIdToDataAtom),b=(0,s.useSetAtom)(L.addFriendModalOpenAtom),g=(0,s.useSetAtom)(L.addFriendModalInitialTabAtom),y=(0,s.useSetAtom)(F.myLobbyInfoAtom),x=(0,s.useSetAtom)(F.lobbyUserMapAtom),A=(0,s.useSetAtom)(F.lobbyInvitesAtom),w=(0,s.useSetAtom)(F.lobbyRequestsAtom),v=(0,s.useSetAtom)(F.friendLobbyDataAtom),S=(0,s.useSetAtom)(F.sharedSolWalletsAtom),T=(0,s.useSetAtom)(F.sharedBnbWalletsAtom),E=(0,s.useSetAtom)(K),k=(0,s.useSetAtom)(W),P=(0,s.useSetAtom)(V),_=(0,s.useSetAtom)(Q.lobbyWalletsAtomSol),I=(0,s.useSetAtom)(Q.lobbyWalletsAtomBnb),N=(0,s.useSetAtom)(Q.lobbyTransactionsAtomSol),R=(0,s.useSetAtom)(Q.lobbyTransactionsAtomBnb),B=(0,s.useSetAtom)(Q.lobbyAlertsAtom),C=(0,s.useSetAtom)(Q.lobbyAlertsCurrentPriceAtom),O=(0,s.useSetAtom)(G),{resetSocialUIAtoms:D}=(e=(0,s.useSetAtom)(U.socialTrackerOpenAtom),t=(0,s.useSetAtom)(F.followedLobbyUserAtom),r=(0,s.useSetAtom)(U.socialProfileOpenAtom),{resetSocialUIAtoms:()=>{e(!1),t(null),r(!1)}});return{resetSocialTrackerAtoms:()=>{D(),i(!1),n(null),a(null),o(null),u(null),l(new Map),c(new Map),d(new Map),f(new Map),p(new Map),h(new Map),m(new Map),b(!1),g(null),y(null),x(new Map),A(new Map),w(new Map),v(new Map),S([]),T([]),E([]),k(new Map),P(null),_(new Map),I(new Map),N(new Map),R(new Map),B([]),C(new Map),O([])}}})();return async()=>{let s=J.default.loading("Logging out...",{duration:1/0});try{if(ew)try{let e=(await ew.getWhoami()).userId,t=await ew.getApiKeys({userId:e}),r=eA(),i=t.apiKeys.find(e=>e.credential.publicKey===r);i&&i.expirationSeconds&&await ew.deleteApiKeys({userId:e,apiKeyIds:[i.apiKeyId]})}catch{}await f.axiomApiV2.post("/logout",{allSessions:!1}),e?.(),eS([]),eT([]),eE(),t(u.RESET),r(u.RESET),i(u.RESET),n(u.RESET),a(u.RESET),en(!1),o(u.RESET),p(u.RESET),m(u.RESET),A(u.RESET),w(u.RESET),v(u.RESET),S(u.RESET),q(u.RESET),z(u.RESET),j(u.RESET),H(u.RESET),X(u.RESET),Y(u.RESET),Z(u.RESET),et(u.RESET),er(u.RESET),ei(u.RESET),$(u.RESET),ea(u.RESET),eo(u.RESET),es(u.RESET),eu(u.RESET),el(u.RESET),ec(u.RESET),ed(u.RESET),ef(u.RESET),ep(u.RESET),eh(u.RESET),em(u.RESET),eb(u.RESET),ey(!1),ex(!1),eg(!1),(0,D.clearSignerCache)(),J.default.success("Logged out",{toastId:s}),ev.push("/")}catch(e){J.default.error("Error logging out: "+(0,ee.getErrorMessage)(e),{toastId:s})}}}function eo(){let e=(0,s.useSetAtom)(g.bundleAtom);return(0,c.useCallback)(async t=>{try{let r=await f.axiomApiV2.post("/api/bundle-key"),i=await $(t,r);e(i)}catch(e){J.default.error("Error saving bundle: "+(0,ee.getErrorMessage)(e))}},[e])}function es(){let e=(0,s.useSetAtom)(g.bundleAtom),r=(0,s.useSetAtom)(g.sBundlesAtom),i=(0,s.useSetAtom)(g.eBundlesAtom),n=(0,s.useSetAtom)(g.eBundleAtom);return(0,c.useCallback)(async(o,s,u,l)=>{try{let[c,d,f]=await Promise.all([$(o,l),Promise.all(s.map(e=>$(t.Buffer.from(a.default.decode(e)).toString("hex"),l))),Promise.all(u.map(e=>$(e,l)))]);e(c),r(d),i(f),n(null)}catch(e){J.default.error("Error saving bundles: "+(0,ee.getErrorMessage)(e))}},[e,r,i,n])}function eu(){let e=(0,ei.useInitializeWallets)(),t=(0,s.useSetAtom)(g.turnkeyOrgIdAtom),r=(0,s.useSetAtom)(g.authMethodAtom),n=(0,s.useSetAtom)(g.isAuthedAtom),a=(0,s.useSetAtom)(g.userIdAtom),o=eo(),u=(0,s.useSetAtom)(d.portfolioSelectedListSolAtom),f=(0,s.useSetAtom)(d.portfolioSelectedListBnbAtom),h=(0,l.useAtomCallback)((0,c.useCallback)(e=>e(O.monitoredSolWalletsAtom),[])),m=(0,l.useAtomCallback)((0,c.useCallback)(e=>e(C.monitoredEvmWalletsAtom),[])),b=(0,s.useSetAtom)(B.settingsInternalAtom);return async(s,l,c,d,g)=>{let y;b(e=>(0,B.cloneWithUpdate)(e,"lastUpdatedAt",0)),o(y="bundle"===s.type?(0,i.decryptCredentialBundle)(s.turnkeyCredentialBundle,s.authPrivateKey):s.apiPrivateKey);try{await e(l,y),u(h().map(e=>e.publicKey).slice(0,p.MAX_PORTFOLIO_WALLETS)),f(m().map(e=>e.publicKey).slice(0,p.MAX_PORTFOLIO_WALLETS))}catch(e){J.default.error("Error initializing wallets: "+(0,ee.getErrorMessage)(e))}t(l),r(d),n(!0),a(c),g?.()}}let el=(0,c.memo)(function(){let e;return e=(0,s.useAtomValue)(g.userIdAtom),(0,c.useEffect)(()=>{e?(et.datadogRum.setUser({id:e}),er.setUser({id:e})):(et.datadogRum.clearUser(),er.setUser(null))},[e]),null});function ec({children:e}){let a=(0,ei.useInitializeWallets)(),o=(0,l.useAtomCallback)((0,c.useCallback)(e=>e(g.turnkeyOrgIdAtom),[])),u=(0,s.useSetAtom)(en),[d,p]=(0,s.useAtom)(A.regionInfoAtom),h=(0,l.useAtomCallback)((0,c.useCallback)(e=>e(g.isAuthedAtom),[])),y=(0,s.useSetAtom)(g.isAuthedAtom);(0,c.useEffect)(()=>{d.notEdited&&p({name:A.Region.GLOBAL})},[d,p]),(0,c.useEffect)(()=>{(async()=>{try{let e=Date.now(),t=(await f.axiomApiV2.get("/server-time")).serverTime,i=Date.now()-e,n=Math.abs(Date.now()-t);i<4e3?u(n):J.default.warn("Your connection is unstable, please check your network"),i<1e4&&Math.abs(n)>6e4&&J.default.error({message:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"Sync your "}),(0,r.jsx)(Y.Tooltip,{content:"Open tutorial to sync your system clock",position:"bottom",children:(0,r.jsx)("a",{href:navigator.userAgent.toLowerCase().includes("mac")?"https://support.apple.com/en-hk/guide/mac-help/mchlp2996/mac":"https://support.microsoft.com/en-us/windows/set-time-date-and-time-zone-settings-in-windows-dfaa7122-479f-5b98-2a7b-fa0b6e01b261",target:"_blank",rel:"noopener noreferrer",className:"underline hover:opacity-80",children:"system clock"})}),(0,r.jsx)("span",{children:" and restart your browser."})]})},{duration:1/0})}catch(e){J.default.error("Error checking time sync: "+(0,ee.getErrorMessage)(e))}})()},[u]);let x=(0,c.useCallback)(async()=>{if(!document.hidden&&h()&&navigator.onLine)try{await f.axiomApiV2.post("/refresh-access-token"),y(!0)}catch(e){"Invalid refresh JWT token"===(0,ee.getErrorMessage)(e)&&(J.default.error("Your session has expired. Please log in again."),y(!1))}},[h,y]);(0,c.useEffect)(()=>(x(),window.addEventListener("online",x),()=>window.removeEventListener("online",x)),[x]);let w=eo(),v=(0,b.useTurnkeyClient)(),S=(0,s.useAtomValue)(g.turnkeyPublicKeyAtom),T=(0,c.useRef)(!1),E=(0,s.useSetAtom)(g.turnkeyPrivateKeyAtom),k=(0,s.useSetAtom)(g.turnkeyPublicKeyAtom);return(0,c.useEffect)(()=>{v&&!T.current&&S&&(T.current=!0,(async()=>{try{let e=(await v.getWhoami()).userId,r=(await v.getApiKeys({userId:e})).apiKeys.find(e=>e.credential.publicKey===l);if(!r||(Number(r.createdAt.seconds)+Number(r.expirationSeconds??0))*1e3-Date.now()>18144e5)return;let a=(0,n.generateP256KeyPair)(),o=crypto.randomUUID(),s=await v.createReadWriteSession({apiKeyName:`Axiom Refresh Session: ${o}`,targetPublicKey:a.publicKeyUncompressed,userId:e,expirationSeconds:"2592000"}),u=(0,i.decryptCredentialBundle)(s.credentialBundle,a.privateKey),l=t.Buffer.from((0,n.getPublicKey)(u)).toString("hex");E(u),k(l),await w(u),r.expirationSeconds&&await v.deleteApiKeys({userId:e,apiKeyIds:[r.apiKeyId]})}catch{}})())},[v,S,w,E,k]),(0,c.useEffect)(()=>{(async()=>{let e=o();if(e)try{await a(e)}catch(e){J.default.error("Error initializing wallets: "+(0,ee.getErrorMessage)(e))}})()},[o,a]),(0,m.default)(x,24e4),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(el,{}),e]})}}]);

//# debugId=46ecc8c8-948c-f90c-c0e8-4c7a95717729